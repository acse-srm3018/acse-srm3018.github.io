(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},6:function(t,e){},C1Pg:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"array",function(){return Ab}),n.d(r,"Dataset",function(){return Eb}),n.d(r,"zip",function(){return Tb}),n.d(r,"CSVDataset",function(){return Pb}),n.d(r,"TextLineDataset",function(){return Rb}),n.d(r,"csv",function(){return Qb}),n.d(r,"func",function(){return Zb}),n.d(r,"generator",function(){return Jb}),n.d(r,"webcam",function(){return t_}),n.d(r,"FileDataSource",function(){return Yb}),n.d(r,"URLDataSource",function(){return Xb}),n.d(r,"version_data",function(){return e_});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,a){function s(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,o)}l((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}var u,c=function(){function t(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(t,e){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+e+"."),this.platformName=t,this.platform=e},t.prototype.registerFlag=function(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){var r=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+r+"."),this.set(t,r)}},t.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},t.prototype.getNumber=function(t){return this.get(t)},t.prototype.getBool=function(t){return this.get(t)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){if(null==this.flagRegistry[t])throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)},t.prototype.evaluateFlag=function(t){if(null==this.flagRegistry[t])throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},t.prototype.setFlags=function(t){this.flags=Object.assign({},t)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var t=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var e=p(this.global.location.search);"tfjsflags"in e&&e.tfjsflags.split(",").forEach(function(e){var n=e.split(":"),r=n[0];t.urlFlags[r]=function(t,e){if("true"===(e=e.toLowerCase())||"false"===e)return"true"===e;if(""+ +e===e)return+e;throw new Error("Could not parse value flag value "+e+" for flag "+t+".")}(r,n[1])})}},t}();function p(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}(e,n[0],n[1]),n.join("=")}),e}function h(t){u=t}var m=Object.freeze({Environment:c,getQueryParams:p,get ENV(){return u},setEnvironmentGlobal:h});function d(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function f(t,e,n){return Math.max(t,Math.min(e,n))}function g(t){return t%2==0?t:t+1}function y(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function v(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function b(t,e,n){void 0===n&&(n=""),v(C(t,e),function(){return n+" Shapes "+t+" and "+e+" must match"})}function _(t){v(null!=t,function(){return"The input to the tensor constructor must be a non-null value."})}function w(t,e){if(void 0===e&&(e=[]),null==e&&(e=[]),Array.isArray(t)||z(t))for(var n=0;n<t.length;++n)w(t[n],e);else e.push(t);return e}function x(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function C(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function S(t){return t%1==0}function E(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function k(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function A(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function T(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise(function(r,i){var a=0,s=function(){if(t())r();else{var o=e(++a);null!=n&&a>=n?i():setTimeout(s,o)}};s()})}function I(t,e){for(var n=1,r=-1,i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(-1===t[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(t[i]<0)throw Error("Shapes can not be < 0. Found "+t[i]+" at dim "+i);if(-1===r){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(0===n)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var a=t.slice();return a[r]=e/n,a}function N(t,e){var n=e.length;return v((t=null==t?e.map(function(t,e){return e}):[].concat(t)).every(function(t){return t>=-n&&t<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t}),v(t.every(function(t){return S(t)}),function(){return"All values in axis param must be integers but got axis "+t}),t.map(function(t){return t<0?n+t:t})}function R(t,e){for(var n=[],r=[],i=null==e?null:N(e,t).sort(),a=0,s=0;s<t.length;++s){if(null!=i){if(i[a]===s&&1!==t[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+t[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),i[a]<=s&&a++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function D(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function O(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type "+t);n=new Array(e)}return n}function M(t,e,n){if("float32"===e)for(var r=0;r<t.length;r++){var i=t[r];if(isNaN(i)||!isFinite(i))throw Error("The result of the '"+n+"' is "+i+".")}}function F(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function L(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}function P(t,e){return!("complex64"===e||"float32"===e&&"complex64"!==t||"int32"===e&&"float32"!==t&&"complex64"!==t||"bool"===e&&"bool"===t)}function z(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function B(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function V(t){if(null==t)return 0;var e=0;return t.forEach(function(t){return e+=2*t.length}),e}function U(t){return"string"==typeof t||t instanceof String}function j(t){return"boolean"==typeof t}function W(t){return"number"==typeof t}function H(t){return Array.isArray(t)?H(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":W(t)?"float32":U(t)?"string":j(t)?"bool":"float32"}function q(t){return!!(t&&t.constructor&&t.call&&t.apply)}function $(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function G(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function K(t,e,n){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=w(t)),n&&F(t,e),function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),i=0;i<r.length;++i)0!==Math.round(t[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+e)}function Y(t,e){if(0===t.length)return e[0];var n=t.reduce(function(t,e){return t*e});if(0===n)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size.");return function t(e,n,r){var i=new Array;if(1===n.length)for(var a=n[0],s=0;s<a;s++)i[s]=r[e+s];else{a=n[0];var o=n.slice(1),l=o.reduce(function(t,e){return t*e});for(s=0;s<a;s++)i[s]=t(e+s*l,o,r)}return i}(0,t,e)}function X(t,e){for(var n=Q(t,e),r=0;r<n.length;r++)n[r]=1;return n}function Q(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function Z(){if("undefined"!=typeof performance)return performance.now();if("undefined"!=typeof process){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}function J(t){t.forEach(function(e){v(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."})})}function tt(t,e){return u.platform.fetch(t,e)}var et=Object.freeze({shuffle:d,clamp:f,nearestLargerEven:g,sum:y,randUniform:function(t,e){var n=Math.random();return e*n+(1-n)*t},distSquared:function(t,e){for(var n=0,r=0;r<t.length;r++){var i=Number(t[r])-Number(e[r]);n+=i*i}return n},assert:v,assertShapesMatch:b,assertNonNull:_,flatten:w,sizeFromShape:x,isScalarShape:function(t){return 0===t.length},arraysEqual:C,isInt:S,tanh:E,sizeToSquarishShape:k,createShuffledIndices:function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return d(e),e},rightPad:A,repeatedTry:T,inferFromImplicitShape:I,parseAxisParam:N,squeezeShape:R,getTypedArrayFromDType:D,getArrayFromDType:O,checkComputationForErrors:M,checkConversionForErrors:F,isValidDtype:L,hasEncodingLoss:P,isTypedArray:z,bytesPerElement:B,bytesFromStringArray:V,isString:U,isBoolean:j,isNumber:W,inferDtype:H,isFunction:q,nearestDivisor:$,computeStrides:G,toTypedArray:K,toNestedArray:Y,makeOnesTypedArray:X,makeZerosTypedArray:Q,now:Z,assertNonNegativeIntegerDimensions:J,fetch:tt}),nt=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new rt)}return t.prototype.profileKernel=function(t,e){var n,r=this,i=this.backendTimer.time(function(){n=e()});return(Array.isArray(n)?n:[n]).forEach(function(e){var n=e.dataSync();M(n,e.dtype,t),i.then(function(i){var a="";null!=i.getExtraProfileInfo&&(a=i.getExtraProfileInfo()),r.logger.logKernelProfile(t,e,n,i.kernelMs,a)})}),n},t}(),rt=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,r,i){var a=A(r+"ms",9),s=A(t,25),o=e.rank,l=e.size,u=A(e.shape.toString(),14);console.log("%c"+s+"\t%c"+a+"\t%c"+o+"D "+u+"\t%c"+l+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green")},t}(),it=7;function at(t,e,n){return A(Array.isArray(t)?parseFloat(t[0].toFixed(it))+" + "+parseFloat(t[1].toFixed(it))+"j":U(t)?"'"+t+"'":"bool"===n?st(t):parseFloat(t.toFixed(it)).toString(),e)}function st(t){return 0===t?"false":"true"}function ot(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var lt=function(){function t(t,e,n){var r=this;if(this.dtype=e,this.shape=t.slice(),this.size=x(t),null!=n){var i=n.length;v(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||O(e,this.size),this.strides=G(t)}return t.prototype.set=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),v(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+e.rank+")"});var i=this.locToIndex(n);this.values[i]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=0,r=0,i=t;r<i.length;r++){var a=i[r];if(a<0||a>=this.shape[n])throw new Error("Requested out of range element at "+t+".   Buffer shape="+this.shape);n++}for(var s=t[t.length-1],o=0;o<t.length-1;++o)s+=this.strides[o]*t[o];return this.values[s]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return ht.make(this.shape,{values:this.values},this.dtype)},t}(),ut=null,ct=null,pt=null,ht=function(){function t(t,e,n,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=x(t),this.strides=G(t),this.dataId=null!=r?r:{},this.id=ut().nextTensorId(),this.rankType=this.rank<5?this.rank.toString():"higher",ut().registerTensor(this,i),null!=n&&ut().write(i,this.dataId,n)}return t.make=function(e,n,r,i){return new t(e,r,n.values,n.dataId,i)},t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),v(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.as5D=function(t,e,n,r,i){return this.throwIfDisposed(),this.reshape([t,e,n,r,i])},t.prototype.asType=function(t){return this.throwIfDisposed(),ct.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return o(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,ct.buffer(this.shape,this.dtype,t)]}})})},t.prototype.bufferSync=function(){return ct.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return o(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return[4,this.data()];case 1:return t=e.sent(),[2,Y(this.shape,t)]}})})},t.prototype.arraySync=function(){return Y(this.shape,this.dataSync())},t.prototype.data=function(){return o(this,void 0,void 0,function(){return l(this,function(t){return this.throwIfDisposed(),[2,ut().read(this.dataId)]})})},t.prototype.dataSync=function(){return this.throwIfDisposed(),ut().readSync(this.dataId)},t.prototype.dispose=function(){this.isDisposed||(ut().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),ct.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),ct.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),ct.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),ct.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),ct.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),ct.clone(this)},t.prototype.oneHot=function(t,e,n){return this.throwIfDisposed(),ct.oneHot(this,t,e,n)},t.prototype.toString=function(t){return void 0===t&&(t=!1),function(t,e,n,r){var i=G(e),a=function(t,e,n,r){var i=x(e),a=r[r.length-1],s=new Array(a).fill(0),o=e.length,l="complex64"===n?ot(t):t;if(o>1)for(var u=0;u<i/a;u++)for(var c=u*a,p=0;p<a;p++)s[p]=Math.max(s[p],at(l[c+p],0,n).length);return s}(t,e,n,i),s=e.length,o=function t(e,n,r,i,a,s){void 0===s&&(s=!0);var o="complex64"===r?2:1,l=n[0],u=n.length;if(0===u)return"complex64"===r?[at(ot(e)[0],0,r)]:"bool"===r?[st(e[0])]:[e[0].toString()];if(1===u){if(l>20){var c=Array.from(e.slice(0,3*o)),p=Array.from(e.slice(l-3*o,l));return"complex64"===r&&(c=ot(c),p=ot(p)),["["+c.map(function(t,e){return at(t,a[e],r)}).join(", ")+", ..., "+p.map(function(t,e){return at(t,a[l-3+e],r)}).join(", ")+"]"]}return["["+("complex64"===r?ot(e):Array.from(e)).map(function(t,e){return at(t,a[e],r)}).join(", ")+"]"]}var h=n.slice(1),m=i.slice(1),d=i[0]*o,f=[];if(l>20){for(var g=0;g<3;g++)f.push.apply(f,t(e.slice(y=g*d,y+d),h,r,m,a,!1));for(f.push("..."),g=l-3;g<l;g++)f.push.apply(f,t(e.slice(y=g*d,y+d),h,r,m,a,g===l-1))}else for(g=0;g<l;g++){var y;f.push.apply(f,t(e.slice(y=g*d,y+d),h,r,m,a,g===l-1))}var v=2===u?",":"";for(f[0]="["+f[0]+v,g=1;g<f.length-1;g++)f[g]=" "+f[g]+v;var b=",\n";for(g=2;g<u;g++)b+="\n";return f[f.length-1]=" "+f[f.length-1]+"]"+(s?"":b),f}(t,e,n,i,a),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+s),l.push("  shape: ["+e+"]"),l.push("  values:")),l.push(o.map(function(t){return"    "+t}).join("\n")),l.join("\n")}(this.dataSync(),this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),ct.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),ct.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),ct.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),ct.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),ct.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),ct.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),ct.reverse(this,t)},t.prototype.concat=function(e,n){return void 0===n&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),ct.concat([this].concat(e),n)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),ct.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),ct.stack([this,t],e)},t.prototype.unstack=function(t){return void 0===t&&(t=0),ct.unstack(this,t)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),ct.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,i){return void 0===n&&(n=.001),pt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,e,i,r,n)},t.prototype.batchNorm=function(t,e,n,r,i){return void 0===i&&(i=.001),this.throwIfDisposed(),ct.batchNorm(this,t,e,n,r,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.sum(this,t,e)},t.prototype.prod=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.prod(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),ct.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),ct.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),ct.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),ct.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),ct.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),ct.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),ct.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),ct.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),ct.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),ct.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),ct.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),ct.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),ct.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),ct.div(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),ct.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),ct.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),ct.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),ct.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),ct.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),ct.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),ct.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),ct.modStrict(this,t)},t.prototype.squaredDifference=function(t){return this.throwIfDisposed(),ct.squaredDifference(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),ct.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),ct.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),ct.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),ct.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),ct.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),ct.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),ct.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),ct.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),ct.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),ct.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),ct.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),ct.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),ct.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),ct.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),ct.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),ct.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),ct.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),ct.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),ct.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),ct.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),ct.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),ct.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),ct.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),ct.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),ct.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),ct.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),ct.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),ct.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),ct.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),ct.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),ct.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),ct.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),ct.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),ct.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),ct.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),ct.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),ct.relu(this)},t.prototype.elu=function(){return this.throwIfDisposed(),ct.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),ct.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),ct.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),ct.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),ct.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),ct.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),ct.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),ct.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),ct.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),ct.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),ct.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),ct.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),ct.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),ct.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),ct.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),ct.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),ct.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),ct.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),ct.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),ct.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),ct.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),ct.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),ct.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),ct.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),ct.softmax(this,t)},t.prototype.logSoftmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),ct.logSoftmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),ct.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),ct.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),ct.conv1d(this,t,e,n,r,i,a)},t.prototype.conv2d=function(t,e,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),ct.conv2d(this,t,e,n,r,i,a)},t.prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),ct.conv2dTranspose(this,t,e,n,r,i)},t.prototype.depthwiseConv2D=function(t,e,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),ct.depthwiseConv2d(this,t,e,n,r,i,a)},t.prototype.separableConv2d=function(t,e,n,r,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),ct.separableConv2d(this,t,e,n,r,i,a)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),ct.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),ct.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),ct.localResponseNormalization(this,t,e,n,r)},t.prototype.pool=function(t,e,n,r,i){return this.throwIfDisposed(),ct.pool(this,t,e,n,r,i)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),mt.variable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),ct.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),ct.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),ct.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),ct.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,n,r,i,a,s,o){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),this.throwIfDisposed(),ct.stridedSlice(this,t,e,n,r,i,a,s,o)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),ct.depthToSpace(this,t,e)},t.prototype.fft=function(){return this.throwIfDisposed(),ct.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),ct.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),ct.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),ct.spectral.irfft(this)},t}();Object.defineProperty(ht,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.dataId&&null!=t.shape&&null!=t.dtype}});var mt=function(t){function e(e,n,r){void 0===n&&(n=!0);var i=t.call(this,e.shape,e.dtype,null,e.dataId)||this;i.trainable=n,i.name=r,null==i.name&&(i.name=ut().nextVariableId().toString());try{ut().registerVariable(i)}catch(t){throw ut().disposeTensor(i),t}return i}return a(e,t),e.variable=function(t,n,r,i){return void 0===n&&(n=!0),null!=i&&i!==t.dtype&&(t=t.asType(i)),new e(t,n,r)},e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!C(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");ut().disposeTensor(this),this.dataId=t.dataId,ut().registerTensor(this)},e.prototype.dispose=function(){ut().disposeVariable(this),this.isDisposedInternal=!0},e}(ht);Object.defineProperty(mt,Symbol.hasInstance,{value:function(t){return t instanceof ht&&null!=t.assign&&t.assign instanceof Function}});var dt,ft,gt,yt,vt,bt,_t=mt.variable;(bt=dt||(dt={})).R0="R0",bt.R1="R1",bt.R2="R2",bt.R3="R3",bt.R4="R4",bt.R5="R5",bt.R6="R6",function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(ft||(ft={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(gt||(gt={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(yt||(yt={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(vt||(vt={}));var wt={float32:yt,int32:ft,bool:gt,complex64:vt};function xt(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error("Can not upcast "+t+" with "+e)}return wt[t][e]}function Ct(t){return xt(t,"int32")}function St(t,e){if(t.dtype===e.dtype)return[t,e];var n=xt(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Et(t,e){v(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match"})}function kt(t){var e=[];return function t(e,n,r){if(null!=e)if(e instanceof ht)n.push(e);else if(i=e,Array.isArray(i)||"object"==typeof i){var i,a=e;for(var s in a){var o=a[s];r.has(o)||(r.add(o),t(o,n,r))}}}(t,e,new Set),e}var At,Tt=Object.freeze({makeTypesMatch:St,assertTypesMatch:Et,isTensorInList:function(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return!0;return!1},getTensorsInContainer:kt}),It=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},t}(),Nt=function(){function t(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new It}return t.prototype.ready=function(){return o(this,void 0,void 0,function(){var t,e,n;return l(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];t=this.getSortedBackends(),e=0,r.label=1;case 1:return e<t.length?[4,this.initializeBackend(n=t[e]).success]:[3,4];case 2:if(r.sent())return this.setBackend(n),[2];r.label=3;case 3:return e++,[3,1];case 4:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() before calling other methods");if(null==this.backendInstance){var t=this.initializeBackendsAndReturnBest(),e=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+e+"' has not yet been initialized. Make sure to await tf.ready() before calling other methods");this.setBackend(e)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;if(this.initializeBackend(t).asyncInit)return null}return this.registry[t]},t.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},t.prototype.registerBackend=function(t,e,n){return void 0===n&&(n=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:e,priority:n},!0)},t.prototype.setBackend=function(t){return o(this,void 0,void 0,function(){var e,n,r;return l(this,function(i){switch(i.label){case 0:if(null==this.registryFactory[t])throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,null!=this.registry[t]?[3,4]:(this.backendInstance=null,e=this.initializeBackend(t),n=e.success,e.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.profiler=new nt(this.backendInstance),[2,!0]}})})},t.prototype.initializeBackend=function(t){var e=this,n=Rt.registryFactory[t];if(null==n)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,a=r.then(function(n){return!(i<e.pendingBackendInitId||(e.registry[t]=n,e.pendingBackendInit=null,0))}).catch(function(n){return!(i<e.pendingBackendInitId||(e.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(n.stack||n.message),1))});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(e){return console.warn("Initialization of backend "+t+" failed"),console.warn(e.stack||e.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var t=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(e,n){return t.registryFactory[n].priority-t.registryFactory[e].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),e=0;e<t.length;e++){var n=t[e],r=this.initializeBackend(n),i=r.asyncInit;if(i||r.success)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(t,e){this.write(t,e,this.readSync(e))},t.prototype.tidy=function(t,e){var n,r=this,i=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun(function(){return r.startScope(i)},function(){return r.endScope(n)},function(){return(n=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},t.prototype.scopedRun=function(t,e,n){t();try{var r=n();return e(),r}catch(t){throw e(),t}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(t){var e=ht.make(t.shape,{dataId:t.dataId},t.dtype);return this.addTapeNode([t],e,function(t){return[t.toFloat()]}),e},t.prototype.runKernel=function(t,e,n){var r,i=this,a=[],s=this.isTapeOn(),o=null!=this.state.activeScope?this.state.activeScope.name:"",l=function(t){s&&(a=t.map(function(t){return i.keep(i.clone(t))}))},u=this.state.numBytes,c=this.state.numTensors;if(this.scopedRun(function(){return i.state.kernelDepth++},function(){return i.state.kernelDepth--},function(){r=i.ENV.getBool("DEBUG")?i.profiler.profileKernel(o,function(){return t(i.backend,l)}):t(i.backend,l)}),s){var p={id:this.state.nextTapeNodeId++,name:o,inputs:e,outputs:Array.isArray(r)?r:[r],saved:a};null!=n&&(p.gradient=function(t){return n(t,a)}),this.state.activeTape.push(p)}return this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-u,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-c,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map(function(t){return e[t].shape}),outputShape:Array.isArray(r)?r.map(function(t){return t.shape}):r.shape}),r},t.prototype.registerTensor=function(t,e){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(r=t.size*B(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:null!=e?e:this.backend,dtype:t.dtype,shape:t.shape,bytes:r,refCount:0}),this.state.numBytes+=r,null!=e?e.register(t.dataId,t.shape,t.dtype):this.backend.register(t.dataId,t.shape,t.dtype)}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof mt||this.track(t)},t.prototype.registerVariable=function(t){if(null!=this.state.registeredVariables[t.name])throw new Error("Variable with name "+t.name+" was already registered");this.state.registeredVariables[t.name]=t},t.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[t])},t.prototype.disposeVariable=function(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},t.prototype.profile=function(t){return o(this,void 0,void 0,function(){var e,n;return l(this,function(r){return this.state.profiling=!0,e=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(t){return t.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},t.prototype.addTapeNode=function(t,e,n){var r={};t.forEach(function(t,e){r[e]=t});var i={id:this.state.nextTapeNodeId++,name:this.state.activeScope.name,inputs:r,outputs:[e],gradient:function(t){var e=n(t),r={};return e.forEach(function(t,e){r[e]=function(){return t}}),r}};this.state.activeTape.push(i)},t.prototype.keep=function(t){return t.kept=!0,t},t.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(t){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e},t.prototype.endScope=function(t){for(var e=this,n=kt(t),r=new Set(n.map(function(t){return t.id})),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(t){t.kept||t.scopeId!==s.id||e.track(t)})},t.prototype.gradients=function(t,e,n,r){var i=this;if(void 0===r&&(r=!1),v(e.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",t)});v(a instanceof ht,function(){return"The result y returned by f() must be a tensor."});var s=function(t,e,n){for(var r={},i={},a=0;a<e.length;a++)r[e[a].id]=!0;for(a=0;a<t.length;a++){var s=(d=t[a]).inputs;for(var o in s){for(var l=s[o],u=!1,c=0;c<e.length;c++)if(r[l.id]){d.outputs.forEach(function(t){return r[t.id]=!0}),u=!0,i[d.id]=!0;break}if(u)break}}var p={};p[n.id]=!0;var h={};for(a=t.length-1;a>=0;a--)for(s=(d=t[a]).inputs,c=0;c<d.outputs.length;c++)if(p[d.outputs[c].id]){for(var o in s)p[s[o].id]=!0,h[d.id]=!0;break}var m=[];for(a=0;a<t.length;a++){var d;if(i[(d=t[a]).id]&&h[d.id]){var f={};for(var o in d.inputs){var g=d.inputs[o];r[g.id]&&(f[o]=g)}var y=Object.assign({},d);y.inputs=f,y.outputs=d.outputs,m.push(y)}}return m}(this.state.activeTape,e,a);if(!r&&0===s.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var t,r,o={};o[a.id]=null==n?(r=X(x(t=a.shape),"float32"),ht.make(t,{values:r})):n,function(t,e,n){for(var r=function(r){var i=e[r],a=[];if(i.outputs.forEach(function(e){var n=t[e.id];if(null!=n)a.push(n);else{var r=ht.make(e.shape,{values:Q(e.size,e.dtype)},e.dtype);a.push(r)}}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.name+".");var s=i.gradient(1===i.outputs.length?a[0]:a),o=function(e){if(!(e in s))throw new Error("Cannot backprop through input "+e+". Available gradients found: "+Object.keys(s)+".");var r=n(function(){return s[e]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.name+". The gradient of input "+e+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=i.inputs[e];if(!C(r.shape,a.shape))throw new Error("Error in gradient for op "+i.name+". The gradient of input '"+e+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==t[a.id])t[a.id]=r;else{var o=t[a.id];t[a.id]=o.add(r),o.dispose()}};for(var l in i.inputs)o(l)},i=e.length-1;i>=0;i--)r(i)}(o,s,function(t){return i.tidy(t)});var l=e.map(function(t){return o[t.id]});return 0===i.state.gradientDepth&&(i.state.activeTape.forEach(function(t){for(var e in t.saved)t.saved[e].dispose()}),i.state.activeTape=null),{value:a,grads:l}})},t.prototype.customGrad=function(t){var e=this;return v(q(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];v(r.every(function(t){return t instanceof ht}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return r.forEach(function(t,e){a[e]=t}),e.runKernel(function(e,i){return v((n=t.apply(void 0,r.concat([i]))).value instanceof ht,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),v(q(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},a,function(t,e){var i=n.gradFunc(t,e),a=Array.isArray(i)?i:[i];v(a.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),v(a.every(function(t){return t instanceof ht}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var s={};return a.forEach(function(t,e){s[e]=function(){return t}}),s})}},t.prototype.write=function(t,e,n){var r=this.state.tensorInfo.get(e),i=r.backend;if(t=t||this.backend,"string"===r.dtype){var a=V(n);this.state.numBytes+=a-r.bytes,r.bytes=a}t!==i&&(i.disposeData(e),r.backend=t,t.register(e,r.shape,r.dtype)),t.write(e,n)},t.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},t.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},t.prototype.fromPixels=function(t,e){return this.backend.fromPixels(t,e)},t.prototype.time=function(t){return o(this,void 0,void 0,function(){var e,n;return l(this,function(r){switch(r.label){case 0:return e=Z(),[4,this.backend.time(t)];case 1:return(n=r.sent()).wallMs=Z()-e,[2,n]}})})},t.prototype.track=function(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new It,this.registry)this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}(),Rt=function(){var t=function(){if(null==At){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof global)t=global;else{if("undefined"==typeof process)throw new Error("Could not find a global object");t=process}At=t}return At}();if(null==t._tfengine){var e=new c(t);t._tfengine=new Nt(e)}return h(t._tfengine.ENV),ut=function(){return t._tfengine},t._tfengine}();function Dt(){return"undefined"!=typeof window}u.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),u.registerFlag("IS_BROWSER",function(){return Dt()}),u.registerFlag("IS_NODE",function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}),u.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),u.registerFlag("PROD",function(){return!1}),u.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return!u.getBool("PROD")}),u.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),u.registerFlag("IS_TEST",function(){return!1});var Ot={},Mt={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Ft(t,e){Ot[t]=e}function Lt(t){t in Ot||(Ot[t]=function(t){if(1!==t&&2!==t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=document.createElement("canvas");return e.addEventListener("webglcontextlost",function(e){e.preventDefault(),delete Ot[t]},!1),1===t?e.getContext("webgl",Mt)||e.getContext("experimental-webgl",Mt):e.getContext("webgl2",Mt)}(t));var e=Ot[t];return e.isContextLost()?(delete Ot[t],Lt(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Ot[t])}function Pt(t,e,n){var r=n();return e&&function(t){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+Ut(t,e))}(t),r}var zt=5.96e-8,Bt=65504;function Vt(t){return!!(u.getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===t||zt<Math.abs(t)&&Math.abs(t)<Bt)}function Ut(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function jt(t,e,n){return pe(t,e,function(){return t.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function Wt(t,e,n){var r=pe(t,e,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Pt(t,e,function(){return t.shaderSource(r,n)}),Pt(t,e,function(){return t.compileShader(r)}),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function Ht(t,e,n){var r=pe(t,e,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Pt(t,e,function(){return t.shaderSource(r,n)}),Pt(t,e,function(){return t.compileShader(r)}),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw function(t,e){var n=Gt.exec(e);if(null==n)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var r=+n[1],i=t.split("\n"),a=i.length.toString().length+2,s=i.map(function(t,e){return A((e+1).toString(),a)+t}),o=0,l=0;l<s.length;l++)o=Math.max(s[l].length,o);var u=s.slice(0,r-1),c=s.slice(r-1,r),p=s.slice(r);console.log(u.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+A(c[0],o),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var qt,$t,Gt=/ERROR: [0-9]+:([0-9]+):/g;function Kt(t,e){return pe(t,e,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function Yt(t,e,n){if(Pt(t,e,function(){return t.linkProgram(n)}),!1===t.getProgramParameter(n,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function Xt(t,e,n){if(Pt(t,e,function(){return t.validateProgram(n)}),!1===t.getProgramParameter(n,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function Qt(t,e,n){var r=pe(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Pt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),Pt(t,e,function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function Zt(t,e,n){var r=pe(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Pt(t,e,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)}),Pt(t,e,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function Jt(t,e){return pe(t,e,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function te(t,e){var n=u.getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n)throw r="["+t+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function ee(t,e){return pe(t,e,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function ne(t,e,n,r,i,a,s,o){var l=t.getAttribLocation(n,r);return-1!==l&&(Pt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,i)}),Pt(t,e,function(){return t.vertexAttribPointer(l,a,t.FLOAT,!1,s,o)}),Pt(t,e,function(){return t.enableVertexAttribArray(l)}),!0)}function re(t,e,n,r){he(t,r),Pt(t,e,function(){return t.activeTexture(t.TEXTURE0+r)}),Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)})}function ie(t,e,n,r){return pe(t,e,function(){return t.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function ae(t,e,n){return t.getUniformLocation(e,n)}function se(t,e,n,r,i,a){Pt(t,e,function(){return re(t,e,r,a)}),Pt(t,e,function(){return t.uniform1i(i,a)})}function oe(t,e,n,r){Pt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)}),Pt(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)})}function le(t,e,n){Pt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),Pt(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function ue(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+ce(t,e))}function ce(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function pe(t,e,n,r){var i=Pt(t,e,function(){return n()});if(null==i)throw new Error(r);return i}function he(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function me(t,e){return void 0===e&&(e=2),x(t.slice(0,t.length-e))}function de(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function fe(t,e){var n;void 0===e&&(e=!1);var r=u.getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,1===(t=t.map(function(e,n){return n>=t.length-2?g(t[n]):t[n]})).length&&(t=[2,t[0]])),2!==t.length){var i=R(t);t=i.newShape}var a=x(t);if(t.length<=1&&a<=r)return[1,a];if(2===t.length&&t[0]<=r&&t[1]<=r)return t;if(3===t.length&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(3===t.length&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(4===t.length&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(4===t.length&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var s=me(t),o=2,l=2;return t.length&&(o=(n=de(t))[0],l=n[1]),k(a=s*(o/2)*(l/2)).map(function(t){return 2*t})}return k(a)}function ge(t){return t%2==0}function ye(t,e){if(C(t=t.slice(-2),e=e.slice(-2)))return!0;if(!t.length||!e.length)return!0;if(0===t[0]||0===t[1]||0===e[0]||0===e[1])return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r)return!0;if(ge(n)&&ge(r)&&(1===t[0]||1===e[0]))return!0}return t[1]===e[1]&&ge(t[0])&&ge(e[0])}function ve(t){if(null==qt){var e=Lt(t);qt=e.getParameter(e.MAX_TEXTURE_SIZE)}return qt}function be(t){if(null==$t){var e=Lt(t);$t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,$t)}function _e(t){if(0===t)return 0;var e=Lt(t);return we(e,"EXT_disjoint_timer_query_webgl2")&&2===t?2:we(e,"EXT_disjoint_timer_query")?1:0}function we(t,e){return null!=t.getExtension(e)}function xe(t){try{if(null!=Lt(t))return!0}catch(t){return!1}return!1}function Ce(t){if(0===t)return!1;var e=Lt(t);if(1===t){if(!we(e,"OES_texture_float"))return!1}else if(!we(e,"EXT_color_buffer_float"))return!1;return Ee(e,t)}function Se(t){if(0===t)return!1;var e=Lt(t);if(1===t){if(!we(e,"OES_texture_float"))return!1;if(!we(e,"WEBGL_color_buffer_float"))return!1}else if(!we(e,"EXT_color_buffer_float"))return!1;return Ee(e,t)}function Ee(t,e){var n=t.createFramebuffer(),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,2===e?t.RGBA32F:t.RGBA,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(n),i}function ke(t){return 2===t&&null!=Lt(t).fenceSync}var Ae=Object.freeze({callAndCheck:Pt,canBeRepresented:Vt,getWebGLErrorMessage:Ut,getExtensionOrThrow:jt,createVertexShader:Wt,createFragmentShader:Ht,createProgram:Kt,linkProgram:Yt,validateProgram:Xt,createStaticVertexBuffer:Qt,createStaticIndexBuffer:Zt,getNumChannels:function(){return 2===u.getNumber("WEBGL_VERSION")?1:4},createTexture:Jt,validateTextureSize:te,createFramebuffer:ee,bindVertexBufferToProgramAttribute:ne,bindTextureUnit:re,unbindTextureUnit:function(t,e,n){he(t,n),Pt(t,e,function(){return t.activeTexture(t.TEXTURE0+n)}),Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:ie,getProgramUniformLocation:ae,bindTextureToProgramUniformSampler:se,bindCanvasToFramebuffer:function(t,e){Pt(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Pt(t,e,function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)}),Pt(t,e,function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)})},bindColorTextureToFramebuffer:oe,unbindColorTextureFromFramebuffer:le,validateFramebuffer:ue,getFramebufferErrorMessage:ce,getBatchDim:me,getRowsCols:de,getTextureShapeFromLogicalShape:fe,isReshapeFree:ye,get MAX_TEXTURE_SIZE(){return qt},get MAX_TEXTURES_IN_SHADER(){return $t},getWebGLMaxTextureSize:ve,getMaxTexturesInShader:be,getWebGLDisjointQueryTimerVersion:_e,isWebGLVersionEnabled:xe,isRenderToFloatTextureEnabled:Ce,isDownloadFloatTextureEnabled:Se,isWebGLFenceEnabled:ke});function Te(){u.set("PROD",!0)}function Ie(){u.set("DEBUG",!0)}function Ne(){u.set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Re(t){u.getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function De(){Rt.disposeVariables()}function Oe(){return Rt.memory()}function Me(t){return Rt.profile(t)}function Fe(t,e){return Rt.tidy(t,e)}function Le(t){kt(t).forEach(function(t){return t.dispose()})}function Pe(t){return Rt.keep(t)}function ze(t){return Rt.time(t)}function Be(t){return Rt.setBackend(t)}function Ve(){return Rt.ready()}function Ue(){return Rt.backendName}function je(t){Rt.removeBackend(t)}function We(t){return Rt.findBackend(t)}function He(t){return Rt.findBackendFactory(t)}function qe(t,e,n){return void 0===n&&(n=1),Rt.registerBackend(t,e,n)}function $e(){return Rt.backend}function Ge(t,e){u.setPlatform(t,e)}function Ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.getBool("IS_TEST")||console.warn.apply(console,t)}function Ye(t,e,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(e.slice(0))).push(t[0]/n),i=i.concat(t.slice(1));else{i=i.concat(t[0]);for(var a=e.length,s=0;s<a;++s)i=i.concat([t[s+1]/e[s],e[s]]);i=i.concat(t.slice(a+1))}return i}function Xe(t,e,n){void 0===n&&(n=!0);var r=[];if(n){r.push(e);for(var i=e+1;i<t;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{var a=[],s=[];for(i=1;i<t;++i)i>=2*e+1||i%2==1?s.push(i):a.push(i);r.push.apply(r,a),r.push(0),r.push.apply(r,s)}return r}function Qe(t,e,n,r){void 0===r&&(r=!0);var i=[];i.push(r?t[0]/n:t[0]*n);for(var a=1;a<t.length;++a)i.push(a<=e.length?r?e[a-1]*t[a]:t[a]/e[a-1]:t[a]);return i}function Ze(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function Je(t,e,n){for(var r=t.slice(0,1),i=0;i<n;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}function tn(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function en(t,e,n){for(var r=t.length+e.length,i=[],a=0,s=0,o=0;o<r;o++)-1===n.indexOf(o)?i.push(t[a++]):i.push(e[s++]);return i}function nn(t,e){for(var n=[],r=t.length,i=0;i<r;i++)-1===e.indexOf(i)&&n.push(t[i]);return[n,e.map(function(e){return t[e]})]}function rn(t,e){return en(t,e.map(function(t){return 1}),e)}function an(t,e,n){v(tn(e,n),function(){return t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input."})}function sn(t,e){if(tn(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach(function(t){return n.push(t)}),n}function on(t){return t.map(function(t,e){return[e,t]}).sort(function(t,e){return t[1]-e[1]}).map(function(t){return t[0]})}function ln(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function un(t,e){var n=t[0].length;t.forEach(function(t,e){v(t.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+e+"] must be the same as the rank of the rest ("+n+")"})}),v(e>=0&&e<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=t[0];t.forEach(function(t,i){for(var a=0;a<n;a++)v(a===e||t[a]===r[a],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+t+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function cn(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function pn(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==e.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(0===t.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],i=1,a=0;a<n.length-1;++a)i*=n[a];var s=t.shape,o=n.slice();o.pop();var l=1;for(a=r;a<t.rank;++a)l*=s[a],o.push(s[a]);var u=G(t.shape).map(function(t){return t/l}).concat([1]).slice(0,r);return[o,i,l,u]}u.registerFlag("HAS_WEBGL",function(){return u.getNumber("WEBGL_VERSION")>0}),u.registerFlag("WEBGL_VERSION",function(){return xe(2)?2:xe(1)?1:0}),u.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===u.get("WEBGL_VERSION")}),u.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),u.registerFlag("WEBGL_PACK",function(){return u.getBool("HAS_WEBGL")}),u.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_PACK_CLIP",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_PACK_REDUCE",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_LAZILY_UNPACK",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_CONV_IM2COL",function(){return u.getBool("WEBGL_PACK")}),u.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return ve(u.getNumber("WEBGL_VERSION"))}),u.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return be(u.getNumber("WEBGL_VERSION"))}),u.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var t=u.getNumber("WEBGL_VERSION");return 0===t?0:_e(t)}),u.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t}),u.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return Ce(u.getNumber("WEBGL_VERSION"))}),u.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return Se(u.getNumber("WEBGL_VERSION"))}),u.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return ke(u.getNumber("WEBGL_VERSION"))}),u.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return u.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),pt=Re;var hn=30;function mn(t){return t<=hn?t:$(t,Math.floor(Math.sqrt(t)))}function dn(t,e,n){for(var r=e.rank>1?e.shape[e.rank-1]:1,i=n.length,a=1,s=r;s<i;++s)a*=n[s];return{sliceRank:r,numUpdates:e.size/(r<1?1:r),sliceSize:a,strides:G(n.slice(0,r)).concat([1]),outputSize:x(n)}}function fn(t,e,n,r,i,a,s,o,l){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===l&&(l=0),0!==s)throw new Error("ellipsis mask is not yet supported");if(0!==o)throw new Error("new axis mask is not yet supported");for(var u=[],c=[],p=[],h=0;h<t.length;h++)u[h]=gn(i,e,r,t,h),c[h]=yn(a,n,r,t,h),l&1<<h&&(c[h]=u[h]+1,p.push(h));var m=new Array(t.length).fill(0);return m=m.map(function(t,e){for(var n=0,i=r[e]||1,a=u[e];!(i>0?a>=c[e]:a<=c[e]);a+=i)n+=1;return n}),[u,m,p]}function gn(t,e,n,r,i){var a=e[i];(t&1<<i||null==a)&&(a=(n[i]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),f(0,a,s-1)}function yn(t,e,n,r,i){var a=e[i],s=n[i]||1;(t&1<<i||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var o=r[i];return a<0&&(a+=o),s>0?f(0,a,o):f(-1,a,o-1)}function vn(t,e,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(e[i]>0||n[i]!==t[i])return!1;return!0}function bn(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function _n(t){var e=t;if(z(t))return[t.length];if(!Array.isArray(t))return[];for(var n=[];Array.isArray(e)||z(e);)n.push(e.length),e=e[0];return Array.isArray(t)&&u.getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function t(e,n,r){if(r=r||[],Array.isArray(e)||z(e)){v(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+e.length+" elements"}),v(e.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+e.length+" elements"});for(var i=n.slice(1),a=0;a<e.length;++a)t(e[a],i,r.concat(a))}else v(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(t,n,[]),n}function wn(t,e,n,r){if(null!=t&&("numeric"!==t&&t!==e||"numeric"===t&&"string"===e))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function xn(t,e,n,r){if(void 0===r&&(r="numeric"),t instanceof ht)return wn(r,t.dtype,e,n),t;var i=H(t);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),wn(r,i,e,n),null==t||!z(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+(null==t?"null":t.constructor.name)+"'");var a=_n(t);z(t)||Array.isArray(t)||(t=[t]);var s="string"!==i?K(t,i,u.getBool("DEBUG")):w(t);return ht.make(a,{values:s},i)}function Cn(t,e,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map(function(t,r){return xn(t,e+"["+r+"]",n)},r)}function Sn(t){return v(q(t),function(){return"The f passed in grad(f) must be a function"}),function(e,n){var r=xn(e,"x","tf.grad",null),i=null!=n?xn(n,"dy","tf.grad"):null;return Rt.tidy(function(){var e=Rt.gradients(function(){return t(r)},[r],i),n=e.grads;return null!=i&&b(e.value.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),Nn(n),n[0]})}}function En(t){return v(q(t),function(){return"The f passed in grads(f) must be a function"}),function(e,n){v(Array.isArray(e),function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"});var r=Cn(e,"args","tf.grads",null),i=null!=n?xn(n,"dy","tf.grads"):null;return Rt.tidy(function(){var e=Rt.gradients(function(){return t.apply(void 0,r)},r,i),n=e.grads;return null!=i&&b(e.value.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Nn(n),n})}}function kn(t){return v(q(t),function(){return"The f passed in valueAndGrad(f) must be a function"}),function(e,n){v(e instanceof ht,function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"}),v(null==n||n instanceof ht,function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"});var r=Rt.gradients(function(){return t(e)},[e],n),i=r.grads,a=r.value;return Nn(i),{grad:i[0],value:a}}}function An(t){return v(q(t),function(){return"The f passed in valueAndGrads(f) must be a function"}),function(e,n){v(Array.isArray(e)&&e.every(function(t){return t instanceof ht}),function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"}),v(null==n||n instanceof ht,function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"});var r=Rt.gradients(function(){return t.apply(void 0,e)},e,n);return null!=n&&b(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Nn(r.grads),r}}function Tn(t,e){v(q(t),function(){return"The f passed in variableGrads(f) must be a function"}),v(null==e||Array.isArray(e)&&e.every(function(t){return t instanceof mt}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=e;if(!n)for(var r in e=[],Rt.registeredVariables)e.push(Rt.registeredVariables[r]);var i=n?e.filter(function(t){return!t.trainable}):null,a=e.length;v((e=e.filter(function(t){return t.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."});var s=Rt.gradients(t,e,null,!0),o=s.value,l=s.grads;v(l.some(function(t){return null!=t}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),v(0===o.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+o.rank+" tensor"});var u={};return e.forEach(function(t,e){null!=l[e]&&(u[t.name]=l[e])}),null!=i&&i.forEach(function(t){return u[t.name]=null}),{value:o,grads:u}}function In(t){return Rt.customGrad(t)}function Nn(t){if(t.filter(function(t){return null==t}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function Rn(t){var e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Rt.startScope(n);try{var i=r.apply(void 0,t);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Rt.endScope(i),i}catch(t){throw Rt.endScope(null),t}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}var Dn=Rn({softmax_:function(t,e){void 0===e&&(e=-1);var n=xn(t,"logits","softmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return In(function(t,n){var r=t.logSumExp([e],!0),i=t.toFloat().sub(r).exp();return n([i]),{value:i,gradFunc:function(t,n){var r=n[0],i=t.mul(r);return i.sub(i.sum([e],!0).mul(r))}}})(n)}}),On=Rn({logSoftmax_:function(t,e){void 0===e&&(e=-1);var n=xn(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return In(function(t,n){var r=t.max(e,!0),i=t.sub(r),a=i.toFloat().sub(i.exp().sum(e,!0).log());return n([a]),{value:a,gradFunc:function(t,n){var r=n[0].exp();return t.sub(t.sum(e,!0).mul(r))}}})(n)}}),Mn=Rn({complex_:function(t,e){var n=xn(t,"real","complex"),r=xn(e,"imag","complex");return b(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Rt.runKernel(function(t){return t.complex(n,r)},{$real:n,$imag:r})}}),Fn=Rn({real_:function(t){var e=xn(t,"input","real");return Rt.runKernel(function(t){return t.real(e)},{$input:e})}}),Ln=Rn({imag_:function(t){var e=xn(t,"input","imag");return Rt.runKernel(function(t){return t.imag(e)},{$input:e})}});function Pn(t,e,n){if(null==n&&(n=H(t)),"complex64"===n)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!z(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");var r=_n(t);if(null!=e){J(e);var i=x(e),a=x(r);v(i===a,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+i+" values but has "+a});for(var s=0;s<r.length;++s){var o=s!==r.length-1||r[s]!==x(e.slice(s));v(r[s]===e[s]||!o,function(){return"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+e+"). "})}}return z(t)||Array.isArray(t)||(t=[t]),e=e||r,t="string"!==n?K(t,n,u.getBool("DEBUG")):w(t),ht.make(e,{values:t},n)}function zn(t,e){if((z(t)||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");return Pn(t,[],e)}function Bn(t,e){_(t);var n=_n(t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Pn(t,n,e)}function Vn(t,e,n){if(_(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var r=_n(t);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Pn(t,e=e||r,n)}function Un(t,e,n){if(_(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var r=_n(t);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Pn(t,e=e||r,n)}function jn(t,e,n){if(_(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var r=_n(t);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Pn(t,e=e||r,n)}function Wn(t,e,n){if(_(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var r=_n(t);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Pn(t,e=e||r,n)}function Hn(t,e,n){if(_(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var r=_n(t);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Pn(t,e=e||r,n)}function qn(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=qn(t,"float32"),r=$n(t,"float32");return Mn(n,r)}var i=X(x(t),e);return ht.make(t,{values:i},e)}function $n(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=$n(t,"float32"),r=$n(t,"float32");return Mn(n,r)}var i=Q(x(t),e);return ht.make(t,{values:i},e)}function Gn(t,e,n){return Rt.runKernel(function(r){return r.fill(t,e,n)},{})}function Kn(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return Rt.runKernel(function(r){return r.linspace(t,e,n)},{})}function Yn(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return $n([0],r);var i=Q(Math.abs(Math.ceil((e-t)/n)),r);e<t&&1===n&&(n=-1),i[0]=t;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return Bn(i,r)}var Xn=Rn({onesLike_:function(t){var e=xn(t,"x","onesLike");if("complex64"===e.dtype){var n=Xn(Fn(e)),r=Qn(Ln(e));return Mn(n,r)}return Rt.runKernel(function(t){return t.onesLike(e)},{$x:e},function(t,e){return{$x:function(){return Qn(t)}}})}}),Qn=Rn({zerosLike_:function(t){var e=xn(t,"x","zerosLike");return Rt.runKernel(function(t){return t.zerosLike(e)},{$x:e},function(t,e){return{$x:function(){return Qn(t)}}})}}),Zn=function(){function t(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap}return t.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},t.prototype.set=function(t,e){this.data.set(t,e)},t.prototype.has=function(t){return this.data.has(t)},t.prototype.delete=function(t){return this.data.delete(t)},t}(),Jn=function(){function t(){}return t.prototype.time=function(t){throw new Error("Not yet implemented.")},t.prototype.read=function(t){throw new Error("Not yet implemented.")},t.prototype.readSync=function(t){throw new Error("Not yet implemented.")},t.prototype.disposeData=function(t){throw new Error("Not yet implemented.")},t.prototype.write=function(t,e){throw new Error("Not yet implemented.")},t.prototype.fromPixels=function(t,e){throw new Error("Not yet implemented.")},t.prototype.register=function(t,e,n){throw new Error("Not yet implemented.")},t.prototype.memory=function(){throw new Error("Not yet implemented.")},t.prototype.floatPrecision=function(){throw new Error("Not yet implemented")},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.batchMatMul=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.fusedBatchMatMul=function(t,e,n,r,i,a){throw new Error("Not yet implemented")},t.prototype.slice=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.stridedSlice=function(t,e,n,r,i,a,s,o,l){throw new Error("Not yet implemented")},t.prototype.unstack=function(t,e){throw new Error("Not yet implemented")},t.prototype.reverse=function(t,e){throw new Error("Not yet implemented")},t.prototype.concat=function(t,e){throw new Error("Not yet implemented")},t.prototype.neg=function(t){throw new Error("Not yet implemented")},t.prototype.add=function(t,e){throw new Error("Not yet implemented")},t.prototype.addN=function(t){throw new Error("Not yet implemented")},t.prototype.subtract=function(t,e){throw new Error("Not yet implemented")},t.prototype.multiply=function(t,e){throw new Error("Not yet implemented")},t.prototype.realDivide=function(t,e){throw new Error("Not yet implemented")},t.prototype.floorDiv=function(t,e){throw new Error("Not yet implemented")},t.prototype.sum=function(t,e){throw new Error("Not yet implemented")},t.prototype.prod=function(t,e){throw new Error("Not yet implemented")},t.prototype.unsortedSegmentSum=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.argMin=function(t,e){throw new Error("Not yet implemented")},t.prototype.argMax=function(t,e){throw new Error("Not yet implemented")},t.prototype.equal=function(t,e){throw new Error("Not yet implemented")},t.prototype.notEqual=function(t,e){throw new Error("Not yet implemented")},t.prototype.less=function(t,e){throw new Error("Not yet implemented")},t.prototype.lessEqual=function(t,e){throw new Error("Not yet implemented")},t.prototype.greater=function(t,e){throw new Error("Not yet implemented")},t.prototype.greaterEqual=function(t,e){throw new Error("Not yet implemented")},t.prototype.logicalNot=function(t){throw new Error("Not yet implemented")},t.prototype.logicalAnd=function(t,e){throw new Error("Not yet implemented")},t.prototype.logicalOr=function(t,e){throw new Error("Not yet implemented")},t.prototype.where=function(t){throw new Error("Not yet implemented")},t.prototype.select=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.topk=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.min=function(t,e){throw new Error("Not yet implemented")},t.prototype.minimum=function(t,e){throw new Error("Not yet implemented")},t.prototype.mod=function(t,e){throw new Error("Not yet implemented")},t.prototype.max=function(t,e){throw new Error("Not yet implemented")},t.prototype.maximum=function(t,e){throw new Error("Not yet implemented")},t.prototype.all=function(t,e){throw new Error("Not yet implemented")},t.prototype.any=function(t,e){throw new Error("Not yet implemented")},t.prototype.squaredDifference=function(t,e){throw new Error("Not yet implemented")},t.prototype.ceil=function(t){throw new Error("Not yet implemented")},t.prototype.floor=function(t){throw new Error("Not yet implemented")},t.prototype.round=function(t){throw new Error("Not yet implemented")},t.prototype.sign=function(t){throw new Error("Not yet implemented")},t.prototype.isNaN=function(t){throw new Error("Not yet implemented")},t.prototype.isInf=function(t){throw new Error("Not yet implemented")},t.prototype.isFinite=function(t){throw new Error("Not yet implemented")},t.prototype.pow=function(t,e){throw new Error("Not yet implemented")},t.prototype.exp=function(t){throw new Error("Not yet implemented")},t.prototype.expm1=function(t){throw new Error("Not yet implemented")},t.prototype.log=function(t){throw new Error("Not yet implemented")},t.prototype.log1p=function(t){throw new Error("Not yet implemented")},t.prototype.sqrt=function(t){throw new Error("Not yet implemented")},t.prototype.rsqrt=function(t){throw new Error("Not yet implemented")},t.prototype.square=function(t){throw new Error("Not yet implemented")},t.prototype.reciprocal=function(t){throw new Error("Not yet implemented")},t.prototype.relu=function(t){throw new Error("Not yet implemented")},t.prototype.prelu=function(t,e){throw new Error("Not yet implemented")},t.prototype.elu=function(t){throw new Error("Not yet implemented")},t.prototype.eluDer=function(t,e){throw new Error("Not yet implemented")},t.prototype.selu=function(t){throw new Error("Not yet implemented")},t.prototype.int=function(t){throw new Error("Not yet implemented")},t.prototype.clip=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.abs=function(t){throw new Error("Not yet implemented")},t.prototype.complexAbs=function(t){throw new Error("Not yet implemented")},t.prototype.sigmoid=function(t){throw new Error("Not yet implemented")},t.prototype.softplus=function(t){throw new Error("Not yet implemented")},t.prototype.sin=function(t){throw new Error("Not yet implemented")},t.prototype.cos=function(t){throw new Error("Not yet implemented")},t.prototype.tan=function(t){throw new Error("Not yet implemented")},t.prototype.asin=function(t){throw new Error("Not yet implemented")},t.prototype.acos=function(t){throw new Error("Not yet implemented")},t.prototype.atan=function(t){throw new Error("Not yet implemented")},t.prototype.atan2=function(t,e){throw new Error("Not yet implemented")},t.prototype.sinh=function(t){throw new Error("Not yet implemented")},t.prototype.cosh=function(t){throw new Error("Not yet implemented")},t.prototype.tanh=function(t){throw new Error("Not yet implemented")},t.prototype.asinh=function(t){throw new Error("Not yet implemented")},t.prototype.acosh=function(t){throw new Error("Not yet implemented")},t.prototype.atanh=function(t){throw new Error("Not yet implemented")},t.prototype.erf=function(t){throw new Error("Not yet implemented")},t.prototype.step=function(t,e){throw new Error("Not yet implemented")},t.prototype.conv2d=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv2dDerInput=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv2dDerFilter=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.depthwiseConv2D=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.depthwiseConv2DDerInput=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv3d=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv3dDerInput=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv3dDerFilter=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.maxPool=function(t,e){throw new Error("Not yet implemented")},t.prototype.maxPoolBackprop=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.avgPool=function(t,e){throw new Error("Not yet implemented")},t.prototype.avgPoolBackprop=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.reshape=function(t,e){throw new Error("Not yet implemented")},t.prototype.cast=function(t,e){throw new Error("Not yet implemented")},t.prototype.tile=function(t,e){throw new Error("Not yet implemented")},t.prototype.pad=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.transpose=function(t,e){throw new Error("Not yet implemented")},t.prototype.gather=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.gatherND=function(t,e){throw new Error("Not yet implemented")},t.prototype.scatterND=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.batchToSpaceND=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.spaceToBatchND=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.resizeBilinear=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.resizeBilinearBackprop=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.resizeNearestNeighbor=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.batchNormalization=function(t,e,n,r,i,a){throw new Error("Not yet implemented")},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){throw new Error("Not yet implemented")},t.prototype.LRNGrad=function(t,e,n,r,i,a,s){throw new Error("Not yet implemented")},t.prototype.multinomial=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.oneHot=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.cumsum=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.nonMaxSuppression=function(t,e,n,r,i){throw new Error("Not yet implemented")},t.prototype.fft=function(t){throw new Error("Not yet implemented")},t.prototype.ifft=function(t){throw new Error("Not yet implemented")},t.prototype.complex=function(t,e){throw new Error("Not yet implemented")},t.prototype.real=function(t){throw new Error("Not yet implemented")},t.prototype.imag=function(t){throw new Error("Not yet implemented")},t.prototype.cropAndResize=function(t,e,n,r,i,a){throw new Error("Not yet implemented")},t.prototype.depthToSpace=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.split=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.sparseToDense=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.fill=function(t,e,n){throw new Error("Not yet implemented.")},t.prototype.onesLike=function(t){throw new Error("Not yet implemented")},t.prototype.zerosLike=function(t){throw new Error("Not yet implemented")},t.prototype.linspace=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.dispose=function(){throw new Error("Not yet implemented")},t}();function tr(t,e){for(var n=t.length,r=[],i=0;i<n;i++){var a=n-1-i;(e[e.length-1-i]||1)>1&&1===(t[a]||1)&&r.unshift(a)}return r}function er(t,e){for(var n=[],r=0;r<e.length;r++){var i=t[t.length-r-1],a=e.length-r-1;(null==i||1===i&&e[a]>1)&&n.unshift(a)}return n}function nr(t,e){for(var n=[],r=Math.max(t.length,e.length),i=0;i<r;i++){var a=t[t.length-i-1];null==a&&(a=1);var s=e[e.length-i-1];if(null==s&&(s=1),1===a)n.unshift(s);else if(1===s)n.unshift(a);else{if(a!==s)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(a)}}return n}function rr(t,e,n,r,i,a,s){void 0===s&&(s="channelsLast");var o,l=or(e),u=l[0],c=l[1];if("channelsLast"===s)o=[u,c,t[3],t[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);o=[u,c,t[1],t[1]]}return ir(t,o,n,r,i,a,!1,s)}function ir(t,e,n,r,i,a,s,o){void 0===s&&(s=!1),void 0===o&&(o="channelsLast");var l=[-1,-1,-1,-1],u=l[0],c=l[1],p=l[2],h=l[3];if("channelsLast"===o)u=t[0],c=t[1],p=t[2],h=t[3];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);u=t[0],h=t[1],c=t[2],p=t[3]}var m,d=e[0],f=e[1],g=e[3],y=or(n),b=y[0],_=y[1],w=or(r),x=w[0],C=w[1],E=ur(d,x),k=ur(f,C),A=function(t,e,n,r,i,a,s,o){var l,u,c;if("number"==typeof t){l={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var p=function(t,e,n,r,i,a){null==i&&(i=sr(t,e,r));var s=t[1],o=cr((t[0]-e+2*i)/r+1,a);v(S(o),function(){return"The output # of rows ("+o+") must be an integer. Change the stride and/or zero pad parameters"});var l=cr((s-e+2*i)/r+1,a);return v(S(l),function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"}),[o,l,1]}([e,n,1],a,0,r,t,o);u=p[0],c=p[1]}else if("same"===t){u=Math.ceil(e/r),c=Math.ceil(n/i);var h=Math.max(0,(u-1)*r+a-e),m=Math.max(0,(c-1)*i+s-n),d=Math.floor(h/2),f=h-d,g=Math.floor(m/2);l={top:d,bottom:f,left:g,right:m-g,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-a+1)/r),c=Math.ceil((n-s+1)/i)}return{padInfo:l,outHeight:u,outWidth:c}}(i,c,p,b,_,E,k,a),T=A.outHeight,I=A.outWidth,N=s?g*h:g;return"channelsFirst"===o?m=[u,N,T,I]:"channelsLast"===o&&(m=[u,T,I,N]),{batchSize:u,dataFormat:o,inHeight:c,inWidth:p,inChannels:h,outHeight:T,outWidth:I,outChannels:N,padInfo:A.padInfo,strideHeight:b,strideWidth:_,filterHeight:d,filterWidth:f,effectiveFilterHeight:E,effectiveFilterWidth:k,dilationHeight:x,dilationWidth:C,inShape:t,outShape:m,filterShape:e}}function ar(t,e,n,r,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var o=[-1,-1,-1,-1,-1],l=o[0],u=o[1],c=o[2],p=o[3],h=o[4];if("channelsLast"===s)l=t[0],u=t[1],c=t[2],p=t[3],h=t[4];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=t[0],h=t[1],u=t[2],c=t[3],p=t[4]}var m,d=e[0],f=e[1],g=e[2],y=e[4],v=lr(n),b=v[0],_=v[1],w=v[2],x=lr(r),C=x[0],S=x[1],E=x[2],k=function(t,e,n,r,i,a,s,o,l,u){var c,p,h,m;if("same"===t){var d=((p=Math.ceil(e/i))-1)*i+o-e,f=((h=Math.ceil(n/a))-1)*a+l-n,g=((m=Math.ceil(r/s))-1)*s+u-r,y=Math.floor(d/2),v=d-y,b=Math.floor(f/2),_=f-b,w=Math.floor(g/2);c={top:b,bottom:_,left:w,right:g-w,front:y,back:v,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);c={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((e-o+1)/i),h=Math.ceil((n-l+1)/a),m=Math.ceil((r-u+1)/s)}return{padInfo:c,outDepth:p,outHeight:h,outWidth:m}}(i,u,c,p,b,_,w,ur(d,C),ur(f,S),ur(g,E)),A=k.outDepth,T=k.outHeight,I=k.outWidth,N=a?y*h:y;return"channelsFirst"===s?m=[l,N,A,T,I]:"channelsLast"===s&&(m=[l,A,T,I,N]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:c,inWidth:p,inChannels:h,outDepth:A,outHeight:T,outWidth:I,outChannels:N,padInfo:k.padInfo,strideDepth:b,strideHeight:_,strideWidth:w,filterDepth:d,filterHeight:f,filterWidth:g,dilationDepth:C,dilationHeight:S,dilationWidth:E,inShape:t,outShape:m,filterShape:e}}function sr(t,e,n,r){void 0===r&&(r=1);var i=ur(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}function or(t){return"number"==typeof t?[t,t]:t}function lr(t){return"number"==typeof t?[t,t,t]:t}function ur(t,e){return e<=1?t:t+(t-1)*(e-1)}function cr(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function pr(t){var e=or(t);return 1===e[0]&&1===e[1]}function hr(t,e){return pr(t)||pr(e)}function mr(t,e,n){if("complex64"===e){if("complex64"===t.dtype)return t.clone();var r=$n(t.shape),i=t.toFloat(),a=n.complex(i,r);return r.dispose(),i.dispose(),a}if(!P(t.dtype,e))return ht.make(t.shape,{dataId:t.dataId},e);if("complex64"===t.dtype){var s=n.real(t);return a=s.cast(e),s.dispose(),a}if("int32"===e)return n.int(t);if("bool"===e){var o=zn(0,t.dtype);return a=n.notEqual(t,o),o.dispose(),a}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+e)}function dr(t,e){return ht.make(e,{dataId:t.dataId},t.dtype)}function fr(t,e,n){var r=(e-t)/(n-1),i=Q(n,"float32");i[0]=t;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return Bn(i,"float32")}var gr=Object.freeze({castTensor:mr,reshapeTensor:dr,linspaceImpl:fr,upcastType:xt,axesAreInnerMostDims:tn,combineLocations:en,computeOutAndReduceShapes:nn,expandShapeToKeepDim:rn,assertAxesAreInnerMostDims:an,getAxesPermutation:sn,getUndoAxesPermutation:on,getInnerMostAxes:ln,getBroadcastDims:tr,getReductionAxes:er,assertAndGetBroadcastShape:nr,assertParamsConsistent:un,computeOutShape:cn,computePool2DInfo:rr,computeConv2DInfo:ir,computeConv3DInfo:ar,computeDefaultPad:sr,tupleValuesAreOne:pr,eitherStridesOrDilationsAreOne:hr});function yr(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function vr(t,e){return{real:t[2*e],imag:t[2*e+1]}}function br(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function _r(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function wr(t,e,n,r,i){for(var a=Array.from(e).map(function(t,e){return{score:t,boxIndex:e}}).filter(function(t){return t.score>i}).sort(function(t,e){return e.score-t.score}),s=[],o=0;o<a.length;o++){var l=a[o],u=l.boxIndex;if(l.score<i)break;for(var c=!1,p=s.length-1;p>=0;--p)if(xr(t,u,s[p])>=r){c=!0;break}if(!c&&(s.push(u),s.length>=n))break}return Bn(s,"int32")}function xr(t,e,n){var r=t.subarray(4*e,4*e+4),i=t.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),p=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),m=(o-a)*(l-s),d=(p-u)*(h-c);if(m<=0||d<=0)return 0;var f=Math.max(a,u),g=Math.max(s,c),y=Math.min(o,p),v=Math.min(l,h),b=Math.max(y-f,0)*Math.max(v-g,0);return b/(m+d-b)}function Cr(t,e,n){var r=new Array(t.rank).fill(0),i=t.shape.slice();return e.map(function(e){i[n]=e;var a=t.slice(r,i);return r[n]+=e,a})}function Sr(t,e,n,r,i){for(var a=e[e.length-1],s=[t.length/a,a],o=s[0],l=s[1],u=D(n,o*r),c=D("int32",o*r),p=0;p<o;p++){for(var h=p*l,m=t.subarray(h,h+l),d=[],f=0;f<m.length;f++)d.push({value:m[f],index:f});d.sort(function(t,e){return e.value-t.value});var g=p*r,y=u.subarray(g,g+r),v=c.subarray(g,g+r);for(f=0;f<r;f++)y[f]=d[f].value,v[f]=d[f].index}var b=e.slice();return b[b.length-1]=r,[Pn(u,b,n),Pn(c,b,"int32")]}var Er=Rn({concat_:function(t,e){void 0===e&&(e=0),v(t.length>=1,function(){return"Pass at least one tensor to concat"});var n=Cn(t,"tensors","concat");e=N(e,n[0].shape)[0];var r=cn(n.map(function(t){return t.shape}),e);if(0===x(r))return Pn([],r);if(1===(n=n.filter(function(t){return t.size>0})).length)return n[0];var i=n.map(function(t){return t.shape});return un(i,e),Rt.runKernel(function(t){return t.concat(n,e)},n,function(t){var n=i.map(function(t){return t[e]});return Nr(t,n,e).map(function(t){return function(){return t}})})}}),kr=Rn({concat1d_:function(t){return Er(t,0)}}),Ar=Rn({concat2d_:function(t,e){return Er(t,e)}}),Tr=Rn({concat3d_:function(t,e){return Er(t,e)}}),Ir=Rn({concat4d_:function(t,e){return Er(t,e)}}),Nr=Rn({split_:function(t,e,n){void 0===n&&(n=0);var r,i=xn(t,"x","split");return n=N(n,i.shape)[0],"number"==typeof e?(v(i.shape[n]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(i.shape[n]/e)):(v(i.shape[n]===e.reduce(function(t,e){return t+e}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),Rt.runKernel(function(t){return t.split(i,r,n)},{$x:i},function(t){return{$x:function(){return Er(t,n)}}})}});function Rr(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Dr=Rr(function(t){!function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new r(t),a=e&&e.state,s=n.next;return s.int32=function(){return 4294967296*n.next()|0},s.double=function(){return s()+1.1102230246251565e-16*(2097152*s()|0)},s.quick=s,a&&("object"==typeof a&&i(a,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=a:this.alea=a}(0,t)}),Or=Rr(function(t){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new r(t),a=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,a&&("object"==typeof a&&i(a,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=a:this.xor128=a}(0,t)}),Mr=Rr(function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,a&&("object"==typeof a&&i(a,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=a:this.xorwow=a}(0,t)}),Fr=Rr(function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,a&&(a.x&&i(a,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=a:this.xorshift7=a}(0,t)}),Lr=Rr(function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,a=e.i;return e.w=r=r+1640531527|0,n=i[a+34&127],t=i[a=a+1&127],n^=n<<13,t^=t<<17,n=i[a]=(n^=n>>>15)^(t^=t>>>12),e.i=a,n+(r^r>>>16)|0},function(t,e){var n,r,i,a,s,o=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),i=0,a=-32;a<l;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=0==(n=o[127&a]^=r+(s=s+1640531527|0))?i+1:0);for(i>=128&&(o[127&(e&&e.length||0)]=-1),i=127,a=512;a>0;--a)r=o[i+34&127],n=o[i=i+1&127],r^=r<<13,n^=n<<17,o[i]=(r^=r>>>15)^(n^=n>>>12);t.w=s,t.X=o,t.i=i}(e,t)}function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new r(t),a=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,a&&(a.X&&i(a,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=a:this.xor4096=a}(0,t)}),Pr=Rr(function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new r(t),a=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,a&&("object"==typeof a&&i(a,n),s.state=function(){return i(n,{})}),s}e&&e.exports?e.exports=a:this.tychei=a}(0,t)}),zr=Rr(function(t){!function(e,r){var i,a=this,s=256,o=6,l="random",u=r.pow(s,o),c=r.pow(2,52),p=2*c,h=s-1;function m(t,n,h){var m=[],v=g(function t(e,n){var r,i=[],a=typeof e;if(n&&"object"==a)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==a?e:e+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,y(e)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(s):(t=new Uint8Array(s),(a.crypto||a.msCrypto).getRandomValues(t)),y(t)}catch(t){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,y(e)]}}():t,3),m),b=new d(m),_=function(){for(var t=b.g(o),e=u,n=0;t<c;)t=(t+n)*s,e*=s,n=b.g(1);for(;t>=p;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|b.g(4)},_.quick=function(){return b.g(4)/4294967296},_.double=_,g(y(b.S),e),(n.pass||h||function(t,e,n,i){return i&&(i.S&&f(i,b),t.state=function(){return f(b,{})}),n?(r[l]=t,e):t})(_,v,"global"in n?n.global:this==r,n.state)}function d(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);i<s;)o[i]=i++;for(i=0;i<s;i++)o[i]=o[a=h&a+t[i%n]+(e=o[i])],o[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,o=r.S;t--;)e=o[i=h&i+1],n=n*s+o[h&(o[i]=o[a=h&a+e])+(o[a]=e)];return r.i=i,r.j=a,n})(s)}function f(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function g(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return y(e)}function y(t){return String.fromCharCode.apply(0,t)}if(r["seed"+l]=m,g(r.random(),e),t.exports){t.exports=m;try{i=n(1)}catch(t){}}}([],Math)});zr.alea=Dr,zr.xor128=Or,zr.xorwow=Mr,zr.xorshift7=Fr,zr.xor4096=Lr,zr.tychei=Pr;var Br=zr.alea,Vr=function(){function t(t,e,n,r,i){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=Br(a.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var i=void 0,a=void 0,s=void 0;do{s=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(s>=1||0===s);var o=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*i*o,n=this.mean+this.stdDev*a*o,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}(),Ur=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=1),void 0===r&&(r=Math.random());var i=this;if(this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=t,this.range=e-t,this.dtype=n,!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+e+" <= 1 and dtype is not float");this.random=Br(r.toString())}return t.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function jr(t,e,n){return void 0===e&&(e="float32"),e=e||"float32",J(t),new lt(t,e,n)}function Wr(t,e){void 0===e&&(e=!1),console.log(t.toString(e))}var Hr=Rn({batchToSpaceND_:function(t,e,n){var r=xn(t,"x","batchToSpaceND"),i=e.reduce(function(t,e){return t*e});return v(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),v(n.length===e.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length}),v(r.shape[0]%i==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+i}),Rt.runKernel(function(t){return t.batchToSpaceND(r,e,n)},{$x:r},function(t){return{$x:function(){return t.spaceToBatchND(e,n)}}})}}),qr=Rn({cast_:function(t,e){var n=xn(t,"x","cast");if(!L(e))throw new Error("Failed to cast to unknown dtype "+e);if("string"===e&&"string"!==n.dtype||"string"!==e&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");return Rt.runKernel(function(t){return t.cast(n,e)},{$x:n},function(t){return{$x:function(){return t.clone()}}})}}),$r=Rn({clone_:function(t){var e=xn(t,"x","clone",null);return Rt.runKernel(function(t){return ht.make(e.shape,{dataId:e.dataId},e.dtype)},{$x:e},function(t){return{$x:function(){return t.toFloat()}}})}}),Gr=Rn({cumsum_:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=xn(t,"x","cumsum"),a=sn([e|=0],i.rank),s=i;null!=a&&(s=i.transpose(a));var o=ln(1,i.rank)[0],l=Rt.runKernel(function(t){return t.cumsum(s,o,n,r)},{permutedX:s},function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}});return null!=a&&(l=l.transpose(a)),l}}),Kr=Rn({depthToSpace_:function(t,e,n){void 0===n&&(n="NHWC");var r=xn(t,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],s="NHWC"===n?r.shape[3]:r.shape[1];return v(i*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+e+"  for depthToSpace with input shape\n      "+r.shape}),v(a*e>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+e+" for depthToSpace with input shape\n          "+r.shape}),v(s%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+s+" for depthToSpace with input shape "+r.shape}),Rt.runKernel(function(t){return t.depthToSpace(r,e,n)},{$x:r})}}),Yr=Rn({expandDims_:function(t,e){void 0===e&&(e=0);var n=xn(t,"x","expandDims");v(e<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return e<0&&(v(-(n.rank+1)<=e,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),e=n.rank+e+1),r.splice(e,0,1),oi(n,r)}}),Xr=Rn({eye_:function(t,e,n,r){void 0===r&&(r="float32"),null==e&&(e=t);for(var i=jr([t,e],r),a=t<=e?t:e,s=0;s<a;++s)i.set(1,s,s);var o=i.toTensor().as2D(t,e);if(null==n)return o;if(1===n.length)return pi(Yr(o,0),[n[0],1,1]);if(2===n.length)return pi(Yr(Yr(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return pi(Yr(Yr(Yr(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Qr=Rn({multinomial_:function(t,e,n,r){void 0===r&&(r=!1);var i=xn(t,"logits","multinomial"),a=i.size,s=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+s);n=n||Math.random();var o=1===s?i.as2D(1,-1):i,l=Rt.runKernel(function(t){return t.multinomial(o,r,e,n)},{logits2D:o});return 1===s?l.as1D():l}}),Zr=Rn({oneHot_:function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var i=xn(t,"indices","oneHot","int32"),a=i.shape.concat([e]);return i=i.flatten(),Rt.runKernel(function(t){return t.oneHot(i,e,n,r)},{$indices:i},function(t){return{$indices:function(){return $n(i.shape,"float32")}}}).reshape(a)}}),Jr=Rn({pad_:function(t,e,n){void 0===n&&(n=0);var r=xn(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i=e.map(function(t){return t[0]});return Rt.runKernel(function(t){return t.pad(r,e,n)},{$x:r},function(t){return{$x:function(){return t.slice(i,r.shape)}}})}}),ti=Rn({pad1d_:function(t,e,n){return void 0===n&&(n=0),v(2===e.length,function(){return"Invalid number of paddings. Must be length of 2."}),Jr(t,[e],n)}}),ei=Rn({pad2d_:function(t,e,n){return void 0===n&&(n=0),v(2===e.length&&2===e[0].length&&2===e[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Jr(t,e,n)}}),ni=Rn({pad3d_:function(t,e,n){return void 0===n&&(n=0),v(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Jr(t,e,n)}}),ri=Rn({pad4d_:function(t,e,n){return void 0===n&&(n=0),v(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),Jr(t,e,n)}}),ii=Rn({rand_:function(t,e,n){var r=x(t),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=e();return ht.make(t,{values:i},n)}}),ai=Rn({randomNormal_:function(t,e,n,r,i){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new Vr(e,n,r,!1,i),s=jr(t,r),o=0;o<s.values.length;o++)s.values[o]=a.nextValue();return s.toTensor()}}),si=Rn({randomUniform_:function(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=jr(t,r),s=new Ur(e,n,null,i),o=0;o<a.values.length;o++)a.values[o]=s.nextValue();return a.toTensor()}}),oi=Rn({reshape_:function(t,e){var n=xn(t,"x","reshape",null);return e=I(e,n.size),v(n.size===x(e),function(){return"new shape and old shape must have the same number of elements."}),Rt.runKernel(function(t){return t.reshape(n,e)},{$x:n},function(t){return{$x:function(){return t.reshape(n.shape)}}})}}),li=Rn({spaceToBatchND_:function(t,e,n){var r=xn(t,"x","spaceToBatchND");return v(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),v(n.length===e.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length}),v(r.shape.reduce(function(t,r,i){return i>0&&i<=e.length?t&&(r+n[i-1][0]+n[i-1][1])%e[i-1]==0:t},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()}),Rt.runKernel(function(t){return t.spaceToBatchND(r,e,n)},{$x:r},function(t){return{$x:function(){return t.batchToSpaceND(e,n)}}})}}),ui=Rn({squeeze_:function(t,e){var n=xn(t,"x","squeeze");return oi(n,R(n.shape,e).newShape)}}),ci=Rn({stack_:function(t,e){void 0===e&&(e=0);var n=Cn(t,"tensors","stack");if(v(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(e);var r=n[0].shape,i=n[0].dtype;v(e<=n[0].rank,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(t){b(r,t.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(t){v(i===t.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=n.map(function(t){return t.expandDims(e)});return Er(a,e)}}),pi=Rn({tile_:function(t,e){var n=xn(t,"x","tile");return v(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."}),Rt.runKernel(function(t,r){var i=t.tile(n,e);return r([n]),i},{$x:n},function(t,n){var r=n[0];return{$x:function(){var n=Qn(r);if(1===r.rank)for(var i=0;i<e[0];++i)n=n.add(t.slice([i*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(i=0;i<e[0];++i)for(var a=0;a<e[1];++a)n=n.add(t.slice([i*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(i=0;i<e[0];++i)for(a=0;a<e[1];++a)for(var s=0;s<e[2];++s)n=n.add(t.slice([i*r.shape[0],a*r.shape[1],s*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(i=0;i<e[0];++i)for(a=0;a<e[1];++a)for(s=0;s<e[2];++s)for(var o=0;o<e[3];++o)n=n.add(t.slice([i*r.shape[0],a*r.shape[1],s*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}})}}),hi=Rn({truncatedNormal_:function(t,e,n,r,i){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new Vr(e,n,r,!0,i),s=jr(t,r),o=0;o<s.values.length;o++)s.values[o]=a.nextValue();return s.toTensor()}}),mi=Rn({unstack_:function(t,e){void 0===e&&(e=0),e=e||0;var n=xn(t,"x","unstack");return v(e>=-n.shape.length&&e<n.shape.length,function(){return"Axis = "+e+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),e<0&&(e+=n.shape.length),Rt.runKernel(function(t){return t.unstack(n,e)},{$x:n},function(t){return{$x:function(){return ci(t,e)}}})}}),di=function(t,e){return o(this,void 0,void 0,function(){var n,r,i,a,s,o,u,c,p,h;return l(this,function(l){switch(l.label){case 0:return n=xn(t,"x","setdiff1d"),r=xn(e,"y","setdiff1d"),v(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),v(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),v(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return i=l.sent(),[4,r.data()];case 2:for(a=l.sent(),s=new Set(a),o=0,p=0;p<i.length;p++)s.has(i[p])||o++;for(u=new lt([o],n.dtype),c=new lt([o],"int32"),p=0,h=0;p<i.length;p++)s.has(i[p])||(u.values[h]=i[p],c.values[h]=p,h++);return[2,[u.toTensor(),c.toTensor()]]}})})};function fi(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var i=jr(t,"int32"),a=jr([n.length,t.length],"int32");for(r=0;r<n.length;r++){var s=i.indexToLoc(n[r]);a.values.set(s,r*t.length)}return a.toTensor()}var gi=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map(function(t,e){return"T"+e});var n=[];this.variableNames.forEach(function(t){n.push("float v"+t+" = get"+t+"AtOutCoords();")});var r=this.variableNames.map(function(t){return"v"+t}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},yi=function(t,e){this.outputShape=[],this.usesPackedTextures=!0,this.outputShape=t,this.variableNames=e.map(function(t,e){return"T"+e});var n=[];this.variableNames.forEach(function(t){n.push("vec4 v"+t+" = get"+t+"AtOutCoords();")});var r=this.variableNames.map(function(t){return"v"+t}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},vi=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,i=t.batchSize,a=Math.ceil(t.inSize/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+(n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===e?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function bi(t,e){return["x","y","z","w","u","v"].slice(0,e).map(function(e){return t+"."+e})}function _i(t,e){return 1===e?[t]:bi(t,e)}function wi(){var t,e,n,r,i,a,s,o,l,c;return 2===u.getNumber("WEBGL_VERSION")?(t="#version 300 es",e="in",n="out",r="in",i="texture",a="outputColor",s="out vec4 outputColor;",o="\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 0. || val == 0.) ? false : true;\n      }\n    ",l="\n      const float INFINITY = uintBitsToFloat(uint(0x7f800000));\n    ",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",s="",o="\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:c}}function xi(t,e,n){void 0===n&&(n="index");var r=G(e);return r.map(function(e,i){return"int "+t[i]+" = "+n+" / "+e+"; "+(i===r.length-1?"int "+t[i+1]+" = "+n+" - "+t[i]+" * "+e:"index -= "+t[i]+" * "+e)+";"}).join("")}function Ci(t){return 1===t.length?""+t[0]:"vec"+t.length+"("+t.join(",")+")"}function Si(t){return"\n  int getFlatIndex(ivec3 coords) {\n    return round("+function(t,e){if(t.length!==e.length)throw new Error("Vectors to be dotted must be of the same length -got "+t.length+" and "+e.length);for(var n=[],r=Math.floor(t.length/4),i=t.length%4,a=0;a<r;a++){var s=t.slice(4*a,4*a+4),o=e.slice(4*a,4*a+4);n.push(Ci(s)+", "+Ci(o))}return 0!==i&&(s=t.slice(4*r),o=e.slice(4*r),1===s.length&&(s=s.map(function(t){return"float("+t+")"}),o=o.map(function(t){return"float("+t+")"})),n.push(Ci(s)+", "+Ci(o))),n.map(function(t,e){return"dot("+t+")"}).join("+")}(["coords.x","coords.y","coords.z"],G(t).map(function(t){return t.toString()}).concat(["1."]))+");\n  }\n"}function Ei(t){return"offset"+t}function ki(t){var e=t.name,n=x(t.shapeInfo.logicalShape);return n<2?"return "+e+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+e+"[i];\n      }\n    }\n  "}function Ai(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function Ti(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Ii(t,e){return e.map(function(e){return t[e]}).join(", ")}var Ni=function(t,e,n,r){this.variableNames=["A"],this.usesPackedTextures=!0,v(t.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var i=Math.ceil(t[t.length-1]/e);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,s,o=this.outputShape,l=o.length,u=Ai(l),c=_i("coords",l);if(1===i){var p=Ai(s=l+1);a="\n        "+p+" sourceLocR = "+p+"("+c.join()+", 0);\n        ++"+c[l-1]+";\n        "+p+" sourceLocG = "+p+"("+c.join()+", 0);\n        ++"+c[l-2]+";\n        "+p+" sourceLocA = "+p+"("+c.join()+", 0);\n        --"+c[l-1]+";\n        "+p+" sourceLocB = "+p+"("+c.join()+", 0);\n        --"+c[l-2]+";"}else s=l,a="\n        "+u+" sourceLocR = coords;\n        ++"+c[l-1]+";\n        "+u+" sourceLocG = coords;\n        ++"+c[l-2]+";\n        "+u+" sourceLocA = coords;\n        --"+c[l-1]+";\n        "+u+" sourceLocB = coords;\n        --"+c[l-2]+";";var h=["x","y","z","w","u","v"].slice(0,s),m="."+h[s-1],d=h.map(function(t){return"int "+t}),f=_i("sourceLocR",s-1).concat("inIdx.r"),g=_i("sourceLocG",s-1).concat("inIdx.g"),y=_i("sourceLocB",s-1).concat("inIdx.b"),b=_i("sourceLocA",s-1).concat("inIdx.a"),_="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+f.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",x="vec4(\n            getAChannel("+f.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",C=r?"":"\n      float getBestIndicesAChannel("+d.join()+") {\n        return getChannel(getBestIndicesA("+h.join()+"),\n                                          vec2("+h.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+d.join()+") {\n        return getChannel(getA("+h.join()+"),\n                               vec2("+h.slice(-2).join()+"));\n      }\n      "+C+"\n      void main() {\n        "+u+" coords = getOutputCoords();\n        bool hasNextCol = "+c[l-1]+" < "+(o[l-1]-1)+";\n        bool hasNextRow = "+c[l-2]+" < "+(o[l-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+m+", sourceLocG"+m+",\n          sourceLocB"+m+", sourceLocA"+m+") * "+e+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+x+";\n\n        for (int i = 0; i < "+e+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+x+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+_+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Ri=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.effectiveFilterHeight,n=t.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n      const float avgMultiplier = float("+1/(t.filterHeight*t.filterWidth)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+";\n            wR += "+t.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+";\n            wC+= "+t.dilationWidth+") {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Di=function(t,e,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],nr(t,e),nr(t,n);var s="0.0";null!=r&&(nr(t,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var o="1.0";null!=i&&(nr(t,i),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+o+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Oi=function(t,e,n,r,i,a){this.usesPackedTextures=!0,this.variableNames=["x","mean","variance"],nr(t,e),nr(t,n);var s="vec4(0.0)";null!=r&&(nr(t,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var o="vec4(1.0)";null!=i&&(nr(t,i),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = "+s+";\n        vec4 scale = "+o+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},Mi=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nr(e,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+t+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Fi="return a + b;",Li="return a - b;",Pi="return a * b;",zi=function(t,e,n){this.variableNames=["A","B"],this.outputShape=nr(e,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Bi=function(t,e,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.usesPackedTextures=!0,this.outputShape=nr(e,n);var i=this.outputShape.length,a="";if(r)if(0===i||1===x(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+Ai(i)+" coords = getOutputCoords();\n        ",1===i)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var s=_i("coords",i);a+="\n            bool nextRowOutOfBounds =\n              ("+s[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+s[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},Vi=function(){function t(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float min;\n      uniform float max;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, min, max));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"min"),n.maxLoc=r.getUniformLocationNoThrow(i,"max")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),Ui=function(){function t(t){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t,this.userCode="\n      uniform float min;\n      uniform float max;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(min), vec4(max)));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t,e){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"min"),n.maxLoc=r.getUniformLocationNoThrow(i,"max")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}},t}(),ji=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Wi=function(t){this.outputShape=[],this.outputShape=cn(t,1),this.variableNames=t.map(function(t,e){return"T"+e});var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<e.length;n++)r.push("else if (yC < "+e[n]+") setOutput(getT"+n+"(yR, yC-"+e[n-1]+"));");r.push("else setOutput(getT"+e.length+"(yR, yC-"+e[e.length-1]+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Hi=function(t,e){this.usesPackedTextures=!0,this.outputShape=[],this.outputShape=cn(t,e);var n=this.outputShape,r=n.length,i=Ai(r),a=_i("coords",r),s=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map(function(t,e){return"T"+e});var o=new Array(t.length-1);o[0]=t[0][e];for(var l=1;l<o.length;l++)o[l]=o[l-1]+t[l][e];var u=s[e],c="vec2("+s.slice(-2).join()+")",p=s.join(),h="if ("+u+" < "+o[0]+")\n          return getChannel(getT0("+p+"), "+c+");";for(l=1;l<o.length;l++)h+="\n        else if ("+u+" < "+o[l]+") {\n          "+u+" -= "+o[l-1]+";\n          return getChannel(getT"+l+"("+p+"), "+c+");\n        }";h+="\n        else {\n          "+u+" -= "+o[o.length-1]+";\n          return getChannel(getT"+o.length+"("+p+"), "+c+");\n        }",this.userCode="\n      float getValue("+s.map(function(t){return"int "+t})+") {\n        "+h+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n        if (++"+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n        if (++"+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            --"+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "},qi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$i=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Gi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yF = 0; yF < "+t.outDepth+"; yF++) {\n            int xF = wF + yF * "+t.strideDepth+" - "+t.padInfo.front+";\n\n            if (xF < 0 || xF >= "+t.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n              int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n              if (xR < 0 || xR >= "+t.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n                int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n                if (xC < 0 || xC >= "+t.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ki=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(e-1-t.padInfo.front)+", "+(n-1-t.padInfo.top)+", "+(r-1-t.padInfo.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+e+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+t.strideDepth+".0;\n\n          if (dyF < 0.0 || dyF >= "+t.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+e+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Yi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+t.outChannels/t.inChannels+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Xi=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+r+"; dm++) {\n              int d2 = d1 * "+r+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Qi=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.top,n=t.padInfo.left,r=t.strideHeight,i=t.strideWidth,a=t.dilationHeight,s=t.dilationWidth,o=t.filterHeight,l=t.filterWidth,u=4*Math.floor(t.inChannels/4),c=t.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+i+");\n      const ivec2 pads = ivec2("+e+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+"; wR++) {\n          int xR = xRCorner + wR * "+a+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+l+"; wC++) {\n            int xC = xCCorner + wC * "+s+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+u+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+u+") *\n                getW(wR, wC, "+u+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+u+"),\n                getX(batch, xR, xC, "+u+" + 1),\n                getX(batch, xR, xC, "+u+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+u+", d2),\n                getW(wR, wC, "+u+" + 1, d2),\n                getW(wR, wC, "+u+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Zi=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,i=t.strideDepth,a=t.strideHeight,s=t.strideWidth,o=t.dilationDepth,l=t.dilationHeight,u=t.dilationWidth,c=t.filterDepth,p=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),d=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+a+", "+s+");\n      const ivec3 pads = ivec3("+e+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+o+";\n\n          if (xF < 0 || xF >= "+t.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+p+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+u+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+m+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===d)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+m+") *\n                  getW(wF, wR, wC, "+m+", d2);\n              } else if ("+(2===d)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+m+"),\n                  getX(batch, xF, xR, xC, "+m+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+m+", d2),\n                  getW(wF, wR, wC, "+m+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===d)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+m+"),\n                  getX(batch, xF, xR, xC, "+m+" + 1),\n                  getX(batch, xF, xR, xC, "+m+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+m+", d2),\n                  getW(wF, wR, wC, "+m+" + 1, d2),\n                  getW(wF, wR, wC, "+m+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ji=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+t.strideHeight+", "+t.strideWidth+");\n      const ivec2 pads = ivec2("+t.padInfo.top+", "+t.padInfo.left+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+e+";\n        int q = d2 - d1 * "+e+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+t.filterHeight+"; wR++) {\n          int xR = xRCorner + wR * "+t.dilationHeight+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+t.filterWidth+"; wC++) {\n            int xC = xCCorner + wC * "+t.dilationWidth+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ta=function(t){this.variableNames=["x","W"],this.usesPackedTextures=!0,this.outputShape=t.outShape;for(var e=t.inHeight,n=t.inWidth,r=t.padInfo.top,i=t.padInfo.left,a=t.strideHeight,s=t.strideWidth,o=t.dilationHeight,l=t.dilationWidth,u=t.filterHeight,c=t.filterWidth,p=c,h="int xR; int xC; int xCOffset;",m=0;m<u;m++)for(var d=0;d<c;d++)h+="\n          vec4 xTexelR"+m+"C"+2*d+" = vec4(0.);\n          vec4 wR"+m+"C"+d+" = vec4(0.);\n          vec4 xR"+m+"C"+d+" = vec4(0.);";for(m=0;m<u;m++)for(var f=0;f<p;f++){if(h+="\n          xR = xRCorner + "+m*o+";\n          xC = xCCorner + "+(d=2*f)*l+";\n        ",1===s){if(d<c&&(h+=i%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+e+" && xCOffset >= 0 && xCOffset < "+n+") {\n                  xTexelR"+m+"C"+d+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+d+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+e+" && xCOffset >= 0 && xCOffset < "+n+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n                  xR"+m+"C"+d+" = vec4(previous.zw, xTexelR"+m+"C"+d+".xy);\n                } else {\n                  xR"+m+"C"+d+" = vec4(0, 0, xTexelR"+m+"C"+d+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+e+" && xC >= 0 && xC < "+n+") {\n                  xTexelR"+m+"C"+d+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+d+" = vec4(0.);\n                }\n\n                xR"+m+"C"+d+" = xTexelR"+m+"C"+d+";\n              ",d+1<c)){var y=i%2==0?g(l):l;l%2==0&&i%2==1||l%2!=0&&i%2!=1?(h+="\n                  xCOffset = xC + "+i%2+" + "+y+";\n\n                  if(xR >= 0 && xR < "+e+" &&\n                    xCOffset >= 0 && xCOffset < "+n+") {\n                    xTexelR"+m+"C"+(d+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",l>1&&(h+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+e+" &&\n                      xCOffset >= 0 && xCOffset < "+n+") {\n                      xTexelR"+m+"C"+d+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+m+"C"+d+" = vec4(0.);\n                    }\n                  "),h+="\n                  xR"+m+"C"+(d+1)+" = vec4(\n                    xTexelR"+m+"C"+d+".zw, xTexelR"+m+"C"+(d+2)+".xy);\n                "):h+="\n                  xCOffset = xC + "+y+";\n\n                  if(xR >= 0 && xR < "+e+" &&\n                    xCOffset >= 0 && xCOffset < "+n+") {\n                    xTexelR"+m+"C"+(d+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+m+"C"+(d+1)+" = xTexelR"+m+"C"+(d+2)+";\n                "}}else d<c&&(h+="\n              if(xR >= 0 && xR < "+e+") {\n            ",i%2==1?(h+="\n                xCOffset = xC + 1 - "+s+";\n                if(xCOffset >= 0 && xCOffset < "+n+") {\n                  xTexelR"+m+"C"+d+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+d+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+n+") {\n                  xTexelR"+m+"C"+(d+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+m+"C"+(d+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+d+" = vec4(\n                  xTexelR"+m+"C"+d+".zw, xTexelR"+m+"C"+(d+2)+".zw);\n              ",d+1<c&&(h+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+s+";\n                  if(xCOffset >= 0 && xCOffset < "+n+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+m+"C"+(d+1)+" = vec4(xTexelR"+m+"C"+(d+2)+".xy, final.xy);\n                ")):(h+="\n                if(xC >= 0 && xC < "+n+") {\n                  xTexelR"+m+"C"+d+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+d+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+s+";\n                if(xCOffset >= 0 && xCOffset < "+n+") {\n                  xTexelR"+m+"C"+(d+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+(d+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+d+" = vec4(\n                  xTexelR"+m+"C"+d+".xy, xTexelR"+m+"C"+(d+2)+".xy);\n              ",d+1<c&&(h+="\n                  xR"+m+"C"+(d+1)+" = vec4(\n                    xTexelR"+m+"C"+d+".zw, xTexelR"+m+"C"+(d+2)+".zw);\n                ")),h+="}");d<c&&(h+="\n            vec4 wTexelR"+m+"C"+d+" = getW("+m+", "+d+", d1, q);\n            wR"+m+"C"+d+" = vec4(wTexelR"+m+"C"+d+".xz, wTexelR"+m+"C"+d+".xz);\n          ",d+1<c&&(h+="\n              vec4 wTexelR"+m+"C"+(d+1)+" = getW("+m+", "+(d+1)+", d1, q);\n              wR"+m+"C"+(d+1)+" =\n                vec4(wTexelR"+m+"C"+(d+1)+".xz, wTexelR"+m+"C"+(d+1)+".xz);"))}for(m=0;m<u;m++)for(d=0;d<c;d++)h+="result += xR"+m+"C"+d+" * wR"+m+"C"+d+";";this.userCode="\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+r+", "+i+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 result = vec4(0.);\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},ea=function(t,e,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=t[0],s=t[1],o=t[2],l=n[0],u=n[1];this.outputShape=[e[0],l,u,t[3]];var c=[s-1+".0",o-1+".0"],p=c[0],h=c[1],m=l>1?[""+(s-1)/(l-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],d=u>1?[""+(o-1)/(u-1),"(x2-x1) * width_ratio","x1*"+h+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+h];this.userCode="\n      const float height_ratio = float("+m[0]+");\n      const float width_ratio = float("+d[0]+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+m[1]+";\n        float width_scale = "+d[1]+";\n\n        float in_y = "+m[2]+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+d[2]+";\n        if( in_x < 0.0 || in_x > "+h+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+("bilinear"===r?1:0)+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},na=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,i=t[t.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Ai(r)+" coords = getOutputCoords();\n        int end = "+ra(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+ra(r,"coords")+" = idx;\n          val += getX("+function(t,e){if(1===r)return""+e;if(2===r)return e+".x, "+e+".y";if(3===r)return e+".x, "+e+".y, "+e+".z";if(4===r)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+r+" is not yet supported")}(0,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function ra(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var ia,aa,sa=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return t.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),oa=function(t){this.variableNames=["A"];var e=wi();this.outputShape=t,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isnan(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+e.output+" = encode_float(x);\n      }\n    "},la=function(t,e){this.variableNames=["A"];var n=wi(),r=e[0],i=e[1];this.outputShape=t,this.userCode="\n      "+Si(t)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex /= 4;\n        int r = flatIndex / "+i+";\n        int c = imod(flatIndex, "+i+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+r+".0);\n        vec4 values = "+n.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+n.output+" = vec4(result, 0., 0., 0.);\n      }\n    "},ua=function(t,e){this.variableNames=["A"];var n=wi(),r=e[0],i=e[1];this.outputShape=t;for(var a="",s=0;s<=1;s++)for(var o=0;o<=1;o++){var l=2*s+o;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+o+" < "+t[2]+") {\n            localCoords[2] += "+o+";\n            if(localCoords[1] + "+s+" < "+t[1]+") {\n              localCoords[1] += "+s+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n    \n              flatIndex /= 4;\n              r = flatIndex / "+i+";\n              c = imod(flatIndex, "+i+");\n              uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+r+".0);\n              values = "+n.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Si(t)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n        \n        "+a+"\n\n        "+n.output+" = result;\n      }\n    "},ca=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI;this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+t+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+(n?r+".0":"1.0")+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},pa=function(){function t(t,e){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.valueLoc&&(e.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(e.valueLoc,t)}},t}(),ha=function(t){this.variableNames=["A"];var e=wi(),n=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+e.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},ma=function(t){this.variableNames=["A"];var e=wi(),n=t[0],r=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n            vec4 values = "+e.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+e.output+" = result;\n      }\n    "},da=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var i=Ai(this.rank),a=function(t,e){var n=t.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<t.length;a++)i.push(a===e?"int(getIndices("+r[a]+"))":""+r[a]);return i.join()}(t,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},fa=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=Ai(e.length),i=Ai(n.length);this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+(this.sliceDim>1?"strides[j]":"strides")+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function ga(t,e){return[e,t]}function ya(t,e){return t*e}function va(t,e,n){var r=function(t,e){if(t%e!=0)throw new Error("unpackedSize ("+t+") must be a multiple of "+e);return t/e}(t.length,n);if(e.length<r)throw new Error("matrix length ("+e.length+") must be >= "+r);for(var i=0,a=0;a<t.length;a+=n)e[i++]=t[a]}function ba(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function _a(t,e){var n=ba(t,e);return n[0]*n[1]*4}function wa(t,e,n,r,i){var a=n*r;if(i.length<a)throw new Error("matrix length ("+i.length+") must be >= "+a);for(var s=r%2==1,o=n%2==1,l=Math.floor(r/2),u=Math.floor(n/2),c=Math.ceil(r/2),p=c*Math.ceil(n/2),h=g(n)*g(r),m=0;m<e;m++){for(var d=m*n*r,f=m*h,y=s?4:0,v=r+(s?1:0),b=f,_=d,w=d+r,x=0;x<u;++x){for(var C=0;C<l;++C)i[_++]=t[b++],i[_++]=t[b++],i[w++]=t[b++],i[w++]=t[b++];b+=y,_+=v,w+=v}if(s){b=f+4*(c-1);var S=d+r-1;for(y=4*c,v=2*r,x=0;x<u;++x)i[S]=t[b],i[S+r]=t[b+2],b+=y,S+=v}if(o){for(b=f+4*(p-c),S=d+(n-1)*r,C=0;C<l;++C)i[S++]=t[b++],i[S++]=t[b++],b+=2;s&&(i[d+n*r-1]=t[b])}}return i}function xa(t,e){var n=wi();return Wt(t,e,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Ca(t,e){return Qt(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Sa(t,e){return Zt(t,e,new Uint16Array([0,1,2,2,1,3]))}function Ea(t,e){var n,r,i,a,s,o,l,c,p=t;return 2===u.getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,i=p.RGBA16F,a=p.RGBA32F,s=p.RED,o=4,l=1,c=p.HALF_FLOAT):(n=t.RGBA,r=t.RGBA,i=t.RGBA,a=p.RGBA,s=t.RGBA,o=4,l=4,c=null!=e?e.HALF_FLOAT_OES:null),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:o,defaultNumChannels:l,textureTypeHalfFloat:c}}function ka(t,e,n,r,i,a,s){te(n,r);var o=Jt(t,e),l=t.TEXTURE_2D;return Pt(t,e,function(){return t.bindTexture(l,o)}),Pt(t,e,function(){return t.texParameteri(l,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),Pt(t,e,function(){return t.texParameteri(l,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),Pt(t,e,function(){return t.texParameteri(l,t.TEXTURE_MIN_FILTER,t.NEAREST)}),Pt(t,e,function(){return t.texParameteri(l,t.TEXTURE_MAG_FILTER,t.NEAREST)}),Pt(t,e,function(){return t.texImage2D(l,0,i,n,r,0,a,s,null)}),Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)}),o}function Aa(t,e,n,r,i){var a=ga(n,r);return ka(t,e,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,t.FLOAT)}function Ta(t,e,n,r,i){var a=ga(n,r);return ka(t,e,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function Ia(t,e,n,r,i){var a=ga(n,r);return ka(t,e,a[0],a[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function Na(t,e,n,r,i){var a=ba(n,r);return ka(t,e,a[0],a[1],i.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function Ra(t,e,n,r,i){var a=ba(n,r);return ka(t,e,a[0],a[1],i.internalFormatPackedHalfFloat,t.RGBA,i.textureTypeHalfFloat)}function Da(t,e,n,r){return Pt(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),ne(t,e,n,"clipSpacePos",r,3,20,0)&&ne(t,e,n,"uv",r,2,20,12)}function Oa(t,e,n,r,i,a,s){Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)});var o=new Float32Array(r*i*4);o.set(a),Pt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,s.internalFormatPackedFloat,r,i,0,t.RGBA,t.FLOAT,o)}),Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function Ma(t,e,n,r){Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),r.data instanceof Uint8Array?Pt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)}):Pt(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}),Pt(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function Fa(t,e,n,r,i){var a=t.createBuffer();Pt(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,a)});var s=4*ya(n*r,i.downloadUnpackNumChannels);return Pt(t,e,function(){return t.bufferData(t.PIXEL_PACK_BUFFER,s,t.STREAM_READ)}),Pt(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),Pt(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)}),a}function La(t,e,n,r,i){var a=t,s=new Float32Array(ya(n*r,i.downloadUnpackNumChannels));a.bindBuffer(a.PIXEL_PACK_BUFFER,e),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,s),a.bindBuffer(a.PIXEL_PACK_BUFFER,null);var o=new Float32Array(n*r);return va(s,o,i.downloadUnpackNumChannels),o}function Pa(t,e,n,r,i){var a=ga(n,r),s=a[0],o=a[1],l=new Float32Array(ya(n*r,i.downloadUnpackNumChannels));Pt(t,e,function(){return t.readPixels(0,0,s,o,i.downloadTextureFormat,t.FLOAT,l)});var u=new Float32Array(n*r);return va(l,u,i.downloadUnpackNumChannels),u}function za(t,e,n,r,i){var a=ga(n,r),s=a[0],o=a[1],l=new Uint8Array(ya(n*r,4));return Pt(t,e,function(){return t.readPixels(0,0,s,o,i.downloadTextureFormat,t.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function Ba(t,e,n,r,i,a,s,o){var l=t,u=new Float32Array(_a(a,s));l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null);var c=new Float32Array(x([n,r,i]));return wa(u,n,r,i,c),c}function Va(t,e,n,r,i,a,s,o){var l=ba(a,s),u=l[0],c=l[1],p=new Float32Array(_a(a,s));Pt(t,e,function(){return t.readPixels(0,0,u,c,t.RGBA,t.FLOAT,p)});var h=new Float32Array(x([n,r,i]));return wa(p,n,r,i,h)}!function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(ia||(ia={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(aa||(aa={}));var Ua=Object.freeze({createVertexShader:xa,createVertexBuffer:Ca,createIndexBuffer:Sa,getTextureConfig:Ea,createFloat32MatrixTexture:Aa,createFloat16MatrixTexture:Ta,createUnsignedBytesMatrixTexture:Ia,createPackedMatrixTexture:Na,createFloat16PackedMatrixTexture:Ra,bindVertexProgramAttributeStreams:Da,uploadDenseMatrixToTexture:Oa,uploadPixelDataToTexture:Ma,createBufferFromOutputTexture:Fa,downloadFloat32MatrixFromBuffer:La,downloadFloat32MatrixFromOutputTexture:Pa,downloadByteEncodedFloatMatrixFromOutputTexture:za,downloadPackedMatrixFromBuffer:Ba,downloadMatrixFromPackedOutputTexture:Va}),ja=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var e=u.getNumber("WEBGL_VERSION");null!=t?(this.gl=t,Ft(e,t)):this.gl=Lt(e),1===u.getNumber("WEBGL_VERSION")?(this.textureFloatExtension=jt(this.gl,this.debug,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),u.getBool("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=jt(this.gl,this.debug,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=jt(this.gl,this.debug,"EXT_color_buffer_float"),this.vertexBuffer=Ca(this.gl,this.debug),this.indexBuffer=Sa(this.gl,this.debug),this.framebuffer=ee(this.gl,this.debug),this.textureConfig=Ea(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return u.getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Pt(e,this.debug,function(){return e.finish()}),Pt(e,this.debug,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Pt(e,this.debug,function(){return e.deleteFramebuffer(t.framebuffer)}),Pt(e,this.debug,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),Pt(e,this.debug,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),Pt(e,this.debug,function(){return e.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),Aa(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),Ta(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),Ia(this.gl,this.debug,t,e)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),Ma(this.gl,this.debug,t,e)},t.prototype.uploadDenseMatrixToTexture=function(t,e,n,r){this.throwIfDisposed(),Oa(this.gl,this.debug,t,e,n,r,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(t,e){return this.throwIfDisposed(),Ra(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),Na(this.gl,this.debug,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(le(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Pt(this.gl,this.debug,function(){return e.gl.deleteTexture(t)})},t.prototype.downloadFloat32MatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return Pa(r.gl,r.debug,e,n,r.textureConfig)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return za(r.gl,r.debug,e,n,r.textureConfig)})},t.prototype.downloadPackedMatrixFromBuffer=function(t,e,n,r,i,a){return Ba(this.gl,t,e,n,r,i,a)},t.prototype.downloadFloat32MatrixFromBuffer=function(t,e,n){return La(this.gl,t,e,n,this.textureConfig)},t.prototype.createBufferFromTexture=function(t,e,n){this.bindTextureToFrameBuffer(t);var r=Fa(this.gl,this.debug,e,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},t.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},t.prototype.createFence=function(t){var e,n,r=this;if(u.getBool("WEBGL_FENCE_API_ENABLED")){var i=t,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var t=i.clientWaitSync(a,0,0);return t===i.ALREADY_SIGNALED||t===i.CONDITION_SATISFIED},e=a}else u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(e,u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:e,isFencePassed:n}},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n,r,i,a){var s=this;return this.downloadMatrixDriver(t,function(){return Va(s.gl,s.debug,e,n,r,i,a)})},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=Ht(e,this.debug,t),r=xa(e,this.debug),i=Kt(e,this.debug);return Pt(e,this.debug,function(){return e.attachShader(i,r)}),Pt(e,this.debug,function(){return e.attachShader(i,n)}),Yt(e,this.debug,i),this.debug&&Xt(e,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=Da(e,this.debug,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&Pt(this.gl,this.debug,function(){return e.gl.deleteProgram(t)})},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&Xt(this.gl,this.debug,this.program),Pt(this.gl,this.debug,function(){return e.gl.useProgram(t)})},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?ie(this.gl,this.debug,t,e):ae(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),Pt(this.gl,this.debug,function(){return n.gl.getAttribLocation(t,e)})},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),se(this.gl,this.debug,0,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=ba(e,n);this.setOutputMatrixTextureDriver(t,r[0],r[1])},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&Xt(this.gl,this.debug,this.program),ue(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Pt(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Pt(this.gl,this.debug,function(){return t.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=jt(this.gl,this.debug,2===u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(2===u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(2!==u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(t){return o(this,void 0,void 0,function(){var e=this;return l(this,function(n){switch(n.label){case 0:return[4,T(function(){return e.disposed||e.isQueryAvailable(t,u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(t,u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollFence=function(t){var e=this;return new Promise(function(n){e.addItemToPoll(function(){return t.isFencePassed()},function(){return n()})})},t.prototype.pollItems=function(){for(var t=function(t){for(var e=0;e<t.length&&t[e]();++e);return e-1}(this.itemsToPoll.map(function(t){return t.isDoneFn})),e=0;e<=t;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||T(function(){return n.pollItems(),0===n.itemsToPoll.length})},t.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),oe(this.gl,this.debug,t,this.framebuffer),this.debug&&ue(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(oe(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&ue(this.gl)):le(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.bindTextureToFrameBuffer(t);var n=e();return this.unbindTextureToFrameBuffer(),n},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;oe(r,this.debug,t,this.framebuffer),this.debug&&ue(r),this.outputTexture=t,Pt(r,this.debug,function(){return r.viewport(0,0,e,n)}),Pt(r,this.debug,function(){return r.scissor(0,0,e,n)})},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var i=this;this.throwIfDisposed(),Pt(this.gl,this.debug,function(){return i.gl.scissor(t,e,n,r)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}();function Wa(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(t,n){var r=t.logicalShape,i=e[n],a=i.shape;if(!C(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!t.isUniform||!i.isUniform){var s=t.texShape,o=i.isUniform?null:i.texData.texShape;if(!C(s,o))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+o+" must match")}})}var Ha=function(t,e,n){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t;var r=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,o=n.outWidth,l=n.dilationWidth,u=n.dilationHeight,c=s.left,p=s.top,h=r*n.filterWidth,m=wi();this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            int blockIndex = rc.y + col;\n            int pos = rc.x + row;\n\n            if(blockIndex >= "+t[1]+" || pos >= "+t[0]+") continue;\n\n            int offsetY = int(blockIndex / ("+o+")) * "+a+" - "+p+";\n            int d0 = offsetY + "+u+" * (pos / "+h+");\n\n            if(d0 >= "+e[0]+" || d0 < 0) continue;\n\n            int offsetX = int(mod(float(blockIndex), "+o+".) * "+i+". - "+c+".);\n            int d1 = offsetX + "+l+" * (int(mod(float(pos), "+h+".) / "+r+".));\n\n            if(d1 >= "+e[1]+" || d1 < 0) continue;\n\n            vec2 innerDims = vec2(d1, int(mod(float(pos), "+r+".)));\n            result[row * 2 + col] = getChannel(getA(d0, int(innerDims.x),\n                                              int(innerDims.y)), innerDims);\n          }\n        }\n\n        "+m.output+" = result;\n      }\n    "},qa=function(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[];var a=e,s=t[3]-1;this.outputShape=t;var o="float("+n+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+(.5===i?"inversesqrt("+o+")":1===i?"1.0/("+o+")":"exp(log("+o+") * float(-"+i+"));")+";\n        setOutput(val);\n      }\n    "},$a=function(t,e,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Ga=function(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[],this.usesPackedTextures=!0;var a=e,s=t[3]-1;this.outputShape=t;var o="float("+n+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+(.5===i?"inversesqrt("+o+")":1===i?"1.0/("+o+")":"exp(log("+o+") * float(-"+i+"));")+";\n        setOutput(result);\n      }\n    "},Ka=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.effectiveFilterHeight,n=t.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+";\n          wR += "+t.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+(e*n-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ya=function(t,e,n,r,i,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),this.variableNames=["matrixA","matrixB"],this.usesPackedTextures=!0,this.outputShape=e;var s=Math.ceil((n?t[1]:t[2])/2),o=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",u=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],c=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],p="",h="";a&&(p="vec4 activation(vec4 x) {\n        "+a+"\n      }",h="result = activation(result);");var m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),this.userCode="\n      "+p+"\n\n      const float sharedDimension = "+s+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+s+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+o+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          result += ("+u[0]+" * "+c[0]+") + ("+u[1]+" * "+c[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},Xa=function(){function t(t,e,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}},t}(),Qa=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},Za=function(t){this.variableNames=["A"],this.isPackShader=!0,this.outputShape=t;var e=t.length;if(0===e)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=_i("rc",e),r=Ai(e),i=function(t,e,n){if(1===t)return"rc > "+e[0];for(var r="",i=t-2;i<t;i++)r+=n[i]+" >= "+e[i],i<t-1&&(r+="||");return r}(e,t,n),a=function(t,e,n,r){if(1===t)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+e+";\n    bool rEdge = rp1 >= "+n+";\n  "}(e,t[t.length-1],t[t.length-2],n),s=function(t,e){var n=t.length,r=function(t,e){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var a=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),s=2;s<t;s++)a=e[e.length-1-s]+","+a;n.push(a)}return n}(n,e);return 1===n?"getA(rc),\n            rc + 1 >= "+t[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(t,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+s+"));\n          }\n        }\n      "}},Ja=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});var r=t.length,i=Ai(r),a=e.map(function(t){return t[0]}).join(","),s=e.map(function(e,n){return e[0]+t[n]}).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+a+");\n      "+i+" end = "+i+"("+s+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+o+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+s+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ts=function(t,e,n){this.variableNames=["x"],this.usesPackedTextures=!0,this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});for(var r=t.length,i=Ai(r),a=e.map(function(t){return t[0]}).join(","),s=e.map(function(e,n){return e[0]+t[n]}).join(","),o=_i("rc",r),l=_i("source",r),u=o[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+l.slice(-2).join()+")",p=[i+" rc = outputLoc;",o[r-1]+" += 1;\n       if("+u+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+o[r-2]+" += 1;\n       if("+o[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+o[r-1]+" += 1;\n         if("+u+") {"],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",m="",d=0,f=1===r?2:4;d<f;d++)m+="\n        "+p[d]+"\n        if ("+h+") {\n          result["+d+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+d+"] = getChannel(getX("+l.join()+"), "+c+");\n        }\n      ";this.userCode="\n      const "+i+" start = "+i+"("+a+");\n      const "+i+" end = "+i+"("+s+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+(m+=1===r?"} ":"}}")+"\n        setOutput(result);\n      }\n    "},es=function(t,e,n){if(this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,s=t.dilationHeight,o=t.dilationWidth,l=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,p=t.padInfo.left;this.outputShape=t.outShape;var h="avg"===e,m="0.0";if(h||(m="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+a+");\n        const ivec2 pads = ivec2("+c+", "+p+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+s+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+o+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+u+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var d=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(d="avgValue / count");var f=4*Math.floor(r/4),g=r%4,y="\n      if ("+h+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+a+");\n      const ivec2 pads = ivec2("+c+", "+p+");\n      const float initializationValue = "+m+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+m+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+s+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC += 4) {\n            int xC = xCCorner + wC * "+o+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+o+", d),\n              getValue(batch, xR, xC + 2 * "+o+", d),\n              getValue(batch, xR, xC + 3 * "+o+", d)\n            );\n\n            "+y+"\n          }\n\n          int xC = xCCorner + "+f+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+y+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+o+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+y+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+o+", d),\n              getValue(batch, xR, xC + 2 * "+o+", d),\n              initializationValue\n            );\n\n            "+y+"\n          }\n        }\n        setOutput("+d+");\n      }\n    "}},ns=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,i=t.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var s="0.0",o="";"prod"===e?s="1.0":"min"===e?(s="1.0 / 1e-20",o="min"):"max"===e&&(s="-1.0 / 1e-20",o="max");var l=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?l="sumValue":"prod"===e?l="prodValue":"all"===e?l="allValue":"any"===e&&(l="anyValue");var u=4*Math.floor(n/4),c=n%4,p="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===e)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+o+"(values, minMaxValue);\n      }\n    ",h="vec4";"all"===e?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===e&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var m="";i%n>0&&(m="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+m+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+s+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+p+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(2===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+p+"\n        } else if ("+(3===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+p+"\n        }\n        setOutput("+l+");\n      }\n    "},rs=function(t,e){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+xi(["r","c","d"],e)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Si(t)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+t[1]+";\n        int cols = "+t[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},is=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],a=r[2],s=t.shape,o=s[1],l=s[2],u=[n&&o>1?i-1:i,n&&l>1?a-1:a],c=[n&&o>1?o-1:o,n&&l>1?l-1:l],p=u[0]/c[0],h=u[1]/c[1],m=1/p,d=1/h,f=2*Math.ceil(m)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+m+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+f+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+o+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},as=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[1],a=t[2];this.outputShape=[t[0],e,n,t[3]];var s=[r&&e>1?i-1:i,r&&n>1?a-1:a],o=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+s[0]/o[0]+",\n          "+s[1]/o[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ss=function(t,e,n,r){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=[];var i=t[1],a=t[2],s=t[3];this.outputShape=[t[0],e,n,s];var o=[r&&e>1?i-1:i,r&&n>1?a-1:a],l=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+o[0]/l[0]+",\n          "+o[1]/l[1]+",\n          "+o[1]/l[1]+");\n      const vec3 inputShapeRC = vec3("+i+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n        \n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+"; \n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},os=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],a=r[2],s=t.shape,o=s[1],l=s[2],u=[n&&o>1?i-1:i,n&&l>1?a-1:a],c=[n&&o>1?o-1:o,n&&l>1?l-1:l],p=u[0]/c[0],h=u[1]/c[1],m=1/p,d=1/h,f=2*Math.ceil(m)+2,g=2*Math.ceil(d)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+p+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+m+");\n        const float invWidthScale = float("+d+");\n\n        const int winHeight = int("+f+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+o+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},ls=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[1],a=t[2];this.outputShape=[t[0],e,n,t[3]];var s=[r&&e>1?i-1:i,r&&n>1?a-1:a],o=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+s[0]/o[0]+",\n          "+s[1]/o[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+(r?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},us=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,1!==n){var r=t.map(function(n,r){return function(n){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=Ai(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      "},cs=function(t,e){this.variableNames=["x"],this.usesPackedTextures=!0;var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=t;var r=_i("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],s=Ai(n);function o(n){var r=t.map(function(r,i){return function(n,r){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+t[0]+" - rc - 1),\n            "+t[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+t[0]+" - (rc  + 1) - 1),\n                "+t[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+s+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+o(r.slice())+";\n          if("+i+"){\n            result.g = "+function(t){return t[n-1]="("+t[n-1]+" + 1)",o(t)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(t){return t[n-2]="("+t[n-2]+" + 1)",o(t)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(t){return t[n-1]="("+t[n-1]+" + 1)",t[n-2]="("+t[n-2]+" + 1)",o(t)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},ps=function(t,e,n,r,i,a,s){void 0===s&&(s=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var o=Ai(i.length),l=Ai(a.length),u="";1===n?u="i":2===n&&(u="i, j");var c="";1===r?c="i":2===r&&(c="i, coords[1]"),this.userCode="\n        "+o+" strides = "+o+"("+i+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+t+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round(getIndices("+u+"));\n              flattenedIndex += index * "+(e>1?"strides[j]":"strides")+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates("+c+");\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},hs=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,i=t.inSize,a=t.numSegments,s=a*Math.ceil(i/n);this.outputShape=[r,s];var o=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ",c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var p="";i%n>0&&(p="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+p+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+o+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+u+"\n        }\n\n        int inIdx = inOffset + "+o+";\n        if ("+(1===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+u+"\n        } else if ("+(2===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+u+"\n        } else if ("+(3===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+u+"\n        }\n        setOutput(sumValue);\n      }\n    "},ms=function(t,e,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],o=[],l=0;l<e.length;l++)o.push(""+a[l]),l<t&&s.push(""+a[l]);r=s.join(),i=o.join()}var u=Ai(n);this.userCode="\n      void main() {\n        "+u+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},ds=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e,n=Ai(this.rank),r="uniform int start["+this.rank+"];",i=function(t){if(1===t)return"sourceLoc";if(t<=6)return fs.slice(0,t).map(function(t){return"sourceLoc."+t}).join(",");throw Error("Slicing for rank "+t+" is not yet supported")}(this.rank);e="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+t.map(function(t,e){return"sourceLoc."+fs[e]+" = start["+e+"] + coords."+fs[e]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+e+"\n        setOutput(getSource("+i+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),fs=["x","y","z","w","u","v"],gs=function(){function t(t){this.variableNames=["source"],this.usesPackedTextures=!0,this.outputShape=t,this.rank=t.length;var e=Ai(this.rank),n=_i("coords",this.rank),r=_i("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+i+")",s="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+t[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",o=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+t[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+t[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",l=this.rank<=4?"sourceLoc = coords +\n            "+e+"("+t.map(function(t,e){return"start["+e+"]"}).join()+");":t.map(function(t,e){return r[e]+" = "+n[e]+" + start["+e+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+e+" coords = getOutputCoords();\n        "+e+" sourceLoc;\n        "+l+" \n        vec4 result = vec4(0.);\n        "+s+"\n        "+o+"\n        setOutput(result);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}},t}(),ys=function(t,e,n,r){this.variableNames=["x"];var i=n.filter(function(t,e){return-1===r.indexOf(e)});this.outputShape=i;var a=n.length,s=Ai(n.length),o=Ai(i.length),l="";if(1===a)l="coords * strides + begin";else{var u=0;l=n.map(function(t,e){return-1===r.indexOf(e)?(u++,1===i.length?"coords * strides["+e+"] + begin["+e+"]":"coords["+(u-1)+"] * strides["+e+"] + begin["+e+"]"):"begin["+e+"]"}).join(",")}this.userCode="\n      "+s+" begin = "+s+"("+t+");\n      "+s+" strides = "+s+"("+e+");\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+l+"));\n      }\n    "},vs=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e,n){var r,i=bs(e,n),a=_s(t,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return this.numUsedTextures++,this.log(),i===aa.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===aa.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===aa.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===aa.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===aa.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(r),r},t.prototype.releaseTexture=function(t,e,n,r){if(null!=this.freeTextures){var i=_s(e,bs(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],s=a.indexOf(t);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(s,1),this.log()}},t.prototype.log=function(){this.logEnabled&&console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+(this.numFreeTextures+this.numUsedTextures)+")")},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function bs(t,e){if(t===ia.UPLOAD)return aa.PACKED_2X2_FLOAT32;if(t===ia.RENDER||null==t)return e?u.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?aa.PACKED_2X2_FLOAT32:aa.PACKED_2X2_FLOAT16:u.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?aa.UNPACKED_FLOAT32:aa.UNPACKED_FLOAT16;if(t===ia.DOWNLOAD||t===ia.PIXELS)return aa.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function _s(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}var ws=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var i=Ai(this.rank),a=function(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<t.length;i++)r.push("imod("+n[i]+", "+t[i]+")");return r.join()}(t);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},xs=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var i=Ai(this.rank),a=function(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),i=0;i<t.length;i++)r[t[i]]=n[i];return r.join()}(e);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},Cs=function(t,e){this.variableNames=["A"],this.usesPackedTextures=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=Ai(this.rank),a=bi("rc",this.rank),s=new Array(this.rank);for(r=0;r<e.length;r++)s[e[r]]=a[r];var o="vec2("+s.slice(-2).join()+")",l="++"+a[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+s.join()+"), "+o+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+u+";\n      if("+l+") {\n        result[1] = "+u+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+u+";\n        if("+l+") {\n          result[3] = "+u+";\n        }\n      }  \n      setOutput(result);\n    }\n    "},Ss=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Es="if (isnan(x)) return x;",ks=Es+"\n  return (x < 0.0) ? 0.0 : x;\n",As="return exp(x);",Ts="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Is=function(t,e){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ns=function(t){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t;var e=t.length,n=_i("rc",e),r=Ai(e),i=function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(e,n),a=n.slice(-2),s=e<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+s+"));\n      }\n    "},Rs={},Ds=600,Os=function(){function t(t){if(this.gpgpu=t,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.warnedAboutMemory=!1,this.disposed=!1,!u.getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var e=Lt(u.getNumber("WEBGL_VERSION"));this.binaryCache=(n=u.getNumber("WEBGL_VERSION"))in Rs?Rs[n]:(Rs[n]={},Rs[n]),this.gpgpu=new ja(e),this.canvas=e.canvas,this.gpgpuCreatedLocally=!0}else this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=t.gl.canvas;var n;this.textureManager=new vs(this.gpgpu),this.numMBBeforeWarning=null==u.global.screen?1024:u.global.screen.height*u.global.screen.width*window.devicePixelRatio*Ds/1024/1024,this.texData=new Zn(this,Rt)}return t.prototype.register=function(t,e,n){if(this.texData.has(t))throw new Error("Data buffer is already registered");this.texData.set(t,{shape:e,dtype:n})},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=[t.height,t.width],r=[t.height,t.width,e];if(u.getBool("IS_BROWSER")){if(!(t instanceof HTMLVideoElement||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t.data instanceof Uint8Array))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);if(t instanceof HTMLVideoElement){if(null==this.fromPixels2DContext){if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.browser.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixels2DContext=document.createElement("canvas").getContext("2d")}this.fromPixels2DContext.canvas.width=t.width,this.fromPixels2DContext.canvas.height=t.height,this.fromPixels2DContext.drawImage(t,0,0,t.width,t.height),t=this.fromPixels2DContext.canvas}}var i,a,s=this.makeTensorHandle(n,"int32");if(this.texData.get(s.dataId).usage=ia.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(s.dataId),t),u.getBool("WEBGL_PACK")){i=new ma(r);var o=this.makePackedTensor(i.outputShape,s.dtype);a=this.compileAndRun(i,[s],o)}else i=new ha(r),a=this.compileAndRun(i,[s]);return this.disposeData(s.dataId),a},t.prototype.makeTensorHandle=function(t,e){var n={};return this.register(n,t,e),{dataId:n,shape:t,dtype:e}},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendWebGL.write(): values can not be null");if(u.getBool("DEBUG"))for(var n=0;n<e.length;n++){var r=e[n];if(!Vt(r))throw Error("The value "+r+" cannot be represented on this device.")}var i=this.texData.get(t);if("complex64"===i.dtype)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.releaseGPUData(t),i.usage=ia.UPLOAD,i.values=e},t.prototype.readSync=function(t){var e=this.texData.get(t),n=e.values,r=e.dtype,i=e.complexTensors,a=e.shape;if(null!=e.slice){var s=new Ss(a,"return x;"),o=this.compileAndRun(s,[{dataId:t,shape:a,dtype:r}]),l=this.readSync(o.dataId);return o.dispose(),l}if(null!=n)return this.convertAndCacheOnCPU(t);if("string"===r)return n;var u,c,p=null!=this.activeTimers;return p&&(u=performance.now()),c="complex64"===r?yr(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(t),p&&(this.downloadWaitMs+=performance.now()-u),this.convertAndCacheOnCPU(t,c)},t.prototype.read=function(t){return o(this,void 0,void 0,function(){var e,n,r,i,a,s,o,c,p,h,m,d,f,g,y,v,b,_,w,C,S,E,k,A,T;return l(this,function(l){switch(l.label){case 0:if(this.pendingRead.has(t))return r=this.pendingRead.get(t),[2,new Promise(function(t){return r.push(t)})];if(i=this.texData.get(t),a=i.texture,s=i.values,o=i.texShape,c=i.isPacked,p=i.shape,h=i.dtype,m=i.complexTensors,null!=i.slice)return d=new Ss(p,"return x;"),f=this.compileAndRun(d,[{dataId:t,shape:p,dtype:h}]),g=this.read(f.dataId),f.dispose(),[2,g];if(null!=s)return[2,this.convertAndCacheOnCPU(t)];if(this.pendingRead.set(t,[]),!u.getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===u.getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return y=null,"complex64"===h?[3,2]:(v=o[1],b=o[0],c&&(e=ba(o[0],o[1]),v=e[0],b=e[1]),u.get("WEBGL_BUFFER_SUPPORTED")&&(y=this.gpgpu.createBufferFromTexture(a,b,v)),[4,this.gpgpu.createAndWaitForFence()]);case 1:l.sent(),l.label=2;case 2:return"complex64"!==h?[3,4]:[4,Promise.all([m.real.data(),m.imag.data()])];case 3:return w=l.sent(),_=yr(w[0],w[1]),[3,5];case 4:null==y?_=this.getValuesFromTexture(t):(C=x(p),c?(S=me(p),E=1,k=1,p.length&&(n=de(p),E=n[0],k=n[1]),_=this.gpgpu.downloadPackedMatrixFromBuffer(y,S,E,k,o[0],o[1]).subarray(0,C)):_=this.gpgpu.downloadFloat32MatrixFromBuffer(y,o[0],o[1]).subarray(0,C)),l.label=5;case 5:return A=this.convertAndCacheOnCPU(t,_),T=this.pendingRead.get(t),this.pendingRead.delete(t),T.forEach(function(t){return t(A)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)),[2,A]}})})},t.prototype.getValuesFromTexture=function(t){var e,n=this,r=this.texData.get(t),i=r.shape,a=r.dtype,s=r.texture,o=r.texShape,l=x(i);if(u.getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){if(this.texData.get(t).isPacked){var c=me(i),p=1,h=1;return i.length&&(p=(e=de(i))[0],h=e[1]),this.gpgpu.downloadMatrixFromPackedTexture(s,c,p,h,o[0],o[1]).subarray(0,l)}return this.gpgpu.downloadFloat32MatrixFromOutputTexture(s,o[0],o[1]).subarray(0,l)}var m=this.makeTensorHandle(i,"float32");m.size=x(i),this.texData.get(m.dataId).usage=ia.DOWNLOAD;var d=Fe(function(){var e=new oa(i);return n.compileAndRun(e,[{shape:i,dtype:a,dataId:t}],m,null)}),f=this.texData.get(d.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(f.texture,f.texShape[0],f.texShape[1]).subarray(0,l);return this.disposeData(m.dataId),g},t.prototype.time=function(t){return o(this,void 0,void 0,function(){var e,n,r,i,a,s,o;return l(this,function(l){switch(l.label){case 0:return e=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,t(),i=w(this.activeTimers.map(function(t){return t.query})).filter(function(t){return null!=t}),a=w(this.activeTimers.map(function(t){return t.name})).filter(function(t){return null!=t}),this.activeTimers=e,r&&(this.programTimersStack=null),[4,Promise.all(i)];case 1:return s=l.sent(),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:y(s),getExtraProfileInfo:function(){return s.map(function(t,e){return{name:a[e],ms:t}}).map(function(t){return t.name+": "+t.ms}).join(", ")},wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},t.prototype.endTimer=function(t){return u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),t):(t.endMs=performance.now(),t)},t.prototype.getQueryTime=function(t){return o(this,void 0,void 0,function(){var e;return l(this,function(n){return u.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(e=t).endMs-e.startMs]})})},t.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t))if(this.pendingRead.has(t))this.pendingDisposal.add(t);else if(this.texData.has(t)){this.releaseGPUData(t);var e=this.texData.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.texData.delete(t)}},t.prototype.releaseGPUData=function(t){var e=this.texData.get(t),n=e.texture,r=e.dtype,i=e.texShape,a=e.usage,s=e.isPacked,o=e.slice,l=o&&o.origDataId||t,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,s)));var c=this.texData.get(t);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},t.prototype.getCPUBackend=function(){return u.getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Rt.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(t,e){var n=this;return void 0===e&&(e=128),null!=this.getCPUBackend()&&t.every(function(t){return null==n.texData.get(t.dataId).texture&&t.size<e})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.getCanvas=function(){return this.canvas},t.prototype.complex=function(t,e){var n=this.makeOutputArray(t.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Rt.keep(t.clone()),imag:Rt.keep(e.clone())},n},t.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},t.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},t.prototype.slice=function(t,e,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,e,n);if(0===x(n))return Pn([],n,t.dtype);var r=this.texData.get(t.dataId).isPacked,i=vn(t.shape,e,n);if(r||!i){var a=u.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gs(n):new ds(n),s=a.getCustomSetupFunc(e);return this.compileAndRun(a,[t],null,s)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,e,n)},t.prototype.shallowSlice=function(t,e,n){var r=this.texData.get(t.dataId),i=ht.make(n,{},t.dtype,this),a=this.texData.get(i.dataId);Object.assign(a,r),a.shape=n,a.dtype=t.dtype;var s=bn(e,t.strides);r.slice&&(s+=r.slice.flatOffset),a.slice={flatOffset:s,origDataId:r.slice&&r.slice.origDataId||t.dataId};var o=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,o+1),i},t.prototype.stridedSlice=function(t,e,n,r,i,a,s,o,l){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,e,n,r,i,a,s,o,l);var u=fn(t.shape,e,n,r,i,a,s,o,l),c=u[0],p=u[1],h=u[2],m=p.filter(function(t,e){return-1===h.indexOf(e)});if(m.some(function(t){return 0===t}))return Pn([],m);var d=new ys(c,r,p,h);return this.compileAndRun(d,[t])},t.prototype.reverse=function(t,e){var n=u.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cs(t.shape,e):new us(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.concat=function(t,e){if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,e);if(1===t.length)return t[0];if(t.length>u.getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(t.length/2),r=this.concat(t.slice(0,n),e),i=this.concat(t.slice(n),e);return this.concat([r,i],e)}if(u.getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var a=new Hi(t.map(function(t){return t.shape}),e);return this.compileAndRun(a,t)}var s=cn(t.map(function(t){return t.shape}),e),o=t.map(function(t){return t.as2D(-1,x(t.shape.slice(e)))}),l=new Wi(o.map(function(t){return t.shape}));return this.compileAndRun(l,o).reshape(s)},t.prototype.neg=function(t){var e=new Ss(t.shape,"return -x;");return this.compileAndRun(e,[t])},t.prototype.batchMatMul=function(t,e,n,r){var i=n?t.shape[2]:t.shape[1],a=r?e.shape[1]:e.shape[2],s=n?t.shape[1]:t.shape[2],o=t.shape[0];if((1===i||1===a)&&s>1e3){n&&(t=t.transpose([0,2,1])),r&&(e=e.transpose([0,2,1]));var l=1===a?t:t.as3D(o,s,1),u=1===a?2:1,c=1===a?e.as3D(o,1,s):e;return this.multiply(l,c).sum(u,!0)}var p=xt(t.dtype,e.dtype),h=new Ya(t.shape,[o,i,a],n,r),m=this.makePackedTensor(h.outputShape,p);return this.compileAndRun(h,[t,e],m)},t.prototype.fusedBatchMatMul=function(t,e,n,r,i,a){var s=n?t.shape[2]:t.shape[1],o=r?e.shape[1]:e.shape[2],l=t.shape[0],u=xt(t.dtype,e.dtype),c=new Ya(t.shape,[l,s,o],n,r,!!i,a?function(t,e){if(void 0===e&&(e=!1),"linear"===a)return"return x;";if("relu"===a)return e?Ts:ks;throw new Error("Activation "+a+" has not been implemented for the WebGL backend.")}(0,!0):null),p=this.makePackedTensor(c.outputShape,u),h=[t,e];return i&&h.push(i),this.compileAndRun(c,h,p)},t.prototype.multiply=function(t,e){if("complex64"===t.dtype){var n=this.texData.get(t.dataId),r=this.texData.get(e.dataId),i=new Mi("return areal * breal - aimag * bimag;",t.shape,e.shape),a=new Mi("return areal * bimag + aimag * breal;",t.shape,e.shape),s=[this.makeComplexComponentTensorHandle(t,n.complexTensors.real),this.makeComplexComponentTensorHandle(t,n.complexTensors.imag),this.makeComplexComponentTensorHandle(e,r.complexTensors.real),this.makeComplexComponentTensorHandle(e,r.complexTensors.imag)],o=this.compileAndRun(i,s),l=this.compileAndRun(a,s),c=this.complex(o,l);return o.dispose(),l.dispose(),c}if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.multiply(t,e);if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,Pi,t.dtype);var p=new zi(Pi,t.shape,e.shape),h=this.makeOutputArray(p.outputShape,t.dtype);return this.compileAndRun(p,[t,e],h)},t.prototype.batchNormalization=function(t,e,n,r,i,a){var s=[t,e,n],o=null;null!=a&&(o=a.shape,s.push(a));var l=null;if(null!=i&&(l=i.shape,s.push(i)),u.getBool("WEBGL_PACK_NORMALIZATION")){var c=new Oi(t.shape,e.shape,n.shape,o,l,r);return this.compileAndRun(c,s)}var p=new Di(t.shape,e.shape,n.shape,o,l,r);return this.compileAndRun(p,s)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){var a=u.getBool("WEBGL_PACK_NORMALIZATION")?new Ga(t.shape,e,n,r,i):new qa(t.shape,e,n,r,i);return this.compileAndRun(a,[t])},t.prototype.LRNGrad=function(t,e,n,r,i,a,s){var o=new $a(e.shape,r,i,a,s);return this.compileAndRun(o,[e,n,t])},t.prototype.tile=function(t,e){var n=new ws(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.pad=function(t,e,n){var r=u.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ts(t.shape,e,n):new Ja(t.shape,e,n);return this.compileAndRun(r,[t])},t.prototype.transpose=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,e);var n=u.getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Cs(t.shape,e):new xs(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.gather=function(t,e,n){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.gather(t,e,n);var r=new da(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},t.prototype.batchToSpaceND=function(t,e,n){v(t.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=e.reduce(function(t,e){return t*e}),i=Ye(t.shape,e,r),a=Xe(i.length,e.length),s=Qe(t.shape,e,r),o=Ze(n,e.length),l=Je(s,n,e.length);return t.reshape(i).transpose(a).reshape(s).slice(o,l)},t.prototype.spaceToBatchND=function(t,e,n){v(t.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,n);for(var a=1+e.length;a<t.shape.length;++a)i.push([0,0]);var s=t.pad(i),o=Ye(s.shape,e,r,!1),l=Xe(o.length,e.length,!1),u=Qe(s.shape,e,r,!1);return s.reshape(o).transpose(l).reshape(u)},t.prototype.reduce=function(t,e,n){var r=t.shape[0],i=t.shape[1],a=mn(i),s=new ns({windowSize:a,inSize:i,batchSize:r},e),o=s.outputShape,l=this.makeOutputArray([o[0],o[1]],n);return this.compileAndRun(s,[t],l),1===l.shape[1]?l:this.reduce(l,e,n)},t.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],i=t.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=mn(i),s=new vi({windowSize:a,inSize:i,batchSize:r},e,null==n),o=s.outputShape,l=this.makeOutputArray([o[0],o[1]],"int32"),u=[t];return null!=n&&u.push(n),this.compileAndRun(s,u,l),1===l.shape[1]?l:this.argReduce(t,e,l)},t.prototype.argReducePacked=function(t,e,n){void 0===n&&(n=null);var r=null!=n?n.shape:t.shape,i=mn(r[r.length-1]),a=new Ni(r,i,e,null==n),s=this.makePackedTensor(a.outputShape,"int32");return this.compileAndRun(a,null==n?[t]:[t,n],s),s.rank===t.rank?this.argReducePacked(t,e,s):s},t.prototype.sum=function(t,e){an("sum",e,t.rank);var n=nn(t.shape,e),r=n[0],i=x(n[1]),a=t.as2D(-1,i),s=Ct(t.dtype);return this.reduce(a,"sum",s).reshape(r)},t.prototype.prod=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,e);var n=nn(t.shape,e),r=n[0],i=x(n[1]),a=t.as2D(-1,i),s=Ct(t.dtype);return this.reduce(a,"prod",s).reshape(r)},t.prototype.unsortedSegmentSum=function(t,e,n){var r=0,i=sn([r],t.rank),a=t;null!=i&&(a=t.transpose(i),r=ln(1,t.rank)[0]);var s=function(t,e,n){for(var r=[],i=t.length,a=0;a<i;a++)r.push(a!==e?t[a]:n);return r}(a.shape,r,n),o=x([a.shape[r]]),l=a.as2D(-1,o),u=Ct(t.dtype),c=this.segOpCompute(l,"unsortedSegmentSum",e,u,n).reshape(s);return null!=i&&(c=c.transpose(on(i))),c},t.prototype.segOpCompute=function(t,e,n,r,i){var a=t.shape[0],s=t.shape[1],o=function(t,e){var n,r=!1;for(t<=hn?(n=t,r=!0):n=$(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=$(t,n+1);return n}(s,i),l=new hs({windowSize:o,inSize:s,batchSize:a,numSegments:i},e),u=l.outputShape,c=this.makeOutputArray([u[0],u[1]],r);return this.compileAndRun(l,[t,n],c),c.shape[1]===i?c:(n=Yn(0,i).tile([s/o]),this.segOpCompute(c,e,n,r,i))},t.prototype.argMinMaxReduce=function(t,e,n){var r=[e];if(an("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,t.rank),!u.getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var i=nn(t.shape,r),a=i[0],s=x(i[1]),o=t.as2D(-1,s);return this.argReduce(o,n).reshape(a)}return this.argReducePacked(t,n)},t.prototype.argMin=function(t,e){return this.argMinMaxReduce(t,e,"min")},t.prototype.argMax=function(t,e){return this.argMinMaxReduce(t,e,"max")},t.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var i=new na(t.shape,n,r);return this.compileAndRun(i,[t])},t.prototype.equal=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(equal(a, b));\n","bool");var n=new zi("return float(a == b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.notEqual=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(notEqual(a, b));\n","bool");var n=new zi("return float(a != b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.less=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.less(t,e);if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThan(a, b));\n","bool");var n=new zi("return float(a < b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.lessEqual=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new zi("return float(a <= b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greater=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.greater(t,e);if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new zi("return float(a > b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greaterEqual=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new zi("return float(a >= b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalNot=function(t){var e=new Ss(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(e,[t])},t.prototype.logicalAnd=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new zi("return float(a >= 1.0 && b >= 1.0);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalOr=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new zi("return float(a >= 1.0 || b >= 1.0);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.select=function(t,e,n){var r=new ms(t.rank,e.shape,e.rank),i=this.makeOutputArray(r.outputShape,xt(e.dtype,n.dtype));return this.compileAndRun(r,[t,e,n],i)},t.prototype.where=function(t){Ke("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var e=t.dataSync();return fi(t.shape,e)},t.prototype.topk=function(t,e,n){return Sr(t.dataSync(),t.shape,t.dtype,e)},t.prototype.min=function(t,e){an("min",e,t.rank);var n=nn(t.shape,e),r=n[0],i=x(n[1]),a=t.as2D(-1,i);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.minimum(t,e);var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new zi("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.mod=function(t,e){var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new zi("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.max=function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,e);an("max",e,t.rank);var n=nn(t.shape,e),r=n[0],i=x(n[1]),a=t.as2D(-1,i);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.maximum(t,e);var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new zi("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.all=function(t,e){an("all",e,t.rank);var n=nn(t.shape,e),r=n[0],i=x(n[1]),a=t.as2D(-1,i);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(t,e){an("any",e,t.rank);var n=nn(t.shape,e),r=n[0],i=x(n[1]),a=t.as2D(-1,i);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.squaredDifference=function(t,e){var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("return (a - b) * (a - b);",t.shape,e.shape):new zi("return (a - b) * (a - b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.realDivide=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(b.x == 0.0) {\n    result.x = NAN;\n  } else if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(b.y == 0.0) {\n    result.y = NAN;\n  } else if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(b.z == 0.0) {\n    result.z = NAN;\n  } else if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(b.w == 0.0) {\n    result.w = NAN;\n  } else if(a.w == b.w) {\n    result.w = 1.;\n  }\n  \n  return result;\n","float32",!0);var n=new zi("\nif (b == 0.0) {\n  return NAN;\n} \nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t,e],r)},t.prototype.floorDiv=function(t,e){if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new zi("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"int32");return this.compileAndRun(n,[t,e],r)},t.prototype.add=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,Fi);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.add(t,e);var n=xt(t.dtype,e.dtype);if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,Fi,n);var r=new zi(Fi,t.shape,e.shape),i=this.makeOutputArray(r.outputShape,n);return this.compileAndRun(r,[t,e],i)},t.prototype.packedBinaryOp=function(t,e,n,r,i){void 0===i&&(i=!1);var a=new Bi(n,t.shape,e.shape,i),s=this.makePackedTensor(a.outputShape,r);return this.compileAndRun(a,[t,e],s)},t.prototype.complexSeparableBinaryOp=function(t,e,n){var r=this,i=this.texData.get(t.dataId),a=this.texData.get(e.dataId),s=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map(function(i){var a=i[0],s=i[1],o=r.makeComplexComponentTensorHandle(t,a),l=r.makeComplexComponentTensorHandle(e,s),u=new zi(n,t.shape,e.shape),c=r.makeOutputArray(u.outputShape,xt(a.dtype,s.dtype));return r.compileAndRun(u,[o,l],c)}),o=s[0],l=s[1],u=this.complex(o,l);return o.dispose(),l.dispose(),u},t.prototype.makeComplexComponentTensorHandle=function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}},t.prototype.addN=function(t){if(1===t.length)return t[0];if(t.length>u.get("WEBGL_MAX_TEXTURES_IN_SHADER")){var e=Math.floor(t.length/2),n=this.addN(t.slice(0,e)),r=this.addN(t.slice(e));return this.addN([n,r])}var i=t.map(function(t){return t.dtype}).reduce(function(t,e){return xt(t,e)}),a=t.map(function(t){return t.shape}),s=u.getBool("WEBGL_PACK"),o=s?new yi(t[0].shape,a):new gi(t[0].shape,a),l=s?this.makePackedTensor(o.outputShape,i):this.makeOutputArray(o.outputShape,i);return this.compileAndRun(o,t,l)},t.prototype.subtract=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,Li);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.subtract(t,e);var n=xt(t.dtype,e.dtype);if(u.getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,Li,t.dtype);var r=new zi(Li,t.shape,e.shape),i=this.makeOutputArray(r.outputShape,n);return this.compileAndRun(r,[t,e],i)},t.prototype.pow=function(t,e){var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS"),r=n?new Bi("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new zi("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,e.shape),i=xt(t.dtype,e.dtype),a=n?this.makePackedTensor(r.outputShape,i):this.makeOutputArray(r.outputShape,i);return this.compileAndRun(r,[t,e],a)},t.prototype.ceil=function(t){var e=new Ss(t.shape,"return ceil(x);");return this.compileAndRun(e,[t])},t.prototype.floor=function(t){var e=new Ss(t.shape,"return floor(x);");return this.compileAndRun(e,[t])},t.prototype.sign=function(t){var e=new Ss(t.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(e,[t])},t.prototype.isNaN=function(t){var e=new Ss(t.shape,"return float(isnan(x));"),n=this.makeOutputArray(e.outputShape,"bool");return this.compileAndRun(e,[t],n)},t.prototype.isInf=function(t){var e=new Ss(t.shape,"return float(isinf(x));"),n=this.makeOutputArray(e.outputShape,"bool");return this.compileAndRun(e,[t],n)},t.prototype.isFinite=function(t){var e=new Ss(t.shape,"return float(!isnan(x) && !isinf(x));"),n=this.makeOutputArray(e.outputShape,"bool");return this.compileAndRun(e,[t],n)},t.prototype.round=function(t){var e=new Ss(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(e,[t])},t.prototype.exp=function(t){var e;return e=u.getBool("WEBGL_PACK")?new Is(t.shape,As):new Ss(t.shape,As),this.compileAndRun(e,[t])},t.prototype.expm1=function(t){var e=new Ss(t.shape,"return exp(x) - 1.0;");return this.compileAndRun(e,[t])},t.prototype.log=function(t){var e;return e=u.getBool("WEBGL_PACK")?new Is(t.shape,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n"):new Ss(t.shape,"if (x < 0.0) return NAN;\n  return log(x);"),this.compileAndRun(e,[t])},t.prototype.log1p=function(t){var e=new Ss(t.shape,"return log(1.0 + x);");return this.compileAndRun(e,[t])},t.prototype.sqrt=function(t){var e=new Ss(t.shape,"return sqrt(x);");return this.compileAndRun(e,[t])},t.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var e=new Ss(t.shape,"return inversesqrt(x);");return this.compileAndRun(e,[t])},t.prototype.square=function(t){var e=new Ss(t.shape,"return x * x;");return this.compileAndRun(e,[t])},t.prototype.reciprocal=function(t){var e=new Ss(t.shape,"return 1.0 / x;");return this.compileAndRun(e,[t])},t.prototype.relu=function(t){var e;return e=u.getBool("WEBGL_PACK")?new Is(t.shape,Ts):new Ss(t.shape,ks),this.compileAndRun(e,[t])},t.prototype.prelu=function(t,e){var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",t.shape,e.shape):new zi("return (a < 0.) ? b * a : a;",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.elu=function(t){var e=new Ss(t.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);");return this.compileAndRun(e,[t])},t.prototype.eluDer=function(t,e){var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",t.shape,e.shape):new zi("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.selu=function(t){var e=new Ss(t.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(e,[t])},t.prototype.int=function(t){var e=new Ss(t.shape,"return float(int(x));"),n=this.makeOutputArray(e.outputShape,"int32");return this.compileAndRun(e,[t],n)},t.prototype.clip=function(t,e,n){var r,i=(r=u.getBool("WEBGL_PACK_CLIP")?new Ui(t.shape):new Vi(t.shape)).getCustomSetupFunc(e,n);return this.compileAndRun(r,[t],null,i)},t.prototype.abs=function(t){var e=new Ss(t.shape,"return abs(x);");return this.compileAndRun(e,[t])},t.prototype.complexAbs=function(t){var e=this.texData.get(t.dataId),n=new ji(t.shape),r=[this.makeComplexComponentTensorHandle(t,e.complexTensors.real),this.makeComplexComponentTensorHandle(t,e.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(t){var e=new Ss(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(e,[t])},t.prototype.softplus=function(t){var e=new Ss(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(e,[t])},t.prototype.sin=function(t){var e=new Ss(t.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(e,[t])},t.prototype.cos=function(t){var e=new Ss(t.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(e,[t])},t.prototype.tan=function(t){var e=new Ss(t.shape,"return tan(x);");return this.compileAndRun(e,[t])},t.prototype.asin=function(t){var e=new Ss(t.shape,"return asin(x);");return this.compileAndRun(e,[t])},t.prototype.acos=function(t){var e=new Ss(t.shape,"return acos(x);");return this.compileAndRun(e,[t])},t.prototype.atan=function(t){var e=new Ss(t.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(e,[t])},t.prototype.atan2=function(t,e){var n=u.getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Bi("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new zi("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.sinh=function(t){var e=new Ss(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},t.prototype.cosh=function(t){var e=new Ss(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},t.prototype.tanh=function(t){var e=new Ss(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(e,[t])},t.prototype.asinh=function(t){var e=new Ss(t.shape,"return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(e,[t])},t.prototype.acosh=function(t){var e=new Ss(t.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(e,[t])},t.prototype.atanh=function(t){var e=new Ss(t.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(e,[t])},t.prototype.erf=function(t){var e=new Ss(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n');return this.compileAndRun(e,[t])},t.prototype.step=function(t,e){var n=new Ss(t.shape,function(t){return void 0===t&&(t=0),Es+"\n    return x > 0.0 ? 1.0 : float("+t+");\n  "}(e));return this.compileAndRun(n,[t])},t.prototype.conv2dByMatMul=function(t,e,n){var r=t.shape,i=this.texData.get(t.dataId),a=r[2]%2!=0&&!!i.isPacked;if((1==r[0]*r[1]*r[2]||1===n.outChannels)&&n.inChannels>1e3||!u.getBool("WEBGL_LAZILY_UNPACK")||!u.getBool("WEBGL_PACK_BINARY_OPERATIONS")||!a){var s=this.reshape(t,[1,r[0]*r[1]*r[2],n.inChannels]),o=this.reshape(e,[1,n.inChannels,n.outChannels]);return this.reshape(this.batchMatMul(s,o,!1,!1),n.outShape)}var l=ht.make([1,r[0]*r[1]*(r[2]+1),n.inChannels],{dataId:t.dataId},t.dtype,this),c=i.shape;i.shape=i.shape.slice(),i.shape[i.shape.length-2]++,v(ye(i.shape,l.shape),function(){return"packed reshape "+i.shape+" to "+l.shape+" isn't free"});var p=this.reshape(e,[1,n.inChannels,n.outChannels]),h=this.batchMatMul(l,p,!1,!1),m=this.texData.get(h.dataId);return v(m.isPacked,function(){return"batchMatMul result is expected to be packed"}),i.shape=c,m.shape=n.outShape,ht.make(n.outShape,{dataId:h.dataId},h.dtype,this)},t.prototype.conv2dWithIm2Row=function(t,e,n){var r=n.outWidth,i=n.outHeight,a=n.filterWidth*n.filterHeight*n.inChannels,s=i*r,o=[a,s],l=t.squeeze([0]),u=e.reshape([1,a,-1]),c=new Ha(o,l.shape,n),p=this.compileAndRun(c,[l]).reshape([1,o[0],o[1]]),h=new Ya(p.shape,[1,s,n.outChannels],!0,!1);return this.compileAndRun(h,[p,u]).reshape([1,i,r,n.outChannels])},t.prototype.conv2d=function(t,e,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(t,e,n);if(u.getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,e,n);var r=new Qi(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerInput=function(t,e,n){var r=new $i(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerFilter=function(t,e,n){var r=new qi(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2D=function(t,e,n){var r;return u.getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new ta(n),this.compileAndRun(r,[t,e],this.makePackedTensor(n.outShape,t.dtype))):(r=new Ji(n),this.compileAndRun(r,[t,e]))},t.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new Xi(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new Yi(n);return this.compileAndRun(r,[t,e])},t.prototype.conv3d=function(t,e,n){var r=new Zi(n);return this.compileAndRun(r,[t,e])},t.prototype.conv3dDerInput=function(t,e,n){var r=new Ki(n);return this.compileAndRun(r,[t,e])},t.prototype.conv3dDerFilter=function(t,e,n){var r=new Gi(n);return this.compileAndRun(r,[t,e])},t.prototype.maxPool=function(t,e){var n=new es(e,"max",!1),r=this.makeOutputArray(n.outputShape,t.dtype);return this.compileAndRun(n,[t],r)},t.prototype.avgPool=function(t,e){var n=new es(e,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t],r)},t.prototype.maxPoolBackprop=function(t,e,n,r){var i=new es(r,"max",!0),a=this.compileAndRun(i,[e]),s=new Ka(r),o=this.makeOutputArray(s.outputShape,e.dtype),l=this.compileAndRun(s,[t,a],o);return a.dispose(),l},t.prototype.avgPoolBackprop=function(t,e,n){var r=new Ri(n),i=this.makeOutputArray(r.outputShape,e.dtype);return this.compileAndRun(r,[t],i)},t.prototype.cast=function(t,e){return mr(t,e,this)},t.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),i=0,a=0;a<t.rank;a++)a!==e&&(r[i++]=t.shape[a]);var s=new Array(t.rank).fill(0),o=t.shape.slice();o[e]=1;var l=new Array(n);for(a=0;a<l.length;a++)s[e]=a,l[a]=this.slice(t,s,o).reshape(r);return l},t.prototype.reshape=function(t,e){var n=this.texData.get(t.dataId);return!n.isPacked||ye(t.shape,e)||null!==n.texture&&ye(n.shape,e)?dr(t,e):this.packedReshape(t,e)},t.prototype.resizeBilinear=function(t,e,n,r){var i=u.getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ss(t.shape,e,n,r):new as(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeBilinearBackprop=function(t,e,n){var r=new is(t,e,n);return this.compileAndRun(r,[t])},t.prototype.resizeNearestNeighbor=function(t,e,n,r){var i=new ls(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){var r=new os(t,e,n);return this.compileAndRun(r,[t])},t.prototype.multinomial=function(t,e,n,r){var i=e?t:Dn(t),a=new Xa(i.shape[0],i.shape[1],n),s=this.makeOutputArray(a.outputShape,"int32"),o=a.getCustomSetupFunc(r);return this.compileAndRun(a,[i],s,o)},t.prototype.oneHot=function(t,e,n,r){var i=new Qa(t.size,e,n,r);return this.compileAndRun(i,[t])},t.prototype.nonMaxSuppression=function(t,e,n,r,i){return Ke("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),wr(t.dataSync(),e.dataSync(),n,r,i)},t.prototype.cropAndResize=function(t,e,n,r,i,a){var s=new ea(t.shape,e.shape,r,i,a);return this.compileAndRun(s,[t,e,n])},t.prototype.depthToSpace=function(t,e,n){v(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e});var r=t.shape[0],i=("NHWC"===n?t.shape[1]:t.shape[2])*e,a=("NHWC"===n?t.shape[2]:t.shape[3])*e,s=("NHWC"===n?t.shape[3]:t.shape[1])/(e*e),o=new sa("NHWC"===n?[r,i,a,s]:[r,s,i,a],e,n);return this.compileAndRun(o,[t])},t.prototype.split=function(t,e,n){return Cr(t,e,n)},t.prototype.scatterND=function(t,e,n){var r=dn(0,t,n),i=r.sliceRank,a=r.numUpdates,s=r.sliceSize,o=r.strides,l=r.outputSize,u=[l/s,s],c=t.reshape([a,i]),p=e.reshape([a,s]);if(0===l)return dr(Pn([]),n);var h=zn(0),m=new ps(a,i,c.rank,p.rank,o,u);return this.compileAndRun(m,[p,c,h]).reshape(n)},t.prototype.sparseToDense=function(t,e,n,r){var i=dn(0,t,n),a=new ps(i.numUpdates,i.sliceRank,t.rank,e.rank,i.strides,[i.outputSize,1],!1);return this.compileAndRun(a,[e,t,r]).reshape(n)},t.prototype.fft=function(t){return this.fftImpl(t,!1)},t.prototype.ifft=function(t){return this.fftImpl(t,!0)},t.prototype.fftImpl=function(t,e){var n=this.texData.get(t.dataId),r=new ca("return real * expR - imag * expI;",t.shape,e),i=new ca("return real * expI + imag * expR;",t.shape,e),a=[this.makeComplexComponentTensorHandle(t,n.complexTensors.real),this.makeComplexComponentTensorHandle(t,n.complexTensors.imag)],s=this.compileAndRun(r,a),o=this.compileAndRun(i,a),l=this.complex(s,o).as2D(t.shape[0],t.shape[1]);return s.dispose(),o.dispose(),l},t.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],i=pn(t,e),a=i[0],s=i[1],o=i[2],l=i[3],u=e.reshape([s,r]),c=t.reshape([t.size/o,o]),p=new fa(r,l,[s,o]);return this.compileAndRun(p,[c,u]).reshape(a)},t.prototype.fill=function(t,e,n){if("string"===(n=n||H(e))){var r=O(n,x(t));return r.fill(e),ht.make(t,{values:r},n)}var i=new pa(t,e),a=i.getCustomSetupFunc(e),s=this.makeOutputArray(t,n);return this.compileAndRun(i,[],s,a)},t.prototype.onesLike=function(t){if("string"===t.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},t.prototype.zerosLike=function(t){return this.fill(t.shape,"string"===t.dtype?"":0,t.dtype)},t.prototype.linspace=function(t,e,n){return fr(t,e,n)},t.prototype.makeOutputArray=function(t,e){return ht.make(t,{},e,this)},t.prototype.makePackedTensor=function(t,e){var n=ht.make(t,{},e,this);return this.texData.get(n.dataId).isPacked=!0,n},t.prototype.unpackTensor=function(t){var e=new Ns(t.shape);return this.compileAndRun(e,[t],ht.make(e.outputShape,{},t.dtype,this))},t.prototype.packTensor=function(t){var e=new Za(t.shape);return this.compileAndRun(e,[t],this.makePackedTensor(t.shape,t.dtype))},t.prototype.packedReshape=function(t,e){var n=t.reshape([me(t.shape)].concat(de(t.shape))),r=[me(e)].concat(de(e)),i=new rs(r,n.shape);return this.compileAndRun(i,[n]).reshape(e)},t.prototype.compileAndRun=function(t,e,n,r){var i=this;if(null==n&&(n=t.usesPackedTextures?this.makePackedTensor(t.outputShape,e[0].dtype):this.makeOutputArray(t.outputShape,e[0].dtype)),0===n.size)return this.texData.get(n.dataId).values=D(n.dtype,0),n;var a=e.map(function(e){if("complex64"===e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(e.dataId);if(null==n.texture){if(!t.usesPackedTextures&&x(e.shape)<=u.getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:e.shape,texData:null,isUniform:!0,uniformValues:n.values};t.usesPackedTextures&&(n.isPacked=!0,n.shape=e.shape)}else if(!!n.isPacked!=!!t.usesPackedTextures)e=n.isPacked?i.unpackTensor(e):i.packTensor(e),n=i.texData.get(e.dataId);else if(n.isPacked&&!ye(n.shape,e.shape)){var r=e,a=e.shape;e.shape=n.shape,e=i.packedReshape(e,a),n=i.texData.get(e.dataId),r.shape=a}return i.uploadToGPU(e.dataId),{shape:e.shape,texData:n,isUniform:!1}});this.uploadToGPU(n.dataId);var s,o={shape:n.shape,texData:this.texData.get(n.dataId),isUniform:!1},l=function(t,e,n){var r="";return a.concat(o).forEach(function(t){r+=t.shape+"_"+(t.isUniform?"uniform":t.texData.texShape)+"_"+(null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0)}),t.constructor.name+"_"+r+"_"+t.userCode}(t),c=this.getAndSaveBinary(l,function(){return function(t,e,n,r){var i=e.userCode,a=n.map(function(t,n){var r={logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform,isPacked:!t.isUniform&&t.texData.isPacked,flatOffset:null};return null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0&&(r.flatOffset=t.texData.slice.flatOffset),{name:e.variableNames[n],shapeInfo:r}}),s=a.map(function(t){return t.shapeInfo}),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=function(t,e,n,r){var i=[];t.forEach(function(t){var e=x(t.shapeInfo.logicalShape);t.shapeInfo.isUniform?i.push("uniform float "+t.name+(e>1?"["+e+"]":"")+";"):(i.push("uniform sampler2D "+t.name+";"),i.push("uniform int offset"+t.name+";"))});var a,s,o=i.join("\n"),l=t.map(function(t){return function(t,e,n){void 0===n&&(n=!1);var r="";return r+=n?function t(e){var n;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 get"+(n=e.name).charAt(0).toUpperCase()+n.slice(1)+"() {\n      return "+wi().texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=wi();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+a.texture2D+"("+e+", uv);\n    }\n  "}(e);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape,a=i[0],s=i[1],o=wi();if(null!=i&&C(e,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+a+".0);\n\n        return "+o.texture2D+"("+n+", uv);\n      }\n    ";var l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(e[1]/2)+", "+l[0]+", "+l[1]+", row, col);\n      return "+o.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){var o=Ti(e,n.slice(1));return"\n        "+t(o)+"\n        vec4 "+i+"(int b, int row, int col) {\n          return "+i+"("+Ii(["b","row","col"],[1,2])+");\n        }\n      "}var l=s[0],u=s[1],c=Math.ceil(n[2]/2);return"\n    vec4 "+i+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+l+", "+u+", "+c*Math.ceil(n[1]/2)+", "+c+", b, row, col);\n      return "+wi().texture2D+"("+r+", uv);\n    }\n  "}(e);default:return function(t){for(var e=t.shapeInfo.logicalShape,n=e.length,r=t.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=t.shapeInfo.texShape,s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],o=s[0],l=s[1],u=Math.ceil(e[n-1]/2),c=u*Math.ceil(e[n-2]/2),p="int b, int row, int col",h="b * "+c+" + (row / 2) * "+u+" + (col / 2)",m=2;m<n-1;m++)p="int b"+m+", "+p,h="b"+m+" * "+(c*=e[n-m-1])+" + "+h;return"\n    vec4 "+i+"("+p+") {\n      int index = "+h+";\n      int texR = index / "+l+";\n      int texC = index - texR * "+l+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+l+", "+o+");\n      return "+wi().texture2D+"("+r+", uv);\n    }\n  "}(e)}}(t):function t(e){var n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"float "+n+"() {return "+e+";}";var r=t.shapeInfo.texShape;if(1===r[0]&&1===r[1])return"\n      float "+n+"() {\n        return sampleTexture("+e+", halfCR);\n      }\n    ";var i=t.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+i[0]+", "+i[1]+", "+Ei(e)+");\n      return sampleTexture("+e+", uv);\n    }\n  "}(e);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+ki(t)+"\n      }\n    ";var r=t.shapeInfo.texShape,i=r[0],a=r[1];if(1===a&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ";var s=Ei(e);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+s+") + 0.5) / "+i+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+s+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+a+", index + "+s+");\n      return sampleTexture("+e+", uv);\n    }\n  "}(e);case 2:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&C(n,a))return"\n    float "+i+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+a[1]+".0, "+a[0]+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ";var s=R(n),o=s.newShape,l=s.keptDims;if(o.length<n.length){var u=Ti(e,o);return"\n      "+t(u)+"\n      float "+i+"(int row, int col) {\n        return "+i+"("+Ii(["row","col"],l)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+n[1]+", 1)));\n        "+ki(e)+"\n      }\n    ";var c=a[0],p=a[1],h=Ei(r);return 1===p?"\n    float "+i+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===c?"\n    float "+i+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+p+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+i+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+n[1]+" + col + "+h+";\n    vec2 uv = uvFromFlat("+c+", "+p+", index);\n    return sampleTexture("+r+", uv);\n  }\n"}(e);case 3:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],s=n[2],o=R(n),l=o.newShape,u=o.keptDims;if(l.length<n.length){var c=Ti(e,l);return"\n        "+t(c)+"\n        float "+i+"(int row, int col, int depth) {\n          return "+i+"("+Ii(["row","col","depth"],u)+");\n        }\n      "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+a+", "+s+", 1)));\n        "+ki(e)+"\n      }\n    ";var p=e.shapeInfo.texShape,h=p[0],m=p[1],d=e.shapeInfo.flatOffset;return m===a&&null==d?"\n        float "+i+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+s+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+m+".0, "+h+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ":m===s&&null==d?"\n    float "+i+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+n[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+m+".0, "+h+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n      float "+i+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+a+" + col * "+s+" + depth + "+Ei(r)+";\n        vec2 uv = uvFromFlat("+h+", "+m+", index);\n        return sampleTexture("+r+", uv);\n      }\n  "}(e);case 4:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],s=n[2]*a,o=n[1]*s,l=R(n),u=l.newShape,c=l.keptDims;if(u.length<n.length){var p=Ti(e,u);return"\n      "+t(p)+"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        return "+i+"("+Ii(["row","col","depth","depth2"],c)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+o+", "+s+", "+a+", 1)));\n        "+ki(e)+"\n      }\n    ";var h=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,d=m[0],f=m[1];return f===o&&null==h?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+s+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":f===a&&null==h?"\n      float "+i+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+n[1]*n[2]+", "+n[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+d+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+o+" + col * "+s+" +\n          depth * "+a+" + depth2;\n      vec2 uv = uvFromFlat("+d+", "+f+", index + "+Ei(r)+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);case 5:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[4],s=n[3]*a,o=n[2]*s,l=n[1]*o,u=R(n),c=u.newShape,p=u.keptDims;if(c.length<n.length){var h=Ti(e,c);return"\n      "+t(h)+"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+i+"("+Ii(["row","col","depth","depth2","depth3"],p)+");\n      }\n    "}if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+l+", "+o+", "+s+", "+a+")) +\n          depth3;\n        "+ki(e)+"\n      }\n    ";var m=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,f=d[0],g=d[1];return g===l&&null==m?"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+o+", "+s+", "+a+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+f+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":g===a&&null==m?"\n      float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]+",\n               "+n[2]*n[3]+", "+n[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+f+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+l+" + col * "+o+" + depth * "+s+" +\n          depth2 * "+a+" + depth3 + "+Ei(r)+";\n      vec2 uv = uvFromFlat("+f+", "+g+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);case 6:return function(e){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=R(n),s=a.newShape,o=a.keptDims;if(s.length<n.length){var l=Ti(e,s);return"\n      "+t(l)+"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+i+"("+Ii(["row","col","depth","depth2","depth3","depth4"],o)+");\n      }\n    "}var u=n[5],c=n[4]*u,p=n[3]*c,h=n[2]*p,m=n[1]*h;if(e.shapeInfo.isUniform)return"\n      float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+m+", "+h+", "+p+", "+c+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+u+", 1)));\n        "+ki(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,g=f[0],y=f[1];return y===m&&null==d?"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+h+", "+p+", "+c+", "+u+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+y+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":y===u&&null==d?"\n      float "+i+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]*n[4]+",\n               "+n[2]*n[3]*n[4]+",\n               "+n[3]*n[4]+",\n               "+n[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+y+".0, "+g+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ":"\n    float "+i+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+m+" + col * "+h+" + depth * "+p+" +\n          depth2 * "+c+" + depth3 * "+u+" + depth4 + "+Ei(r)+";\n      vec2 uv = uvFromFlat("+g+", "+y+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(e);default:throw new Error(n.length+"-D input sampling is not yet supported")}}(t),t.shapeInfo.logicalShape.length<=e.logicalShape.length&&(r+=n?function(t,e){var n,r,i=t.name,a=i.charAt(0).toUpperCase()+i.slice(1),s="get"+a+"AtOutCoords",o=t.shapeInfo.logicalShape.length,l=e.logicalShape.length,u=tr(t.shapeInfo.logicalShape,e.logicalShape),c=Ai(l),p=l-o,h=["x","y","z","w","u","v"];n=0===o?"":l<2&&u.length>=1?"coords = 0;":u.map(function(t){return"coords."+h[t+p]+" = 0;"}).join("\n"),r=l<2&&o>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords."+h[e+p]}).join(", ");var m="return outputValue;",d=1===x(t.shapeInfo.logicalShape),f=1===x(e.logicalShape);if(1!==o||d||f){if(d&&!f)m=1===l?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=o-2,y=o-1;u.indexOf(g)>-1&&u.indexOf(y)>-1?m="return vec4(outputValue.x);":u.indexOf(g)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(y)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+s+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+a+"("+r+");\n      "+m+"\n    }\n  "}(t,e):function(t,e){var n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.shapeInfo.logicalShape.length,s=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===s&&null==t.shapeInfo.flatOffset&&C(t.shapeInfo.texShape,e.texShape))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var o=Ai(s),l=tr(t.shapeInfo.logicalShape,e.logicalShape),u=s-a,c=["x","y","z","w","u","v"];return"\n    float "+i+"() {\n      "+o+" coords = getOutputCoords();\n      "+(0===a?"":s<2&&l.length>=1?"coords = 0;":l.map(function(t){return"coords."+c[t+u]+" = 0;"}).join("\n"))+"\n      return get"+r+"("+(s<2&&a>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords."+c[e+u]}).join(", "))+");\n    }\n  "}(t,e)),r}(t,e,r)}).join("\n"),u=e.texShape,c=wi(),p="\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+c.texture2D+"(textureSampler, uv).r;\n    }\n  ",h=c.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+c.varyingFs+" vec2 resultUV;\n    "+c.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    #define isnan(value) isnan_custom(value)\n    "+c.defineSpecialNaN+"\n    bvec4 isnan_custom(vec4 val) {\n      return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n    }\n\n    "+c.defineSpecialInf+"\n    "+c.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    \nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n    \nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n    \nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  ";return e.isPacked?(a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return resTexRC.x * "+n[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(C(t,e))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(t[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=t,r=e,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],s=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+s+";\n      index -= b * "+s+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(t,e){for(var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),i=r*Math.ceil(t[t.length-2]/2),a=i,s="",o="b, r, c",l=2;l<t.length-1;l++)s="\n      int b"+l+" = index / "+(a*=t[t.length-l-1])+";\n      index -= b"+l+" * "+a+";\n    "+s,o="b"+l+", "+o;return"\n    ivec"+t.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+s+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+t.length+"("+o+");\n    }\n  "}(t,e)}var n,r,i,a,s}(e.logicalShape,u),s="\n    void setOutput(vec4 val) {\n      "+c.output+" = val;\n    }\n  "):(a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){return C(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return n=e,r=xi(["r","c","d"],t),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(t,e){var n=xi(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(t,e);case 5:return function(t,e){var n=xi(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(t,e);case 6:return function(t,e){var n=xi(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}var n,r}(e.logicalShape,u),s="\n    void setOutput(float val) {\n      "+c.output+" = vec4(val, 0, 0, 0);\n    }\n  "),r&&(h+="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n"),[h,p,s,o,a,l,n].join("\n")}(a,o,i,e.usesPackedTextures),c=t.createProgram(l),p=null,h=t.getUniformLocation(c,"NAN",!1);1===u.getNumber("WEBGL_VERSION")&&(p=t.getUniformLocation(c,"INFINITY",!1));for(var m={},d=0;d<e.variableNames.length;d++){var f=e.variableNames[d];m[f]=t.getUniformLocation(c,f,!1),m["offset"+f]=t.getUniformLocation(c,"offset"+f,!1)}return{program:e,source:l,webGLProgram:c,uniformLocations:m,inShapeInfos:s,outShapeInfo:o,infLoc:p,nanLoc:h}}(i.gpgpu,t,a,o)}),p=null!=this.activeTimers;return p&&(s=this.startTimer()),function(t,e,n,r,i){Wa(e.inShapeInfos,n),Wa([e.outShapeInfo],[r]);var a=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(a,s[0],s[1]):t.setOutputMatrixTexture(a,s[0],s[1]),t.setProgram(e.webGLProgram),1===u.getNumber("WEBGL_VERSION")&&null!==e.infLoc&&t.gl.uniform1f(e.infLoc,1/0),null!==e.nanLoc&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach(function(n,r){var i=e.program.variableNames[r],a=e.uniformLocations[i],s=e.uniformLocations["offset"+i];if(null!=a)if(n.isUniform)if(x(n.shape)<2)t.gl.uniform1f(a,n.uniformValues[0]);else{var o=n.uniformValues;o instanceof Float32Array||(o=new Float32Array(o)),t.gl.uniform1fv(a,o)}else null!=n.texData.slice&&null!=s&&t.gl.uniform1i(s,n.texData.slice.flatOffset),t.setInputMatrixTexture(n.texData.texture,a,r)}),null!=i&&i(t,e.webGLProgram),t.executeProgram()}(this.gpgpu,c,a,o,r),p&&(s=this.endTimer(s),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(s)})),u.getBool("WEBGL_LAZILY_UNPACK")||!this.texData.get(n.dataId).isPacked||t.isPackShader?n:this.unpackTensor(n)},t.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){this.disposed||(this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixels2DContext&&this.fromPixels2DContext.canvas.remove(),this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var t=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Fe(function(){var e=u.getBool("DEBUG");u.set("DEBUG",!1);var n=t.abs(zn(1e-8)).dataSync()[0];return u.set("DEBUG",e),n>0?32:16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(t){var e,n=this.texData.get(t),r=n.shape,i=n.dtype,a=n.values,s=n.usage,o=n.isPacked;if(null==n.texture){var l,u=null!=this.activeTimers;u&&(l=performance.now());var c=fe(r,o);if(n.texShape=c,null!=a){var p=[1,1,1];0===r.length||1===r.length&&1===r[0]||(p=[me(r)].concat(de(r)));var h=void 0,m=c[1],d=c[0];o?(m=(e=ba(c[0],c[1]))[0],h=new ua(p,[d=e[1],m])):h=new la(p,[d,m]);var f=this.makeTensorHandle([d,m],i);this.texData.get(f.dataId).usage=ia.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),m,d,a);var g=this.makeTensorHandle(h.outputShape,f.dtype);g.size=x(h.outputShape),this.texData.get(g.dataId).isPacked=o,this.compileAndRun(h,[f],g);var y=this.texData.get(g.dataId);n.texture=y.texture,n.texShape=y.texShape,n.isPacked=y.isPacked,n.usage=y.usage,this.disposeData(f.dataId),this.texData.delete(g.dataId),n.values=null,u&&(this.uploadWaitMs+=performance.now()-l)}else{var v=this.acquireTexture(c,s,i,o);n.texture=v}}},t.prototype.convertAndCacheOnCPU=function(t,e){var n=this.texData.get(t),r=n.dtype;return this.releaseGPUData(t),null!=e&&(n.values=function(t,e){if("float32"===e||"complex64"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype "+e)}(e,r)),n.values},t.prototype.acquireTexture=function(t,e,n,r){if(this.numBytesInGPU+=this.computeBytes(t,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,e,r)},t.prototype.computeBytes=function(t,e){return t[0]*t[1]*B(e)},t}();Dt()&&Rt.registerBackend("webgl",function(){return new Os},2);var Ms=Rn({abs_:function(t){var e=xn(t,"x","abs");return"complex64"===e.dtype?Rt.runKernel(function(t){return t.complexAbs(e)},{$x:e}):Rt.runKernel(function(t,n){var r=t.abs(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.toFloat().step(-1))}}})}}),Fs=Rn({acos_:function(t){var e=xn(t,"x","acos");return Rt.runKernel(function(t,n){var r=t.acos(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(zn(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),Ls=Rn({acosh_:function(t){var e=xn(t,"x","acosh");return Rt.runKernel(function(t,n){var r=t.acosh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),Ps=Rn({asin_:function(t){var e=xn(t,"x","asin");return Rt.runKernel(function(t,n){var r=t.asin(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(zn(1).sub(n.toFloat().square()).sqrt())}}})}}),zs=Rn({asinh_:function(t){var e=xn(t,"x","asinh");return Rt.runKernel(function(t,n){var r=t.asinh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.divStrict(zn(1).add(n.toFloat().square()).sqrt())}}})}}),Bs=Rn({atan_:function(t){var e=xn(t,"x","atan");return Rt.runKernel(function(t,n){var r=t.atan(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().square().add(1))}}})}}),Vs=Rn({atanh_:function(t){var e=xn(t,"x","atanh");return Rt.runKernel(function(t,n){var r=t.atanh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(zn(1).sub(n.toFloat().square()))}}})}}),Us=Rn({ceil_:function(t){var e=xn(t,"x","ceil");return Rt.runKernel(function(t){return t.ceil(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),js=Rn({clipByValue_:function(t,e,n){var r=xn(t,"x","clipByValue");return v(e<=n,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."}),Rt.runKernel(function(t,i){var a=t.clip(r,e,n);return i([r]),a},{$x:r},function(t,r){var i=r[0];return{$x:function(){return t.where(i.greaterEqual(e).logicalAnd(i.lessEqual(n)),Qn(t))}}})}}),Ws=Rn({cos_:function(t){var e=xn(t,"x","cos");return Rt.runKernel(function(t,n){var r=t.cos(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return n.toFloat().sin().neg().mul(t)}}})}}),Hs=Rn({cosh_:function(t){var e=xn(t,"x","cosh");return Rt.runKernel(function(t,n){var r=t.cosh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return n.toFloat().sinh().mulStrict(t)}}})}}),qs=Rn({erf_:function(t){var e=xn(t,"x","erf");return v("int32"===e.dtype||"float32"===e.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===e.dtype&&(e=e.toFloat()),Rt.runKernel(function(t,n){var r=t.erf(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),$s=Rn({exp_:function(t){var e=xn(t,"x","exp");return Rt.runKernel(function(t,n){var r=t.exp(e);return n([r]),r},{$x:e},function(t,e){return{$x:function(){return t.mulStrict(e[0])}}})}}),Gs=Rn({expm1_:function(t){var e=xn(t,"x","expm1");return Rt.runKernel(function(t,n){var r=t.expm1(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.exp())}}})}}),Ks=Rn({floor_:function(t){var e=xn(t,"x","floor");return Rt.runKernel(function(t){return t.floor(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),Ys=Rn({log_:function(t){var e=xn(t,"x","log");return Rt.runKernel(function(t,n){var r=t.log(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat())}}})}}),Xs=Rn({log1p_:function(t){var e=xn(t,"x","log1p");return Rt.runKernel(function(t,n){var r=t.log1p(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.add(1))}}})}}),Qs=Rn({logSigmoid_:function(t){var e=xn(t,"x","logSigmoid");return Rt.runKernel(function(t,n){var r=t.softplus(e.neg()).neg();return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.neg().sigmoid())}}})}}),Zs=Rn({neg_:function(t){var e=xn(t,"x","neg");return Rt.runKernel(function(t){return t.neg(e)},{$x:e},function(t){return{$x:function(){return t.neg()}}})}}),Js=Rn({reciprocal_:function(t){var e=xn(t,"x","reciprocal");return Rt.runKernel(function(t,n){var r=t.reciprocal(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.square().neg())}}})}}),to=Rn({round_:function(t){var e=xn(t,"x","round");return Rt.runKernel(function(t){return t.round(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),eo=Rn({rsqrt_:function(t){var e=xn(t,"x","rsqrt");return Rt.runKernel(function(t,n){var r=t.rsqrt(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.pow(1.5).mul(2)).neg()}}})}}),no=Rn({sigmoid_:function(t){var e=xn(t,"x","sigmoid");return Rt.runKernel(function(t,n){var r=t.sigmoid(e);return n([r]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.mul(zn(1).sub(n)))}}})}}),ro=Rn({sign_:function(t){var e=xn(t,"x","sign");return Rt.runKernel(function(t){return t.sign(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),io=Rn({isNaN_:function(t){var e=xn(t,"x","isNaN");return Rt.runKernel(function(t){return t.isNaN(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),ao=Rn({isInf_:function(t){var e=xn(t,"x","isInf");return Rt.runKernel(function(t){return t.isInf(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),so=Rn({isFinite_:function(t){var e=xn(t,"x","isFinite");return Rt.runKernel(function(t){return t.isFinite(e)},{$x:e},function(t){return{$x:function(){return Qn(t)}}})}}),oo=Rn({sin_:function(t){var e=xn(t,"x","sin");return Rt.runKernel(function(t,n){var r=t.sin(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return n.toFloat().cos().mul(t)}}})}}),lo=Rn({sinh_:function(t){var e=xn(t,"x","sinh");return Rt.runKernel(function(t,n){var r=t.sinh(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return n.toFloat().cosh().mulStrict(t)}}})}}),uo=Rn({softplus_:function(t){var e=xn(t,"x","softplus");return Rt.runKernel(function(t,n){var r=t.softplus(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.sigmoid())}}})}}),co=Rn({sqrt_:function(t){var e=xn(t,"x","sqrt");return Rt.runKernel(function(t,n){var r=t.sqrt(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.toFloat().sqrt().mul(2))}}})}}),po=Rn({square_:function(t){var e=xn(t,"x","square");return Rt.runKernel(function(t,n){return n([e]),t.square(e)},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.toFloat().mul(2))}}})}}),ho=Rn({step_:function(t,e){void 0===e&&(e=0);var n=xn(t,"x","step");return Rt.runKernel(function(t){return t.step(n,e)},{$x:n},function(t){return{$x:function(){return Qn(t)}}})}}),mo=Rn({tan_:function(t){var e=xn(t,"x","tan");return Rt.runKernel(function(t,n){var r=t.tan(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.div(n.cos().square())}}})}}),fo=Rn({tanh_:function(t){var e=xn(t,"x","tanh");return Rt.runKernel(function(t,n){var r=t.tanh(e);return n([r]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return zn(1).sub(n.square()).mulStrict(t)}}})}});function go(t,e,n,r,i,a){var s,o,l=xn(t,"x","batchNorm"),u=xn(e,"mean","batchNorm"),c=xn(n,"variance","batchNorm");return null!=i&&(s=xn(i,"scale","batchNorm")),null!=r&&(o=xn(r,"offset","batchNorm")),v(2===l.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),v(2===u.rank||1===u.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."}),v(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."}),null!=s&&v(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+s.rank+"."}),null!=o&&v(2===o.rank||1===o.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+o.rank+"."}),bo(l,u,c,o,s,a)}function yo(t,e,n,r,i,a){var s,o,l=xn(t,"x","batchNorm"),u=xn(e,"mean","batchNorm"),c=xn(n,"variance","batchNorm");return null!=i&&(s=xn(i,"scale","batchNorm")),null!=r&&(o=xn(r,"offset","batchNorm")),v(3===l.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),v(3===u.rank||1===u.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."}),v(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."}),null!=s&&v(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+s.rank+"."}),null!=o&&v(3===o.rank||1===o.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+o.rank+"."}),bo(l,u,c,o,s,a)}function vo(t,e,n,r,i,a){var s,o,l=xn(t,"x","batchNorm"),u=xn(e,"mean","batchNorm"),c=xn(n,"variance","batchNorm");return null!=i&&(s=xn(i,"scale","batchNorm")),null!=r&&(o=xn(r,"offset","batchNorm")),v(4===l.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),v(4===u.rank||1===u.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."}),v(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."}),null!=s&&v(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+s.rank+"."}),null!=o&&v(4===o.rank||1===o.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+o.rank+"."}),bo(l,u,c,o,s,a)}function bo(t,e,n,r,i,a){null==a&&(a=.001);var s,o,l,u=xn(t,"x","batchNorm"),c=xn(e,"mean","batchNorm"),p=xn(n,"variance","batchNorm");return null!=i&&(s=xn(i,"scale","batchNorm")),null!=r&&(o=xn(r,"offset","batchNorm")),v(c.rank===p.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),v(null==o||c.rank===o.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),v(null==s||c.rank===s.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=0===u.rank||1===u.rank?u.as4D(1,1,1,u.size):2===u.rank?u.as4D(1,1,u.shape[0],u.shape[1]):3===u.rank?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u,Rt.runKernel(function(t,e){var n=t.batchNormalization(l,_o(c),_o(p),a,_o(s),_o(o));return e([u,c,p,s]),n},{$x:u,$mean:c,$variance:p,$scale:s,$offset:o},function(t,e){var n=e[0],r=e[1],i=e[2],s=e[3],o=null==s?zn(1):s,u=er(r.shape,l.shape),c=[];if(1===r.rank){for(var p=0;p<l.shape.length-1;++p)c.push(l.shape[p]);c.push(1)}var h=n.sub(r),m=t.mul(o),d=eo(i.add(zn(a))),f=d.mul(d).mul(d).mul(zn(-.5));return{$x:function(){return 1===r.rank?t.mul(pi(d.as4D(1,1,1,r.shape[0]),c)).mul(o).reshape(n.shape):t.mul(d).mul(o).reshape(n.shape)},$mean:function(){var t=d.mul(zn(-1)).mul(m);return 1===r.rank&&(t=t.sum(u)),t.reshape(r.shape)},$variance:function(){var t=f.mul(h).mul(m);return 1===r.rank&&(t=t.sum(u)),t.reshape(r.shape)},$scale:function(){var e=h.mul(d),n=t.mul(e);return 1===r.rank&&(n=n.sum(u)),n.reshape(r.shape)},$offset:function(){var e=t;return 1===r.rank&&(e=e.sum(u)),e.reshape(r.shape)}}}).reshape(u.shape)}function _o(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function wo(){Re("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var xo=Rn({batchNormalization2d_:function(t,e,n,r,i,a){return void 0===r&&(r=.001),wo(),go(t,e,n,a,i,r)}}),Co=Rn({batchNormalization3d_:function(t,e,n,r,i,a){return void 0===r&&(r=.001),wo(),yo(t,e,n,a,i,r)}}),So=Rn({batchNormalization4d_:function(t,e,n,r,i,a){return void 0===r&&(r=.001),wo(),vo(t,e,n,a,i,r)}}),Eo=Rn({batchNormalization_:function(t,e,n,r,i,a){return void 0===r&&(r=.001),wo(),bo(t,e,n,a,i,r)}}),ko=Rn({batchNorm_:bo}),Ao=Rn({batchNorm2d_:go}),To=Rn({batchNorm3d_:yo}),Io=Rn({batchNorm4d_:vo});function No(t,e,n,r,i,a){v(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var s=t,o=e,l=!1;3===e.rank&&(l=!0,o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,t[0],t[1],t[2]]);var u=s[3],c=o.shape[3];v(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),v(4===o.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+o.rank}),v(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}),v(u===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[2]+"."}),v(c===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[3]+"."}),null!=a&&v(S(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var p=ir(s,n.shape,r,1,i,a),h=Rt.runKernel(function(t,e){var r=t.conv2dDerInput(o,n,p);return e([n,o]),r},{dy4D:o,filter:n},function(t,e){var n=e[0],s=e[1];return{dy4D:function(){return Mo(t,n,r,i,"NHWC",1,a)},filter:function(){return Lo(t,s,n.shape,r,i,a)}}});return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function Ro(t,e,n,r,i,a){var s=t;3===t.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=e;3===o.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),v(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),v(4===o.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+o.shape+"."}),v(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}),v(s.shape[3]===n[2],function(){return"Error in conv2dDerFilter: depth of input "+s.shape[3]+") must match input depth in filter ("+n[2]+"."}),v(o.shape[3]===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+o.shape[3]+") must match output depth for filter ("+n[3]+")."}),null!=a&&v(S(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var l=ir(s.shape,n,r,1,i,a);return Rt.runKernel(function(t){return t.conv2dDerFilter(s,o,l)},{x4D:s,dy4D:o})}function Do(t){var e=function(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}(t);return 1===e[0]&&1===e[1]&&1===e[2]}var Oo=Rn({conv1d_:function(t,e,n,r,i,a,s){void 0===i&&(i="NWC"),void 0===a&&(a=1);var o=xn(t,"x","conv1d"),l=xn(e,"filter","conv1d"),u=o,c=!1;2===o.rank&&(c=!0,u=o.as3D(1,o.shape[0],o.shape[1])),v(3===u.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."}),v(3===l.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),null!=s&&v(S(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+r+"."}),v(u.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),v(hr(n,a),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"}),v("NWC"===i,function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var p=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),h=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),m=Mo(h,p,[1,n],r,"NHWC",[1,a],s);return c?m.as2D(m.shape[2],m.shape[3]):m.as3D(m.shape[0],m.shape[2],m.shape[3])}}),Mo=Rn({conv2d_:function(t,e,n,r,i,a,s){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var o=xn(t,"x","conv2d"),l=xn(e,"filter","conv2d"),u=o,c=!1;3===o.rank&&(c=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),v(4===u.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."}),v(4===l.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),null!=s&&v(S(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+r+"."}),v(u.shape[3]===l.shape[2],function(){return"Error in conv2d: depth of input ("+u.shape[3]+") must match input depth for filter "+l.shape[2]+"."}),v(hr(n,a),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),v("NHWC"===i,function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."});var p=ir(u.shape,l.shape,n,a,r,s),h=Rt.runKernel(function(t,e){var n=t.conv2d(u,l,p);return e([l,u]),n},{x:u,$filter:l},function(t,e){var i=e[0],s=e[1];return v(pr(a),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}),{x:function(){return No(s.shape,t,i,n,r)},$filter:function(){return Ro(s,t,i.shape,n,r)}}});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),Fo=Rn({conv3d_:function(t,e,n,r,i,a){void 0===i&&(i="NDHWC"),void 0===a&&(a=[1,1,1]);var s=xn(t,"x","conv3d"),o=xn(e,"filter","conv3d"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),v(5===l.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),v(5===o.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+o.rank+"."}),v(l.shape[4]===o.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+o.shape[3]+"."}),v(function(t,e){return Do(n)||Do(e)}(0,a),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),v("NDHWC"===i,function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var c=ar(l.shape,o.shape,n,a,r),p=Rt.runKernel(function(t,e){var n=t.conv3d(l,o,c);return e([l,o]),n},{x:l,$filter:o},function(t,e){v(Do(a),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"});var i=e[0],s=e[1];return{x:function(){return function(t,e,n,r,i){v(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var a=t,s=e,o=!1;4===e.rank&&(o=!0,s=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),a=[1,t[0],t[1],t[2],t[3]]);var l=a[4],u=s.shape[4];v(5===a.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."}),v(5===s.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+s.rank}),v(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),v(l===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[3]+"."}),v(u===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."});var c=ar(a,n.shape,r,1,i),p=Rt.runKernel(function(t){return t.conv3dDerInput(s,n,c)},{dy5D:s});return o?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}(i.shape,t,s,n,r)},$filter:function(){return function(t,e,n,r,i){var a=t;4===t.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]));var s=e;4===s.rank&&(s=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3])),v(5===a.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."}),v(5===s.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+s.shape+"."}),v(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),v(a.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."}),v(s.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+s.shape[4]+") must match output depth for filter ("+n[4]+")."});var o=ar(a.shape,n,r,1,i);return Rt.runKernel(function(t){return t.conv3dDerFilter(a,s,o)},{x5D:a,dy5D:s})}(i,t,s.shape,n,r)}}});return u?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}}),Lo=Rn({conv2dDerFilter_:Ro}),Po=Rn({depthwiseConv2d_:function(t,e,n,r,i,a,s){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var o=xn(t,"x","depthwiseConv2d"),l=xn(e,"filter","depthwiseConv2d"),u=o,c=!1;3===o.rank&&(c=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),v(4===u.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."}),v(4===l.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),v(u.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),null==a&&(a=[1,1]),v(hr(n,a),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=s&&v(S(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+r+"."});var p=ir(u.shape,l.shape,n,a,r,s,!0),h=Rt.runKernel(function(t,e){var n=t.depthwiseConv2D(u,l,p);return e([u,l]),n},{x:u,$filter:l},function(t,e){v(pr(a),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"});var n=e[0],r=e[1];return{x:function(){return function(t,e,n,r){var i=e,a=!1;3===e.rank&&(a=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=Rt.runKernel(function(t){return t.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return a?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s}(0,t,r,p)},$filter:function(){return function(t,e,n,r){var i=t;3===t.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=e;return 3===a.rank&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Rt.runKernel(function(t){return t.depthwiseConv2DDerFilter(i,a,r)},{x4D:i,dy4D:a})}(n,t,0,p)}}});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),zo=Rn({separableConv2d_:function(t,e,n,r,i,a,s){void 0===a&&(a=[1,1]),void 0===s&&(s="NHWC");var o=xn(t,"x","separableConv2d"),l=xn(e,"depthwiseFilter","separableConv2d"),u=xn(n,"pointwiseFilter","separableConv2d"),c=o,p=!1;if(3===o.rank&&(p=!0,c=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");v(4===c.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."}),v(4===l.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),v(4===u.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),v(1===u.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."}),v(1===u.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."});var h=l.shape[2],m=l.shape[3];v(u.shape[2]===h*m,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*m+", but got "+u.shape[2]+"."});var d=Po(c,l,r,i,s,a),f=Mo(d,u,1,"valid",s);return p?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),Bo=Rn({conv2dTranspose_:function(t,e,n,r,i,a){return No(n,xn(t,"x","conv2dTranspose"),xn(e,"filter","conv2dTranspose"),r,i,a)}}),Vo=Rn({matMul_:function(t,e,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=xn(t,"a","matMul"),s=xn(e,"b","matMul");i=St(a,s),a=i[0],s=i[1];var o=n?a.shape[a.rank-2]:a.shape[a.rank-1],l=r?s.shape[s.rank-1]:s.shape[s.rank-2],u=n?a.shape[a.rank-1]:a.shape[a.rank-2],c=r?s.shape[s.rank-2]:s.shape[s.rank-1],p=a.shape.slice(0,-2),h=s.shape.slice(0,-2),m=x(p),d=x(h);v(a.rank>=2&&s.rank>=2&&a.rank===s.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+s.rank+"."}),v(C(p,h),function(){return"Error in matMul: outer dimensions ("+p+") and ("+h+") of Tensors with shapes "+a.shape+" and "+s.shape+" must match."}),v(o===l,function(){return"Error in matMul: inner shapes ("+o+") and ("+l+") of Tensors with shapes "+a.shape+" and "+s.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var f=a.shape.slice(0,-2).concat([u,c]),g=n?a.as3D(m,o,u):a.as3D(m,u,o),y=r?s.as3D(d,c,l):s.as3D(d,l,c);return Rt.runKernel(function(t,e){var i=t.batchMatMul(g,y,n,r);return e([g,y]),i},{$a:g,$b:y},function(t,e){var i=e[0],a=e[1];return n||r?!n&&r?{$a:function(){return t.matMul(a,!1,!1)},$b:function(){return t.matMul(i,!0,!1)}}:n&&!r?{$a:function(){return a.matMul(t,!1,!0)},$b:function(){return i.matMul(t,!1,!1)}}:{$a:function(){return a.matMul(t,!0,!0)},$b:function(){return t.matMul(i,!0,!0)}}:{$a:function(){return t.matMul(a,!1,!0)},$b:function(){return i.matMul(t,!0,!1)}}}).reshape(f)}}),Uo=Rn({dot_:function(t,e){var n=xn(t,"t1","dot"),r=xn(e,"t2","dot");v(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return v(i===a,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),jo=Rn({outerProduct_:function(t,e){var n=xn(t,"v1","outerProduct"),r=xn(e,"v2","outerProduct");return v(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Wo=Rn({reverse_:function(t,e){var n=xn(t,"x","reverse");if(0===n.rank)return n.clone();var r=N(e,n.shape);return Rt.runKernel(function(t){return t.reverse(n,r)},{$x:n},function(t){return{$x:function(){return t.reverse(r)}}}).reshapeAs(n)}}),Ho=Rn({reverse1d_:function(t){var e=xn(t,"x","reverse");return v(1===e.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),Wo(e,0)}}),qo=Rn({reverse2d_:function(t,e){var n=xn(t,"x","reverse");return v(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),Wo(n,e)}}),$o=Rn({reverse3d_:function(t,e){var n=xn(t,"x","reverse");return v(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),Wo(n,e)}}),Go=Rn({reverse4d_:function(t,e){var n=xn(t,"x","reverse");return v(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),Wo(n,e)}});function Ko(t,e,n,r,i,a){var s=xn(t,"x","maxPool"),o=s,l=!1;3===s.rank&&(l=!0,o=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),null==r&&(r=[1,1]),v(4===o.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+o.rank+"."}),v(hr(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=a&&v(S(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var u=rr(o.shape,e,n,r,i,a),c=Rt.runKernel(function(t,e){var n=t.maxPool(o,u);return e([o,n]),n},{x:o},function(t,a){var s=a[0],o=a[1];return{x:function(){return function(t,e,n,r,i,a,s,o){var l=xn(t,"dy","maxPoolBackprop"),u=xn(e,"input","maxPoolBackprop"),c=xn(n,"output","maxPoolBackprop");v(u.rank===l.rank,function(){return"Rank of input ("+u.rank+") does not match rank of dy ("+l.rank+")"}),null==a&&(a=[1,1]),v(hr(i,a),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"}),v(4===l.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."}),v(4===u.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+u.rank+"."});var p=rr(u.shape,r,i,a,s,void 0);return Rt.runKernel(function(t){return t.maxPoolBackprop(l,u,c,p)},{$dy:l,$input:u})}(t,s,o,e,n,r,i)}}});return l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function Yo(t,e,n,r,i,a){var s=xn(t,"x","avgPool","float32");null==r&&(r=[1,1]),v(hr(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var o=s,l=!1;3===s.rank&&(l=!0,o=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),v(4===o.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+o.rank+"."}),null!=a&&v(S(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var u=rr(o.shape,e,n,r,i,a),c=Rt.runKernel(function(t){return t.avgPool(o,u)},{x:o},function(t){return{x:function(){return function(t,e,n,r,i,a){var s=xn(t,"dy","avgPoolBackprop"),o=xn(e,"input","avgPoolBackprop");v(o.rank===s.rank,function(){return"Rank of input ("+o.rank+") does not match rank of dy ("+s.rank+")"}),null==i&&(i=[1,1]),v(hr(r,i),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"});var l=o,u=s,c=!1;3===o.rank&&(c=!0,l=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]),u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),v(4===u.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."}),v(4===l.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+"."});var p=rr(l.shape,n,r,i,a),h=Rt.runKernel(function(t){return t.avgPoolBackprop(u,l,p)},{dy4D:u,input4D:l});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}(t,o,e,n,r,i)}}});return c=c.cast(s.dtype),l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Xo=Rn({maxPool_:function(t,e,n,r,i){return Ko(t,e,n,1,r,i)}}),Qo=Rn({avgPool_:function(t,e,n,r,i){return Yo(t,e,n,1,r,i)}}),Zo=Rn({pool_:function(t,e,n,r,i,a){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var s=xn(t,"x","maxPool"),o=s,l=!1;3===s.rank&&(l=!0,o=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),v(hr(a,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"});var u,c=rr(o.shape,e,a,i,r),p=[c.dilationHeight,c.dilationWidth];u="same"===r?function(t,e){var n=[c.filterHeight,c.filterWidth].map(function(t,n){return t+(t-1)*(e[n]-1)}).map(function(t){return t-1}),r=n.map(function(t){return Math.floor(t/2)}),i=n.map(function(t,e){return t-r[e]});return n.map(function(t,e){return[r[e],i[e]]})}(0,p):[[0,0],[0,0]];var h=1===p[0]&&1===p[1],m=function(t,e,n){var r=n.map(function(t){return t[0]}),i=n.map(function(t){return t[1]}),a=t.concat(r,i),s=e.map(function(t,e){return(t-a[e]%t)%t}),o=i.map(function(t,e){return t+s[e]});return[e.map(function(t,e){return[r[e],o[e]]}),e.map(function(t,e){return[0,s[e]]})]}([c.inHeight,c.inWidth],p,u),d=m[1],f=h?r:"valid",g=h?o:li(o,p,m[0]),y=("avg"===n?function(){return Yo(g,e,a,1,f)}:function(){return Ko(g,e,a,1,f)})(),b=h?y:Hr(y,p,d);return l?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Jo=Rn({slice_:function(t,e,n){var r,i,a=xn(t,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");r="number"==typeof e?[e].concat(new Array(a.rank-1).fill(0)):e.length<a.rank?e.concat(new Array(a.rank-e.length).fill(0)):e.slice(),i=(i=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map(function(t,e){return t>=0?t:(v(-1===t,function(){return"Bad value in size"}),a.shape[e]-r[e])}),function(t,e,n){v(t.rank===e.length,function(){return"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."}),v(t.rank===n.length,function(){return"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+")."});for(var r=function(r){v(e[r]+n[r]<=t.shape[r],function(){return"Error in slice"+t.rank+"D: begin["+r+"] + size["+r+"] ("+(e[r]+n[r])+") would overflow input.shape["+r+"] ("+t.shape[r]+")"})},i=0;i<t.rank;++i)r(i)}(a,r,i);var s=a.shape;return Rt.runKernel(function(t){return t.slice(a,r,i)},{$x:a},function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],s[n]-r[n]-i[n]]);return{$x:function(){return t.pad(e)}}})}}),tl=Rn({slice1d_:function(t,e,n){var r=xn(t,"x","slice1d");return v(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),Jo(r,[e],[n])}}),el=Rn({slice2d_:function(t,e,n){var r=xn(t,"x","slice2d");return v(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),Jo(r,e,n)}}),nl=Rn({slice3d_:function(t,e,n){var r=xn(t,"x","slice3d");return v(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),Jo(r,e,n)}}),rl=Rn({slice4d_:function(t,e,n){var r=xn(t,"x","slice4d");return v(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),Jo(r,e,n)}});function il(t,e,n,r,i){return e.rank<n.rank&&(e=e.reshape(rn(e.shape,r))),t.rank<n.rank&&(t=t.reshape(rn(t.shape,r))),{$x:function(){var r=t.mul(n.equal(e).cast(t.dtype));return null==i?r:r.transpose(i)}}}var al=Rn({all_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","all","bool"),i=N(e,r.shape),a=i,s=sn(a,r.rank);null!=s&&(r=r.transpose(s),a=ln(a.length,r.rank));var o=Rt.runKernel(function(t){return t.all(r,a)},{$x:r});if(n){var l=rn(o.shape,i);return o.reshape(l)}return o}}),sl=Rn({any_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","any","bool"),i=N(e,r.shape),a=i,s=sn(a,r.rank);null!=s&&(r=r.transpose(s),a=ln(a.length,r.rank));var o=Rt.runKernel(function(t){return t.any(r,a)},{$x:r});if(n){var l=rn(o.shape,i);return o.reshape(l)}return o}}),ol=Rn({argMax_:function(t,e){void 0===e&&(e=0);var n=xn(t,"x","argMax");null==e&&(e=0);var r=N(e,n.shape),i=sn(r,n.rank);return null!=i&&(n=n.transpose(i),r=ln(r.length,n.rank)),Rt.runKernel(function(t,e){var i=t.argMax(n,r[0]);return e([n]),i},{$x:n},function(t,e){var n=e[0];return{$x:function(){return Qn(n)}}})}}),ll=Rn({argMin_:function(t,e){void 0===e&&(e=0);var n=xn(t,"x","argMin");null==e&&(e=0);var r=N(e,n.shape),i=sn(r,n.rank);return null!=i&&(n=n.transpose(i),r=ln(r.length,n.rank)),Rt.runKernel(function(t,e){var i=t.argMin(n,r[0]);return e([n]),i},{$x:n},function(t,e){var n=e[0];return{$x:function(){return Qn(n)}}})}}),ul=Rn({logSumExp_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","logSumExp"),i=N(e,r.shape),a=r.max(i,!0),s=r.sub(a).exp().sum(i).log(),o=a.reshape(s.shape).add(s);if(n){var l=rn(o.shape,i);return o.reshape(l)}return o}}),cl=Rn({max_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","max"),i=r,a=N(e,r.shape),s=a,o=sn(s,r.rank);null!=o&&(r=r.transpose(o),s=ln(s.length,r.rank));var l=Rt.runKernel(function(t,e){var n=t.max(r,s);return e([i,n]),n},{$x:r},function(t,e){return il(t,e[1],e[0],a,o)});if(n){var u=rn(l.shape,a);l=l.reshape(u)}return l}}),pl=Rn({mean_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","mean"),i=N(e,r.shape),a=x(nn(r.shape,i)[1]);return In(function(t){var r=zn(a);return{value:(r.dtype===t.dtype?t:t.cast(r.dtype)).div(r).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return i.forEach(function(t){n[t]=1}),e.reshape(n).mul(qn(t.shape,"float32")).div(a)}}})(r)}}),hl=Rn({min_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","min"),i=r,a=N(e,r.shape),s=a,o=sn(s,r.rank);null!=o&&(r=r.transpose(o),s=ln(s.length,r.rank));var l=Rt.runKernel(function(t,e){var n=t.min(r,s);return e([i,n]),n},{$x:r},function(t,e){return il(t,e[1],e[0],a,o)});if(n){var u=rn(l.shape,a);l=l.reshape(u)}return l}}),ml=Rn({moments_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=N(e,(t=xn(t,"x","moments")).shape),i=t.mean(r,n),a=i.shape;n||(a=rn(i.shape,r));var s=t.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:s.mean(r,n)}}}),dl=Rn({sum_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=N(e,r.shape);return In(function(t){var e=sn(i,t.rank),r=i,a=t;null!=e&&(a=t.transpose(e),r=ln(r.length,t.rank));var s=Rt.runKernel(function(t){return t.sum(a,r)},{permutedX:a});if(n){var o=rn(s.shape,i);s=s.reshape(o)}return{value:s,gradFunc:function(e){var n=t.shape.slice();return i.forEach(function(t){n[t]=1}),e.reshape(n).mul(qn(t.shape,"float32"))}}})(r)}}),fl=Rn({prod_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=xn(t,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=N(e,r.shape),a=sn(i,r.rank),s=i,o=r;null!=a&&(o=r.transpose(a),s=ln(s.length,r.rank));var l=Rt.runKernel(function(t){return t.prod(o,s)},{permutedX:o});if(n){var u=rn(l.shape,i);l=l.reshape(u)}return l}}),gl=Rn({equal_:function(t,e){var n,r=xn(t,"a","equal"),i=xn(e,"b","equal");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t){return t.equal(r,i)},{$a:r,$b:i})}}),yl=Rn({equalStrict_:function(t,e){var n=xn(t,"a","equalStrict"),r=xn(e,"b","equalStrict");return b(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),vl=Rn({greater_:function(t,e){var n,r=xn(t,"a","greater"),i=xn(e,"b","greater");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t){return t.greater(r,i)},{$a:r,$b:i})}}),bl=Rn({greaterEqual_:function(t,e){var n,r=xn(t,"a","greaterEqual"),i=xn(e,"b","greaterEqual");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t,e){var n=t.greaterEqual(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){return Qn(n)},$b:function(){return Qn(r)}}})}}),_l=Rn({greaterEqualStrict_:function(t,e){var n=xn(t,"a","greaterEqualStrict"),r=xn(e,"b","greaterEqualStrict");return b(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),wl=Rn({greaterStrict_:function(t,e){var n=xn(t,"a","greaterStrict"),r=xn(e,"b","greaterStrict");return b(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),xl=Rn({less_:function(t,e){var n,r=xn(t,"a","less"),i=xn(e,"b","less");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t){return t.less(r,i)},{$a:r,$b:i})}}),Cl=Rn({lessEqual_:function(t,e){var n,r=xn(t,"a","lessEqual"),i=xn(e,"b","lessEqual");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t){return t.lessEqual(r,i)},{$a:r,$b:i})}}),Sl=Rn({lessEqualStrict_:function(t,e){var n=xn(t,"a","lessEqualStrict"),r=xn(e,"b","lessEqualStrict");return b(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),El=Rn({lessStrict_:function(t,e){var n=xn(t,"a","lessStrict"),r=xn(e,"b","lessStrict");return b(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),kl=Rn({notEqual_:function(t,e){var n,r=xn(t,"a","notEqual"),i=xn(e,"b","notEqual");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t){return t.notEqual(r,i)},{$a:r,$b:i})}}),Al=Rn({notEqualStrict_:function(t,e){var n=xn(t,"a","notEqualStrict"),r=xn(e,"b","notEqualStrict");return b(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}}),Tl=Rn({add_:function(t,e){var n,r=xn(t,"a","add"),i=xn(e,"b","add");n=St(r,i);var a=nr((r=n[0]).shape,(i=n[1]).shape);return Rt.runKernel(function(t){return t.add(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=t,n=er(r.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},$b:function(){var e=t,n=er(i.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(i.shape)}}})}}),Il=Rn({addN_:function(t){v(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),v(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(t,e){return xn(t,"tensors"+e,"addN")}),n=e[0];return e.forEach(function(t){if(t.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(t){if(!C(t.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),Rt.runKernel(function(t){return t.addN(e)},e,function(t){var n={};return e.forEach(function(e,r){n[r]=function(){return t.clone()}}),n})}}),Nl=Rn({addStrict_:function(t,e){var n=xn(t,"a","addStrict"),r=xn(e,"b","addStrict");return b(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Rl=Rn({atan2_:function(t,e){var n,r=xn(t,"a","atan2"),i=xn(e,"b","atan2");n=St(r,i);var a=nr((r=n[0]).shape,(i=n[1]).shape);return Rt.runKernel(function(t,e){var n=t.atan2(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=Tl(n.square(),r.square()),i=t.mul(r.div(e)),s=er(n.shape,a);return s.length>0&&(i=i.sum(s)),i.reshape(n.shape)},$b:function(){var e=Tl(n.square(),r.square()),i=Zs(t.mul(n.div(e))),s=er(r.shape,a);return s.length>0&&(i=i.sum(s)),i.reshape(r.shape)}}})}}),Dl=Rn({div_:function(t,e){var n,r=xn(t,"a","div"),i=xn(e,"b","div");if(n=St(r,i),i=n[1],"int32"===(r=n[0]).dtype&&"int32"===i.dtype)return Ml(r,i);var a=nr(r.shape,i.shape);return Rt.runKernel(function(t,e){var n=t.realDivide(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=t.div(r.toFloat()),i=er(n.shape,a);return i.length>0?e.sum(i).reshape(n.shape):e},$b:function(){var e=t.mul(n.toFloat()),i=er(r.shape,a);i.length>0&&(e=e.sum(i).reshape(r.shape));var s=r.square();return e.div(s.toFloat()).neg()}}})}}),Ol=Rn({divStrict_:function(t,e){var n=xn(t,"a","div"),r=xn(e,"b","div");return b(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Ml=Rn({floorDiv_:function(t,e){var n,r=xn(t,"a","floorDiv"),i=xn(e,"b","floorDiv");n=St(r,i);var a=nr((r=n[0]).shape,(i=n[1]).shape);return Rt.runKernel(function(t,e){var n=t.floorDiv(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=t.div(r.toFloat()),i=er(n.shape,a);return i.length>0?e.sum(i).reshape(n.shape):e},$b:function(){var e=t.mul(n.toFloat()),i=er(r.shape,a);i.length>0&&(e=e.sum(i).reshape(r.shape));var s=r.square();return e.div(s.toFloat()).neg()}}})}}),Fl=Rn({maximum_:function(t,e){var n,r=xn(t,"a","maximum"),i=xn(e,"b","maximum");return n=St(r,i),i=n[1],"bool"===(r=n[0]).dtype&&(r=r.toInt(),i=i.toInt()),nr(r.shape,i.shape),Rt.runKernel(function(t,e){var n=t.maximum(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){return t.mul(n.greaterEqual(r).toFloat())},$b:function(){return t.mul(n.less(r).toFloat())}}})}}),Ll=Rn({maximumStrict_:function(t,e){var n=xn(t,"a","maximumStrict"),r=xn(e,"b","maximumStrict");return b(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Pl=Rn({minimum_:function(t,e){var n,r=xn(t,"a","minimum"),i=xn(e,"b","minimum");return n=St(r,i),i=n[1],"bool"===(r=n[0]).dtype&&(r=r.toInt(),i=i.toInt()),nr(r.shape,i.shape),Rt.runKernel(function(t,e){var n=t.minimum(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){return t.mul(n.lessEqual(r).toFloat())},$b:function(){return t.mul(n.greater(r).toFloat())}}})}}),zl=Rn({minimumStrict_:function(t,e){var n=xn(t,"a","minimumStrict"),r=xn(e,"b","minimumStrict");return b(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Bl=Rn({mod_:function(t,e){var n,r=xn(t,"a","mod"),i=xn(e,"b","mod");n=St(r,i);var a=nr((r=n[0]).shape,(i=n[1]).shape);return Rt.runKernel(function(t,e){var n=t.mod(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=er(n.shape,a);return e.length>0?t.sum(e).reshape(n.shape):t},$b:function(){var e=t.mul(n.div(r).floor().neg()),i=er(r.shape,a);return i.length>0?e.sum(i).reshape(r.shape):e}}})}}),Vl=Rn({modStrict_:function(t,e){var n=xn(t,"a","modStrict"),r=xn(e,"b","modStrict");return b(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Ul=Rn({mul_:function(t,e){var n,r=xn(t,"a","mul"),i=xn(e,"b","mul");n=St(r,i);var a=nr((r=n[0]).shape,(i=n[1]).shape);return Rt.runKernel(function(t,e){var n=t.multiply(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1];return{$a:function(){var e=t.mul(r.toFloat()),i=er(n.shape,a);return i.length>0?e.sum(i).reshape(n.shape):e},$b:function(){var e=t.mul(n.toFloat()),i=er(r.shape,a);return i.length>0?e.sum(i).reshape(r.shape):e}}})}}),jl=Rn({mulStrict_:function(t,e){var n=xn(t,"a","mul"),r=xn(e,"b","mul");return b(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Wl=Rn({pow_:function(t,e){var n=xn(t,"base","pow"),r=xn(e,"exp","pow"),i=nr(n.shape,r.shape);return t=n.cast(xt(n.dtype,r.dtype)),e=r.cast(xt(n.dtype,r.dtype)),Rt.runKernel(function(t,e){var i=t.pow(n,r);return e([n,r,i]),i},{$base:n,$exp:r},function(t,e){var n=e[0],r=e[1],a=e[2];return{$base:function(){var e=r.toFloat(),a=t.mul(e.mul(n.pow(e.sub(zn(1))))),s=er(n.shape,i);return s.length>0&&(a=a.sum(s)),a.reshape(n.shape)},$exp:function(){var e=n.greater(0),s=n.log().where(e,Qn(n)),o=t.mul(a.mul(s)),l=er(r.shape,i);return l.length>0&&(o=o.sum(l)),o.reshape(r.shape)}}})}}),Hl=Rn({powStrict_:function(t,e){return b(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),ql=Rn({squaredDifference_:function(t,e){var n,r=xn(t,"a","squaredDifference"),i=xn(e,"b","squaredDifference");return n=St(r,i),nr((r=n[0]).shape,(i=n[1]).shape),Rt.runKernel(function(t,e){var n=t.squaredDifference(r,i);return e([r,i]),n},{$a:r,$b:i},function(t,e){var n=e[0],r=e[1],i=zn(2);return{$a:function(){return t.mul(n.sub(r).mul(i))},$b:function(){return t.mul(r.sub(n).mul(i))}}})}}),$l=Rn({squaredDifferenceStrict_:function(t,e){var n=xn(t,"a","squaredDifferenceStrict"),r=xn(e,"b","squaredDifferenceStrict");return b(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Gl=Rn({sub_:function(t,e){var n,r=xn(t,"a","sub"),i=xn(e,"b","sub");n=St(r,i);var a=nr((r=n[0]).shape,(i=n[1]).shape);return Rt.runKernel(function(t){return t.subtract(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=t,n=er(r.shape,a);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},$b:function(){var e=t,n=er(i.shape,a);return n.length>0&&(e=e.sum(n)),e.neg().reshape(i.shape)}}})}}),Kl=Rn({subStrict_:function(t,e){var n=xn(t,"a","subStrict"),r=xn(e,"b","subStrict");return b(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Yl=Rn({logicalAnd_:function(t,e){var n=xn(t,"a","logicalAnd","bool"),r=xn(e,"b","logicalAnd","bool");return nr(n.shape,r.shape),Rt.runKernel(function(t){return t.logicalAnd(n,r)},{$a:n,$b:r})}}),Xl=Rn({logicalNot_:function(t){var e=xn(t,"x","logicalNot","bool");return Rt.runKernel(function(t){return t.logicalNot(e)},{$x:e})}}),Ql=Rn({logicalOr_:function(t,e){var n=xn(t,"a","logicalOr","bool"),r=xn(e,"b","logicalOr","bool");return nr(n.shape,r.shape),Rt.runKernel(function(t){return t.logicalOr(n,r)},{$a:n,$b:r})}}),Zl=Rn({logicalXor_:function(t,e){var n=xn(t,"a","logicalXor","bool"),r=xn(e,"b","logicalXor","bool");return nr(n.shape,r.shape),Ql(t,e).logicalAnd(Yl(t,e).logicalNot())}}),Jl=Rn({where_:function(t,e,n){var r=xn(e,"a","where"),i=xn(n,"b","where"),a=xn(t,"condition","where","bool");return b(r.shape,i.shape,"Error in where: "),1===a.rank?v(a.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):b(a.shape,i.shape,"Error in where: "),Rt.runKernel(function(t,e){var n=t.select(a,r,i);return e([a]),n},{$condition:a,$a:r,$b:i},function(t,e){var n=e[0];return{$condition:function(){return Qn(n).toFloat()},$a:function(){return t.mul(n.cast(t.dtype))},$b:function(){return t.mul(n.logicalNot().cast(t.dtype))}}})}}),tu=function(t){return o(this,void 0,void 0,function(){var e,n,r;return l(this,function(i){switch(i.label){case 0:return[4,(e=xn(t,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=fi(e.shape,n),t!==e&&e.dispose(),[2,r]}})})},eu=Rn({elu_:function(t){var e=xn(t,"x","elu");return Rt.runKernel(function(t,n){var r=t.elu(e);return n([r]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return Rt.runKernel(function(e){return e.eluDer(t,n)},{dy:t,y:n})}}})}}),nu=Rn({leakyRelu_:function(t,e){void 0===e&&(e=.2);var n=xn(t,"x","leakyRelu");return Fl(zn(e).mul(n),n)}}),ru=Rn({prelu_:function(t,e){var n=xn(t,"x","prelu"),r=xn(e,"alpha","prelu");return Rt.runKernel(function(t,e){var i=t.prelu(n,r);return e([n,r]),i},{$x:n,$alpha:r},function(t,e){var n=e[0],r=e[1],i=n.greater(0);return{$x:function(){return Jl(i,t,t.mul(r))},$alpha:function(){var e=Jl(i,Qn(t),t.mul(n)),a=er(r.shape,t.shape);return a.length>0&&(e=e.sum(a)),e.reshape(r.shape)}}})}}),iu=Rn({relu_:function(t){var e=xn(t,"x","relu");return"bool"===e.dtype?e.toInt():Rt.runKernel(function(t,n){var r=t.relu(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mulStrict(n.step().toFloat())}}})}}),au=Rn({selu_:function(t){var e=xn(t,"x","selu");return Rt.runKernel(function(t,n){var r=t.selu(e);return n([e]),r},{$x:e},function(t,e){var n=e[0];return{$x:function(){var e=n.greater(zn(0)),r=zn(1.7580993408473768),i=zn(1.0507009873554805),a=t.mul(i),s=t.mul(r).mul(n.toFloat().exp());return Jl(e,a,s)}}})}}),su=Rn({transpose_:function(t,e){var n=xn(t,"x","transpose");return null==e&&(e=n.shape.map(function(t,e){return e}).reverse()),v(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."}),e.forEach(function(t){v(t>=0&&t<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e})}),n.rank<=1?n.clone():Rt.runKernel(function(t){return t.transpose(n,e)},{$x:n},function(t){var n=on(e);return{$x:function(){return t.transpose(n)}}})}}),ou=Rn({localResponseNormalization_:function(t,e,n,r,i){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var a=xn(t,"x","localResponseNormalization");v(4===a.rank||3===a.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."}),v(S(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var s=a,o=!1;3===a.rank&&(o=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var l=Rt.runKernel(function(t,a){var o=t.localResponseNormalization4D(s,e,n,r,i);return a([s,o]),o},{x4D:s},function(t,a){var s=a[0],o=a[1];return{x4D:function(){return Rt.runKernel(function(a){return a.LRNGrad(t,s,o,e,n,r,i)},{})}}});return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),lu=Rn({norm_:function(t,e,n,r){void 0===e&&(e="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function t(e,n,r){if(void 0===r&&(r=null),0===e.rank)return e.abs();if(1!==e.rank&&null===r)return t(e.reshape([-1]),n,r);if(1===e.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return e.abs().sum(r);if(n===1/0)return e.abs().max(r);if(n===-1/0)return e.abs().min(r);if("euclidean"===n||2===n)return e.abs().pow(zn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return e.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return e.abs().sum(r[1]).max(r[0]);if(n===-1/0)return e.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return e.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(t=xn(t,"x","norm"),e,n),a=i.shape;if(r){var s=N(n,t.shape);a=rn(i.shape,s)}return i.reshape(a)}});function uu(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function cu(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var pu=Rn({gather_:function(t,e,n){void 0===n&&(n=0);var r=xn(t,"x","gather"),i=xn(e,"indices","gather","int32");n=N(n,r.shape)[0];var a=function(t,e,n){for(var r=t.shape[n],i=[],a=1,s=1,o=0;o<n;o++)i.push(t.shape[o]),a*=t.shape[o];for(o=0;o<e.rank;o++)i.push(e.shape[o]);for(o=n+1;o<t.rank;o++)i.push(t.shape[o]),s*=t.shape[o];return{batchSize:a,sliceSize:s,dimSize:r,outputShape:i}}(r,i,n);return Rt.runKernel(function(t,e){var a=t.gather(r,i.flatten(),n);return e([i]),a},{$x:r},function(t,e){var i=e[0];return{$x:function(){var e=r.shape,a=i.size,s=e.slice(0,n),o=s.length,l=e.slice(n,e.length).slice(1),u=l.length,c=uu(0,o),p=uu(o+1,o+1+u),h=cu([s,[a],l]),m=t.reshape(h),d=i.reshape([a]),f=cu([[o],c,p]),g=m.transpose(f),y=hu(g,d,r.shape[n]),v=on(f);return y.transpose(v)}}}).reshape(a.outputShape)}}),hu=Rn({unsortedSegmentSum_:function(t,e,n){var r=xn(t,"x","unsortedSegmentSum"),i=xn(e,"segmentIds","unsortedSegmentSum","int32");return v(S(n),function(){return"numSegments must be of dtype int"}),Rt.runKernel(function(t,e){var a=t.unsortedSegmentSum(r,i,n);return e([i]),a},{$x:r},function(t,e){var n=e[0];return{$x:function(){return function(t,e){for(var n=Fl(e,Qn(e)),r=pu(t,n),i=bl(e,zn(0,"int32")),a=r.rank-i.rank,s=0;s<a;++s)i=Yr(i,s+1);i=Yl(i,qn(r.shape,"bool"));var o=Qn(r);return Jl(i,r,o)}(t,n)}}})}}),mu=Rn({basicLSTMCell_:function(t,e,n,r,i,a){var s=xn(t,"forgetBias","basicLSTMCell"),o=xn(e,"lstmKernel","basicLSTMCell"),l=xn(n,"lstmBias","basicLSTMCell"),u=xn(r,"data","basicLSTMCell"),c=xn(i,"c","basicLSTMCell"),p=xn(a,"h","basicLSTMCell"),h=u.concat(p,1).matMul(o).add(l),m=h.shape[1]/4,d=[h.shape[0],m],f=h.slice([0,0],d),g=h.slice([0,m],d),y=h.slice([0,2*m],d),v=h.slice([0,3*m],d),b=f.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(s.add(y).sigmoid())),_=b.tanh().mulStrict(v.sigmoid());return[b,_]}}),du=Rn({multiRNNCell_:function(t,e,n,r){for(var i=xn(e,"data","multiRNNCell"),a=Cn(n,"c","multiRNNCell"),s=Cn(r,"h","multiRNNCell"),o=i,l=[],u=0;u<t.length;u++){var c=t[u](o,a[u],s[u]);l.push(c[0]),l.push(c[1]),o=c[1]}var p=[],h=[];for(u=0;u<l.length;u+=2)p.push(l[u]),h.push(l[u+1]);return[p,h]}}),fu=Rn({movingAverage_:function(t,e,n,r,i){void 0===i&&(i=!0);var a=xn(t,"v","movingAverage"),s=xn(e,"x","movingAverage"),o=xn(n,"decay","movingAverage");Et(a,s),v(C(a.shape,s.shape),function(){return"Shape mismatch in v and x"});var l=zn(1),u=l.sub(o),c=s.sub(a).mul(u);if(i){v(null!=r,function(){return"When using zeroDebias: true, step is required."});var p=xn(r,"step","movingAverage");c=c.div(l.sub(Wl(o,p)))}return a.add(c)}}),gu=Rn({stridedSlice_:function(t,e,n,r,i,a,s,o,l){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===l&&(l=0),0!==s)throw new Error("ellipsis mask is not yet supported");if(0!==o)throw new Error("new axis mask is not yet supported");var u=xn(t,"x","stridedSlice");if(r.every(function(t){return 1===t})){var c=fn(u.shape,e,n,r,i,a,s,o,l),p=c[0],h=c[1],m=c[2],d=h.filter(function(t,e){return-1===m.indexOf(e)});return Jo(u,p,h).reshape(d)}return Rt.runKernel(function(t){return t.stridedSlice(u,e,n,r,i,a,s,o,l)},{$x:u})}}),yu=Rn({topk_:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var r=xn(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(e>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+e);var a=Rt.runKernel(function(t){return t.topk(r,e,n)},{$x:r});return{values:a[0],indices:a[1]}}}),vu=Rn({scatterND_:function(t,e,n){var r=xn(t,"indices","scatterND","int32"),i=xn(e,"updates","scatterND");return function(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==e.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===e.size)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(0===t.size)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}!function(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(a+" update.rank < "+i+". ");if(t.length<r+(n.rank-i))throw new Error(a+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+t.length-r)throw new Error(a+" update.rank != "+(i+t.length-r));for(var s=0;s<i;++s)if(n.shape[s]!==e.shape[s])throw new Error(a+" updates.shape["+s+"] ("+n.shape[s]+") != indices.shape["+s+"] ("+e.shape[s]+").");for(s=0;s<n.rank-i;++s)if(n.shape[s+i]!==t[s+r])throw new Error(a+" updates.shape["+(s+i)+"] ("+n.shape[s+i]+") != shape["+(s+i)+"] ("+t[s+i]+")")}(n,e,t)}(i,r,n),Rt.runKernel(function(t){return t.scatterND(r,i,n)},{$indices:r,$updates:i})}}),bu=Rn({fft_:function(t){v("complex64"===t.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.as2D(t.size/e,e);return Rt.runKernel(function(t){return t.fft(n)},{input:t}).reshape(t.shape)}}),_u=Rn({ifft_:function(t){v("complex64"===t.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.as2D(t.size/e,e);return Rt.runKernel(function(t){return t.ifft(n)},{input:t}).reshape(t.shape)}}),wu=Rn({rfft_:function(t,e){v("float32"===t.dtype,function(){return"The dtype for rfft() must be real value but got "+t.dtype});var n,r=t.shape[t.shape.length-1],i=t.size/r;if(null!=e&&e<r){var a=t.shape.map(function(t){return 0}),s=t.shape.map(function(t){return t});s[t.shape.length-1]=e,n=t.slice(a,s),r=e}else if(null!=e&&e>r){var o=t.shape.map(function(t){return t});o[t.shape.length-1]=e-r,n=t.concat($n(o),t.shape.length-1),r=e}else n=t;var l=n.zerosLike(),u=Mn(n,l).as2D(i,r),c=bu(u),p=Math.floor(r/2)+1,h=Fn(c),m=Ln(c),d=h.split([p,r-p],h.shape.length-1),f=m.split([p,r-p],m.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=p,Mn(d[0],f[0]).reshape(g)}}),xu=Rn({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),i=_u(r);return Fn(i)}var a=[n,2*(e-1)],s=Fn(t).as2D(n,e),o=Ln(t).as2D(n,e),l=s.slice([0,1],[n,e-2]).reverse(1),u=o.slice([0,1],[n,e-2]).reverse(1).mul(zn(-1)),c=s.concat(l,1),p=o.concat(u,1);return r=Mn(c,p).as2D(a[0],a[1]),i=_u(r),Fn(i)}}),Cu=Object.freeze({fft:bu,ifft:_u,rfft:wu,irfft:xu}),Su=Rn({sparseToDense_:function(t,e,n,r){void 0===r&&(r=0);var i=xn(t,"sparseIndices","sparseToDense","int32"),a=xn(e,"sparseValues","sparseToDense"),s=xn(r,"defaultValue","sparseToDense",a.dtype);return function(t,e,n,r){if("int32"!==t.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+t.shape+".");var i=t.rank>0?t.shape[0]:1,a=t.rank>1?t.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");if(0!==e.rank&&(1!==e.rank||e.size!==i))throw new Error("sparseValues has incorrect shape "+e.shape+", should be [] or ["+i+"]");if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,n,s),Rt.runKernel(function(t){return t.sparseToDense(i,a,n,s)},{$sparseIndices:i,$sparseValues:a,$defaultValue:s})}}),Eu=Rn({gatherND_:function(t,e){var n=xn(e,"indices","gatherND","int32"),r=xn(t,"x","gatherND");return Rt.runKernel(function(t){return t.gatherND(r,n)},{$x:r,$indices:n})}}),ku=Rn({dropout_:function(t,e,n,r){if(null!=n&&!C(t.shape,n))throw new Error("Non-default noise shape is not implemented yet: "+JSON.stringify(n));var i=si(t.shape,0,1,"float32",r).greater(e);return i=i.div(Gl(1,e)),t.mul(i)}});function Au(t,e,n){for(var r=1-t%2,i=new Float32Array(t),a=0;a<t;++a){var s=2*Math.PI*a/(t+r-1);i[a]=e-n*Math.cos(s)}return Bn(i,"float32")}var Tu,Iu=Rn({hannWindow_:function(t){return Au(t,.5,.5)}}),Nu=Rn({hammingWindow_:function(t){return Au(t,.54,.46)}}),Ru=Rn({frame_:function(t,e,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var a=0,s=[];a+e<=t.size;)s.push(Jo(t,a,e)),a+=n;if(r){var o=a+e-t.size,l=Er([Jo(t,a,e-o),Gn([o],i)]);s.push(l)}return 0===s.length?Vn([],[0,e]):Er(s).as2D(s.length,e)}}),Du=Object.freeze({hannWindow:Iu,hammingWindow:Nu,frame:Ru});!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Tu||(Tu={}));var Ou=Rn({absoluteDifference_:function(t,e,n,r){void 0===r&&(r=Tu.SUM_BY_NONZERO_WEIGHTS);var i=xn(t,"labels","absoluteDifference"),a=xn(e,"predictions","absoluteDifference"),s=null;null!=n&&(s=xn(n,"weights","absoluteDifference")),b(i.shape,a.shape,"Error in absoluteDifference: ");var o=i.sub(a).abs();return Mu(o,s,r)}}),Mu=Rn({computeWeightedLoss_:function(t,e,n){void 0===n&&(n=Tu.SUM_BY_NONZERO_WEIGHTS);var r=xn(t,"losses","computeWeightedLoss"),i=null;null!=e&&(i=xn(e,"weights","computeWeightedLoss"));var a=null==i?r:r.mul(i);if(n===Tu.NONE)return a;if(n===Tu.SUM)return a.sum();if(n===Tu.MEAN){if(null==i)return a.mean();var s=r.size/i.size,o=a.sum().div(i.sum());return s>1?o.div(zn(s)):o}if(n===Tu.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(zn(r.size));var l=i.mul(qn(r.shape)).notEqual(zn(0)).sum().toFloat();return a.sum().div(l)}throw Error("Unknown reduction: "+n)}}),Fu=Rn({cosineDistance_:function(t,e,n,r,i){void 0===i&&(i=Tu.SUM_BY_NONZERO_WEIGHTS);var a=xn(t,"labels","cosineDistance"),s=xn(e,"predictions","cosineDistance"),o=null;null!=r&&(o=xn(r,"weights","cosineDistance")),b(a.shape,s.shape,"Error in cosineDistance: ");var l=zn(1).sub(a.mul(s).sum(n,!0));return Mu(l,o,i)}}),Lu=Rn({hingeLoss_:function(t,e,n,r){void 0===r&&(r=Tu.SUM_BY_NONZERO_WEIGHTS);var i=xn(t,"labels","hingeLoss"),a=xn(e,"predictions","hingeLoss"),s=null;null!=n&&(s=xn(n,"weights","hingeLoss")),b(i.shape,a.shape,"Error in hingeLoss: ");var o=zn(1);i=zn(2).mul(i).sub(o);var l=o.sub(i.mul(a)).relu();return Mu(l,s,r)}}),Pu=Rn({huberLoss_:function(t,e,n,r,i){void 0===r&&(r=1),void 0===i&&(i=Tu.SUM_BY_NONZERO_WEIGHTS);var a=xn(t,"labels","huberLoss"),s=xn(e,"predictions","huberLoss"),o=null;null!=n&&(o=xn(n,"weights","huberLoss")),b(a.shape,s.shape,"Error in huberLoss: ");var l=zn(r),u=s.sub(a).abs(),c=Pl(u,l),p=u.sub(c),h=zn(.5).mul(c.square()).add(l.mul(p));return Mu(h,o,i)}}),zu=Rn({logLoss_:function(t,e,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=Tu.SUM_BY_NONZERO_WEIGHTS);var a=xn(t,"labels","logLoss"),s=xn(e,"predictions","logLoss"),o=null;null!=n&&(o=xn(n,"weights","logLoss")),b(a.shape,s.shape,"Error in logLoss: ");var l=zn(1),u=zn(r),c=a.mul(s.add(u).log()).neg().sub(l.sub(a).mul(l.sub(s).add(u).log()));return Mu(c,o,i)}}),Bu=Rn({meanSquaredError_:function(t,e,n,r){void 0===r&&(r=Tu.SUM_BY_NONZERO_WEIGHTS);var i=xn(t,"labels","meanSquaredError"),a=xn(e,"predictions","meanSquaredError"),s=null;null!=n&&(s=xn(n,"weights","meanSquaredError")),b(i.shape,a.shape,"Error in meanSquaredError: ");var o=i.squaredDifference(a);return Mu(o,s,r)}}),Vu=Rn({sigmoidCrossEntropy_:function(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Tu.SUM_BY_NONZERO_WEIGHTS);var a=xn(t,"multiClassLabels","sigmoidCrossEntropy"),s=xn(e,"logits","sigmoidCrossEntropy"),o=null;if(null!=n&&(o=xn(n,"weights","sigmoidCrossEntropy")),b(a.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=zn(r),u=zn(1),c=zn(.5);a=a.mul(u.sub(l)).add(c.mul(l))}var p=function(t,e){var n=xn(t,"labels","sigmoidCrossEntropyWithLogits"),r=xn(e,"logits","sigmoidCrossEntropyWithLogits");b(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),a=r.mul(n),s=r.abs().neg().exp().log1p();return i.sub(a).add(s)}(a,s);return Mu(p,o,i)}}),Uu=Rn({softmaxCrossEntropy_:function(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Tu.SUM_BY_NONZERO_WEIGHTS);var a=xn(t,"onehotLabels","softmaxCrossEntropy"),s=xn(e,"logits","softmaxCrossEntropy"),o=null;if(null!=n&&(o=xn(n,"weights","softmaxCrossEntropy")),b(a.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){var l=zn(r),u=zn(1),c=zn(a.shape[1]);a=a.mul(u.sub(l)).add(l.div(c))}var p=function(t,e,n){if(void 0===n&&(n=-1),-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+e.rank+" and dim was "+n);return In(function(t,e,r){var i=e.logSumExp([n],!0),a=e.toFloat().sub(i);return r([t,a]),{value:a.mul(t).neg().sum([n]),gradFunc:function(t,e){var r=e[0],i=e[1],a=rn(t.shape,[n]);return[t.reshape(a).mul(r.toFloat().sub(i.exp())),t.reshape(a).mul(i.exp().sub(r.toFloat()))]}}})(t,e)}(a,s);return Mu(p,o,i)}}),ju=Object.freeze({get Reduction(){return Tu},absoluteDifference:Ou,computeWeightedLoss:Mu,cosineDistance:Fu,hingeLoss:Lu,huberLoss:Pu,logLoss:zu,meanSquaredError:Bu,sigmoidCrossEntropy:Vu,softmaxCrossEntropy:Uu});function Wu(t,e){return void 0===e&&(e=!1),Rt.tidy(function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],i=Xr(n),a=t.clone(),s=Vn([[1]],[1,1]),o=s.clone(),l=n>=r?r:n,u=function(t){var e,l=a,u=o,c=i;e=Rt.tidy(function(){var e=a.slice([t,t],[n-t,1]),l=e.norm(),u=a.slice([t,t],[1,1]),c=u.sign().neg(),p=u.sub(c.mul(l)),h=e.div(p);o=1===h.shape[0]?s.clone():s.concat(h.slice([1,0],[h.shape[0]-1,h.shape[1]]),0);var m=c.matMul(p).div(l).neg(),d=a.slice([t,0],[n-t,r]),f=m.mul(o);a=0===t?d.sub(f.matMul(o.transpose().matMul(d))):a.slice([0,0],[t,r]).concat(d.sub(f.matMul(o.transpose().matMul(d))),0);var g=i.slice([0,t],[n,i.shape[1]-t]);return i=0===t?g.sub(g.matMul(o).matMul(f.transpose())):i.slice([0,0],[n,t]).concat(g.sub(g.matMul(o).matMul(f.transpose())),1),[o,a,i]}),o=e[0],a=e[1],i=e[2],Le([l,u,c])},c=0;c<l;++c)u(c);return!e&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]})}var Hu=Rn({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,v(null!=t&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=t[0].shape[0],r=function(e){v(t[e].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[e].shape[0]+" vs. "+n+")"})},i=1;i<t.length;++i)r(i)}else e=!0,t=Nr(t,t.shape[0],0).map(function(t){return ui(t,[0])});v(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."});var a=[],s=t,o=function(t){a.push(Rt.tidy(function(){var e=s[t];if(t>0)for(var n=0;n<t;++n){var r=dl(a[n].mulStrict(e)).mul(a[n]);e=e.sub(r)}return e.div(lu(e,"euclidean"))}))};for(i=0;i<t.length;++i)o(i);return e?ci(a,0):a}}),qu=Rn({qr_:function(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(2===t.rank)return Wu(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(t,e){return t*e}),r=mi(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],a=[];return r.forEach(function(t){var n=Wu(t,e),r=n[1];i.push(n[0]),a.push(r)}),[ci(i,0).reshape(t.shape),ci(a,0).reshape(t.shape)]}}),$u=Object.freeze({gramSchmidt:Hu,qr:qu});function Gu(t,e,n,r,i){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY);var a=t.shape[0];return n=Math.min(n,a),v(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),v(2===t.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),v(4===t.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),v(1===e.rank,function(){return"scores must be a 1D tensor"}),v(e.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+e.shape[0]}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i}}var Ku=Rn({resizeBilinear_:function(t,e,n){void 0===n&&(n=!1);var r=xn(t,"images","resizeBilinear");v(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),v(2===e.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var s=e[0],o=e[1],l=Rt.runKernel(function(t,e){return e([i]),t.resizeBilinear(i,s,o,n)},{batchImages:i},function(t,e){return{batchImages:function(){return Rt.runKernel(function(r){return r.resizeBilinearBackprop(t,e[0],n)},{})}}});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Yu=Rn({resizeNearestNeighbor_:function(t,e,n){void 0===n&&(n=!1);var r=xn(t,"images","resizeNearestNeighbor");v(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),v(2===e.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),v("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var s=e[0],o=e[1],l=Rt.runKernel(function(t,e){return e([i]),t.resizeNearestNeighbor(i,s,o,n)},{batchImages:i},function(t,e){return{batchImages:function(){return Rt.runKernel(function(r){return r.resizeNearestNeighborBackprop(t,e[0],n)},{})}}});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),Xu=Rn({nonMaxSuppression_:function(t,e,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=xn(t,"boxes","nonMaxSuppression"),s=xn(e,"scores","nonMaxSuppression"),o=Gu(a,s,n,r,i);return n=o.maxOutputSize,r=o.iouThreshold,i=o.scoreThreshold,Rt.runKernel(function(t){return t.nonMaxSuppression(a,s,n,r,i)},{$boxes:a})}}),Qu=Rn({cropAndResize_:function(t,e,n,r,i,a){var s=xn(t,"image","cropAndResize","float32"),o=xn(e,"boxes","cropAndResize","float32"),l=xn(n,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var u=o.shape[0];return v(4===s.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+s.rank+"."}),v(2===o.rank&&4===o.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+o.shape+"."}),v(1===l.rank&&l.shape[0]===u,function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+o.shape+"."}),v(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),v(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),v("bilinear"===i||"nearest"===i,function(){return"method must be bilinear or nearest, but was "+i}),Rt.runKernel(function(t,e){return t.cropAndResize(s,o,l,r,i,a)},{$image:s,$boxes:o})}}),Zu=Object.freeze({resizeBilinear:Ku,resizeNearestNeighbor:Yu,nonMaxSuppression:Xu,nonMaxSuppressionAsync:function(t,e,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),o(this,void 0,void 0,function(){var a,s,o,u,c,p;return l(this,function(l){switch(l.label){case 0:return a=xn(t,"boxes","nonMaxSuppressionAsync"),s=xn(e,"scores","nonMaxSuppressionAsync"),o=Gu(a,s,n,r,i),n=o.maxOutputSize,r=o.iouThreshold,i=o.scoreThreshold,[4,a.data()];case 1:return u=l.sent(),[4,s.data()];case 2:return c=l.sent(),p=wr(u,c,n,r,i),a!==t&&a.dispose(),s!==e&&s.dispose(),[2,p]}})})},cropAndResize:Qu}),Ju=Rn({matMul_:function(t,e,n,r,i,a){var s;void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a="linear");var o=xn(t,"a","fused matMul"),l=xn(e,"b","fused matMul");s=St(o,l),o=s[0],l=s[1];var u=n?o.shape[o.rank-2]:o.shape[o.rank-1],c=r?l.shape[l.rank-1]:l.shape[l.rank-2],p=n?o.shape[o.rank-1]:o.shape[o.rank-2],h=r?l.shape[l.rank-2]:l.shape[l.rank-1],m=o.shape.slice(0,-2),d=l.shape.slice(0,-2),f=x(m),g=x(d);v(o.rank>=2&&l.rank>=2&&o.rank===l.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+l.rank+"."}),v(C(m,d),function(){return"Error in fused matMul: outer dimensions ("+m+") and ("+d+") of Tensors with shapes "+o.shape+" and "+l.shape+" must match."}),v(u===c,function(){return"Error in fused matMul: inner shapes ("+u+") and ("+c+") of Tensors with shapes "+o.shape+" and "+l.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var y,b=o.shape.slice(0,-2).concat([p,h]),_=n?o.as3D(f,u,p):o.as3D(f,p,u),w=r?l.as3D(g,h,c):l.as3D(g,c,h);null!=i&&nr(b,(y=St(y=xn(i,"bias","fused matMul"),o)[0]).shape);var S={$a:_,$b:w};return null!=i&&(S.$bias=y),Rt.runKernel(function(t,e){var i=t.fusedBatchMatMul(_,w,n,r,y,a);return e([_,w,i]),i},S,function(t,e){var s,o=e[0],l=e[1],u=e[2];if(null==a||"linear"===a)s=t;else{if("relu"!==a)throw new Error("Gradient for activation "+a+" has not been implemented yet.");s=t.mul(u.step())}var c={};return null!=i&&(c={$bias:function(){var t=s,e=er(y.shape,s.shape);return e.length>0&&(t=t.sum(e)),t.reshape(y.shape)}}),n||r?!n&&r?Object.assign({$a:function(){return s.matMul(l,!1,!1)},$b:function(){return s.matMul(o,!0,!1)}},c):n&&!r?Object.assign({$a:function(){return l.matMul(s,!1,!0)},$b:function(){return o.matMul(s,!1,!1)}},c):Object.assign({$a:function(){return l.matMul(s,!0,!0)},$b:function(){return s.matMul(o,!0,!0)}},c):Object.assign({$a:function(){return s.matMul(l,!1,!0)},$b:function(){return o.matMul(s,!0,!1)}},c)}).reshape(b)}}),tc=Object.freeze({matMul:Ju}),ec=Object.freeze({image:Zu,linalg:$u,losses:ju,spectral:Cu,fused:tc,signal:Du,op:Rn,batchNormalization2d:xo,batchNormalization3d:Co,batchNormalization4d:So,batchNormalization:Eo,batchNorm:ko,batchNorm2d:Ao,batchNorm3d:To,batchNorm4d:Io,complex:Mn,real:Fn,imag:Ln,concat:Er,concat1d:kr,concat2d:Ar,concat3d:Tr,concat4d:Ir,split:Nr,conv1d:Oo,conv2d:Mo,conv3d:Fo,conv2dDerFilter:Lo,depthwiseConv2d:Po,separableConv2d:zo,conv2dTranspose:Bo,matMul:Vo,dot:Uo,outerProduct:jo,reverse:Wo,reverse1d:Ho,reverse2d:qo,reverse3d:$o,reverse4d:Go,maxPool:Xo,avgPool:Qo,pool:Zo,slice:Jo,slice1d:tl,slice2d:el,slice3d:nl,slice4d:rl,abs:Ms,acos:Fs,acosh:Ls,asin:Ps,asinh:zs,atan:Bs,atanh:Vs,ceil:Us,clipByValue:js,cos:Ws,cosh:Hs,erf:qs,exp:$s,expm1:Gs,floor:Ks,log:Ys,log1p:Xs,logSigmoid:Qs,neg:Zs,reciprocal:Js,round:to,rsqrt:eo,sigmoid:no,sign:ro,isNaN:io,isInf:ao,isFinite:so,sin:oo,sinh:lo,softplus:uo,sqrt:co,square:po,step:ho,tan:mo,tanh:fo,all:al,any:sl,argMax:ol,argMin:ll,logSumExp:ul,max:cl,mean:pl,min:hl,moments:ml,sum:dl,prod:fl,equal:gl,equalStrict:yl,greater:vl,greaterEqual:bl,greaterEqualStrict:_l,greaterStrict:wl,less:xl,lessEqual:Cl,lessEqualStrict:Sl,lessStrict:El,notEqual:kl,notEqualStrict:Al,add:Tl,addN:Il,addStrict:Nl,atan2:Rl,div:Dl,divStrict:Ol,floorDiv:Ml,maximum:Fl,maximumStrict:Ll,minimum:Pl,minimumStrict:zl,mod:Bl,modStrict:Vl,mul:Ul,mulStrict:jl,pow:Wl,powStrict:Hl,squaredDifference:ql,squaredDifferenceStrict:$l,sub:Gl,subStrict:Kl,elu:eu,leakyRelu:nu,prelu:ru,relu:iu,selu:au,logicalAnd:Yl,logicalNot:Xl,logicalOr:Ql,logicalXor:Zl,where:Jl,whereAsync:tu,buffer:jr,print:Wr,batchToSpaceND:Hr,cast:qr,clone:$r,cumsum:Gr,depthToSpace:Kr,expandDims:Yr,eye:Xr,multinomial:Qr,oneHot:Zr,pad:Jr,pad1d:ti,pad2d:ei,pad3d:ni,pad4d:ri,rand:ii,randomNormal:ai,randomUniform:si,reshape:oi,spaceToBatchND:li,squeeze:ui,stack:ci,tile:pi,truncatedNormal:hi,unstack:mi,setdiff1dAsync:di,fill:Gn,linspace:Kn,ones:qn,range:Yn,scalar:zn,tensor:Pn,tensor1d:Bn,tensor2d:Vn,tensor3d:Un,tensor4d:jn,tensor5d:Wn,tensor6d:Hn,zeros:$n,onesLike:Xn,zerosLike:Qn,transpose:su,softmax:Dn,logSoftmax:On,localResponseNormalization:ou,norm:lu,gather:pu,unsortedSegmentSum:hu,basicLSTMCell:mu,multiRNNCell:du,movingAverage:fu,stridedSlice:gu,topk:yu,scatterND:vu,fft:bu,ifft:_u,rfft:wu,irfft:xu,sparseToDense:Su,gatherND:Eu,dropout:ku,hannWindow:Iu,hammingWindow:Nu,frame:Ru}),nc=function(){function t(){this.blockSize=48,this.firstUse=!0,u.get("IS_BROWSER")&&(this.fromPixels2DContext=document.createElement("canvas").getContext("2d")),this.data=new Zn(this,Rt)}return t.prototype.register=function(t,e,n){if(this.firstUse&&(this.firstUse=!1,u.get("IS_NODE")&&Ke("\n============================\nHi there \u{1f44b}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(t))throw new Error("Data buffer is already registered");this.data.set(t,{dtype:n})},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendCPU.write(): values can not be null");this.data.get(t).values=e},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n,r;if(u.get("IS_NODE")&&null==t.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=t.getContext)n=t.getContext("2d").getImageData(0,0,t.width,t.height).data;else if(t instanceof ImageData||t.data instanceof Uint8Array)n=t.data;else{if(!(t instanceof HTMLImageElement||t instanceof HTMLVideoElement))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);if(null==this.fromPixels2DContext)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.fromPixels2DContext.canvas.width=t.width,this.fromPixels2DContext.canvas.height=t.height,this.fromPixels2DContext.drawImage(t,0,0,t.width,t.height),n=this.fromPixels2DContext.getImageData(0,0,t.width,t.height).data}if(4===e)r=new Int32Array(n);else{var i=t.width*t.height;r=new Int32Array(i*e);for(var a=0;a<i;a++)for(var s=0;s<e;++s)r[a*e+s]=n[4*a+s]}return Un(r,[t.height,t.width,e],"int32")},t.prototype.read=function(t){return o(this,void 0,void 0,function(){return l(this,function(e){return[2,this.readSync(t)]})})},t.prototype.readSync=function(t){var e=this.data.get(t),n=e.complexTensors;return"complex64"===e.dtype?yr(this.readSync(n.real.dataId),this.readSync(n.imag.dataId)):this.data.get(t).values},t.prototype.bufferSync=function(t){return jr(t.shape,t.dtype,this.readSync(t.dataId))},t.prototype.disposeData=function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}},t.prototype.time=function(t){return o(this,void 0,void 0,function(){var e;return l(this,function(n){return e=Z(),t(),[2,{kernelMs:Z()-e}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(t,e){var n=ht.make(t.shape,{},"complex64");return this.data.get(n.dataId).complexTensors={real:Rt.keep(t.clone()),imag:Rt.keep(e.clone())},n},t.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},t.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},t.prototype.assertNotComplex=function(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(t){null!=t&&v("complex64"!==t.dtype,function(){return e+" does not support complex64 tensors."})})},t.prototype.slice=function(t,e,n){if(this.assertNotComplex(t,"slice"),vn(t.shape,e,n)){var r=bn(e,t.strides),i=x(n);return Pn(this.readSync(t.dataId).subarray(r,r+i),n,t.dtype)}for(var a=jr(n,t.dtype),s=this.bufferSync(t),o=0;o<a.size;++o){var l=a.indexToLoc(o).map(function(t,n){return t+e[n]});a.values[o]=s.get.apply(s,l)}return a.toTensor()},t.prototype.stridedSlice=function(t,e,n,r,i,a,s,o,l){this.assertNotComplex(t,"stridedSlice");var u=fn(t.shape,e,n,r,i,a,s,o,l),c=u[0],p=u[1],h=u[2],m=p.filter(function(t,e){return-1===h.indexOf(e)});if(m.some(function(t){return 0===t}))return Pn([],m);for(var d=jr(p,t.dtype),f=this.bufferSync(t),g=0;g<d.size;g++){for(var y=d.indexToLoc(g),v=new Array(y.length),b=0;b<v.length;b++)v[b]=y[b]*r[b]+c[b];d.set.apply(d,[f.get.apply(f,v)].concat(y))}return d.toTensor().reshape(m)},t.prototype.unstack=function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),i=0,a=0;a<t.rank;a++)a!==e&&(r[i++]=t.shape[a]);var s=new Array(t.rank).fill(0),o=t.shape.slice();o[e]=1;var l=new Array(n);for(a=0;a<l.length;a++)s[e]=a,l[a]=this.slice(t,s,o).reshape(r);return l},t.prototype.reverse=function(t,e){this.assertNotComplex(t,"reverse");for(var n=jr(t.shape,t.dtype),r=this.bufferSync(t),i=function(i){var a=n.indexToLoc(i),s=a.slice();e.forEach(function(e){return s[e]=t.shape[e]-1-s[e]}),n.set.apply(n,[r.get.apply(r,s)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(t,e){var n=this;this.assertNotComplex(t,"concat");var r=t.map(function(t){var n=x(t.shape.slice(e));return t.as2D(-1,n)}),i=cn(r.map(function(t){return t.shape}),1),a=jr(i,t[0].dtype).values;if(1===r[0].shape[0]){var s=0;r.forEach(function(t){a.set(n.readSync(t.dataId),s),s+=t.size})}else{var o=0;r.forEach(function(t){for(var e=n.readSync(t.dataId),r=0,s=0;s<t.shape[0];++s)for(var l=s*i[1]+o,u=0;u<t.shape[1];++u)a[l+u]=e[r++];o+=t.shape[1]})}var l=cn(t.map(function(t){return t.shape}),e);return Pn(a,l,t[0].dtype)},t.prototype.neg=function(t){return this.assertNotComplex(t,"neg"),this.multiply(zn(-1),t)},t.prototype.add=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t+n,imag:e+r}}):this.broadcastedBinaryOp(t,e,xt(t.dtype,e.dtype),function(t,e){return t+e})},t.prototype.addN=function(t){var e=this;this.assertNotComplex(t,"addN");for(var n=t.map(function(t){return e.readSync(t.dataId)}),r=jr(t[0].shape,t[0].dtype),i=r.values,a=0;a<t.length;a++)for(var s=n[a],o=0;o<i.length;o++)i[o]+=s[o];return r.toTensor()},t.prototype.subtract=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t-n,imag:e-r}}):this.broadcastedBinaryOp(t,e,xt(t.dtype,e.dtype),function(t,e){return t-e})},t.prototype.pow=function(t,e){return this.assertNotComplex([t,e],"pow"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.pow(t,e)})},t.prototype.batchMatMul=function(t,e,n,r){this.assertNotComplex([t,e],"matMul");for(var i=n?t.shape[1]:t.shape[2],a=n?t.shape[2]:t.shape[1],s=r?e.shape[1]:e.shape[2],o=t.shape[0],l=this.readSync(t.dataId),u=this.readSync(e.dataId),c=n?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],p=c[0],h=c[1],m=c[2],d=r?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],f=d[0],g=d[1],y=d[2],v=a*s,b=jr([o,a,s],t.dtype),_=b.values,w=this.blockSize,x=0;x<o;x++)for(var C=0;C<a;C+=w)for(var S=0;S<s;S+=w)for(var E=0;E<i;E+=w)for(var k=Math.min(C+w,a),A=Math.min(S+w,s),T=Math.min(E+w,i),I=C;I<k;I++)for(var N=S;N<A;N++){for(var R=0,D=E;D<T;D++)R+=l[x*p+I*h+D*m]*u[D*f+N*g+x*y];_[x*v+(I*s+N)]+=R}return b.toTensor()},t.prototype.fusedBatchMatMul=function(t,e,n,r,i,a){var s=this.batchMatMul(t,e,n,r);return i&&(s=this.add(s,i)),a&&(s=function(t,e,n){if("linear"===e)return t.linear(n);if("relu"===e)return t.relu(n);throw new Error("Activation "+e+" has not been implemented for the CPU backend.")}(this,a,s)),s},t.prototype.multiply=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t*n-e*r,imag:t*r+e*n}}):this.broadcastedBinaryOp(t,e,xt(t.dtype,e.dtype),function(t,e){return t*e})},t.prototype.realDivide=function(t,e){return this.assertNotComplex([t,e],"realDivide"),this.broadcastedBinaryOp(t,e,"float32",function(t,e){return t/e})},t.prototype.floorDiv=function(t,e){return this.assertNotComplex([t,e],"floorDiv"),this.broadcastedBinaryOp(t,e,"int32",function(t,e){return Math.floor(t/e)})},t.prototype.sum=function(t,e){this.assertNotComplex(t,"sum"),an("sum",e,t.rank);for(var n=nn(t.shape,e),r=n[1],i=$n(n[0],xt(t.dtype,"int32")),a=x(r),s=this.readSync(i.dataId),o=this.readSync(t.dataId),l=0;l<s.length;++l){for(var u=l*a,c=0,p=0;p<a;++p)c+=o[u+p];s[l]=c}return i},t.prototype.prod=function(t,e){this.assertNotComplex(t,"sum");for(var n=nn(t.shape,e),r=n[1],i=$n(n[0],xt(t.dtype,"int32")),a=x(r),s=this.readSync(i.dataId),o=this.readSync(t.dataId),l=0;l<s.length;++l){for(var u=l*a,c=1,p=0;p<a;++p)c*=o[u+p];s[l]=c}return i},t.prototype.unsortedSegmentSum=function(t,e,n){this.assertNotComplex(t,"unsortedSegmentSum");for(var r=[],i=t.rank-e.rank,a=0;a<i;++a)e=e.expandDims(a+1);for(a=0;a<n;++a){var s=zn(a,"int32"),o=gl(s,e).asType("float32").mul(t).sum(0);r.push(o)}return ci(r)},t.prototype.argMin=function(t,e){this.assertNotComplex(t,"argMin");var n=[e];an("argMin",n,t.rank);for(var r=nn(t.shape,n),i=r[1],a=$n(r[0],"int32"),s=x(i),o=this.readSync(a.dataId),l=this.readSync(t.dataId),u=0;u<o.length;++u){for(var c=u*s,p=l[c],h=0,m=0;m<s;++m){var d=l[c+m];d<p&&(p=d,h=m)}o[u]=h}return a},t.prototype.argMax=function(t,e){this.assertNotComplex(t,"argMax");var n=[e];an("argMax",n,t.rank);for(var r=nn(t.shape,n),i=r[1],a=$n(r[0],"int32"),s=x(i),o=this.readSync(a.dataId),l=this.readSync(t.dataId),u=0;u<o.length;++u){for(var c=u*s,p=l[c],h=0,m=0;m<s;++m){var d=l[c+m];d>p&&(p=d,h=m)}o[u]=h}return a},t.prototype.cumsum=function(t,e,n,r){if(this.assertNotComplex(t,"cumsum"),e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var i=xt(t.dtype,"int32"),a=$n(t.shape,i),s=this.readSync(a.dataId),o=this.readSync(t.dataId),l=t.shape[t.rank-1],u=r?function(t,e){return t+l-e-1}:function(t,e){return t+e},c=0;c<o.length;c+=l)for(var p=0;p<l;p++){var h=u(c,p);if(0===p)s[h]=n?0:o[h];else{var m=u(c,p-1);s[h]=n?o[m]+s[m]:o[h]+s[m]}}return a},t.prototype.equal=function(t,e){return this.assertNotComplex([t,e],"equal"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t===e?1:0})},t.prototype.notEqual=function(t,e){return this.assertNotComplex([t,e],"notEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t!==e?1:0})},t.prototype.less=function(t,e){return this.assertNotComplex([t,e],"less"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<e?1:0})},t.prototype.lessEqual=function(t,e){return this.assertNotComplex([t,e],"lessEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<=e?1:0})},t.prototype.greater=function(t,e){return this.assertNotComplex([t,e],"greater"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>e?1:0})},t.prototype.greaterEqual=function(t,e){return this.assertNotComplex([t,e],"greaterEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>=e?1:0})},t.prototype.logicalNot=function(t){this.assertNotComplex(t,"logicalNot");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return ht.make(t.shape,{values:n},"bool")},t.prototype.logicalAnd=function(t,e){return this.assertNotComplex([t,e],"logicalAnd"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t&&e})},t.prototype.logicalOr=function(t,e){return this.assertNotComplex([t,e],"logicalOr"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t||e})},t.prototype.select=function(t,e,n){this.assertNotComplex([t,e,n],"select");for(var r=this.readSync(t.dataId),i=this.readSync(e.dataId),a=this.readSync(n.dataId),s=$n(e.shape,xt(e.dtype,n.dtype)),o=this.readSync(s.dataId),l=0,u=0===t.rank||t.rank>1||1===e.rank?1:e.shape[1],c=0;c<r.length;c++)for(var p=0;p<u;p++)o[l++]=1===r[c]?i[c]:a[c];return s},t.prototype.where=function(t){this.assertNotComplex([t],"where");var e=this.readSync(t.dataId);return fi(t.shape,e)},t.prototype.topk=function(t,e,n){return this.assertNotComplex(t,"topk"),Sr(this.readSync(t.dataId),t.shape,t.dtype,e)},t.prototype.min=function(t,e){this.assertNotComplex(t,"min"),an("min",e,t.rank);for(var n=nn(t.shape,e),r=n[1],i=$n(n[0],t.dtype),a=x(r),s=this.readSync(i.dataId),o=this.readSync(t.dataId),l=0;l<s.length;++l){for(var u=l*a,c=o[u],p=0;p<a;++p){var h=o[u+p];h<c&&(c=h)}s[l]=c}return i},t.prototype.minimum=function(t,e){return this.assertNotComplex([t,e],"minimum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.min(t,e)})},t.prototype.mod=function(t,e){return this.assertNotComplex([t,e],"mod"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})},t.prototype.max=function(t,e){this.assertNotComplex(t,"max"),an("max",e,t.rank);for(var n=nn(t.shape,e),r=n[1],i=$n(n[0],t.dtype),a=x(r),s=this.readSync(i.dataId),o=this.readSync(t.dataId),l=0;l<s.length;++l){for(var u=l*a,c=o[u],p=0;p<a;++p){var h=o[u+p];h>c&&(c=h)}s[l]=c}return i},t.prototype.maximum=function(t,e){return this.assertNotComplex([t,e],"maximum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.max(t,e)})},t.prototype.all=function(t,e){this.assertNotComplex(t,"all"),an("all",e,t.rank);for(var n=nn(t.shape,e),r=n[1],i=$n(n[0],t.dtype),a=x(r),s=this.readSync(i.dataId),o=this.readSync(t.dataId),l=0;l<s.length;++l){for(var u=l*a,c=o[u],p=0;p<a;++p)c=c&&o[u+p];s[l]=c}return i},t.prototype.any=function(t,e){this.assertNotComplex(t,"any"),an("any",e,t.rank);for(var n=nn(t.shape,e),r=n[1],i=$n(n[0],t.dtype),a=x(r),s=this.readSync(i.dataId),o=this.readSync(t.dataId),l=0;l<s.length;++l){for(var u=l*a,c=o[u],p=0;p<a;++p)c=c||o[u+p];s[l]=c}return i},t.prototype.squaredDifference=function(t,e){return this.assertNotComplex([t,e],"squaredDifference"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t-e;return n*n})},t.prototype.ceil=function(t){this.assertNotComplex(t,"ceil");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return ht.make(t.shape,{values:n})},t.prototype.floor=function(t){this.assertNotComplex(t,"floor");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return ht.make(t.shape,{values:n})},t.prototype.sign=function(t){this.assertNotComplex(t,"x");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=e[r]<0?-1:e[r]>0?1:0;return ht.make(t.shape,{values:n})},t.prototype.isNaN=function(t){this.assertNotComplex(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isNaN(e[r])&&(n[r]=1);return ht.make(t.shape,{values:n},"bool")},t.prototype.isInf=function(t){this.assertNotComplex(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Math.abs(e[r])===1/0&&(n[r]=1);return ht.make(t.shape,{values:n},"bool")},t.prototype.isFinite=function(t){this.assertNotComplex(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isFinite(e[r])&&(n[r]=1);return ht.make(t.shape,{values:n},"bool")},t.prototype.round=function(t){this.assertNotComplex(t,"round");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=Math.floor(e[r]);n[r]=e[r]-i<.5?Math.floor(e[r]):e[r]-i>.5?Math.ceil(e[r]):i%2==0?i:i+1}return ht.make(t.shape,{values:n})},t.prototype.exp=function(t){this.assertNotComplex(t,"exp");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return ht.make(t.shape,{values:n})},t.prototype.expm1=function(t){this.assertNotComplex(t,"expm1");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return ht.make(t.shape,{values:n})},t.prototype.log=function(t){this.assertNotComplex(t,"log");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.log(e[r]);return ht.make(t.shape,{values:n})},t.prototype.log1p=function(t){this.assertNotComplex(t,"log1p");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.log1p(e[r]);return ht.make(t.shape,{values:n})},t.prototype.sqrt=function(t){this.assertNotComplex(t,"sqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.sqrt(e[r]);return ht.make(t.shape,{values:n})},t.prototype.rsqrt=function(t){this.assertNotComplex(t,"rsqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/Math.sqrt(e[r]);return ht.make(t.shape,{values:n})},t.prototype.square=function(t){this.assertNotComplex(t,"square");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=i*i}return ht.make(t.shape,{values:n})},t.prototype.reciprocal=function(t){this.assertNotComplex(t,"reciprocal");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return ht.make(t.shape,{values:n})},t.prototype.linear=function(t){return t},t.prototype.relu=function(t){this.assertNotComplex(t,"relu");for(var e=$n(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return e},t.prototype.prelu=function(t,e){return this.assertNotComplex([t,e],"prelu"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return t<0?e*t:t})},t.prototype.elu=function(t){this.assertNotComplex(t,"elu");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?i:Math.exp(i)-1}return ht.make(t.shape,{values:e})},t.prototype.eluDer=function(t,e){this.assertNotComplex([t,e],"eluDer");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=this.readSync(t.dataId),a=0;a<r.length;++a){var s=r[a];n[a]=s>=1?i[a]:i[a]*(s+1)}return ht.make(e.shape,{values:n})},t.prototype.selu=function(t){this.assertNotComplex(t,"selu");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?1.0507009873554805*i:1.7580993408473768*(Math.exp(i)-1)}return ht.make(t.shape,{values:e})},t.prototype.clip=function(t,e,n){this.assertNotComplex(t,"clip");for(var r=new Float32Array(t.size),i=this.readSync(t.dataId),a=0;a<i.length;++a){var s=i[a];r[a]=s>n?n:s<e?e:s}return ht.make(t.shape,{values:r})},t.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return ht.make(t.shape,{values:e})},t.prototype.complexAbs=function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<t.size;++r)e[r]=Math.hypot(n[2*r],n[2*r+1]);return ht.make(t.shape,{values:e})},t.prototype.int=function(t){this.assertNotComplex(t,"int");for(var e=new Int32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=n[r];return ht.make(t.shape,{values:e},"int32")},t.prototype.sigmoid=function(t){this.assertNotComplex(t,"sigmoid");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return ht.make(t.shape,{values:e})},t.prototype.softplus=function(t){this.assertNotComplex(t,"softplus");for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=this.readSync(t.dataId),i=0;i<r.length;++i){var a,s=r[i]>-e,o=r[i]<e,l=Math.exp(r[i]);a=o?l:s?r[i]:Math.log(1+l),n[i]=a}return ht.make(t.shape,{values:n})},t.prototype.sin=function(t){this.assertNotComplex(t,"sin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return ht.make(t.shape,{values:e})},t.prototype.cos=function(t){this.assertNotComplex(t,"cos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return ht.make(t.shape,{values:e})},t.prototype.tan=function(t){this.assertNotComplex(t,"tan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return ht.make(t.shape,{values:e})},t.prototype.asin=function(t){this.assertNotComplex(t,"asin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return ht.make(t.shape,{values:e})},t.prototype.acos=function(t){this.assertNotComplex(t,"acos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return ht.make(t.shape,{values:e})},t.prototype.atan=function(t){this.assertNotComplex(t,"atan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return ht.make(t.shape,{values:e})},t.prototype.atan2=function(t,e){return this.assertNotComplex([t,e],"atan2"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.atan2(t,e)})},t.prototype.sinh=function(t){this.assertNotComplex(t,"sinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return ht.make(t.shape,{values:e})},t.prototype.cosh=function(t){this.assertNotComplex(t,"cosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return ht.make(t.shape,{values:e})},t.prototype.tanh=function(t){this.assertNotComplex(t,"tanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=E(n[r]);return ht.make(t.shape,{values:e})},t.prototype.asinh=function(t){this.assertNotComplex(t,"asinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return ht.make(t.shape,{values:e})},t.prototype.acosh=function(t){this.assertNotComplex(t,"acosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return ht.make(t.shape,{values:e})},t.prototype.atanh=function(t){this.assertNotComplex(t,"atanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return ht.make(t.shape,{values:e})},t.prototype.erf=function(t){this.assertNotComplex(t,"erf");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var i=n[r],a=1/(1+.3275911*i);e[r]=1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-i*i)}return ht.make(t.shape,{values:e})},t.prototype.step=function(t,e){void 0===e&&(e=0),this.assertNotComplex(t,"step");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=0;i<r.length;++i){var a=r[i];n[i]=isNaN(a)?NaN:a>0?1:e}return ht.make(t.shape,{values:n})},t.prototype.conv2d=function(t,e,n){this.assertNotComplex([t,e],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,s=n.dilationWidth,o=n.padInfo.left,l=n.padInfo.top,u=jr(n.outShape,t.dtype),c=this.readSync(t.dataId),p=this.readSync(e.dataId),h=u.values,m=0;m<n.batchSize;++m)for(var d=m*t.strides[0],f=m*u.strides[0],g=0;g<n.outHeight;++g)for(var y=f+g*u.strides[1],v=g*n.strideHeight-l,b=0;b<r;b++){var _=v+b*a;if(!(_<0||_>=n.inHeight))for(var w=b*e.strides[0],x=d+_*t.strides[1],C=0;C<n.outWidth;++C)for(var S=y+C*n.outChannels,E=C*n.strideWidth-o,k=0;k<i;k++){var A=E+k*s;if(!(A<0||A>=n.inWidth))for(var T=x+A*n.inChannels,I=w+k*e.strides[1],N=0;N<n.inChannels;++N){for(var R=c[T+N],D=0;D<n.outChannels;++D)h[S+D]+=R*p[I+D];I+=n.outChannels}}}return u.toTensor()},t.prototype.conv3d=function(t,e,n){for(var r=n.filterDepth,i=n.filterHeight,a=n.filterWidth,s=n.dilationDepth,o=n.dilationHeight,l=n.dilationWidth,u=n.padInfo.front,c=n.padInfo.left,p=n.padInfo.top,h=jr(n.outShape,t.dtype),m=this.readSync(t.dataId),d=this.readSync(e.dataId),f=h.values,g=0;g<n.batchSize;++g)for(var y=g*t.strides[0],v=g*h.strides[0],b=0;b<n.outDepth;++b)for(var _=v+b*h.strides[1],w=b*n.strideDepth-u,x=0;x<r;x++){var C=w+x*s;if(!(C<0||C>=n.inDepth))for(var S=x*e.strides[0],E=y+C*t.strides[1],k=0;k<n.outHeight;++k)for(var A=_+k*h.strides[2],T=k*n.strideHeight-p,I=0;I<i;I++){var N=T+I*o;if(!(N<0||N>=n.inHeight))for(var R=S+I*e.strides[1],D=E+N*t.strides[2],O=0;O<n.outWidth;++O)for(var M=A+O*n.outChannels,F=O*n.strideWidth-c,L=0;L<a;L++){var P=F+L*l;if(!(P<0||P>=n.inWidth))for(var z=D+P*n.inChannels,B=R+L*e.strides[2],V=0;V<n.inChannels;++V){for(var U=m[z+V],j=0;j<n.outChannels;++j)f[M+j]+=U*d[B+j];B+=n.outChannels}}}}return h.toTensor()},t.prototype.conv2dDerInput=function(t,e,n){this.assertNotComplex([t,e],"conv2dDerInput");for(var r=jr(n.inShape,"float32"),i=r.values,a=r.strides,s=a[0],o=a[1],l=a[2],u=this.readSync(t.dataId),c=t.strides,p=c[0],h=c[1],m=c[2],d=this.readSync(e.dataId),f=e.strides,g=f[0],y=f[1],v=f[2],b=n.batchSize,_=n.filterHeight,w=n.filterWidth,x=n.inChannels,C=n.inHeight,S=n.inWidth,E=n.outChannels,k=n.outHeight,A=n.outWidth,T=n.strideHeight,I=n.strideWidth,N=_-1-n.padInfo.top,R=w-1-n.padInfo.left,D=0;D<b;++D)for(var O=0;O<x;++O)for(var M=0;M<C;++M)for(var F=M-N,L=Math.max(0,Math.ceil(F/T)),P=Math.min(k,(_+F)/T),z=0;z<S;++z){for(var B=z-R,V=Math.max(0,Math.ceil(B/I)),U=Math.min(A,(w+B)/I),j=0,W=L;W<P;++W)for(var H=W*T-F,q=V;q<U;++q)for(var $=p*D+h*W+m*q,G=g*(_-1-H)+y*(w-1-(q*I-B))+v*O,K=0;K<E;++K)j+=u[$+K]*d[G+K];i[s*D+o*M+l*z+O]=j}return r.toTensor()},t.prototype.conv3dDerInput=function(t,e,n){for(var r=jr(n.inShape,"float32"),i=r.values,a=r.strides,s=a[0],o=a[1],l=a[2],u=a[3],c=this.readSync(t.dataId),p=t.strides,h=p[0],m=p[1],d=p[2],f=p[3],g=this.readSync(e.dataId),y=e.strides,v=y[0],b=y[1],_=y[2],w=y[3],x=n.batchSize,C=n.filterDepth,S=n.filterHeight,E=n.filterWidth,k=n.inChannels,A=n.inDepth,T=n.inHeight,I=n.inWidth,N=n.outChannels,R=n.outDepth,D=n.outHeight,O=n.outWidth,M=n.strideDepth,F=n.strideHeight,L=n.strideWidth,P=C-1-n.padInfo.front,z=S-1-n.padInfo.top,B=E-1-n.padInfo.left,V=0;V<x;++V)for(var U=0;U<k;++U)for(var j=0;j<A;++j)for(var W=j-P,H=Math.max(0,Math.ceil(W/M)),q=Math.min(R,(C+W)/M),$=0;$<T;++$)for(var G=$-z,K=Math.max(0,Math.ceil(G/F)),Y=Math.min(D,(S+G)/F),X=0;X<I;++X){for(var Q=X-B,Z=Math.max(0,Math.ceil(Q/L)),J=Math.min(O,(E+Q)/L),tt=0,et=H;et<q;++et)for(var nt=et*M-W,rt=K;rt<Y;++rt)for(var it=rt*F-G,at=Z;at<J;++at)for(var st=h*V+m*et+d*rt+f*at,ot=v*(C-1-nt)+b*(S-1-it)+_*(E-1-(at*L-Q))+w*U,lt=0;lt<N;++lt)tt+=c[st+lt]*g[ot+lt];i[s*V+o*j+l*$+u*X+U]=tt}return r.toTensor()},t.prototype.conv2dDerFilter=function(t,e,n){this.assertNotComplex([t,e],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,s=n.filterWidth,o=jr(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=this.bufferSync(t),p=this.bufferSync(e),h=0;h<a;++h)for(var m=Math.max(0,Math.ceil((u-h)/r)),d=Math.min(n.outHeight,(n.inHeight+u-h)/r),f=0;f<s;++f)for(var g=Math.max(0,Math.ceil((l-f)/i)),y=Math.min(n.outWidth,(n.inWidth+l-f)/i),v=0;v<n.inChannels;++v)for(var b=0;b<n.outChannels;++b){for(var _=0,w=0;w<n.batchSize;++w)for(var x=m;x<d;++x)for(var C=h+x*r-u,S=g;S<y;++S)_+=c.get(w,C,f+S*i-l,v)*p.get(w,x,S,b);o.set(_,h,f,v,b)}return o.toTensor()},t.prototype.conv3dDerFilter=function(t,e,n){for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,s=n.filterDepth,o=n.filterHeight,l=n.filterWidth,u=jr(n.filterShape,"float32"),c=u.values,p=u.strides,h=p[0],m=p[1],d=p[2],f=p[3],g=this.readSync(e.dataId),y=e.strides,v=y[0],b=y[1],_=y[2],w=y[3],x=this.readSync(t.dataId),C=t.strides,S=C[0],E=C[1],k=C[2],A=C[3],T=n.padInfo.front,I=n.padInfo.left,N=n.padInfo.top,R=0;R<s;++R)for(var D=Math.max(0,Math.ceil((T-R)/r)),O=Math.min(n.outDepth,(n.inDepth+T-R)/r),M=R*h,F=0;F<o;++F)for(var L=Math.max(0,Math.ceil((N-F)/i)),P=Math.min(n.outHeight,(n.inHeight+N-F)/i),z=F*m+M,B=0;B<l;++B)for(var V=Math.max(0,Math.ceil((I-B)/a)),U=Math.min(n.outWidth,(n.inWidth+I-B)/a),j=B*d+z,W=0;W<n.inChannels;++W)for(var H=W*f+j,q=0;q<n.outChannels;++q){for(var $=0,G=0;G<n.batchSize;++G)for(var K=G*S,Y=G*v,X=D;X<O;++X)for(var Q=(R+X*r-T)*E+K,Z=X*b+Y,J=L;J<P;++J)for(var tt=(F+J*i-N)*k+Q,et=J*_+Z,nt=V;nt<U;++nt)$+=x[(B+nt*a-I)*A+tt+W]*g[nt*w+et+q];c[H+q]=$}return u.toTensor()},t.prototype.depthwiseConv2D=function(t,e,n){this.assertNotComplex([t,e],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,s=n.dilationWidth,o=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=jr(n.outShape,t.dtype),p=this.readSync(t.dataId),h=this.readSync(e.dataId),m=c.values,d=0;d<n.batchSize;++d)for(var f=d*t.strides[0],g=d*c.strides[0],y=0;y<n.outHeight;++y)for(var v=g+y*c.strides[1],b=y*n.strideHeight-o,_=0;_<r;++_){var w=b+_*a;if(!(w<0||w>=n.inHeight))for(var x=_*e.strides[0],C=f+w*t.strides[1],S=0;S<n.outWidth;++S)for(var E=v+S*c.strides[2],k=S*n.strideWidth-l,A=0;A<i;++A){var T=k+A*s;if(!(T<0||T>=n.inWidth))for(var I=C+T*n.inChannels,N=E,R=x+A*e.strides[1],D=0;D<n.inChannels;++D){for(var O=p[I+D],M=0;M<u;++M)m[N+M]+=O*h[R+M];N+=u,R+=u}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(t,e,n){this.assertNotComplex([t,e],"depthwiseConv2DDerInput");for(var r=jr(n.inShape,"float32"),i=r.values,a=r.strides,s=a[0],o=a[1],l=a[2],u=this.readSync(t.dataId),c=t.strides,p=c[0],h=c[1],m=c[2],d=this.readSync(e.dataId),f=e.strides,g=f[0],y=f[1],v=f[2],b=n.batchSize,_=n.filterHeight,w=n.filterWidth,x=n.inChannels,C=n.inHeight,S=n.inWidth,E=n.outHeight,k=n.outWidth,A=n.strideHeight,T=n.strideWidth,I=_-1-n.padInfo.top,N=w-1-n.padInfo.left,R=n.outChannels/x,D=0;D<b;++D)for(var O=0;O<x;++O)for(var M=0;M<C;++M)for(var F=M-I,L=Math.max(0,Math.ceil(F/A)),P=Math.min(E,(_+F)/A),z=0;z<S;++z){for(var B=z-N,V=Math.max(0,Math.ceil(B/T)),U=Math.min(k,(w+B)/T),j=0,W=L;W<P;++W)for(var H=W*A-F,q=V;q<U;++q)for(var $=p*D+h*W+m*q,G=g*(_-1-H)+y*(w-1-(q*T-B))+v*O,K=0;K<R;++K)j+=u[$+(O*R+K)]*d[G+K];i[s*D+o*M+l*z+O]=j}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){this.assertNotComplex([t,e],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,s=n.filterWidth,o=jr(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,p=this.bufferSync(t),h=this.bufferSync(e),m=0;m<a;++m)for(var d=Math.max(0,Math.ceil((u-m)/r)),f=Math.min(n.outHeight,(n.inHeight+u-m)/r),g=0;g<s;++g)for(var y=Math.max(0,Math.ceil((l-g)/i)),v=Math.min(n.outWidth,(n.inWidth+l-g)/i),b=0;b<n.outChannels;++b){for(var _=Math.trunc(b/c),w=b%c,x=0,C=0;C<n.batchSize;++C)for(var S=d;S<f;++S)for(var E=m+S*r-u,k=y;k<v;++k)x+=p.get(C,E,g+k*i-l,_)*h.get(C,S,k,b);o.set(x,m,g,_,w)}return o.toTensor()},t.prototype.tile=function(t,e){this.assertNotComplex(t,"tile");for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var i=jr(n,t.dtype),a=this.bufferSync(t);for(r=0;r<i.values.length;++r){for(var s=i.indexToLoc(r),o=new Array(t.rank),l=0;l<o.length;l++)o[l]=s[l]%t.shape[l];var u=a.locToIndex(o);i.values[r]=a.values[u]}return i.toTensor()},t.prototype.pad=function(t,e,n){this.assertNotComplex(t,"pad");var r=e.map(function(e,n){return e[0]+t.shape[n]+e[1]}),i=e.map(function(t){return t[0]}),a=this.bufferSync(t),s=jr(r,t.dtype);0!==n&&s.values.fill(n);for(var o=0;o<t.size;o++){var l=a.indexToLoc(o),u=l.map(function(t,e){return t+i[e]});s.set.apply(s,[a.get.apply(a,l)].concat(u))}return s.toTensor()},t.prototype.transpose=function(t,e){this.assertNotComplex(t,"transpose");for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[e[r]];var i=this.readSync(t.dataId),a=jr(n,t.dtype),s=this.bufferSync(t);for(r=0;r<t.size;++r){for(var o=s.indexToLoc(r),l=new Array(o.length),u=0;u<l.length;u++)l[u]=o[e[u]];var c=a.locToIndex(l);a.values[c]=i[r]}return a.toTensor()},t.prototype.gather=function(t,e,n){this.assertNotComplex([t,e],"gather");var r=t.shape.slice(),i=this.readSync(e.dataId);r[n]=i.length;for(var a=jr(r,t.dtype),s=this.bufferSync(t),o=0;o<a.size;++o){var l=a.indexToLoc(o),u=l.slice();u[n]=i[l[n]];var c=s.locToIndex(u);a.values[o]=s.values[c]}return a.toTensor()},t.prototype.batchToSpaceND=function(t,e,n){this.assertNotComplex([t],"batchToSpaceND");var r=e.reduce(function(t,e){return t*e}),i=Ye(t.shape,e,r),a=Xe(i.length,e.length),s=Qe(t.shape,e,r),o=Ze(n,e.length),l=Je(s,n,e.length);return t.reshape(i).transpose(a).reshape(s).slice(o,l)},t.prototype.spaceToBatchND=function(t,e,n){this.assertNotComplex([t],"spaceToBatchND");var r=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,n);for(var a=1+e.length;a<t.shape.length;++a)i.push([0,0]);var s=t.pad(i),o=Ye(s.shape,e,r,!1),l=Xe(o.length,e.length,!1),u=Qe(s.shape,e,r,!1);return s.reshape(o).transpose(l).reshape(u)},t.prototype.pool=function(t,e,n){this.assertNotComplex(t,"pool");for(var r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=e.padInfo.top,c=e.padInfo.left,p="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(t.dataId),m=jr(e.outShape,t.dtype),d=m.values,f=e.outShape[1]*e.outShape[2]*e.outShape[3],g=e.outShape[2]*e.outShape[3],y=e.outShape[3],v=0;v<e.batchSize;++v)for(var b=v*f,_=v*t.strides[0],w=0;w<e.inChannels;++w)for(var x=0;x<e.outHeight;++x)for(var C=x*r-u,S=Math.max(0,C),E=Math.min(e.inHeight,o+C),k=b+x*g,A=0;A<e.outWidth;++A){for(var T=A*i-c,I=Math.max(0,T),N=Math.min(e.inWidth,l+T),R=p,D=0,O=0,M=S;M<E;M+=a){for(var F=_+M*t.strides[1],L=I;L<N;L+=s){var P=h[F+L*t.strides[2]+w];"max"===n&&P>R?R=P:"avg"===n&&(D+=P,O++)}if(isNaN(R))break}d[k+A*y+w]="avg"===n?D/O:R}return m.toTensor()},t.prototype.maxPool=function(t,e){return this.pool(t,e,"max")},t.prototype.maxPoolPositions=function(t,e){for(var n=jr(e.outShape,"int32"),r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=e.padInfo.top,c=e.padInfo.left,p=this.bufferSync(t),h=0;h<e.batchSize;++h)for(var m=0;m<e.inChannels;++m)for(var d=0;d<e.outHeight;++d){for(var f=d*r-u,g=f;g<0;)g+=a;for(var y=Math.min(e.inHeight,o+f),v=0;v<e.outWidth;++v){for(var b=v*i-c,_=b;_<0;)_+=s;for(var w=Math.min(e.inWidth,l+b),x=Number.NEGATIVE_INFINITY,C=-1,S=g;S<y;S+=a)for(var E=S-f,k=_;k<w;k+=s){var A=k-b,T=p.get(h,S,k,m);T>x&&(x=T,C=E*l+A)}n.set(C,h,d,v,m)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(t,e,n,r){this.assertNotComplex([e,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(e,r),a=r.strideHeight,s=r.strideWidth,o=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,c=r.effectiveFilterWidth,p=c-1-r.padInfo.left,h=u-1-r.padInfo.top,m=jr(e.shape,"float32"),d=this.bufferSync(i),f=this.bufferSync(t),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var v=0;v<r.inHeight;++v)for(var b=0;b<r.inWidth;++b){for(var _=v-h,w=b-p,x=0,C=0;C<u;C+=o){var S=(_+C)/a;if(!(S<0||S>=r.outHeight||Math.floor(S)!==S))for(var E=0;E<c;E+=l){var k=(w+E)/s;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var A=u*c-1-d.get(g,S,k,y)===C*c+E?1:0;0!==A&&(x+=f.get(g,S,k,y)*A)}}}m.set(x,g,v,b,y)}return m.toTensor()},t.prototype.avgPoolBackprop=function(t,e,n){this.assertNotComplex([t,e],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,s=n.filterWidth,o=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,p=c-1-n.padInfo.left,h=u-1-n.padInfo.top,m=jr(e.shape,"float32"),d=1/(a*s),f=this.bufferSync(t),g=0;g<n.batchSize;++g)for(var y=0;y<n.inChannels;++y)for(var v=0;v<n.inHeight;++v)for(var b=0;b<n.inWidth;++b){for(var _=v-h,w=b-p,x=0,C=0;C<u;C+=o){var S=(_+C)/r;if(!(S<0||S>=n.outHeight||Math.floor(S)!==S))for(var E=0;E<c;E+=l){var k=(w+E)/i;k<0||k>=n.outWidth||Math.floor(k)!==k||(x+=f.get(g,S,k,y))}}m.set(x*d,g,v,b,y)}return m.toTensor()},t.prototype.cast=function(t,e){return mr(t,e,this)},t.prototype.reshape=function(t,e){return dr(t,e)},t.prototype.avgPool=function(t,e){return this.assertNotComplex(t,"avgPool"),this.pool(t,e,"avg").toFloat()},t.prototype.resizeBilinear=function(t,e,n,r){this.assertNotComplex(t,"resizeBilinear");for(var i=t.shape,a=i[0],s=i[1],o=i[2],l=i[3],u=this.readSync(t.dataId),c=new Float32Array(x([a,e,n,l])),p=[r&&e>1?s-1:s,r&&n>1?o-1:o],h=[r&&e>1?e-1:e,r&&n>1?n-1:n],m=0,d=p[0]/h[0],f=p[1]/h[1],g=0;g<a;g++)for(var y=0;y<e;y++)for(var v=d*y,b=Math.floor(v),_=v-b,w=Math.min(s-1,Math.ceil(v)),C=g*t.strides[0]+b*t.strides[1],S=g*t.strides[0]+w*t.strides[1],E=0;E<n;E++)for(var k=f*E,A=Math.floor(k),T=k-A,I=Math.min(o-1,Math.ceil(k)),N=C+A*t.strides[2],R=S+A*t.strides[2],D=C+ +I*t.strides[2],O=S+I*t.strides[2],M=0;M<l;M++){var F=u[N+M],L=u[R+M],P=F+(u[D+M]-F)*T;c[m++]=P+(L+(u[O+M]-L)*T-P)*_}return Pn(c,[a,e,n,l])},t.prototype.resizeBilinearBackprop=function(t,e,n){this.assertNotComplex([t,e],"resizeBilinearBackprop");for(var r=e.shape,i=r[0],a=r[1],s=r[2],o=r[3],l=t.shape,u=l[1],c=l[2],p=new Float32Array(i*a*s*o),h=[n&&u>1?a-1:a,n&&c>1?s-1:s],m=[n&&u>1?u-1:u,n&&c>1?c-1:c],d=h[0]/m[0],f=h[1]/m[1],g=this.readSync(t.dataId),y=0,v=0;v<i;v++)for(var b=v*e.strides[0],_=0;_<u;_++)for(var w=_*d,x=Math.floor(w),C=Math.min(Math.ceil(w),a-1),S=b+x*e.strides[1],E=b+C*e.strides[1],k=w-x,A=1-k,T=0;T<c;T++)for(var I=T*f,N=Math.floor(I),R=Math.min(Math.ceil(I),s-1),D=I-N,O=1-D,M=S+N*e.strides[2],F=S+R*e.strides[2],L=E+N*e.strides[2],P=E+R*e.strides[2],z=A*O,B=A*D,V=k*O,U=k*D,j=0;j<o;j++){var W=g[y++];p[M+j]+=W*z,p[F+j]+=W*B,p[L+j]+=W*V,p[P+j]+=W*U}return jn(p,[i,s,a,o],e.dtype)},t.prototype.resizeNearestNeighbor=function(t,e,n,r){this.assertNotComplex(t,"resizeNearestNeighbor");for(var i=t.shape,a=i[0],s=i[1],o=i[2],l=i[3],u=this.readSync(t.dataId),c=new Float32Array(a*e*n*l),p=[r&&e>1?s-1:s,r&&n>1?o-1:o],h=[r&&e>1?e-1:e,r&&n>1?n-1:n],m=p[0]/h[0],d=p[1]/h[1],f=0,g=0;g<a;g++)for(var y=g*t.strides[0],v=0;v<e;v++)for(var b=m*v,_=y+Math.min(s-1,r?Math.round(b):Math.floor(b))*t.strides[1],w=0;w<n;w++)for(var x=d*w,C=_+Math.min(o-1,r?Math.round(x):Math.floor(x))*t.strides[2],S=0;S<l;S++)c[f++]=u[C+S];return Pn(c,[a,e,n,l],t.dtype)},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){this.assertNotComplex([t,e],"resizeNearestNeighborBackprop");for(var r=e.shape,i=r[0],a=r[1],s=r[2],o=r[3],l=t.shape,u=l[1],c=l[2],p=new Float32Array(i*a*s*o),h=this.readSync(t.dataId),m=[n&&u>1?a-1:a,n&&c>1?s-1:s],d=[n&&u>1?u-1:u,n&&c>1?c-1:c],f=m[0]/d[0],g=m[1]/d[1],y=1/f,v=1/g,b=2*Math.ceil(y)+2,_=2*Math.ceil(v)+2,w=0;w<i;w++)for(var x=w*e.strides[0],C=0;C<a;C++)for(var S=x+C*e.strides[1],E=Math.floor(C*y),k=Math.floor(E-b/2),A=0;A<s;A++)for(var T=S+A*e.strides[2],I=Math.floor(A*v),N=Math.floor(I-_/2),R=0;R<o;R++){for(var D=0,O=0;O<b;O++){var M=O+k;if(!(M<0||M>=u)){var F=x+M*t.strides[1],L=M*f;if(C===Math.min(a-1,n?Math.round(L):Math.floor(L)))for(var P=0;P<_;P++){var z=P+N;if(!(z<0||z>=c)){var B=F+z*t.strides[2],V=z*g;A===Math.min(s-1,n?Math.round(V):Math.floor(V))&&(D+=h[B+R])}}}}p[T+R]=D}return jn(p,e.shape,e.dtype)},t.prototype.batchNormalization=function(t,e,n,r,i,a){this.assertNotComplex([t,e,n,i,a],"batchNorm");for(var s=this.readSync(t.dataId),o=this.readSync(e.dataId),l=this.readSync(n.dataId),u=i?this.readSync(i.dataId):new Float32Array([1]),c=a?this.readSync(a.dataId):new Float32Array([0]),p=new Float32Array(s.length),h=c.length,m=u.length,d=l.length,f=o.length,g=0,y=0,v=0,b=0,_=0;_<s.length;++_)p[_]=c[g++]+(s[_]-o[y++])*u[v++]/Math.sqrt(l[b++]+r),g>=h&&(g=0),y>=f&&(y=0),v>=m&&(v=0),b>=d&&(b=0);return jn(p,t.shape)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){this.assertNotComplex(t,"localResponseNormalization4D");var a=t.shape[3],s=a-1,o=this.readSync(t.dataId),l=t.size,u=new Float32Array(l);function c(t){for(var n=t%a,r=t-n+Math.max(0,n-e),i=t-n+Math.min(n+e,s),l=0;r<=i;r++){var u=o[r];l+=u*u}return l}for(var p=0;p<l;p++){var h=c(p),m=o[p]*Math.pow(n+r*h,-i);u[p]=m}return jn(u,t.shape)},t.prototype.LRNGrad=function(t,e,n,r,i,a,s){this.assertNotComplex(t,"LRNGrad");for(var o=t.shape[3],l=this.readSync(t.dataId),u=this.readSync(e.dataId),c=this.readSync(n.dataId),p=new Float32Array(t.size),h=t.size,m=0;m<h;m++){for(var d=m%o,f=m-d+Math.max(0,d-r),g=m-d+Math.min(o,d+r+1),y=0,v=f;v<g;v++)y+=Math.pow(u[v],2);for(y=a*y+i,v=f;v<g;v++){var b=-2*a*s*u[v]*c[m]/y;m===v&&(b+=Math.pow(y,-s)),p[v]+=b*=l[m]}}return jn(p,t.shape)},t.prototype.multinomial=function(t,e,n,r){this.assertNotComplex(t,"multinomial");for(var i=e?t:Dn(t),a=i.shape[0],s=i.shape[1],o=$n([a,n],"int32"),l=this.readSync(o.dataId),u=this.readSync(i.dataId),c=0;c<a;++c){var p=c*s,h=new Float32Array(s-1);h[0]=u[p];for(var m=1;m<h.length;++m)h[m]=h[m-1]+u[p+m];for(var d=Br(r.toString()),f=c*n,g=0;g<n;++g){var y=d();l[f+g]=h.length;for(var v=0;v<h.length;v++)if(y<h[v]){l[f+g]=v;break}}}return o},t.prototype.oneHot=function(t,e,n,r){this.assertNotComplex(t,"oneHot");var i=new Float32Array(t.size*e);i.fill(r);for(var a=this.readSync(t.dataId),s=0;s<t.size;++s)a[s]>=0&&a[s]<e&&(i[s*e+a[s]]=n);return Vn(i,[t.size,e],"int32")},t.prototype.nonMaxSuppression=function(t,e,n,r,i){return this.assertNotComplex(t,"nonMaxSuppression"),wr(this.readSync(t.dataId),this.readSync(e.dataId),n,r,i)},t.prototype.fft=function(t){return this.fftBatch(t,!1)},t.prototype.ifft=function(t){return this.fftBatch(t,!0)},t.prototype.fftBatch=function(t,e){for(var n=t.shape[0],r=t.shape[1],i=jr(t.shape,"float32"),a=jr(t.shape,"float32"),s=Fn(t).as2D(n,r),o=Ln(t).as2D(n,r),l=0;l<n;l++)for(var u=s.slice([l,0],[1,r]),c=o.slice([l,0],[1,r]),p=Mn(u,c),h=this.readSync(this.fftImpl(p,e).dataId),m=0;m<r;m++){var d=vr(h,m);i.values[l*r+m]=d.real,a.values[l*r+m]=d.imag}return Mn(i.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(t,e){var n=t.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,e).as2D(t.shape[0],t.shape[1]);return e&&(i=Mn(Fn(i).div(zn(r)),Ln(i).div(zn(r)))),i}var a=this.readSync(t.dataId),s=function(t){for(var e=new Float32Array(t.length/2),n=new Float32Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}(this.fourierTransformByMatmul(a,r,e));return Mn(s.real,s.imag).as2D(t.shape[0],t.shape[1])},t.prototype.isExponentOf2=function(t){return 0==(t&t-1)},t.prototype.fftRadix2=function(t,e,n){if(1===e)return t;var r=this.readSync(t.dataId),i=e/2,a=function(t){for(var e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e),i=0;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}(r),s=Mn(a.real,a.imag).as1D(),o=function(t){for(var e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e),i=2;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}(r),l=Mn(o.real,o.imag).as1D();s=this.fftRadix2(s,i,n),l=this.fftRadix2(l,i,n);var u=function(t,e){for(var n=new Float32Array(t/2),r=new Float32Array(t/2),i=0;i<Math.ceil(t/2);i++){var a=(e?2:-2)*Math.PI*(i/t);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}(e,n),c=Mn(u.real,u.imag).mul(l),p=s.add(c),h=s.sub(c),m=Fn(p).concat(Fn(h)),d=Ln(p).concat(Ln(h));return Mn(m,d).as1D()},t.prototype.fourierTransformByMatmul=function(t,e,n){for(var r=new Float32Array(2*e),i=0;i<e;i++){for(var a=0,s=0,o=0;o<e;o++){var l=_r(i*o,e,n),u=vr(t,o);a+=u.real*l.real-u.imag*l.imag,s+=u.real*l.imag+u.imag*l.real}n&&(a/=e,s/=e),br(r,a,s,i)}return r},t.prototype.depthToSpace=function(t,e,n){v("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),v(e>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+e});for(var r=t.shape[0],i=t.shape[1],a=t.shape[2],s=t.shape[3],o=i*e,l=a*e,u=s/(e*e),c=this.readSync(t.dataId),p=new Float32Array(r*o*l*u),h=0,m=0;m<r;++m)for(var d=0;d<o;++d)for(var f=Math.floor(d/e),g=d%e,y=0;y<l;++y)for(var b=Math.floor(y/e),_=(g*e+y%e)*u,w=0;w<u;++w)p[h++]=c[w+_+s*(b+a*(f+i*m))];return jn(p,[r,o,l,u])},t.prototype.broadcastedBinaryOp=function(t,e,n,r){var i=nr(t.shape,e.shape),a=jr(i,n),s=this.readSync(t.dataId),o=this.readSync(e.dataId),l=tr(t.shape,i),u=tr(e.shape,i),c=a.values;if(l.length+u.length===0)for(var p=0;p<c.length;++p)c[p]=r(s[p%s.length],o[p%o.length]);else{var h=this.bufferSync(t),m=this.bufferSync(e),d=function(n){var i=a.indexToLoc(n),p=i.slice(-t.rank);l.forEach(function(t){return p[t]=0});var d=h.locToIndex(p),f=i.slice(-e.rank);u.forEach(function(t){return f[t]=0});var g=m.locToIndex(f);c[n]=r(s[d],o[g])};for(p=0;p<c.length;++p)d(p)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(t,e,n){var r=nr(t.shape,e.shape),i=jr(r,"float32"),a=jr(r,"float32"),s=this.readSync(t.dataId),o=this.readSync(e.dataId),l=tr(t.shape,r),u=tr(e.shape,r),c=i.values,p=a.values;if(l.length+u.length===0)for(var h=0;h<c.length;h++){var m=h%s.length,d=h%o.length,f=n(s[2*m],s[2*m+1],o[2*d],o[2*d+1]);c[h]=f.real,p[h]=f.imag}else{var g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=this.bufferSync(this.data.get(e.dataId).complexTensors.real),v=function(r){var a=i.indexToLoc(r),h=a.slice(-t.rank);l.forEach(function(t){return h[t]=0});var m=g.locToIndex(h),d=a.slice(-e.rank);u.forEach(function(t){return d[t]=0});var f=y.locToIndex(d),v=n(s[2*m],s[2*m+1],o[2*f],o[2*f+1]);c[r]=v.real,p[r]=v.imag};for(h=0;h<c.length;h++)v(h)}return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(t,e,n){return Cr(t,e,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(t,e,n,r,i,a){for(var s=t.shape,o=s[0],l=s[1],u=s[2],c=s[3],p=e.shape[0],h=r[0],m=r[1],d=jr([p,h,m,c],t.dtype),f=this.readSync(e.dataId),g=this.readSync(n.dataId),y=this.readSync(t.dataId),v=t.strides,b=d.strides,_=0;_<p;_++){var w=4*_,x=f[w],C=f[w+1],S=f[w+2],E=f[w+3],k=g[_];if(!(k>=o))for(var A=h>1?(S-x)*(l-1)/(h-1):0,T=m>1?(E-C)*(u-1)/(m-1):0,I=0;I<h;I++){var N=h>1?x*(l-1)+I*A:.5*(x+S)*(l-1);if(N<0||N>l-1)for(var R=0;R<m;R++)for(var D=0;D<c;D++){var O=D+R*b[2]+I*b[1]+_*b[0];d.values[O]=a}else if("bilinear"===i){var M=Math.floor(N),F=Math.ceil(N),L=N-M;for(R=0;R<m;R++)if((q=m>1?C*(u-1)+R*T:.5*(C+E)*(u-1))<0||q>u-1)for(D=0;D<c;D++)d.values[O=D+R*b[2]+I*b[1]+_*b[0]]=a;else{var P=Math.floor(q),z=Math.ceil(q),B=q-P;for(D=0;D<c;D++){var V=y[O=D+P*v[2]+M*v[1]+k*v[0]],U=y[O=D+z*v[2]+M*v[1]+k*v[0]],j=y[O=D+P*v[2]+F*v[1]+k*v[0]],W=V+(U-V)*B,H=j+(y[O=D+z*v[2]+F*v[1]+k*v[0]]-j)*B;d.values[O=D+R*b[2]+I*b[1]+_*b[0]]=W+(H-W)*L}}}else for(R=0;R<m;++R){var q;if((q=m>1?C*(u-1)+R*T:.5*(C+E)*(u-1))<0||q>u-1)for(D=0;D<c;D++)d.values[O=D+R*b[2]+I*b[1]+_*b[0]]=a;else{var $=Math.round(q),G=Math.round(N);for(D=0;D<c;D++)d.values[D+R*b[2]+I*b[1]+_*b[0]]=y[D+$*v[2]+G*v[1]+k*v[0]]}}}}return d.toTensor()},t.prototype.sparseToDense=function(t,e,n,r){var i=dn(0,t,n);return this.scatter(t,e,n,i.outputSize,i.sliceSize,i.numUpdates,i.sliceRank,i.strides,r,!1)},t.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],i=pn(t,e),a=i[0],s=i[1],o=i[2],l=i[3];if(0===s)return Pn([],a,t.dtype);for(var u=new lt([s,o],t.dtype),c=this.readSync(e.dataId),p=this.readSync(t.dataId),h=0;h<s;h++){for(var m=[],d=0,f=0;f<r;f++){var g=c[h*r+f];d+=g*l[f],m.push(g)}if(d<0||d>=t.size/o)throw new Error("Invalid indices: "+m+" does not index into "+t.shape);for(var y=0;y<o;y++)u.values[h*o+y]=p[d*o+y]}return u.toTensor().reshape(a)},t.prototype.scatterND=function(t,e,n){var r=dn(0,t,n),i=r.sliceRank,a=r.numUpdates,s=r.sliceSize,o=r.strides,l=r.outputSize,u=zn(0);return this.scatter(t,e,n,l,s,a,i,o,u,!0)},t.prototype.fill=function(t,e,n){var r=O(n=n||H(e),x(t));return r.fill(e),ht.make(t,{values:r},n)},t.prototype.onesLike=function(t){if("string"===t.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},t.prototype.zerosLike=function(t){var e=O(t.dtype,x(t.shape));return ht.make(t.shape,{values:e},t.dtype)},t.prototype.linspace=function(t,e,n){return fr(t,e,n)},t.prototype.scatter=function(t,e,n,r,i,a,s,o,l,u){var c=[r/i,i],p=this.readSync(t.dataId),h=this.readSync(e.dataId);if(0===r)return Pn([],n,e.dtype);var m=new lt(c,e.dtype);m.values.fill(this.readSync(l.dataId)[0]);for(var d=0;d<a;d++){for(var f=[],g=0,y=0;y<s;y++){var v=p[d*s+y];f.push(v),g+=v*o[y]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+f+" does not index into "+n);for(var b=0;b<i;b++)u?m.values[g*i+b]+=h[d*i+b]:m.values[g*i+b]=0===e.rank?h[0]:h[d*i+b]}return m.toTensor().reshape(n)},t}();Rt.registerBackend("cpu",function(){return new nc},1);var rc=function(){function t(){}return t.prototype.fetch=function(t,e){return fetch(t,e)},t}();u.get("IS_BROWSER")&&u.setPlatform("browser",new rc);var ic,ac=function(){function t(){}return t.prototype.fetch=function(t,e){return null!=u.global.fetch?u.global.fetch(t,e):(null==ic&&(ic=n(2)),ic(t,e))},t}();u.get("IS_NODE")&&u.setPlatform("node",new ac);var sc={float32:4,int32:4,uint16:2,uint8:1,bool:1};function oc(t,e){for(var n={},r=0,i=function(e){var i=e.name,a=e.dtype,s=e.shape,o=x(s),l=void 0;if("quantization"in e){var u=e.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+e.name+" has unknown quantization dtype "+u.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=sc[u.dtype],p=t.slice(r,r+o*c),h="uint8"===u.dtype?new Uint8Array(p):new Uint16Array(p);if("float32"===a)l=Float32Array.from(h,function(t){return t*u.scale+u.min});else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);l=Int32Array.from(h,function(t){return Math.round(t*u.scale+u.min)})}r+=o*c}else{var m=sc[a];if(p=t.slice(r,r+o*m),"float32"===a)l=new Float32Array(p);else if("int32"===a)l=new Int32Array(p);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);l=new Uint8Array(p)}r+=o*m}var d=void 0;if("float32"===a)d=Pn(l,s,"float32");else if("int32"===a)d=Pn(l,s,"int32");else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);d=Pn(l,s,"bool")}n[i]=d},a=0,s=e;a<s.length;a++)i(s[a]);return n}function lc(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach(function(t){if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name)});var r=new Uint8Array(e),i=0;return n.forEach(function(t){r.set(new Uint8Array(t.buffer),i),i+=t.byteLength}),r.buffer}var uc="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function cc(t){return uc?Buffer.byteLength(t):new Blob([t]).size}function pc(t){var e=0;t.forEach(function(t){e+=t.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t),r),r+=t.byteLength}),n.buffer}function hc(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function mc(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:cc(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:cc(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}var dc=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,"load",n)},t.getHandlers=function(e,n,r){var i=[];return("load"===n?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach(function(t){var n=t(e,r);null!==n&&i.push(n)}),i},t}(),fc="://",gc=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){v(null!=e,function(){return"scheme must not be undefined or null."}),e.endsWith(fc)&&(e=e.slice(0,e.indexOf(fc))),v(e.length>0,function(){return"scheme must not be an empty string."});var r=t.getInstance();v(null==r.managers[e],function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function yc(t){if(-1===t.indexOf(fc))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+gc.getSchemes().join(","));return{scheme:t.split(fc)[0],path:t.split(fc)[1]}}function vc(t,e,n){return void 0===n&&(n=!1),o(this,void 0,void 0,function(){var r,i,a,s,o,u,c,p,h;return l(this,function(l){switch(l.label){case 0:return v(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),v((r=dc.getLoadHandlers(t)).length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),v(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."}),i=r[0],v((a=dc.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),v(a.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),s=a[0],o=yc(t).scheme,u=yc(t).path,c=o===yc(t).scheme,[4,i.load()];case 1:return p=l.sent(),n&&c?[4,gc.getManager(o).removeModel(u)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[4,s.save(p)];case 4:return h=l.sent(),!n||c?[3,6]:[4,gc.getManager(o).removeModel(u)];case 5:l.sent(),l.label=6;case 6:return[2,h.modelArtifactsInfo]}})})}var bc="models_store",_c="model_info_store";function wc(){if(!u.getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function xc(t){var e=t.result;e.createObjectStore(bc,{keyPath:"modelPath"}),e.createObjectStore(_c,{keyPath:"modelPath"})}var Cc=function(){function t(t){if(this.indexedDB=wc(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return o(this,void 0,void 0,function(){return l(this,function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},t.prototype.load=function(){return o(this,void 0,void 0,function(){return l(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(t,e){var n=this;return new Promise(function(t,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return xc(i)},i.onsuccess=function(){var a=i.result;if(null==e){var s=a.transaction(bc,"readonly"),o=s.objectStore(bc).get(n.modelPath);o.onsuccess=function(){if(null==o.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));t(o.result.modelArtifacts)},o.onerror=function(t){return a.close(),r(o.error)},s.oncomplete=function(){return a.close()}}else{var l,u=mc(e),c=a.transaction(_c,"readwrite"),p=c.objectStore(_c),h=p.put({modelPath:n.modelPath,modelArtifactsInfo:u});h.onsuccess=function(){var i=(l=a.transaction(bc,"readwrite")).objectStore(bc).put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:u});i.onsuccess=function(){return t({modelArtifactsInfo:u})},i.onerror=function(t){var e=(p=c.objectStore(_c)).delete(n.modelPath);e.onsuccess=function(){return a.close(),r(i.error)},e.onerror=function(t){return a.close(),r(i.error)}}},h.onerror=function(t){return a.close(),r(h.error)},c.oncomplete=function(){null==l?a.close():l.oncomplete=function(){return a.close()}}}},i.onerror=function(t){return r(i.error)}})},t.URL_SCHEME="indexeddb://",t}(),Sc=function(t){return u.getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Cc.URL_SCHEME)?(e=t.slice(Cc.URL_SCHEME.length),new Cc(e)):null;var e};dc.registerSaveRouter(Sc),dc.registerLoadRouter(Sc);var Ec=function(){function t(){this.indexedDB=wc()}return t.prototype.listModels=function(){return o(this,void 0,void 0,function(){var t=this;return l(this,function(e){return[2,new Promise(function(e,n){var r=t.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return xc(r)},r.onsuccess=function(){var t=r.result,i=t.transaction(_c,"readonly"),a=i.objectStore(_c).getAll();a.onsuccess=function(){for(var t={},n=0,r=a.result;n<r.length;n++){var i=r[n];t[i.modelPath]=i.modelArtifactsInfo}e(t)},a.onerror=function(e){return t.close(),n(a.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}})]})})},t.prototype.removeModel=function(t){return o(this,void 0,void 0,function(){var e=this;return l(this,function(n){var r;return t=(r=t).startsWith(Cc.URL_SCHEME)?r.slice(Cc.URL_SCHEME.length):r,[2,new Promise(function(n,r){var i=e.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return xc(i)},i.onsuccess=function(){var e,a=i.result,s=a.transaction(_c,"readwrite"),o=s.objectStore(_c),l=o.get(t);l.onsuccess=function(){if(null==l.result)return a.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var i=o.delete(t),s=function(){var i=(e=a.transaction(bc,"readwrite")).objectStore(bc).delete(t);i.onsuccess=function(){return n(l.result.modelArtifactsInfo)},i.onerror=function(t){return r(l.error)}};i.onsuccess=s,i.onerror=function(t){return s(),a.close(),r(l.error)}},l.onerror=function(t){return a.close(),r(l.error)},s.oncomplete=function(){null==e?a.close():e.oncomplete=function(){return a.close()}}},i.onerror=function(t){return r(i.error)}})]})})},t}();if(u.getBool("IS_BROWSER"))try{gc.registerManager(Cc.URL_SCHEME,new Ec)}catch(bt){}var kc="/",Ac="tensorflowjs_models",Tc="info",Ic="model_topology",Nc="weight_specs",Rc="weight_data",Dc="model_metadata";function Oc(t){return{info:[Ac,t,Tc].join(kc),topology:[Ac,t,Ic].join(kc),weightSpecs:[Ac,t,Nc].join(kc),weightData:[Ac,t,Rc].join(kc),modelMetadata:[Ac,t,Dc].join(kc)}}function Mc(t){var e=t.split(kc);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(kc)}var Fc=function(){function t(t){if(!u.getBool("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Oc(this.modelPath)}return t.prototype.save=function(t){return o(this,void 0,void 0,function(){var e,n,r;return l(this,function(i){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),r=mc(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,(a=t.weightData,uc?Buffer.from(a).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(a))))),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy})),[2,{modelArtifactsInfo:r}]}catch(t){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}var a;return[2]})})},t.prototype.load=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,a,s;return l(this,function(o){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),e.format=a.format,e.generatedBy=a.generatedBy,e.convertedBy=a.convertedBy),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(t){if(uc){var e=Buffer.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(s),[2,e]})})},t.URL_SCHEME="localstorage://",t}(),Lc=function(t){return u.getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Fc.URL_SCHEME)?(e=t.slice(Fc.URL_SCHEME.length),new Fc(e)):null;var e};dc.registerSaveRouter(Lc),dc.registerLoadRouter(Lc);var Pc=function(){function t(){v(u.getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),v(void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,a;return l(this,function(s){for(t={},e=Ac+kc,n=kc+Tc,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(e)&&i.endsWith(n)&&(a=Mc(i),t[a]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},t.prototype.removeModel=function(t){return o(this,void 0,void 0,function(){var e,n;return l(this,function(r){var i;if(t=(i=t).startsWith(Fc.URL_SCHEME)?i.slice(Fc.URL_SCHEME.length):i,e=Oc(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]})})},t}();if(u.getBool("IS_BROWSER"))try{gc.registerManager(Fc.URL_SCHEME,new Pc)}catch(bt){}var zc="model",Bc=".json",Vc=".weights.bin";function Uc(t){return new Promise(function(t){return setTimeout(t)}).then(t)}var jc=function(){function t(e){if(!u.getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=zc),this.modelTopologyFileName=e+Bc,this.weightDataFileName=e+Vc}return t.prototype.save=function(t){return o(this,void 0,void 0,function(){var e,n,r,i;return l(this,function(a){switch(a.label){case 0:if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=window.URL.createObjectURL(new Blob([JSON.stringify({modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}]})],{type:"application/json"})),(r=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,r.href=n,[4,Uc(function(){return r.dispatchEvent(new MouseEvent("click"))})];case 2:return a.sent(),null==t.weightData?[3,4]:((i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,i.href=e,[4,Uc(function(){return i.dispatchEvent(new MouseEvent("click"))})]);case 3:a.sent(),a.label=4;case 4:return[2,{modelArtifactsInfo:mc(t)}]}})})},t.URL_SCHEME="downloads://",t}(),Wc=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return o(this,void 0,void 0,function(){var t,e,n=this;return l(this,function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise(function(r,i){var a=new FileReader;a.onload=function(a){var s=JSON.parse(a.target.result),o=s.modelTopology;if(null!=o){0===e.length&&r({modelTopology:o});var l=s.weightsManifest;if(null!=l){var u;try{u=n.checkManifestAndWeightFiles(l,e)}catch(t){return void i(t)}var c=[],p=[],h=[];l.forEach(function(t){t.paths.forEach(function(t){p.push(t),h.push(null)}),c.push.apply(c,t.weights)}),l.forEach(function(t){t.paths.forEach(function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,i=p.indexOf(t);h[i]=n,-1===h.indexOf(null)&&r({modelTopology:o,weightSpecs:c,weightData:pc(h)})},e.onerror=function(e){return i("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(u[t])})})}else i(new Error("weightManifest field is missing from file "+t.name))}else i(new Error("modelTopology field is missing from file "+t.name))},a.onerror=function(e){return i("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(t)})]})})},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map(function(t){return hc(t.name)}),i={},a=0,s=t;a<s.length;a++)s[a].paths.forEach(function(t){var a=hc(t);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");i[t]=e[r.indexOf(a)]});if(n.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+e.length+").");return i},t}();function Hc(t,e,n,r){!function(t){v(null!=t&&Array.isArray(t)&&t.length>0,function(){return"promises must be a none empty array"})}(t),function(t,e){v(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+t}),v(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+e}),v(e>=t,function(){return"startFraction must be no more than endFraction, but got startFraction "+t+" and endFraction "+e})}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(t.map(function(a){return a.then(function(a){var s=n+ ++i/t.length*(r-n);return e(s),a}),a}))}function qc(t,e){return o(this,void 0,void 0,function(){var n,r,i,a,s,o,u,c,p;return l(this,function(l){switch(l.label){case 0:return null==e&&(e={}),n=null==e.fetchFunc?tt:e.fetchFunc,r=t.map(function(t){return n(t,e.requestInit)}),i=0,a=.5,null!=e.onProgress?[3,2]:[4,Promise.all(r)];case 1:return s=l.sent(),[3,4];case 2:return[4,Hc(r,e.onProgress,i,a)];case 3:s=l.sent(),l.label=4;case 4:return o=s.map(function(t){return t.arrayBuffer()}),u=.5,c=1,null!=e.onProgress?[3,6]:[4,Promise.all(o)];case 5:return p=l.sent(),[3,8];case 6:return[4,Hc(o,e.onProgress,u,c)];case 7:p=l.sent(),l.label=8;case 8:return[2,p]}})})}function $c(t){var e=this;return function(n,r,i){return void 0===r&&(r=""),o(e,void 0,void 0,function(){var e,a,s,o,u,c,p,h,m,d;return l(this,function(l){switch(l.label){case 0:if(e=n.map(function(){return!1}),a={},s=null!=i?i.map(function(){return!1}):[],o=[],n.forEach(function(t,n){var r=0;t.weights.forEach(function(t){var l=sc["quantization"in t?t.quantization.dtype:t.dtype]*x(t.shape),u=function(){e[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:t,groupOffset:r,sizeBytes:l})};null!=i?i.forEach(function(e,n){e===t.name&&(u(),s[n]=!0)}):u(),o.push(t.name),r+=l})}),!s.every(function(t){return t}))throw u=i.filter(function(t,e){return!s[e]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+o.join(", ")+".");return c=e.reduce(function(t,e,n){return e&&t.push(n),t},[]),p=[],c.forEach(function(t){n[t].paths.forEach(function(t){var e=r+(r.endsWith("/")?"":"/")+t;p.push(e)})}),[4,t(p)];case 1:return h=l.sent(),m={},d=0,c.forEach(function(t){for(var e=n[t].paths.length,r=0,i=0;i<e;i++)r+=h[d+i].byteLength;for(var s=new ArrayBuffer(r),o=new Uint8Array(s),l=0,u=0;u<e;u++){var c=new Uint8Array(h[d+u]);o.set(c,l),l+=c.byteLength}a[t].forEach(function(t){var e=oc(s.slice(t.groupOffset,t.groupOffset+t.sizeBytes),[t.manifestEntry]);for(var n in e)m[n]=e[n]}),d+=e}),[2,m]}})})}}dc.registerSaveRouter(function(t){return u.getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(jc.URL_SCHEME)?(void 0===(e=t.slice(jc.URL_SCHEME.length))&&(e="model"),new jc(e)):null;var e});var Gc=function(){function t(t,e){if(this.DEFAULT_METHOD="POST",null==e&&(e={}),this.weightPathPrefix=e.weightPathPrefix,this.onProgress=e.onProgress,null!=e.fetchFunc?(v("function"==typeof e.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=e.fetchFunc):this.fetch=tt,v(null!=t&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&v(2===t.length,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,null!=e.requestInit&&null!=e.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e.requestInit||{}}return t.prototype.save=function(t){return o(this,void 0,void 0,function(){var e,n;return l(this,function(r){switch(r.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,e.body.append("model.json",new Blob([JSON.stringify({modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:[{paths:["./model.weights.bin"],weights:t.weightSpecs}]})],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,e)];case 1:if((n=r.sent()).ok)return[2,{modelArtifactsInfo:mc(t),responses:[n]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+n.status+".")}})})},t.prototype.load=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,a,s,o;return l(this,function(l){switch(l.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=l.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");l.label=2;case 2:return l.trys.push([2,4,,5]),[4,t.json()];case 3:return e=l.sent(),[3,5];case 4:throw l.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(i=e.weightsManifest,null==(r=e.modelTopology)&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:o=l.sent(),a=o[0],s=o[1],l.label=7;case 7:return[2,{modelTopology:r,weightSpecs:a,weightData:s}]}})})},t.prototype.loadWeights=function(t){return o(this,void 0,void 0,function(){var e,n,r,i,a,s,o,u,c,p;return l(this,function(l){switch(l.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,n=function(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("?");return[t.substring(0,e)+"/",n>e?t.substring(n):""]}(e),r=n[0],i=n[1],a=this.weightPathPrefix||r,s=[],o=0,u=t;o<u.length;o++)s.push.apply(s,u[o].weights);return c=[],t.forEach(function(t){t.paths.forEach(function(t){c.push(a+t+i)})}),[4,qc(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return p=l.sent(),[2,[s,pc(p)]]}})})},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function Kc(t){return null!=t.match(Gc.URL_SCHEME_REGEX)}var Yc=function(t,e){return(Array.isArray(t)?t.every(function(t){return Kc(t)}):Kc(t))?Xc(t,{onProgress:e}):null};function Xc(t,e){return new Gc(t,e)}dc.registerSaveRouter(Yc),dc.registerLoadRouter(Yc);var Qc=function(){function t(t,e,n){this.modelTopology=t,this.weightSpecs=e,this.weightData=n}return t.prototype.load=function(){return o(this,void 0,void 0,function(){var t;return l(this,function(e){return t={},null!=this.modelTopology&&(t=s({modelTopology:this.modelTopology},t)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(t=s({weightSpecs:this.weightSpecs},t)),null!=this.weightData&&this.weightData.byteLength>0&&(t=s({weightData:this.weightData},t)),[2,t]})})},t}(),Zc=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return o(this,void 0,void 0,function(){return l(this,function(e){return[2,this.saveHandler(t)]})})},t}(),Jc=Object.freeze({browserFiles:function(t){return new Wc(t)},browserHTTPRequest:function(t,e){return Xc(t,e)},concatenateArrayBuffers:pc,decodeWeights:oc,encodeWeights:function(t,e){return o(this,void 0,void 0,function(){var n,r,i,a,s,o,u;return l(this,function(l){switch(l.label){case 0:for(n=[],r=[],i=Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t),a=0;a<i.length;++a){if(s=i[a],"float32"!==(o=Array.isArray(t)?t[a].tensor:t[s]).dtype&&"int32"!==o.dtype&&"bool"!==o.dtype)throw new Error("Unsupported dtype in weight '"+s+"': "+o.dtype);u={name:s,shape:o.shape,dtype:o.dtype},null!=e&&(u.group=e),n.push(u),r.push(o.data())}return[4,Promise.all(r)];case 1:return[2,{data:lc(l.sent()),specs:n}]}})})},fromMemory:function(t,e,n){return new Qc(t,e,n)},getLoadHandlers:function(t,e){return dc.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:mc,getSaveHandlers:function(t){return dc.getSaveHandlers(t)},http:Xc,isHTTPScheme:Kc,loadWeights:function(t,e,n,r){return void 0===e&&(e=""),o(this,void 0,void 0,function(){return l(this,function(i){return[2,$c(function(t){return qc(t,{requestInit:r})})(t,e,n)]})})},registerLoadRouter:function(t){return dc.registerLoadRouter(t)},registerSaveRouter:function(t){return dc.registerSaveRouter(t)},weightsLoaderFactory:$c,withSaveHandler:function(t){return new Zc(t)},copyModel:function(t,e){return o(this,void 0,void 0,function(){return l(this,function(n){return[2,vc(t,e,!1)]})})},listModels:function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,a,s;return l(this,function(o){switch(o.label){case 0:t=gc.getSchemes(),e={},n=0,r=t,o.label=1;case 1:return n<r.length?[4,gc.getManager(i=r[n]).listModels()]:[3,4];case 2:for(s in a=o.sent())e[i+fc+s]=a[s];o.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},moveModel:function(t,e){return o(this,void 0,void 0,function(){return l(this,function(n){return[2,vc(t,e,!0)]})})},removeModel:function(t){return o(this,void 0,void 0,function(){var e;return l(this,function(n){return e=yc(t),[2,gc.getManager(e.scheme).removeModel(e.path)]})})}}),tp=Rn({confusionMatrix_:function(t,e,n){var r=xn(t,"labels","confusionMatrix"),i=xn(e,"predictions","confusionMatrix");v(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),v(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),v(1===i.rank,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),v(r.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),v(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var a=Zr(r.asType("int32"),n),s=Zr(i.asType("int32"),n);return a.transpose().matMul(s).asType("int32")}}),ep=Object.freeze({confusionMatrix:tp}),np=Rn({fromPixels_:function(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return Rt.fromPixels(t,e)}}),rp=Object.freeze({toPixels:function(t,e){return o(this,void 0,void 0,function(){var n,r,i,a,s,o,u,c,p,h,m,d,f,g,y,v,b,_,w,x,C;return l(this,function(l){switch(l.label){case 0:if(n=xn(t,"img","toPixels"),t instanceof ht||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],a=r[1],(s=2===n.rank?1:n.shape[2])>4||2===s)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+s);return[4,n.data()];case 1:return o=l.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(p=l.sent(),h=p[0][0],m=p[1][0],u.dispose(),c.dispose(),"float32"===n.dtype){if(h<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+m+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+m+"].")}for(d="float32"===n.dtype?255:1,f=new Uint8ClampedArray(a*i*4),g=0;g<i*a;++g)y=void 0,v=void 0,b=void 0,_=void 0,1===s?(y=o[g]*d,v=o[g]*d,b=o[g]*d,_=255):3===s?(y=o[3*g]*d,v=o[3*g+1]*d,b=o[3*g+2]*d,_=255):4===s&&(y=o[4*g]*d,v=o[4*g+1]*d,b=o[4*g+2]*d,_=o[4*g+3]*d),f[0+(w=4*g)]=Math.round(y),f[w+1]=Math.round(v),f[w+2]=Math.round(b),f[w+3]=Math.round(_);return null!=e&&(e.width=a,e.height=i,x=e.getContext("2d"),C=new ImageData(f,a,i),x.putImageData(C,0,0)),n!==t&&n.dispose(),[2,f]}})})},fromPixels:np}),ip=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}(),ap=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function sp(t){v(null!=t.className,function(){return"Class being registered does not have the static className property defined."}),v("string"==typeof t.className,function(){return"className is required to be a string, but got type "+typeof t.className}),v(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),ap.register(t)}var op=Object.freeze({Serializable:ip,SerializationMap:ap,registerClass:sp}),lp=.001,up=.1;function cp(){return 32===Rt.backend.floatPrecision()?lp:up}function pp(t,e,n){var r=!0;if((z(t)||z(e))&&(r=!1),z(t)&&z(e)&&(r=!0),r){var i=t.constructor.name,a=e.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+a)}if(Array.isArray(t)&&Array.isArray(e)){var s=_n(t),o=_n(e);if(!C(s,o))throw new Error("Arrays have different shapes. Actual: ["+s+"]. Expected: ["+o+"]")}var l=z(t)?t:w(t),u=z(e)?e:w(e);if(l.length!==u.length)throw new Error("Arrays have different lengths actual: "+l.length+" vs expected: "+u.length+".\nActual:   "+l+".\nExpected: "+u+".");for(var c=0;c<u.length;++c){var p=l[c],h=u[c];if(!n(p,h))throw new Error("Arrays differ: actual["+c+"] = "+p+", expected["+c+"] = "+h+".\nActual:   "+l+".\nExpected: "+u+".")}}function hp(t,e,n){return!isFinite(t)&&!isFinite(e)||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}var mp=Object.freeze({TEST_EPSILON_FLOAT16:up,expectArraysClose:function(t,e,n){return null==n&&(n=cp()),pp(t,e,function(t,e){return hp(t,e,n)})},testEpsilon:cp,expectPromiseToFail:function(t,e){t().then(function(){return e.fail()},function(){return e()})},expectArraysEqual:function(t,e){var n="string"==typeof e||"number"==typeof e||"boolean"==typeof e?[e]:e;return U(t)||U(t[0])||U(e)||U(e[0])?pp(t,n,function(t,e){return t==e}):pp(t,e,function(t,e){return hp(t,e,0)})},expectNumbersClose:function(t,e,n){if(null==n&&(n=cp()),!hp(t,e,n))throw new Error("Numbers differ: actual === "+t+", expected === "+e)},expectValuesInRange:function(t,e,n){for(var r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error("Value out of range:"+t[r]+" low: "+e+", high: "+n)},expectArrayBuffersEqual:function(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}}),dp=Object.freeze({gpgpu_util:Ua,webgl_util:Ae,MathBackendWebGL:Os,setWebGLContext:Ft,GPGPUContext:ja}),fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),i=r.value,a=r.grads;if(null!=n){var s=n.map(function(t){return{name:t.name,tensor:a[t.name]}});this.applyGradients(s)}else this.applyGradients(a);return Le(a),e?i:(i.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(t,e){return Tn(t,e)},e.prototype.dispose=function(){null!=this.iterations_&&Le(this.iterations_)},e.prototype.saveIterations=function(){return o(this,void 0,void 0,function(){return l(this,function(t){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:zn(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){return l(this,function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){return l(this,function(t){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(t){return o(this,void 0,void 0,function(){var e;return l(this,function(n){switch(n.label){case 0:return e=this,[4,t[0].tensor.data()];case 1:return e.iterations_=n.sent()[0],[2,t.slice(1)]}})})},e}(ip);Object.defineProperty(fp,Symbol.hasInstance,{value:function(t){return null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients}});var gp=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this)||this;return i.learningRate=e,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=Rt.backend.epsilon()),i}return a(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Rt.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Fe(function(){return Qn(i).variable(!1)})}),null==e.accumulatedUpdates[r]&&(e.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Fe(function(){return Qn(i).variable(!1)})});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var s=e.accumulatedGrads[r].variable,o=e.accumulatedUpdates[r].variable;Fe(function(){var t=s.mul(e.rho).add(a.square().mul(1-e.rho)),n=o.add(e.epsilon).sqrt().div(s.add(e.epsilon).sqrt()).mul(a),r=o.mul(e.rho).add(n.square().mul(1-e.rho));s.assign(t),o.assign(r);var l=n.mul(-e.learningRate).add(i);i.assign(l)})}}),this.incrementIterations()},e.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Le(this.accumulatedGrads.map(function(t){return t.variable})),Le(this.accumulatedUpdates.map(function(t){return t.variable})))},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){var e;return l(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),this.accumulatedGrads=t.slice(0,e=t.length/2).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.accumulatedUpdates=t.slice(e,2*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},e.className="AdadeltaOptimizer",e}(fp);sp(gp);var yp=function(t){function e(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;return r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return a(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Rt.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Fe(function(){return Gn(i.shape,e.initialAccumulatorValue).variable(!1)})});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var s=e.accumulatedGrads[r].variable;Fe(function(){var t=s.add(a.square());s.assign(t);var n=a.div(t.add(Rt.backend.epsilon()).sqrt()).mul(-e.learningRate).add(i);i.assign(n)})}}),this.incrementIterations()},e.prototype.dispose=function(){null!=this.accumulatedGrads&&Le(this.accumulatedGrads.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),this.accumulatedGrads=t.map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},e.className="Adagrad",e}(fp);sp(yp);var vp=function(t){function e(e,n,r,i){void 0===i&&(i=null);var a=t.call(this)||this;return a.learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Fe(function(){a.accBeta1=zn(n).variable(),a.accBeta2=zn(r).variable()}),null==i&&(a.epsilon=Rt.backend.epsilon()),a}return a(e,t),e.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t);Fe(function(){var r=Gl(1,e.accBeta1),i=Gl(1,e.accBeta2);n.forEach(function(n,a){var s=Rt.registeredVariables[n];null==e.accumulatedFirstMoment[a]&&(e.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Fe(function(){return Qn(s).variable(!1)})}),null==e.accumulatedSecondMoment[a]&&(e.accumulatedSecondMoment[a]={originalName:n+"/v",variable:Fe(function(){return Qn(s).variable(!1)})});var o=Array.isArray(t)?t[a].tensor:t[n];if(null!=o){var l=e.accumulatedFirstMoment[a].variable,u=e.accumulatedSecondMoment[a].variable,c=l.mul(e.beta1).add(o.mul(1-e.beta1)),p=u.mul(e.beta2).add(o.square().mul(1-e.beta2)),h=c.div(r),m=p.div(i);l.assign(c),u.assign(p);var d=h.div(m.sqrt().add(e.epsilon)).mul(-e.learningRate).add(s);s.assign(d)}}),e.accBeta1.assign(e.accBeta1.mul(e.beta1)),e.accBeta2.assign(e.accBeta2.mul(e.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Le(this.accumulatedFirstMoment.map(function(t){return t.variable})),null!=this.accumulatedSecondMoment&&Le(this.accumulatedSecondMoment.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){var e,n=this;return l(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),Fe(function(){n.accBeta1.assign(Wl(n.beta1,n.iterations_+1)),n.accBeta2.assign(Wl(n.beta2,n.iterations_+1))}),this.accumulatedFirstMoment=t.slice(0,e=t.length/2).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.accumulatedSecondMoment=t.slice(e,2*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},e.className="Adam",e}(fp);sp(vp);var bp=function(t){function e(e,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var s=t.call(this)||this;return s.learningRate=e,s.beta1=n,s.beta2=r,s.epsilon=i,s.decay=a,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],Fe(function(){s.iteration=zn(0).variable(),s.accBeta1=zn(n).variable()}),null==i&&(s.epsilon=Rt.backend.epsilon()),s}return a(e,t),e.prototype.applyGradients=function(t){var e=this,n=Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t);Fe(function(){var r=Gl(1,e.accBeta1),i=Dl(-e.learningRate,e.iteration.mul(e.decay).add(1));n.forEach(function(n,a){var s=Rt.registeredVariables[n];null==e.accumulatedFirstMoment[a]&&(e.accumulatedFirstMoment[a]={originalName:n+"/m",variable:Qn(s).variable(!1)}),null==e.accumulatedWeightedInfNorm[a]&&(e.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:Qn(s).variable(!1)});var o=Array.isArray(t)?t[a].tensor:t[n];if(null!=o){var l=e.accumulatedFirstMoment[a].variable,u=e.accumulatedWeightedInfNorm[a].variable,c=l.mul(e.beta1).add(o.mul(1-e.beta1)),p=u.mul(e.beta2),h=o.abs(),m=p.maximum(h);l.assign(c),u.assign(m);var d=i.div(r).mul(c.div(m.add(e.epsilon))).add(s);s.assign(d)}}),e.iteration.assign(e.iteration.add(1)),e.accBeta1.assign(e.accBeta1.mul(e.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Le(this.accumulatedFirstMoment.map(function(t){return t.variable})),null!=this.accumulatedWeightedInfNorm&&Le(this.accumulatedWeightedInfNorm.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){return l(this,function(t){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){return l(this,function(t){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},e.className="Adamax",e}(fp);sp(bp);var _p=function(t){function e(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return a(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Array.isArray(t)?t[r].tensor:t[n];if(null!=i){var a=Rt.registeredVariables[n];Fe(function(){var t=e.c.mul(i).add(a);a.assign(t)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=Pe(zn(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:if(0!==(t=e.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,e){return new t(e.learningRate)},e.className="SGD",e}(fp);sp(_p);var wp=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e)||this;return i.learningRate=e,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=zn(i.momentum),i}return a(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Rt.registeredVariables[n];null==e.accumulations[r]&&(e.accumulations[r]={originalName:n+"/momentum",variable:Fe(function(){return Qn(i).variable(!1)})});var a=e.accumulations[r].variable,s=Array.isArray(t)?t[r].tensor:t[n];null!=s&&Fe(function(){var t,n=e.m.mul(a).add(s);t=e.useNesterov?e.c.mul(s.add(n.mul(e.m))).add(i):e.c.mul(n).add(i),a.assign(n),i.assign(t)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Le(this.accumulations.map(function(t){return t.variable}))},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,this.extractIterations(t)];case 1:return t=e.sent(),this.accumulations=t.map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},e.className="MomentumOptimizer",e}(_p);sp(wp);var xp=function(t){function e(e,n,r,i,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=!1);var s=t.call(this)||this;return s.learningRate=e,s.decay=n,s.momentum=r,s.epsilon=i,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=a,null==i&&(s.epsilon=Rt.backend.epsilon()),s}return a(e,t),e.prototype.applyGradients=function(t){var e=this;(Array.isArray(t)?t.map(function(t){return t.name}):Object.keys(t)).forEach(function(n,r){var i=Rt.registeredVariables[n];null==e.accumulatedMeanSquares[r]&&(e.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Fe(function(){return Qn(i).variable(!1)})}),null==e.accumulatedMoments[r]&&(e.accumulatedMoments[r]={originalName:n+"/momentum",variable:Fe(function(){return Qn(i).variable(!1)})}),null==e.accumulatedMeanGrads[r]&&e.centered&&(e.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Fe(function(){return Qn(i).variable(!1)})});var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var s=e.accumulatedMeanSquares[r].variable,o=e.accumulatedMoments[r].variable;Fe(function(){var t=s.mul(e.decay).add(a.square().mul(1-e.decay));if(e.centered){var n=e.accumulatedMeanGrads[r].variable,l=n.mul(e.decay).add(a.mul(1-e.decay)),u=o.mul(e.momentum).add(a.mul(e.learningRate).div(t.sub(l.square().add(e.epsilon)).sqrt()));s.assign(t),n.assign(l),o.assign(u);var c=i.sub(u);i.assign(c)}else{var p=s.mul(e.decay).add(a.square().mul(1-e.decay));u=o.mul(e.momentum).add(a.mul(e.learningRate).div(p.add(e.epsilon).sqrt())),s.assign(p),o.assign(u),c=i.sub(u),i.assign(c)}})}}),this.incrementIterations()},e.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Le(this.accumulatedMeanSquares.map(function(t){return t.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Le(this.accumulatedMeanGrads.map(function(t){return t.variable})),null!=this.accumulatedMoments&&Le(this.accumulatedMoments.map(function(t){return t.variable}))},e.prototype.getWeights=function(){return o(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(t.map(function(t){return{name:t.originalName,tensor:t.variable}}))]}})})},e.prototype.setWeights=function(t){return o(this,void 0,void 0,function(){var e;return l(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),this.accumulatedMeanSquares=t.slice(0,e=this.centered?t.length/3:t.length/2).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.accumulatedMoments=t.slice(e,2*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=t.slice(2*e,3*e).map(function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},e.className="RMSProp",e}(fp);sp(xp);var Cp=function(){function t(){}return t.sgd=function(t){return new _p(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new wp(t,e,n)},t.rmsprop=function(t,e,n,r,i){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new xp(t,e,n,r,i)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new vp(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new gp(t,e,n)},t.adamax=function(t,e,n,r,i){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new bp(t,e,n,r,i)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new yp(t,e)},t}(),Sp={sgd:Cp.sgd,momentum:Cp.momentum,adadelta:Cp.adadelta,adagrad:Cp.adagrad,rmsprop:Cp.rmsprop,adamax:Cp.adamax,adam:Cp.adam},Ep="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(t){return t()};function kp(){return new Promise(function(t){return Ep(function(){return t()})})}ct=ec;var Ap=function(t,e){return(Ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Tp(t,e){function n(){this.constructor=t}Ap(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ip,Np=function(){return(Np=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Rp(t,e,n,r){return new(n||(n=Promise))(function(i,a){function s(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,o)}l((r=r.apply(t,e||[])).next())})}function Dp(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function Op(){return null==Ip&&(Ip=$e().epsilon()),Ip}var Mp=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Tp(e,t),e}(Error),Fp=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Tp(e,t),e}(Error),Lp=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Tp(e,t),e}(Error),Pp=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Tp(e,t),e}(Error),zp=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Tp(e,t),e}(Error);function Bp(t,e){if(Array.isArray(t)){for(var n=[],r=0;r<e;r++)n=n.concat(t);return n}return(n=new Array(e)).fill(t),n}function Vp(t,e){if(!t)throw new zp(e)}function Up(t,e){for(var n=0,r=0,i=t;r<i.length;r++)i[r]===e&&n++;return n}function jp(t){return 1===t.length?t[0]:t}function Wp(t){return Array.isArray(t)?t:[t]}function Hp(t){var e=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==e[0]?e:"private"+e}function qp(t){return t.length<=1?t:-1===t.indexOf("_")?t:t.replace(/[_]+(\w|$)/g,function(t,e){return e.toUpperCase()})}!function(t){Tp(function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r},t)}(Error);var $p={};function Gp(t){if(null==t)return null;var e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function Kp(t,e,n,r,i){var a,s,o;if(void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r="object"),void 0===i&&(i=!1),"string"==typeof t){var l=void 0;if(t in n)l=n[t];else if(t in $p)l=$p[t];else if(null==(l=e[t]))throw new Lp("Unknown "+r+": "+t+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return l}var u=t;if(null==u.className||null==u.config)throw new Lp(r+": Improper config format: "+JSON.stringify(u)+".\n'className' and 'config' must set.");var c=u.className,p=void 0,h=void 0;if(c in n?(p=(a=n[c])[0],h=a[1]):c in $p?(p=(s=$p.className)[0],h=s[1]):c in e&&(p=(o=e[c])[0],h=o[1]),null==p)throw new Lp("Unknown "+r+": "+c+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=h){for(var m={},d=0,f=Object.keys($p);d<f.length;d++)m[w=f[d]]=$p[w];for(var g=0,y=Object.keys(n);g<y.length;g++)m[w=y[g]]=n[w];u.config.customObjects=m;for(var v=Np({},$p),b=0,_=Object.keys(n);b<_.length;b++){var w=_[b];$p[w]=n[w]}!function t(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach(function(e){return t(e)});else for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],a=e[i];null!=a&&"object"==typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!=typeof a.value?t(a):e[i]=a.value)}}(u.config);var x=h(p,u.config,n,i);return $p=Np({},v),x}v=Np({},$p);for(var C=0,S=Object.keys(n);C<S.length;C++)$p[w=S[C]]=n[w];return x=new p(u.config),$p=Np({},v),x}function Yp(t,e){return-1*function(t,e){return t<e?-1:t>e?1:0}(t,e)}function Xp(t){if(null==t)return t;for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];-1===e.indexOf(i)&&e.push(i)}return e}function Qp(t){if(null==t)throw new Lp("Invalid value in obj: "+JSON.stringify(t));for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Zp(t,e,n){if(null!=n&&t.indexOf(n)<0)throw new Lp(n+" is not a valid "+e+".  Valid values are "+t+" or null/undefined.")}function Jp(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),Vp(n>=0),Vp(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(function(t){return typeof t===e})}function th(t,e){Array.isArray(t)?(et.assert(t.length>0,function(){return e+" is unexpectedly an empty array."}),t.forEach(function(t,n){return th(t,"element "+(n+1)+" of "+e)})):et.assert(Number.isInteger(t)&&t>0,function(){return"Expected "+e+" to be a positive integer, but got "+function t(e){return null===e?"null":Array.isArray(e)?"["+e.map(function(e){return t(e)}).join(",")+"]":"string"==typeof e?'"'+e+'"':""+e}(t)+"."})}function eh(t,e){return Fe(function(){return co(dl(jl(t,t),e,!0))})}var nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.getConfig=function(){return{}},e}(op.Serializable),rh=function(t){function e(e){var n=t.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Tp(e,t),e.prototype.apply=function(t){var e=this;return Fe(function(){var n=eh(t,e.axis),r=js(n,0,e.maxValue);return Ul(t,Dl(r,Tl(Op(),n)))})},e.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},e.className="MaxNorm",e}(nh);op.registerClass(rh);var ih=function(t){function e(e){var n=t.call(this)||this;return n.defaultAxis=0,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Tp(e,t),e.prototype.apply=function(t){var e=this;return Fe(function(){return Dl(t,Tl(Op(),eh(t,e.axis)))})},e.prototype.getConfig=function(){return{axis:this.axis}},e.className="UnitNorm",e}(nh);op.registerClass(ih);var ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return iu(t)},e.className="NonNeg",e}(nh);op.registerClass(ah);var sh=function(t){function e(e){var n=t.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=e.minValue?e.minValue:n.defaultMinValue,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.rate=null!=e.rate?e.rate:n.defaultRate,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Tp(e,t),e.prototype.apply=function(t){var e=this;return Fe(function(){var n=eh(t,e.axis),r=Tl(Ul(e.rate,js(n,e.minValue,e.maxValue)),Ul(1-e.rate,n));return Ul(t,Dl(r,Tl(Op(),n)))})},e.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},e.className="MinMaxNorm",e}(nh);op.registerClass(sh);var oh={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function lh(t){return Gp(t)}function uh(t,e){return void 0===e&&(e={}),Kp(t,op.SerializationMap.getMap().classNameMap,e,"constraint")}function ch(t){return null==t?null:"string"==typeof t?uh({className:t in oh?oh[t]:t,config:{}}):t instanceof nh?t:uh(t)}var ph=Object.freeze({maxNorm:function(t){return new rh(t)},unitNorm:function(t){return new ih(t)},nonNeg:function(){return new ah},minMaxNorm:function(t){return new sh(t)}}),hh=["channelsFirst","channelsLast"],mh=["valid","same","causal"],dh=["max","avg"],fh=["sum","mul","concat","ave"],gh=new Map;function yh(t){Zp(hh,"DataFormat",t)}function vh(t){Zp(mh,"PaddingMode",t)}var bh=[],_h="/";function wh(t,e){bh.push(t);try{var n=e();return bh.pop(),n}catch(t){throw bh.pop(),t}}function xh(t){if(!Eh(t))throw new Error("Not a valid tensor name: '"+t+"'");return(0===bh.length?"":bh.join(_h)+_h)+t}function Ch(t){if(!Eh(t))throw new Error("Not a valid tensor name: '"+t+"'");gh.has(t)||gh.set(t,0);var e=gh.get(t);if(gh.set(t,gh.get(t)+1),e>0){var n=t+"_"+e;return gh.set(n,1),n}return t}var Sh=new RegExp(/^[A-Za-z][-A-Za-z0-9\._\/]*$/);function Eh(t){return!!t.match(Sh)}function kh(t){return t===parseInt(t.toString(),10)}function Ah(t,e,n){null==e&&(e=0),null==n&&(n=t.length);for(var r=1,i=e;i<n;++i)r*=t[i];return r}function Th(t){return Bn(t=Array.isArray(t)?new Float32Array(t):t)}function Ih(t){return hl(Th(t)).dataSync()[0]}function Nh(t){return cl(Th(t)).dataSync()[0]}function Rh(t,e){if(e<t)throw new Lp("end ("+e+") < begin ("+t+") is forbidden.");for(var n=[],r=t;r<e;++r)n.push(r);return n}function Dh(t,e){return t.asType(e)}function Oh(t,e){void 0===e&&(e=-1);var n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),t.reshape(n)}function Mh(t,e,n){return Fe(function(){switch(t.rank){case 1:return tl(t,e,n);case 2:return el(t,[e,0],[n,t.shape[1]]);case 3:return nl(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return rl(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);default:throw new Lp("sliceAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}})}function Fh(t,e,n){return Fe(function(){switch(t.rank){case 1:return tl(t,e,n);case 2:return el(t,[0,e],[t.shape[0],n]);case 3:return nl(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return rl(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Lp("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function Lh(t,e,n,r){return Fe(function(){switch(t.rank){case 1:return tl(t,e,n);case 2:switch(r){case 1:return Mh(t,e,n);case 2:return Fh(t,e,n);default:throw new Lp("The axis is not within the rank of the tensor "+r)}case 3:switch(r){case 1:return Mh(t,e,n);case 2:return nl(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return Fh(t,e,n);default:throw new Lp("The axis is not within the rank of the tensor "+r)}case 4:switch(r){case 1:return Mh(t,e,n);case 2:return rl(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return rl(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return Fh(t,e,n);default:throw new Lp("The axis is not within the rank of the tensor "+r)}default:throw new Lp("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function Ph(t,e){var n;return void 0===e&&(e=-1),e<0&&(e=0!==(n=t[0].rank)?n:0),e===t[0].rank&&(e=-1),Er(t,e)}function zh(t,e){switch(t.rank){case 1:return kr([t,e]);case 2:return Ar([t,e],0);case 3:return Tr([t,e],0);case 4:return Ir([t,e],0);default:throw new Lp("concatAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}}function Bh(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Lp("The length of input n ("+e.length+") does not match the number of dimensions in input x ("+t.rank+")");return pi(t,e)}function Vh(t,e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=1),ai(t,e,n,r,i)}function Uh(t,e,n,r){if(t.rank<2||e.rank<2)throw new Pp("dot requires both inputs to be rank >= 2 but got x shape = "+t.shape+" and y shape = "+e.shape);if(e.rank>=3&&(o=t.shape.slice(-1)[0])!==(c=e.shape.slice(-2)[0]))throw new Pp("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+t.shape+" and  y shape = "+e.shape);if(2===t.rank&&2===e.rank){var i=!1,a=!1;return tc.matMul(t,e,i,a,r?Hh(t.rank,r,"channelsLast"):null,n)}var s=t.shape.slice(),o=s.pop();t=t.reshape([-1,o]);var l=e.shape.slice(),u=l.pop(),c=l.pop(),p=l.concat([u]),h=Array.from({length:e.rank},function(t,n){return 0===n?e.rank-2:n<=e.rank-2?n-1:n});e=e.transpose(h).reshape([c,-1]);var m=s.concat(p);return tc.matMul(t,e,i=!1,a=!1,r?Hh(t.rank,r,"channelsLast"):null,n).reshape(m)}function jh(t,e,n){return Fe(function(){return e=Array.isArray(e)?Bn(e,"int32"):e.toInt(),pu(t,e,n)})}function Wh(t){return jl(t,t)}function Hh(t,e,n){var r=e.shape;if(1!==e.rank&&e.rank!==t)throw new Lp("Unexpected bias dimensions: "+e.rank+"; expected it to be 1 or "+t);if(5===t){if("channelsFirst"===n)return e.reshape(1===r.length?[1,r[0],1,1,1]:[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return e.reshape(1===r.length?[1,1,1,1,r[0]]:[1].concat(r))}else if(4===t){if("channelsFirst"===n)return e.reshape(1===r.length?[1,r[0],1,1]:[1,r[2],r[0],r[1]]);if("channelsLast"===n)return e.reshape(1===r.length?[1,1,1,r[0]]:[1].concat(r))}else if(3===t){if("channelsFirst"===n)return e.reshape(1===r.length?[1,r[0],1]:[1,r[1],r[0]]);if("channelsLast"===n)return e.reshape(1===r.length?[1,1,r[0]]:[1].concat(r))}else if(t<3)return e;throw new Lp("Unsupported input rank by biasAdd: "+e.rank)}function qh(t,e,n){return Fe(function(){return null==n&&(n="channelsLast"),yh(n),t.add(Hh(t.rank,e,n))})}function $h(t,e,n,r){return Fe(function(){return ku(t,e,n,r)})}function Gh(t,e,n){return void 0===n&&(n=!1),n?t():e()}var Kh=["fanIn","fanOut","fanAvg"],Yh=["normal","uniform","truncatedNormal"],Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.fromConfigUsesCustomObjects=function(){return!1},e.prototype.getConfig=function(){return{}},e}(op.Serializable),Qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t,e){return $n(t,e)},e.className="Zeros",e}(Xh);op.registerClass(Qh);var Zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t,e){return qn(t,e)},e.className="Ones",e}(Xh);op.registerClass(Zh);var Jh=function(t){function e(e){var n=t.call(this)||this;if("object"!=typeof e)throw new Lp("Expected argument of type ConstantConfig but got "+e);if(void 0===e.value)throw new Lp("config must have value set but got "+e);return n.value=e.value,n}return Tp(e,t),e.prototype.apply=function(t,e){var n=this;return Fe(function(){return Ul(zn(n.value),qn(t,e))})},e.prototype.getConfig=function(){return{value:this.value}},e.className="Constant",e}(Xh);op.registerClass(Jh);var tm=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=e.minval||n.DEFAULT_MINVAL,n.maxval=e.maxval||n.DEFAULT_MAXVAL,n.seed=e.seed,n}return Tp(e,t),e.prototype.apply=function(t,e){return si(t,this.minval,this.maxval,e)},e.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},e.className="RandomUniform",e}(Xh);op.registerClass(tm);var em=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return Tp(e,t),e.prototype.apply=function(t,e){if("float32"!==(e=e||"float32")&&"int32"!==e)throw new Pp("randomNormal does not support dType "+e+".");return Vh(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="RandomNormal",e}(Xh);op.registerClass(em);var nm=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return Tp(e,t),e.prototype.apply=function(t,e){if("float32"!==(e=e||"float32")&&"int32"!==e)throw new Pp("truncatedNormal does not support dType "+e+".");return hi(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="TruncatedNormal",e}(Xh);op.registerClass(nm);var rm=function(t){function e(e){var n=t.call(this)||this;return n.gain=null!=e.gain?e.gain:1,n}return Tp(e,t),e.prototype.apply=function(t,e){var n=this;return Fe(function(){if(2!==t.length||t[0]!==t[1])throw new Lp("Identity matrix initializer can only be used for 2D square matrices.");return Ul(n.gain,Xr(t[0]))})},e.prototype.getConfig=function(){return{gain:this.gain}},e.className="Identity",e}(Xh);op.registerClass(rm);var im=function(t){function e(e){var n=t.call(this)||this;if(e.scale<0)throw new Lp("scale must be a positive float. Got: "+e.scale);return n.scale=null==e.scale?1:e.scale,n.mode=null==e.mode?"fanIn":e.mode,Zp(Kh,"FanMode",n.mode),n.distribution=null==e.distribution?"normal":e.distribution,Zp(Yh,"Distribution",n.distribution),n.seed=e.seed,n}return Tp(e,t),e.prototype.apply=function(t,e){var n=function(t,e){var n,r;if(void 0===e&&(e="channelsLast"),yh(e),2===t.length)n=t[0],r=t[1];else if(-1!==[3,4,5].indexOf(t.length))if("channelsFirst"===e){var i=Ah(t,2);n=t[1]*i,r=t[0]*i}else"channelsLast"===e&&(i=Ah(t,0,t.length-2),n=t[t.length-2]*i,r=t[t.length-1]*i);else{var a=Ah(t);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}(t),r=n[0],i=n[1],a=this.scale;if(a/="fanIn"===this.mode?Math.max(1,r):"fanOut"===this.mode?Math.max(1,i):Math.max(1,(r+i)/2),"normal"===this.distribution){var s=Math.sqrt(a);if("float32"!==(e=e||"float32")&&"int32"!==e)throw new Pp(this.getClassName()+" does not support dType "+e+".");return hi(t,0,s,e,this.seed)}var o=Math.sqrt(3*a);return si(t,-o,o,e)},e.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},e.className="VarianceScaling",e}(Xh);op.registerClass(im);var am=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})||this}return Tp(e,t),e.prototype.getClassName=function(){return im.className},e.className="GlorotUniform",e}(im);op.registerClass(am);var sm=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})||this}return Tp(e,t),e.prototype.getClassName=function(){return im.className},e.className="GlorotNormal",e}(im);op.registerClass(sm);var om=function(t){function e(e){return t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return Tp(e,t),e.prototype.getClassName=function(){return im.className},e.className="HeNormal",e}(im);op.registerClass(om);var lm=function(t){function e(e){return t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})||this}return Tp(e,t),e.prototype.getClassName=function(){return im.className},e.className="HeUniform",e}(im);op.registerClass(lm);var um=function(t){function e(e){return t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return Tp(e,t),e.prototype.getClassName=function(){return im.className},e.className="LeCunNormal",e}(im);op.registerClass(um);var cm=function(t){function e(e){return t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})||this}return Tp(e,t),e.prototype.getClassName=function(){return im.className},e.className="LeCunNormal",e}(im);op.registerClass(cm);var pm=function(t){function e(e){var n=t.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==e.gain?n.DEFAULT_GAIN:e.gain,n.seed=e.seed,null!=n.seed)throw new Pp("Random seed is not implemented for Orthogonal Initializer yet.");return n}return Tp(e,t),e.prototype.apply=function(t,e){var n=this;return Fe(function(){if(2!==t.length)throw new Pp("The Orthogonal Initializer does not support non-2D shapes yet.");t[0]*t[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+t[0]*t[1]+") elements: Slowness may result.");var e=Vh(t[0]>t[1]?[t[1],t[0]]:t,0,1,"float32"),r=$u.gramSchmidt(e);return t[0]>t[1]&&(r=r.transpose()),Ul(n.gain,r)})},e.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},e.className="Orthogonal",e}(Xh);op.registerClass(pm);var hm={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function mm(t,e){return void 0===e&&(e={}),Kp(t,op.SerializationMap.getMap().classNameMap,e,"initializer")}function dm(t){return Gp(t)}function fm(t){if("string"==typeof t){var e=t in hm?hm[t]:t;if("GlorotNormal"===e)return new sm;if("GlorotUniform"===e)return new am;if("HeNormal"===e)return new om;if("HeUniform"===e)return new lm;if("LeCunNormal"===e)return new um;if("LeCunUniform"===e)return new cm;var n={};return n.className=e,n.config={},mm(n)}return t instanceof Xh?t:mm(t)}var gm=Object.freeze({zeros:function(){return new Qh},ones:function(){return new Zh},constant:function(t){return new Jh(t)},randomUniform:function(t){return new tm(t)},randomNormal:function(t){return new em(t)},truncatedNormal:function(t){return new nm(t)},identity:function(t){return new rm(t)},varianceScaling:function(t){return new im(t)},glorotUniform:function(t){return new am(t)},glorotNormal:function(t){return new sm(t)},heNormal:function(t){return new om(t)},heUniform:function(t){return new lm(t)},leCunNormal:function(t){return new um(t)},leCunUniform:function(t){return new cm(t)},orthogonal:function(t){return new pm(t)}}),ym=0;function vm(){return ym++}var bm={};function _m(t){return void 0===t&&(t=""),t in bm||(bm[t]=0),bm[t]+=1,t+bm[t].toString()}function wm(t){return Array.isArray(t)&&Array.isArray(t[0])}function xm(t){return 0===t.length?[]:Array.isArray(t[0])?t:[t]}function Cm(t){var e;if(Array.isArray(t)){if(1!==t.length)throw new Lp("Expected Tensor length to be 1; got "+t.length);e=t[0]}else e=t;return e}function Sm(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(1===t.length)return(t=t)[0];throw new Lp("Expected exactly 1 Shape; got "+t.length)}return t}function Em(t){for(var e=0,n=0,r=t;n<r.length;n++){var i=r[n];e+=0===i.shape.length?1:i.shape.reduce(function(t,e){return t*e})}return e}var km="Variable",Am=function(){function t(t,e,n,r,i){void 0===e&&(e="float32"),void 0===n&&(n=km),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==e?"float32":e,this.shape=t.shape,this.id=vm(),this.originalName=xh(n=null==n?km:n),this.name=Ch(this.originalName),this.trainable_=r,this.constraint=i,this.val=_t(t,this.trainable_,this.name,this.dtype)}return t.prototype.read=function(){return this.assertNotDisposed(),this.val},t.prototype.write=function(t){return this.assertNotDisposed(),function(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},t.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},t.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(t){this.trainable_=t,this.val.trainable=t},enumerable:!0,configurable:!0}),t}();function Tm(t){return t.map(function(t){return t.read()})}function Im(t){t.forEach(function(t){t[0].write(t[1])})}var Nm,Rm,Dm=function(t){this.dtype=t.dtype,this.shape=t.shape,this.ndim=null!=t.shape?t.shape.length:t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}},Om=function(t,e,n,r,i,a,s){this.dtype=t,this.shape=e,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=s,this.id=vm(),null!=a&&(this.originalName=xh(a),this.name=Ch(this.originalName)),this.rank=e.length},Mm=0,Fm=function(){function t(t,e){this.callArgs=e,this.id=Mm++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(var n=0,r=t.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}t.outboundLayer.inboundNodes.push(this)}return t.prototype.getConfig=function(){for(var t=[],e=0,n=this.inboundLayers;e<n.length;e++){var r=n[e];t.push(null!=r?r.name:null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},t}(),Lm=0,Pm=function(t){function e(e){var n=t.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=Lm++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=e.name;if(!r){var i=n.getClassName();r=Hp(i)+"_"+_m(i)}if(n.name=r,n.trainable_=null==e.trainable||e.trainable,n.updatable=null==e.updatable||e.updatable,null!=e.inputShape||null!=e.batchInputShape){var a=void 0;if(null!=e.batchInputShape)a=e.batchInputShape;else if(null!=e.inputShape){var s=null;null!=e.batchSize&&(s=e.batchSize),a=[s].concat(e.inputShape)}n.batchInputShape=a;var o=e.dtype;null==o&&(o=e.inputDType),null==o&&(o="float32"),n.dtype=o}return n.initialWeights=null!=e.weights?e.weights:null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return Tp(e,t),e.nodeKey=function(t,e){return t.name+"_ib-"+e.toString()},e.prototype.getNodeAtIndex=function(t,e){if(0===this.inboundNodes.length)throw new Fp("The layer has never been called and thus has no defined "+e+".");if(this.inboundNodes.length<=t)throw new Lp("Asked to get "+e+" at node "+t+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[t]},e.prototype.getInputAt=function(t){return jp(this.getNodeAtIndex(t,"input").inputTensors)},e.prototype.getOutputAt=function(t){return jp(this.getNodeAtIndex(t,"output").outputTensors)},Object.defineProperty(e.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new Mp("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new Mp("Layer "+this.name+" is not connected, no input to return.");return jp(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new Mp("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new Mp("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return jp(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),e.prototype.calculateLosses=function(){return this.losses.map(function(t){return t()})},Object.defineProperty(e.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"built",{get:function(){return this._built},set:function(t){this._built=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(t){this._trainableWeights.forEach(function(e){return e.trainable=t}),this.trainable_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable_?this._trainableWeights.filter(function(t){return t.trainable}):[]},set:function(t){this._trainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._trainableWeights.filter(function(t){return!t.trainable}).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(t){this._nonTrainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),e.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},e.prototype.assertInputCompatibility=function(t){if(t=Wp(t),null!=this.inputSpec&&0!==this.inputSpec.length){var e=Wp(this.inputSpec);if(t.length!==e.length)throw new Lp("Layer "+this.name+" expects "+e.length+" inputs, but it received "+t.length+" input tensors. Input received: "+t);for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new Lp("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+i.ndim+", found ndim="+a);if(null!=i.maxNDim&&a>i.maxNDim)throw new Lp("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+i.maxNDim+", found ndim="+a);if(null!=i.minNDim&&a<i.minNDim)throw new Lp("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+i.minNDim+", found ndim="+a+".");if(null!=i.dtype&&r.dtype!==i.dtype)throw new Lp("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+i.dtype+", found dtype="+r.dtype+".");if(i.axes){var s=r.shape;for(var o in i.axes){var l=Number(o),u=i.axes[o];if(null!=u&&-1===[u,null].indexOf(l>=0?s[l]:s[s.length+l]))throw new Lp("Input "+n+" is incompatible with layer "+this.name+": expected axis "+l+" of input shape to have value "+u+" but got shape "+s+".")}}if(null!=i.shape)for(var c=0;c<i.shape.length;++c){var p=i.shape[c],h=r.shape[c];if(null!=p&&null!=h&&p!==h)throw new Lp("Input "+n+" is incompatible with layer "+this.name+": expected shape="+i.shape+", found shape="+r.shape+".")}}}}},e.prototype.call=function(t,e){return t},e.prototype.invokeCallHook=function(t,e){null!=this._callHook&&this._callHook(t,e)},e.prototype.setCallHook=function(t){this._callHook=t},e.prototype.clearCallHook=function(){this._callHook=null},e.prototype.apply=function(t,e){var n=this;e=e||{},this.assertNotDisposed();for(var r=Wp(t),i=!0,a=0,s=r;a<s.length;a++)if(!(s[a]instanceof Om)){i=!1;break}for(var o=!0,l=0,u=r;l<u.length;l++)if(u[l]instanceof Om){o=!1;break}if(i===o)throw new Lp("Arguments to apply() must be all SymbolicTensors or all Tensors");return wh(this.name,function(){if(!n.built){n.assertInputCompatibility(t);for(var i=[],a=0,s=Wp(t);a<s.length;a++)i.push(s[a].shape);n.build(jp(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&o&&(n._refCount=1)}if(n.assertInputCompatibility(t),o){for(var l=[],u=0,c=Wp(d=n.call(t,e));u<c.length;u++){var p=c[u];-1!==r.indexOf(p)&&(p=p.clone()),l.push(p)}if(d=jp(l),null!=n.activityRegularizer)throw new Pp("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return d}var h=function(t){for(var e=[],n=0,r=t=Wp(t);n<r.length;n++)e.push(r[n].shape);return jp(e)}(t),m=n.computeOutputShape(h),d=void 0,f="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(t)?h[0]:h),d=null!=m&&m.length>0&&Array.isArray(m[0])?m.map(function(r,i){return new Om(f,r,n,Wp(t),e,n.name,i)}):new Om(f,m,n,Wp(t),e,n.name),n.addInboundNode(t,d,null,null,h,m,e),n._refCount++,null!=n.activityRegularizer)throw new Pp("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return d})},e.prototype.warnOnIncompatibleInputShape=function(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(t)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var e=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=t[r]&&t[r]!==n&&(e=!0)}),e&&console.warn("The shape of the input tensor ("+JSON.stringify(t)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(e.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Mp("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var t=[],e=0,n=this.inboundNodes;e<n.length;e++){var r=JSON.stringify(n[e].outputShapes);-1===t.indexOf(r)&&t.push(r)}if(1===t.length){var i=this.inboundNodes[0].outputShapes;return Array.isArray(i)&&Array.isArray(i[0])&&1===i.length?i[0]:i}throw new Mp("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),e.prototype.countParams=function(){if(!this.built)throw new Fp("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return Em(this.weights)},e.prototype.build=function(t){this.built=!0},e.prototype.getWeights=function(t){return void 0===t&&(t=!1),Tm(t?this.trainableWeights:this.weights)},e.prototype.setWeights=function(t){var e=this;Fe(function(){var n=e.weights;if(n.length!==t.length)throw new Lp('You called setWeights(weights) on layer "'+e.name+'" with a weight list of length '+t.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+t+"...");if(0!==n.length){for(var r=[],i=Tm(n),a=0;a<i.length;++a){var s=i[a],o=n[a],l=t[a];if(!et.arraysEqual(s.shape,l.shape))throw new Lp("Layer weight shape "+s.shape+" not compatible with provided weight shape "+l.shape);r.push([o,l])}Im(r)}})},e.prototype.addWeight=function(t,e,n,r,i,a,s){if(-1!==this._addedWeightNames.indexOf(t))throw new Lp("Duplicate weight name "+t+" for layer "+this.name);this._addedWeightNames.push(t),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=fm("zeros"));var o=r.apply(e,n),l=new Am(o,n,t,a,s);return o.dispose(),null!=i&&this.addLoss(function(){return i.apply(l.read())}),null==a&&(a=!0),a?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l},e.prototype.setFastWeightInitDuringBuild=function(t){this.fastWeightInitDuringBuild=t},e.prototype.addLoss=function(t){var e;null==t||Array.isArray(t)&&0===t.length||(t=Wp(t),null!=this._losses&&(e=this.losses).push.apply(e,t))},e.prototype.computeOutputShape=function(t){return t},e.prototype.computeMask=function(t,e){var n=this;if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError("Layer "+this.name+" does not support masking, but was passed an inputMask.");e.forEach(function(t){if(null!=t)throw new TypeError("Layer "+n.name+" does not support masking, but was passed an inputMask.")})}return null}return e},e.prototype.addInboundNode=function(t,e,n,r,i,a,s){void 0===s&&(s=null);var o=Wp(t);e=Wp(e),n=Wp(n),r=Wp(r),i=xm(i),a=xm(a);for(var l=[],u=[],c=[],p=0,h=o;p<h.length;p++){var m=h[p];l.push(m.sourceLayer),u.push(m.nodeIndex),c.push(m.tensorIndex)}new Fm({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:o,outputTensors:e,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},s);for(var d=0;d<e.length;d++)e[d].sourceLayer=this,e[d].nodeIndex=this.inboundNodes.length-1,e[d].tensorIndex=d},e.prototype.getConfig=function(){var t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t},e.prototype.disposeWeights=function(){return this.weights.forEach(function(t){return t.dispose()}),this.weights.length},e.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},e.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var t=0;return 0==--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}},e}(op.Serializable),zm=function(t){function e(e){var n=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:_m("input").toString()})||this;if(null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Lp("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=e.batchInputShape;if(null==r){if(null==e.inputShape)throw new Lp("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Lp("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=e.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new Om(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new Fm({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return Tp(e,t),e.prototype.apply=function(t,e){throw new Lp("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},e.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},e.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},e.className="InputLayer",e}(Pm);function Bm(t){if(null==t.batchShape&&null==t.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=t.batchShape&&null!=t.shape)throw new Lp("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var e=t.batchShape;null!=t.shape&&null==e&&(e=[null].concat(t.shape));var n=t.dtype;return null==n&&(n="float32"),new zm({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function Vm(t){return Rp(this,void 0,void 0,function(){var e,n,r,i,a,s,o,l;return Dp(this,function(u){switch(u.label){case 0:if(null==t)return[2];for(i in e=[],n=[],r=[],t)"number"!=typeof(a=t[i])&&(e.push((s=a).data()),n.push(i),r.push(s));return e.length>0?[4,Promise.all(e)]:[3,2];case 1:for(o=u.sent(),l=0;l<o.length;++l)t[n[l]]=o[l][0];Le(r),u.label=2;case 2:return[2]}})})}function Um(t){if(null!=t)for(var e in t){var n=t[e];"number"!=typeof n&&n.dispose()}}op.registerClass(zm),(Rm=Nm||(Nm={}))[Rm.SILENT=0]="SILENT",Rm[Rm.VERBOSE=1]="VERBOSE";var jm=125,Wm=function(){function t(){this.validationData=null}return t.prototype.setParams=function(t){this.params=t},t.prototype.onEpochBegin=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return[2]})})},t.prototype.onEpochEnd=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return[2]})})},t.prototype.onBatchBegin=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return[2]})})},t.prototype.onBatchEnd=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return[2]})})},t.prototype.onTrainBegin=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return[2]})})},t.prototype.onTrainEnd=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return[2]})})},t.prototype.setModel=function(t){},t}(),Hm=function(){function t(t,e){void 0===e&&(e=10),null==t&&(t=[]),this.callbacks=t,this.queueLength=e}return t.prototype.append=function(t){this.callbacks.push(t)},t.prototype.setParams=function(t){for(var e=0,n=this.callbacks;e<n.length;e++)n[e].setParams(t)},t.prototype.setModel=function(t){for(var e=0,n=this.callbacks;e<n.length;e++)n[e].setModel(t)},t.prototype.onEpochBegin=function(t,e){return Rp(this,void 0,void 0,function(){var n,r;return Dp(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onEpochEnd=function(t,e){return Rp(this,void 0,void 0,function(){var n,r;return Dp(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onBatchBegin=function(t,e){return Rp(this,void 0,void 0,function(){var n,r;return Dp(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onBatchEnd=function(t,e){return Rp(this,void 0,void 0,function(){var n,r;return Dp(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onTrainBegin=function(t){return Rp(this,void 0,void 0,function(){var e,n;return Dp(this,function(r){switch(r.label){case 0:null==t&&(t={}),e=0,n=this.callbacks,r.label=1;case 1:return e<n.length?[4,n[e].onTrainBegin(t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.onTrainEnd=function(t){return Rp(this,void 0,void 0,function(){var e,n;return Dp(this,function(r){switch(r.label){case 0:null==t&&(t={}),e=0,n=this.callbacks,r.label=1;case 1:return e<n.length?[4,n[e].onTrainEnd(t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t}(),qm=function(t){function e(){return t.call(this)||this}return Tp(e,t),e.prototype.onEpochBegin=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return this.seen=0,this.totals={},[2]})})},e.prototype.onBatchEnd=function(t,e){return Rp(this,void 0,void 0,function(){var t,n,r,i,a=this;return Dp(this,function(s){for(i in null==e&&(e={}),this.seen+=t=null==e.size?0:e.size,n=function(n){var i=e[n];if("number"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*t;else{var s=void 0;n in r.totals?s=r.totals[n]:r.totals[n]=0,r.totals[n]=Fe(function(){return Tl(a.totals[n],Ul(i,t))}),null!=s&&s.dispose()}},r=this,e)n(i);return[2]})})},e.prototype.onEpochEnd=function(t,e){return Rp(this,void 0,void 0,function(){var t,n,r,i,a=this;return Dp(this,function(s){if(null!=e)for(t=function(t){if(null==n.totals[t])return"continue";"number"==typeof n.totals[t]?e[t]=n.totals[t]/n.seen:Fe(function(){e[t]=Ul(Dl(1,a.seen),a.totals[t]),a.totals[t].dispose(),Pe(e[t])})},n=this,r=0,i=this.params.metrics;r<i.length;r++)t(i[r]);return[2]})})},e}(Wm),$m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.onTrainBegin=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return this.epoch=[],this.history={},[2]})})},e.prototype.onEpochEnd=function(t,e){return Rp(this,void 0,void 0,function(){var n;return Dp(this,function(r){for(n in null==e&&(e={}),this.epoch.push(t),e)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(e[n]);return[2]})})},e.prototype.syncData=function(){return Rp(this,void 0,void 0,function(){var t,e,n,r,i,a,s,o;return Dp(this,function(l){switch(l.label){case 0:for(r in t=[],e=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)"number"!=typeof i[a]&&(t.push(i[a].data()),e.push(r),n.push(a));return[4,Promise.all(t)];case 1:for(s=l.sent(),o=0;o<s.length;++o)this.history[e[o]][n[o]].dispose(),this.history[e[o]][n[o]]=s[o][0];return[2]}})})},e}(Wm),Gm=function(t){function e(e,n){var r=t.call(this)||this;if(r.currentEpoch=0,r.yieldEvery=n||"auto","auto"===r.yieldEvery&&(r.yieldEvery=jm),"never"===r.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return et.isNumber(r.yieldEvery)&&(r.maybeWait=function(t,e){var n,r=et.now();return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=et.now();return s-r<e?n:(r=s,n=t.apply(void 0,i))}}(r.maybeWait.bind(r),r.yieldEvery)),r.trainBegin=e.onTrainBegin,r.trainEnd=e.onTrainEnd,r.epochBegin=e.onEpochBegin,r.epochEnd=e.onEpochEnd,r.batchBegin=e.onBatchBegin,r.batchEnd=e.onBatchEnd,r.yield=e.onYield,r}return Tp(e,t),e.prototype.maybeWait=function(t,e,n){return Rp(this,void 0,void 0,function(){var r;return Dp(this,function(i){switch(i.label){case 0:return r=[],null==this.yield?[3,2]:[4,Vm(n)];case 1:i.sent(),r.push(this.yield(t,e,n)),i.label=2;case 2:return r.push(kp()),[4,Promise.all(r)];case 3:return i.sent(),[2]}})})},e.prototype.onEpochBegin=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){switch(n.label){case 0:return this.currentEpoch=t,null==this.epochBegin?[3,3]:[4,Vm(e)];case 1:return n.sent(),[4,this.epochBegin(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onEpochEnd=function(t,e){return Rp(this,void 0,void 0,function(){var n;return Dp(this,function(r){switch(r.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,Vm(e)];case 1:r.sent(),n.push(this.epochEnd(t,e)),r.label=2;case 2:return"epoch"===this.yieldEvery&&n.push(kp()),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},e.prototype.onBatchBegin=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,Vm(e)];case 1:return n.sent(),[4,this.batchBegin(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onBatchEnd=function(t,e){return Rp(this,void 0,void 0,function(){var n;return Dp(this,function(r){switch(r.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,Vm(e)];case 1:r.sent(),n.push(this.batchEnd(t,e)),r.label=2;case 2:return"batch"===this.yieldEvery?n.push(kp()):et.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,t,e)),[4,Promise.all(n)];case 3:return r.sent(),[2]}})})},e.prototype.onTrainBegin=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(e){switch(e.label){case 0:return null==this.trainBegin?[3,3]:[4,Vm(t)];case 1:return e.sent(),[4,this.trainBegin(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.onTrainEnd=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(e){switch(e.label){case 0:return null==this.trainEnd?[3,3]:[4,Vm(t)];case 1:return e.sent(),[4,this.trainEnd(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e}(Wm);function Km(t,e){return null==t&&(t={}),t instanceof Wm?[t]:Array.isArray(t)&&t[0]instanceof Wm?t:Wp(t).map(function(t){return new Gm(t,e)})}var Ym=function(){function t(){}return t.registerCallbackConstructor=function(e,n){et.assert(e>=0&&Number.isInteger(e),function(){return"Verbosity level is expected to be an integer >= 0, but got "+e}),t.checkForDuplicate(n),null==t.constructors[e]&&(t.constructors[e]=[]),t.constructors[e].push(n)},t.checkForDuplicate=function(e){for(var n in t.constructors)t.constructors[+n].forEach(function(t){if(t===e)throw new Lp("Duplicate callback constructor.")})},t.clear=function(){t.constructors={}},t.createCallbacks=function(e){var n=[];for(var r in t.constructors){var i=+r;e>=i&&n.push.apply(n,t.constructors[i])}return n.map(function(t){return new t})},t.constructors={},t}();function Xm(t,e,n,r,i,a,s,o,l){var u=new $m,c=[new qm].concat(Ym.createCallbacks(e));null!=t&&c.push.apply(c,t),c.push(u);var p=new Hm(c);return p.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:s,verbose:e,doValidation:o,metrics:l}),{callbackList:p,history:u}}function Qm(t,e){return Fe(function(){"float32"!==t.dtype&&(t=t.asType("float32"));var n=dl(Wh(t),e,!0),r=Gn(n.shape,Op()),i=co(Fl(n,r));return Dl(t,i)})}function Zm(t,e){return Fe(function(){return pl(Wh(Gl(e,t)),-1)})}function Jm(t,e){return Fe(function(){return pl(Ms(Gl(e,t)),-1)})}function td(t,e){return Fe(function(){var n=Gl(t,e),r=js(Ms(t),Op(),Number.MAX_VALUE),i=Ms(Dl(n,r));return Ul(100,pl(i,-1))})}function ed(t,e){return Fe(function(){var n=js(e,Op(),Number.MAX_VALUE),r=Ys(Tl(1,n)),i=js(t,Op(),Number.MAX_VALUE),a=Ys(Tl(1,i));return pl(Wh(Gl(r,a)),-1)})}function nd(t,e){return Fe(function(){var n=Fl(0,Gl(1,Ul(t,e)));return pl(Wh(n),-1)})}function rd(t,e){return Fe(function(){var n=Fl(0,Gl(1,Ul(t,e)));return pl(n,-1)})}function id(t,e){return Fe(function(){var n=dl(Ul(t,e),-1),r=cl(Ul(Gl(1,t),e),-1);return Fl(0,Tl(1,Gl(r,n)))})}function ad(t,e){return Fe(function(){var n=Math.log(2),r=Gl(e,t),i=Gl(Tl(r,uo(Ul(-2,r))),n);return pl(i,-1)})}function sd(t,e,n){return void 0===n&&(n=!1),Fe(function(){if(n)e=Dn(e);else{var r=dl(e,e.shape.length-1,!0);e=Dl(e,r)}return e=js(e,Op(),1-Op()),Zs(dl(Ul(t.toFloat(),Ys(e)),e.shape.length-1))})}function od(t,e){return Fe(function(){var n=Ks(function(t){var e=[Ah(t.shape)];return t.reshape(e)}(t)).toInt(),r=(e=js(e,Op(),1-Op())).shape;return sd(Zr(n,r[r.length-1]).reshape(r),e,!1)})}function ld(t,e){return Fe(function(){var n;return n=js(e,Op(),1-Op()),n=Ys(Dl(n,Gl(1,n))),pl(function(t,e){if(!et.arraysEqual(t.shape,e.shape))throw new Lp("logits and labels must have the same shape, but got shapes "+JSON.stringify(t.shape)+" and "+JSON.stringify(e.shape));return Fe(function(){var n=e.relu(),r=e.abs().neg();return n.sub(e.mul(t)).add(r.exp().log1p())})}(t,n),-1)})}function ud(t,e){return Fe(function(){var n=js(t,Op(),1),r=js(e,Op(),1);return dl(Ul(t,Ys(Dl(n,r))),-1)})}function cd(t,e){return Fe(function(){var n=Ys(Tl(Op(),e));return pl(Gl(e,Ul(t,n)),-1)})}function pd(t,e){return Fe(function(){var n=Qm(t,-1),r=Qm(e,-1),i=Ul(n,r);return Zs(dl(i,-1))})}function hd(t){var e={meanSquaredError:Zm,meanAbsoluteError:Jm,meanAbsolutePercentageError:td,meanSquaredLogarithmicError:ed,squaredHinge:nd,hinge:rd,categoricalHinge:id,logcosh:ad,categoricalCrossentropy:sd,sparseCategoricalCrossentropy:od,binaryCrossentropy:ld,kullbackLeiblerDivergence:ud,poisson:cd,cosineProximity:pd};if("string"==typeof t){if(t in e)return e[t];var n="Unknown loss "+t;throw t.toLowerCase().includes("softmaxcrossentropy")&&(n="Unknown loss "+t+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Lp(n)}return t}function md(t,e){return Fe(function(){var n=Ul(.5,Xn(e)),r=Dh(vl(e,n),t.dtype);return pl(gl(t,r),-1)})}function dd(t,e){return Fe(function(){return Dh(gl(ol(t,-1),ol(e,-1)),"float32")})}function fd(t,e){return Fe(function(){return Yl(t.equal(1),e.equal(1)).sum().cast("float32")})}function gd(t,e){return Fe(function(){var n=fd(t,e),r=function(t,e){return Fe(function(){return Yl(t.equal(0),e.equal(1)).sum().cast("float32")})}(t,e),i=n.add(r);return Jl(vl(i,0),n.div(i),0).cast("float32")})}function yd(t,e){return ld(t,e)}function vd(t,e){return t.rank===e.rank&&(t=t.squeeze([t.rank-1])),(e=e.argMax(-1)).dtype!==t.dtype&&(e=e.asType(t.dtype)),gl(t,e).asType("float32")}var bd=Zm,_d=Zm,wd=Jm,xd=Jm,Cd=td,Sd=td,Ed=sd,kd=pd,Ad=od;function Td(t,e,n){void 0===n&&(n=console.log);for(var r="",i=0;i<t.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=t[i]).slice(0,e[i]),r+=" ".repeat(e[i]-r.length);n(r)}function Id(t,e,n){var r;try{r=JSON.stringify(t.outputShape)}catch(t){r="multiple"}Td([t.name+" ("+t.getClassName()+")",r,t.countParams().toString()],e,n)}function Nd(t,e,n,r){var i;try{i=JSON.stringify(t.outputShape)}catch(t){i="multiple"}for(var a=[],s=0,o=t.inboundNodes;s<o.length;s++){var l=o[s];if(!(null!=n&&n.length>0&&-1===n.indexOf(l)))for(var u=0;u<l.inboundLayers.length;++u)a.push(l.inboundLayers[u].name+"["+l.nodeIndices[u]+"]["+l.tensorIndices[u]+"]")}var c=t.name,p=t.getClassName(),h=0===a.length?"":a[0];for(Td([c+" ("+p+")",i,t.countParams().toString(),h],e,r),u=1;u<a.length;++u)Td(["","","",a[u]],e,r)}function Rd(t,e,n){return void 0===e&&(e={}),void 0===n&&(n=!1),Kp(t,op.SerializationMap.getMap().classNameMap,e,"layer",n)}function Dd(t,e,n){return("inboundNodes"===t||"outputLayers"===t||"inputLayers"===t)&&0===e&&"string"==typeof n}function Od(t,e){if(null===t)return null;if("string"==typeof t)return qp(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var n=[],r=t.length,i=0;i<r;++i){var a=t[i];Dd(e,i,a)?n.push(a):n.push(Od(a,e))}return n}for(var s={},o=0,l=Object.keys(t);o<l.length;o++){var u=l[o],c=t[u];if("name"===u&&"string"==typeof c)s[u]=c;else{var p=qp(u);s[p]=Od(c,p)}}return s}var Md=function(){function t(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof t)for(var n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(null==e)return;for(var r=0,i=e;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return t.prototype.add=function(t,e,n){if(null!=this.id2Value[t.id])throw new Lp("Duplicate key: name="+t.name+", id="+t.id);return this.id2Value[t.id]=function(t,e){if(null==t.dtype||t.dtype===e.dtype)return e;try{return qr(e,t.dtype)}catch(n){throw new Lp("The dtype of the feed ("+e.dtype+") can not be cast to the dtype of the key '"+t.name+"' ("+t.dtype+").")}}(t,e),this.name2Id[t.name]=t.id,null!=n&&(this.id2Mask[t.id]=n),this},t.prototype.addFeed=function(t){this.add(t.key,t.value)},t.prototype.hasKey=function(t){return null!=this.id2Value[t.id]},t.prototype.names=function(){return Object.keys(this.name2Id)},t.prototype.getValue=function(t){if(t instanceof Om){if(null==this.id2Value[t.id])throw new Lp("Nonexistent key: "+t.name);return this.id2Value[t.id]}var e=this.name2Id[t];if(null==e)throw new Lp("Feed dict has no SymbolicTensor name: "+t);return this.id2Value[e]},t.prototype.getMask=function(t){if(t instanceof Om){if(null==this.id2Value[t.id])throw new Lp("Nonexistent key: "+t.name);return this.id2Mask[t.id]}var e=this.name2Id[t];if(null==e)throw new Lp("Feed dict has no SymbolicTensor name: "+t);return this.id2Mask[e]},t.prototype.disposeMasks=function(){null!=this.id2Mask&&Le(this.id2Mask)},t}(),Fd={},Ld={};function Pd(t,e,n,r){for(var i=null!=n&&n.training,a=Array.isArray(t),s=a?t:[t],o=s.map(function(t){return t.name}),l=[],u=e.names(),c=0,p=o;c<p.length;c++){var h=p[c];-1!==u.indexOf(h)?l.push(e.getValue(h)):l.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var m,d,f=o.join(",")+"|"+e.names().join(",");if(null==Fd[f]){var g=function(t,e){et.assert(null!=t&&t.length>0,function(){return"Expected at least one fetch, got none"});var n=[],r={};if(1===t.length){var i=Bd(t[0],e);n=i.sorted,r=i.recipientMap}else for(var a=new Set,s=0,o=t;s<o.length;s++){for(var l=Bd(o[s],e),u=l.recipientMap,c=0,p=l.sorted;c<p.length;c++){var h=p[c];a.has(h.name)||(n.push(h),a.add(h.name))}var m=function(t){null==r[t]&&(r[t]=new Set),u[t].forEach(function(e){return r[t].add(e)})};for(var d in u)m(d)}return{sorted:n,recipientCounts:zd(r)}}(s,e);d=g.recipientCounts,Fd[f]=m=g.sorted,Ld[f]=d}m=Fd[f],d={},i||Object.assign(d,Ld[f]);for(var y=new Md(e),v=0;v<m.length;++v){if(null!=r){var b=Oe().numTensors;b>r.maxNumTensors&&(r.maxNumTensors=b),b<r.minNumTensors&&(r.minNumTensors=b)}var _=m[v],w=_.sourceLayer;if(!(w instanceof zm)){for(var x=[],C=[],S=[],E=!1,k=0,A=_.inputs;k<A.length;k++){var T=A[k],I=y.getValue(T),N=y.getMask(T);x.push(I),C.push(N),null!=N&&(E=!0),i||(d[T.name]--,0!==d[T.name]||e.hasKey(T)||-1!==o.indexOf(T.name)||I.isDisposed||!0===T.sourceLayer.stateful||S.push(I))}E&&((n=n||{}).mask=C[0]);var R=Wp(w.apply(x,n)),D=null;w.supportsMasking&&(D=w.computeMask(x,C));for(var O=Vd(_),M=Array.isArray(O)?O:[O],F=0;F<M.length;++F){y.hasKey(M[F])||y.add(M[F],R[F],Array.isArray(D)?D[0]:D);var L=o.indexOf(M[F].name);-1!==L&&(l[L]=R[F])}i||Le(S)}}return y.disposeMasks(),a?l:l[0]}function zd(t){var e={};for(var n in t)e[n]=t[n].size;return e}function Bd(t,e){for(var n=new Set,r=[],i={},a=0,s=e.names();a<s.length;a++)n.add(s[a]);var o=[],l=[];for(o.push(t);o.length>0;){var u=o[o.length-1];if(n.has(u.name))o.pop();else{var c=l[l.length-1]===o.length-1;if(0===u.inputs.length||c)o.pop(),r.push(u),n.add(u.name),c&&l.pop();else{l.push(o.length-1);for(var p=0,h=u.inputs;p<h.length;p++){var m=h[p];null==i[m.name]&&(i[m.name]=new Set),i[m.name].add(u.name),n.has(m.name)||o.push(m)}}}}return{sorted:r,recipientMap:i}}function Vd(t){var e;if(1===t.sourceLayer.inboundNodes.length)e=t.sourceLayer.output;else{for(var n=null,r=0;r<t.sourceLayer.inboundNodes.length;++r)for(var i=0,a=t.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++)if(a[i].id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}var Ud=function(t){function e(n){var r=t.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=_m(i)}if(r.supportsMasking=!1,r.trainable_=!0,r.updatable=!0,r.inputs=Array.isArray(n.inputs)?n.inputs.slice():[n.inputs],r.outputs=Array.isArray(n.outputs)?n.outputs.slice():[n.outputs],Xp(r.inputs).length!==r.inputs.length)throw new Lp("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map(function(t){return t.name}));Xp(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map(function(t){return t.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[];for(var a=0,s=r.outputs;a<s.length;a++){var o=(k=s[a]).sourceLayer,l=k.nodeIndex,u=k.tensorIndex;r.outputLayers.push(o),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(u)}for(var c=0,p=r.inputs;c<p.length;c++)o=(k=p[c]).sourceLayer,u=k.tensorIndex,Vp(0===(l=k.nodeIndex),"input layer has >1 nodes"),Vp(0===u,"input layer has >1 tensors"),r.inputLayers.push(o),r.inputLayersNodeIndices.push(l),r.inputLayersTensorIndices.push(u);r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var h=0;h<r.inputLayers.length;h++){if(!((o=r.inputLayers[h])instanceof zm))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: "+n.inputs+". Input "+h+" (0-based) originates from layer type "+o.getClassName()+".");r.inputNames.push(o.name),r.feedInputShapes.push(o.batchInputShape),r.feedInputNames.push(o.name)}for(var m=0,d=r.outputLayers;m<d.length;m++)r.outputNames.push((o=d[m]).name);r.internalInputShapes=r.inputs.map(function(t){return t.shape}),r.internalOutputShapes=r.outputs.map(function(t){return t.shape});for(var f={},g={},y={},v={},b={},_=[],w=function(t,n,i,a,s,o){null!=a&&null!=s&&null!=o||(a=t.sourceLayer,s=t.nodeIndex,o=t.tensorIndex);var l=a.inboundNodes[s];if(-1!==i.indexOf(l))throw new Fp("The tensor "+t.name+' at layer "'+a.name+'" is part of a cycle.');if(-1===n.indexOf(l)){r.containerNodes.add(e.nodeKey(a,s)),a.id in b||(b[a.id]=Object.keys(b).length),-1===i.indexOf(l)&&i.push(l);for(var u=l.inboundLayers.length,c=0;c<u;c++)w(l.inputTensors[c],n,i,l.inboundLayers[c],l.nodeIndices[c],l.tensorIndices[c]);for(n.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);_.push(l)}},x=[],C=[],S=0,E=r.outputs;S<E.length;S++){var k=E[S];w(k,x,C)}for(var A=0,T=_.slice().reverse();A<T.length;A++){g[(G=T[A]).id]=G,G.id in f||(f[G.id]=0);var I=f[G.id];for(I=Math.max(I,null==y[G.outboundLayer.id]?0:y[G.outboundLayer.id]),y[G.outboundLayer.id]=I,v[G.outboundLayer.id]=G.outboundLayer,f[G.id]=I,h=0;h<G.inboundLayers.length;h++){var N=G.inboundLayers[h].inboundNodes[l=G.nodeIndices[h]];f[N.id]=Math.max(I+1,null==f[N.id]?0:f[N.id]),g[N.id]=N}}var R={};for(var D in f)(I=f[D])in R||(R[I]=[]),R[I].push(g[D]);var O={};for(var M in y)(I=y[M])in O||(O[I]=[]),O[I].push(v[M]);var F=Object.keys(O).map(function(t){return parseInt(t,10)}).sort(Yp);r.layers=[];for(var L=0,P=F;L<P.length;L++){var z=O[I=P[L]];z.sort(function(t,e){var n=b[t.id],r=b[e.id];return n<r?-1:n>r?1:0});for(var B=0,V=z;B<V.length;B++)r.layers.push(o=V[B])}r.layersByDepth=O,F=Object.keys(R).map(function(t){return parseInt(t,10)}).sort(Yp);for(var U=r.inputs.slice(),j=[],W=0,H=F;W<H.length;W++)for(var q=0,$=R[I=H[W]];q<$.length;q++){var G;if(null!=(o=(G=$[q]).outboundLayer)){for(var K=0,Y=G.inputTensors;K<Y.length;K++)if(-1===U.indexOf(k=Y[K]))throw new Fp("Graph disconnected: cannot obtain value for tensor "+k+' at layer "'+o.name+'". The following previous layers were accessed without issue: '+j);for(var X=0,Q=G.outputTensors;X<Q.length;X++)U.push(k=Q[X]);j.push(o.name)}}r.nodesByDepth=R;for(var Z=r.layers.map(function(t){return t.name}),J=function(t){var e=Z.filter(function(e){return e===t}).length;if(1!==e)throw new Fp('The name "'+t+'" is used '+e+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(Z))},tt=0,et=Z;tt<et.length;tt++)J(et[tt]);return r.outboundNodes=[],r.inboundNodes=[],new Fm({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(t){return null}),outputMasks:r.outputs.map(function(t){return null}),inputShapes:r.inputs.map(function(t){return t.shape}),outputShapes:r.outputs.map(function(t){return t.shape})}),r.built=!0,r._refCount=1,r}return Tp(e,t),e.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},e.prototype.dispose=function(){this.assertNotDisposed();var t={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount)for(var e=0,n=this.layers;e<n.length;e++)t.numDisposedVariables+=n[e].dispose().numDisposedVariables;return t.refCountAfterDispose=this._refCount,t},Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(t){this.layers.forEach(function(e){e._trainableWeights.forEach(function(e){return e.trainable=t})}),this.trainable_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new Lp("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var t=[],e=0,n=this.layers;e<n.length;e++)t=t.concat(n[e].trainableWeights);return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e];t.push.apply(t,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,s=this.layers;a<s.length;a++)i.push.apply(i,(r=s[a]).trainableWeights);return i.concat(t)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.loadWeights=function(t,e){void 0===e&&(e=!0);for(var n={},r=0,i=0,a=this.layers;i<a.length;i++)for(var s=0,o=a[i].weights;s<o.length;s++){var l=o[s];if(null!=n[l.originalName])throw new Lp("Duplicate weight name: "+l.originalName);n[l.originalName]=l,r++}var u=[];for(var c in t){if(null!=n[c])u.push([n[c],t[c]]);else if(e)throw new Lp("Provided weight data has no target variable: "+c);delete n[c]}if(e){var p=[];for(var h in n)p.push(h);if(p.length>0)throw new Lp(p.length+" of "+r+" weights are not set: "+p)}Im(u)},e.prototype.updatedConfig=function(){var t=this.getConfig(),e={};return e.className=this.getClassName(),e.config=t,e.kerasVersion="tfjs-layers 1.2.1",e.backend="TensorFlow.js",e},e.prototype.toJSON=function(t,e){void 0===e&&(e=!0);var n=function t(e,n){if(null==e)return null;if("string"==typeof e)return Hp(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var r=[],i=e.length,a=0;a<i;++a){var s=e[a];Dd(n,a,s)?r.push(s):r.push(t(s,n))}return r}for(var o={},l=0,u=Object.keys(e);l<u.length;l++){var c=u[l],p=e[c];o[Hp(c)]="name"!==c&&"className"!==c||"string"!=typeof p?t(p,c):p}return o}(this.updatedConfig());return e?JSON.stringify(n):n},e.prototype.call=function(t,e){var n=this;return Fe(function(){t=Wp(t);for(var r=new Md,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],t[i]);return Pd(n.outputs,r,e)})},e.prototype.computeMask=function(t,e){var n=this;return Fe(function(){var r;return t=Wp(t),r=null==e?Bp(null,t.length):Wp(e),n.runInternalGraph(t,r)[1]})},e.prototype.computeOutputShape=function(t){var e=xm(t);if(e.length!==this.inputLayers.length)throw new Lp("Invalid inputShape argument "+t+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<e.length;r++){var i=this.inputLayers[r];n[b=i.name+"_0_0"]=e[r]}var a=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(Yp);if(a.length>1)for(var s=0,o=a;s<o.length;s++)for(var l=0,u=this.nodesByDepth[o[s]];l<u.length;l++){var c=u[l];if(i=c.outboundLayer,-1===this.inputLayers.map(function(t){return t.id}).indexOf(i.id)){for(var p=[],h=0;h<c.inboundLayers.length;h++){var m=c.tensorIndices[h],d=n[b=c.inboundLayers[h].name+"_"+c.nodeIndices[h]+"_"+m];p.push(d)}var f=xm(i.computeOutputShape(jp(p))),g=i.inboundNodes.indexOf(c);for(h=0;h<f.length;h++)n[b=i.name+"_"+g+"_"+h]=f[h]}}var y=[],v=[];for(r=0;r<this.outputLayers.length;r++){var b=(i=this.outputLayers[r]).name+"_"+(g=this.outputLayersNodeIndices[r])+"_"+(m=this.outputLayersTensorIndices[r]);v.push(b)}for(r=0;r<v.length;r++){var _=v[r];Vp(_ in n),y.push(n[_])}return jp(y)},e.prototype.runInternalGraph=function(t,e){null==e&&(e=Bp(null,t.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=t[r],s=e[r];n[i.id]=[a,s]}for(var o=0,l=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(Yp);o<l.length;o++)for(var u=0,c=this.nodesByDepth[l[o]];u<c.length;u++){for(var p=c[u],h=p.outboundLayer,m=p.inputTensors,d=p.outputTensors,f=new Array,g=0,y=m;g<y.length;g++)(i=y[g]).id in n&&f.push(n[i.id]);if(f.length===m.length){var v={},b=void 0,_=void 0,w=void 0,x=void 0;if(null!=p.callArgs&&(v=p.callArgs),1===f.length){var C=f[0],S=C[0],E=C[1];null==v.mask&&(v.mask=E),w=Wp(h.call(S,v)),x=Wp(h.computeMask(S,E)),b=[S],_=[E]}else b=f.map(function(t){return t[0]}),_=f.map(function(t){return t[1]}),null==v.mask&&(v.mask=_),w=Wp(h.call(b,v)),x=Wp(h.computeMask(b,_));if(h.activityRegularizer)throw new Pp("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<d.length;++r)n[(i=d[r]).id]=[a=w[r],s=x[r]]}}for(var k=[],A=[],T=[],I=0,N=this.outputs;I<N.length;I++){Vp((i=N[I]).id in n,"Could not compute output "+i.name+" : "+i.id);var R=n[i.id],D=R[0];s=R[1],T.push(D.shape),k.push(D),A.push(s)}return[k,A,T]},e.prototype.buildNodeConversionMap=function(t){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var s=a[i];n=s instanceof e?1:0;for(var o=0;o<s.inboundNodes.length;o++){var l=e.nodeKey(s,o);this.containerNodes.has(l)&&(r[l]=n,n+=1)}}return r},e.prototype.getLayer=function(t,e){if(null!=e){if(this.layers.length<=e)throw new Lp("Was asked to retrieve layer at index "+e+", but model only has "+this.layers.length+" layer(s).");return this.layers[e]}if(null==t)throw new Lp("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===t)return i}throw new Lp("No such layer: "+t)},e.prototype.calculateLosses=function(){var t=this;return Fe(function(){for(var n=[],r=0,i=t.layers;r<i.length;r++)for(var a=i[r],s=0;s<a.inboundNodes.length;++s){var o=e.nodeKey(a,s);t.containerNodes.has(o)&&n.push.apply(n,a.calculateLosses())}return n})},e.prototype.getConfig=function(){for(var t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var s=(_=a[i]).getClassName(),o=_.getConfig(),l=[],u=0;u<_.inboundNodes.length;u++){var c=_.inboundNodes[u],p=e.nodeKey(_,u),h={};if(this.containerNodes.has(p)){if(c.callArgs)try{JSON.stringify(c.callArgs),h=c.callArgs}catch(t){console.warn("Layer "+_.name+" was passed non-serializable keyword arguments: "+c.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),h={}}if(c.inboundLayers.length>0){for(var m=[],d=0;d<c.inboundLayers.length;d++){var f=c.inboundLayers[d],g=c.nodeIndices[d],y=c.tensorIndices[d];null==(x=n[e.nodeKey(f,g)])&&(x=0),m.push([f.name,x,y,h])}l.push(m)}}}var v={};v.name=_.name,v.className=s,v.config=o,v.inboundNodes=l,r.push(v)}t.layers=r;var b=[];for(d=0;d<this.inputLayers.length;d++){var _=this.inputLayers[d];p=e.nodeKey(_,g=this.inputLayersNodeIndices[d]),this.containerNodes.has(p)&&(null!==(x=n[p])&&void 0!==x||(x=0),b.push([_.name,x,y=this.inputLayersTensorIndices[d]]))}t.inputLayers=b;var w=[];for(d=0;d<this.outputLayers.length;d++){var x;p=e.nodeKey(_=this.outputLayers[d],g=this.outputLayersNodeIndices[d]),this.containerNodes.has(p)&&(null!==(x=n[p])&&void 0!==x||(x=0),w.push([_.name,x,y=this.outputLayersTensorIndices[d]]))}return t.outputLayers=w,t},e.fromConfig=function(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},a={};function s(t,e){t.name in a?a[t.name].push(e):a[t.name]=[e]}function o(t,e){for(var n,r=[],a=0,o=e;a<o.length;a++){var l=o[a],u=l[0],c=l[1],p=l[2];if(n=null==l[3]?{}:l[3],!(u in i))return void s(t,e);var h=i[u];if(h.inboundNodes.length<=c)return void s(t,e);r.push(h.inboundNodes[c].outputTensors[p])}r.length>0&&t.apply(jp(r),n)}function l(t){var n=t.name,a=Rd(t,null!=e.customObjects?e.customObjects:{});a.setFastWeightInitDuringBuild(r),i[n]=a,t.inboundNodes.forEach(function(t){if(!(t instanceof Array))throw new Lp("Corrupted configuration, expected array for nodeData: "+t);s(a,t)})}for(var u=e.name,c=e.layers,p=0,h=c;p<h.length;p++)l(f=h[p]);for(;!Qp(a);)for(var m=0,d=c;m<d.length;m++){var f=d[m];if((I=i[f.name]).name in a){var g=a[I.name];delete a[I.name];for(var y=0,v=g;y<v.length;y++)o(I,v[y])}}for(var b=[],_=[],w=0,x=e.inputLayers;w<x.length;w++){var C=(f=x[w])[0],S=f[1],E=f[2];Vp(C in i);var k=(I=i[C]).inboundNodes[S].outputTensors;b.push(k[E])}for(var A=0,T=e.outputLayers;A<T.length;A++){var I;C=(f=T[A])[0],S=f[1],E=f[2],Vp(C in i),k=(I=i[C]).inboundNodes[S].outputTensors,_.push(k[E])}return new t({inputs:b,outputs:_,name:u})},Object.defineProperty(e.prototype,"stateful",{get:function(){if(this._stateful)throw new Lp("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var t=0,e=this.layers;t<e.length;t++)if(e[t].stateful)return!0;return!1},enumerable:!0,configurable:!0}),e.prototype.resetStates=function(){var t=this;Fe(function(){t.layers.forEach(function(t){t.stateful&&t.resetStates()})})},e}(Pm),jd=32;function Wd(t,e){var n,r;r=e.ys,et.assert(null!=(n=e.xs)&&null!=r,function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+e});var i=Hd("input",t.inputNames,n),a=Hd("output",t.outputNames,r),s=i[0].shape[0];et.assert(i.length===t.inputs.length,function(){return"LayersModel has "+t.inputs.length+" inputs, but the dataset provides "+i.length+" inputs.  (Expected input keys: "+JSON.stringify(t.inputNames)+")"}),et.assert(a.length===t.outputs.length,function(){return"LayersModel has "+t.outputs.length+" outputs, but the dataset provides "+a.length+" outputs.  (Expected output keys: "+JSON.stringify(t.outputNames)+")"});var o=function(e){et.assert(i[e].shape[0]===s,function(){return"Batch size mismatch: input "+t.inputNames[e]+" has "+i[e].shape[0]+"; expected  "+s+" based on input "+t.inputNames[0]+"."})};for(var l in i)o(l);var u=function(e){et.assert(a[e].shape[0]===s,function(){return"Batch size mismatch: output "+t.outputNames[e]+" has "+a[e].shape[0]+"; expected  "+s+" based on input "+t.inputNames[0]+"."})};for(var c in a)u(c);return i.concat(a)}function Hd(t,e,n){if(n instanceof ht)return[n];if(Array.isArray(n))return et.assert(n.length===e.length,function(){return"Received an array of "+n.length+" Tensors, but expected "+e.length+" to match the "+t+" keys "+e+"."}),n;for(var r=[],i=0,a=e;i<a.length;i++){var s=a[i];if(null==n[s])throw new Lp("The feature data generated by the dataset lacks the required "+t+" key '"+s+"'.");r.push(n[s])}return r}function qd(t,e,n){return Rp(this,void 0,void 0,function(){var r,i,a,s,o,l,u,c,p,h,m,d,f,g,y,v,b,_,w,x,C,S,E,k,A;return Dp(this,function(T){switch(T.label){case 0:if(r=null!=n.batchesPerEpoch,et.assert(null!=t.optimizer,function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."}),et.assert(null!=n,function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."}),et.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs}),et.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch}),et.assert(null==n.validationSplit,function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."}),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0,T.label=1;case 1:return T.trys.push([1,,22,23]),a=void 0,s=void 0,(i=null!=n.validationData)&&($d(n.validationData)?et.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches}):(o=function(t){if(3===t.length)throw new Pp("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}(n.validationData),a=o.xs,s=o.ys)),l=t.makeTrainFunction(),u=t.getDedupedMetricsNames(),c=i?u.slice().concat(u.map(function(t){return"val_"+t})):u.slice(),p=Km(n.callbacks,n.yieldEvery),h=Xm(p,null==n.verbose?1:n.verbose,n.epochs,null,null,function(t,e){var n=null;return null!=e.batchesPerEpoch?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}(e,n),null,i,c),d=h.history,(m=h.callbackList).setModel(t),t.history=d,[4,m.onTrainBegin()];case 2:return T.sent(),t.stopTraining_=!1,f=null==n.initialEpoch?0:n.initialEpoch,[4,e.iterator()];case 3:g=T.sent(),T.label=4;case 4:return f<n.epochs?(y={},[4,m.onEpochBegin(f)]):[3,19];case 5:return T.sent(),v=0,b=0,r?[3,7]:[4,e.iterator()];case 6:g=T.sent(),T.label=7;case 7:return!r||v<n.batchesPerEpoch?[4,g.next()]:[3,17];case 8:return _=T.sent(),r&&_.done?(console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+v+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,17]):null==_.value?[3,11]:(w=Wd(t,_.value),(x={}).batch=b,x.size=w[0].shape[0],[4,m.onBatchBegin(b,x)]);case 9:for(T.sent(),C=l(w),Le(w),A=0;A<u.length;++A)x[u[A]]=S=C[A],Pe(S);return[4,m.onBatchEnd(b,x)];case 10:T.sent(),Um(x),b++,v++,T.label=11;case 11:return(r?v>=n.batchesPerEpoch:_.done)?i?(E=void 0,$d(n.validationData)?(k=Wp,[4,t.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,13]):[3,15]:[3,16];case 12:return E=k.apply(void 0,[T.sent()]),[3,14];case 13:E=Wp(t.evaluate(a,s,{batchSize:null==n.validationBatchSize?jd:n.validationBatchSize,verbose:0})),T.label=14;case 14:for(A=0;A<t.metricsNames.length;++A)y["val_"+t.metricsNames[A]]=E[A];T.label=15;case 15:return[3,17];case 16:return t.stopTraining_?[3,17]:[3,7];case 17:return[4,m.onEpochEnd(f,y)];case 18:return T.sent(),f++,t.stopTraining_?[3,19]:[3,4];case 19:return[4,m.onTrainEnd()];case 20:return T.sent(),[4,t.history.syncData()];case 21:return T.sent(),[2,t.history];case 22:return t.isTraining=!1,[7];case 23:return[2]}})})}function $d(t){return"function"==typeof t.iterator}function Gd(t,e,n){return Rp(this,void 0,void 0,function(){var r,i,a,s,o,l,u,c,p,h;return Dp(this,function(m){switch(m.label){case 0:if(r=null!=(n=n||{}).batches,i=t.testFunction,a=[],n.verbose>0)throw new Pp("Verbose mode is not implemented yet.");return et.assert(!r||n.batches>0&&Number.isInteger(n.batches),function(){return"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)}),"function"==typeof e.next?(o=e,[3,3]):[3,1];case 1:return[4,e.iterator()];case 2:o=m.sent(),m.label=3;case 3:s=o,l=0,u=0,c=function(){var e;return Dp(this,function(o){switch(o.label){case 0:return[4,s.next()];case 1:return e=o.sent(),a=Fe(function(){if(e.value){var n=Wd(t,e.value),r=Fe(function(){return i(n)});if(Le(n),0===u)for(var s=0;s<r.length;++s)a.push(zn(0));var o=n[0].shape[0],c=function(t){var e=r[t],n=a[t];a[t]=Fe(function(){return Tl(a[t],Ul(o,e))}),u>0&&Le(n)};for(s=0;s<r.length;++s)c(s);Le(r),l+=o,++u}return a}),e.done?(r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}})},m.label=4;case 4:return!r||u<n.batches?[5,c()]:[3,6];case 5:return"break"===m.sent()?[3,6]:[3,4];case 6:for(p=0;p<a.length;++p)h=a[p],a[p]=Dl(a[p],l),Le(h);return[2,jp(a)]}})})}function Kd(t){et.assert(t>0&&Number.isInteger(t),function(){return"batchSize is required to be a positive integer, but got "+t})}function Yd(t,e,n){return null==t?[null]:Array.isArray(t)?t.map(function(t){return Mh(t,e,n-e)}):Mh(t,e,n-e)}function Xd(t,e){return Fe(function(){return null==t?null:Array.isArray(t)?t.map(function(t){return Xd(t,e)}):jh(t,"int32"===e.dtype?e:e.toInt())})}function Qd(t,e){for(var n=[],r=0,i=null;r<t;)(i=r+e)>=t&&(i=t),n.push([r,i]),r=i;return n}function Zd(t,e,n,r,i,a,s,o,l,u,c,p,h,m,d){return Rp(this,void 0,void 0,function(){var f,g,y,v,b,_,w,x;return Dp(this,function(C){switch(C.label){case 0:if(null==i&&(i=32),null==a&&(a=1),null==c&&(c=!0),null==h&&(h=0),f=!1,null!=l&&null!=u&&(f=!0),null!=d&&(f=!0,null==m))throw new Lp("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(g=t.checkNumSamples(n,i,m,"steps_per_epoch"))&&(y=Rh(0,g)),null==s&&(s=1),v=Xm(o,s,a,h,g,m,i,f,p),_=v.history,(b=v.callbackList).setModel(t),t.history=_,[4,b.onTrainBegin()];case 1:C.sent(),t.stopTraining_=!1,w=function(a){var s,o,p,h,d;return Dp(this,function(v){switch(v.label){case 0:return[4,b.onEpochBegin(a)];case 1:if(v.sent(),s={},null==m)return[3,2];throw new Pp("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===c)throw new Pp("batch shuffling is not implemneted yet");c&&et.shuffle(y),o=Bn(y),p=Qd(g,i),h=function(a){var c;return Dp(this,function(h){switch(h.label){case 0:return[4,b.onBatchBegin(a,c={})];case 1:return h.sent(),Fe(function(){var h=p[a][0],m=p[a][1],d=Mh(o,h,m-h);c.batch=a,c.size=m-h;for(var g=Xd(n,d),y=e(g),v=0;v<r.length;++v){var b=r[v],_=y[v];c[b]=_,Pe(_)}if(a===p.length-1&&f){var w=t.testLoop(l,u,i);for(v=0;v<r.length;++v)b=r[v],Pe(_=w[v]),s["val_"+b]=_}}),[4,b.onBatchEnd(a,c)];case 2:return h.sent(),Um(c),t.stopTraining_?[2,"break"]:[2]}})},d=0,v.label=3;case 3:return d<p.length?[5,h(d)]:[3,6];case 4:if("break"===v.sent())return[3,6];v.label=5;case 5:return++d,[3,3];case 6:o.dispose(),v.label=7;case 7:return[4,b.onEpochEnd(a,s)];case 8:return v.sent(),t.stopTraining_?[2,"break"]:[2]}})},x=h,C.label=2;case 2:return x<a?[5,w(x)]:[3,5];case 3:if("break"===C.sent())return[3,5];C.label=4;case 4:return++x,[3,2];case 5:return[4,b.onTrainEnd()];case 6:return C.sent(),[4,t.history.syncData()];case 7:return C.sent(),[2,t.history]}})})}function Jd(t,e,n,r){return void 0===r&&(r={}),Rp(this,void 0,void 0,function(){var i,a,s,o,l,u,c,p,h,m,d,f,g,y,v,b,_,w,x;return Dp(this,function(C){switch(C.label){case 0:if(t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0,C.label=1;case 1:if(C.trys.push([1,,3,4]),Kd(c=null==r.batchSize?32:r.batchSize),p=t.standardizeUserData(e,n,!1,c),i=p[0],a=p[1],h=!1,m=void 0,null!=r.validationData&&r.validationData.length>0){if(h=!0,2!==r.validationData.length)throw 3===r.validationData.length?new Pp("validationData including sample weights is not supported yet."):new Lp("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+r.validationData+" is invalid.");d=t.standardizeUserData(s=r.validationData[0],o=r.validationData[1],!0,c),m=(l=d[0]).concat(u=d[1])}else null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(h=!0,f=Math.floor(i[0].shape[0]*(1-r.validationSplit)),l=Yd(i,f,g=i[0].shape[0]),i=Yd(i,0,f),u=Yd(a,f,g),a=Yd(a,0,f),m=l.concat(u)):null!=r.validationSteps&&(h=!0);return y=i.concat(a),t.checkTrainableWeightsConsistency(),v=t.makeTrainFunction(),b=t.getDedupedMetricsNames(),_=void 0,w=void 0,h?(t.makeTestFunction(),_=t.testFunction,w=b.slice().concat(b.map(function(t){return"val_"+t}))):(_=null,m=[],w=b.slice()),x=Km(r.callbacks,r.yieldEvery),[4,Zd(t,v,y,b,c,r.epochs,r.verbose,x,_,m,r.shuffle,w,r.initialEpoch,null,null)];case 2:return[2,C.sent()];case 3:return t.isTraining=!1,ef(i,e),ef(a,n),ef(l,s),ef(u,o),[7];case 4:return[2]}})})}function tf(t){var e=[];t instanceof ht&&(t=[t]);for(var n=0;n<t.length;++n){var r=t[n];if(1===r.rank)e.push(Oh(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function ef(t,e){if(null!=t){var n=[];if(e instanceof ht)n.push(e.id);else if(Array.isArray(e))e.forEach(function(t){return n.push(t.id)});else if(null!=e)for(var r in e)n.push(e[r].id);var i=[];if(t instanceof ht)-1===n.indexOf(t.id)&&i.push(t);else if(Array.isArray(t))t.forEach(function(t){-1===n.indexOf(t.id)&&i.push(t)});else if(null!=t)for(var a in t){var s=t[a];-1===n.indexOf(s.id)&&i.push(s)}i.forEach(function(t){t.isDisposed||t.dispose()})}}function nf(t){return Array.isArray(t)}function rf(t){return!function(t){return t instanceof ht}(t)&&!nf(t)}function af(t,e,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=""),null==e||0===e.length){if(null!=t){var a=!1;if(nf(t)&&t.length>0)a=!0;else if(rf(t)){for(var s in t)if(t.hasOwnProperty(s)){a=!0;break}}else a=!0;if(a)throw new Lp("Error when checking model "+i+" expected no data, but got "+t)}return[]}if(null==t)return e.map(function(t){return null});var o;if(rf(t)){t=t,o=[];for(var l=0,u=e;l<u.length;l++){var c=u[l];if(null==t[c])throw new Lp('No data provided for "'+c+'". Need data for each key in: '+e);o.push(t[c])}}else if(nf(t)){if((t=t).length!==e.length)throw new Lp("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+e.length+" Tensor(s), but instead got the following list of Tensor(s): "+t);o=t}else{if(t=t,e.length>1)throw new Lp("The model "+i+" expects "+e.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+t.shape);o=[t]}if(o=tf(o),null!=n)for(var p=0;p<e.length;++p)if(null!=n[p]){var h=o[p];if(h.shape.length!==n[p].length)throw new Lp("Error when checking "+i+": expected "+e[p]+" to have "+n[p].length+" dimension(s). but got array with shape "+h.shape);for(var m=0;m<n[p].length;++m)if(0!==m||r){var d=n[p][m];if(null!=d&&d>=0&&h.shape[m]!==d)throw new Lp("Error when checking "+i+": expected "+e[p]+" to have shape ["+n[p]+"], but got array with shape ["+h.shape+"].")}}return o}function sf(t,e,n,r,i){var a;if(void 0===r&&(r=!0),void 0===i&&(i=""),Array.isArray(t)){if(t.length!==e.length)throw new Lp("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+e.length+" Tensor(s), but instead got "+t.length+" Tensors(s).");a=t}else{if(e.length>1)throw new Lp("The model expects "+e.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(t.shape)+".");a=[t]}if(null!=n)for(var s=0;s<e.length;++s)if(null!=n[s]){var o=a[s];if(o.shape.length!==n[s].length)throw new Lp("Error when checking "+i+": expected "+e[s]+" to have "+n[s].length+" dimension(s), but got array with shape "+JSON.stringify(o.shape));for(var l=0;l<n[s].length;++l)if(0!==l||r){var u=n[s][l];if(null!=u&&u!==o.shape[l])throw new Lp("Error when checking "+i+": expected "+e[s]+" to have shape "+JSON.stringify(n[s])+" but got array with shape "+JSON.stringify(o.shape)+".")}}}var of=function(t){function e(e){var n=t.call(this,e)||this;return n.isTraining=!1,n}return Tp(e,t),e.prototype.summary=function(t,e,n){if(void 0===n&&(n=console.log),!this.built)throw new Lp("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function(t,e,n,r){void 0===r&&(r=console.log);var i,a=function(t){var e=!0,n=[],r=[];for(var i in t.nodesByDepth)n.push(t.nodesByDepth[i]);for(var a=0,s=n;a<s.length;a++){var o=s[a];if(o.length>1||1===o.length&&o[0].inboundLayers.length>1){e=!1;break}r.push.apply(r,o)}if(e)for(var l=0,u=t.layers;l<u.length;l++){for(var c=!1,p=0,h=u[l].inboundNodes;p<h.length;p++)if(-1!==r.indexOf(h[p])){if(c){e=!1;break}c=!0}if(!e)break}return e}(t),s=["Layer (type)","Output shape","Param #"];if(a?(e=e||65,n=n||[.45,.85,1]):(e=e||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(t){return Math.floor(e*t)})),!a)for(var o in s.push("Receives inputs"),i=[],t.nodesByDepth)i.push.apply(i,t.nodesByDepth[o]);r("_".repeat(e)),Td(s,n,r),r("=".repeat(e));for(var l=t.layers,u=0;u<l.length;++u)a?Id(l[u],n,r):Nd(l[u],n,i,r),r((u===l.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();var c=function(t){return Em(null!=t.collectedTrainableWeights?t.collectedTrainableWeights:t.trainableWeights)}(t),p=Em(t.nonTrainableWeights);r("Total params: "+(c+p)),r("Trainable params: "+c),r("Non-trainable params: "+p),r("_".repeat(e))}(this,t,e,n)},e.prototype.compile=function(t){var e=this;if(null==t.loss&&(t.loss=[]),this.loss=t.loss,"string"==typeof t.optimizer)this.optimizer_=function(t){var e={Adagrad:function(){return Sp.adagrad(.01)},Adadelta:function(){return Sp.adadelta(1,.95,Op())},Adam:function(){return Sp.adam(.001,.9,.999,Op())},Adamax:function(){return Sp.adamax(.002,.9,.999,Op(),0)},RMSProp:function(){return Sp.rmsprop(.001,.9,0,Op())},SGD:function(){return Sp.sgd(.01)}};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Lp("Unknown Optimizer "+t)}(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof fp))throw new Lp("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(t.loss)||"string"==typeof t.loss||"function"==typeof t.loss)if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new Lp("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+t.loss+".");n=t.loss.map(function(t){return hd(t)})}else{var r=hd(t.loss);this.outputs.forEach(function(t){n.push(r)})}else{for(var i in t.loss=t.loss,t.loss)if(-1===this.outputNames.indexOf(i))throw new Lp('Unknown entry in loss dictionary: "'+i+'". Only expected the following keys: '+this.outputNames);for(var a=0,s=this.outputNames;a<s.length;a++){var o=s[a];null==t.loss[o]&&console.warn('Output "'+o+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+o+" during training"),n.push(hd(t.loss[o]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var u=this.internalOutputShapes[l];this.feedOutputNames.push(this.outputNames[l]),this.feedOutputShapes.push(u),this.feedLossFns.push(this.lossFunctions[l])}var c=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],wh("loss",function(){for(var t=0;t<e.outputs.length;++t)-1===c.indexOf(t)&&e.outputs.length>1&&(e.metricsTensors.push([e.lossFunctions[t],t]),e.metricsNames.push(e.outputNames[t]+"_loss"))});var p=function(t,e){if(null==t||Array.isArray(t)&&0===t.length)return e.map(function(t){return[]});if(Array.isArray(t))return e.map(function(e){return t});if(null!=t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r],s=t.hasOwnProperty(a)?t[a]:[];Array.isArray(s)||(s=[s]),n.push(s)}return n}throw new TypeError("Type of metrics argument not understood. Expected an Array or Object, found: "+t)}(t.metrics,this.outputNames);wh("metric",function(){for(var t=function(t){if(-1!==c.indexOf(t))return"continue";!function(n){for(var r,i,a,s=function(n){if(-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var s=e.internalOutputShapes[t];1===s[s.length-1]||e.lossFunctions[t]===ld?-1!==["accuracy","acc"].indexOf(n)?i=md:-1!==["crossentropy","ce"].indexOf(n)&&(i=yd):e.lossFunctions[t]===od?-1!==["accuracy","acc"].indexOf(n)?i=vd:-1!==["crossentropy","ce"].indexOf(n)&&(i=Ad):-1!==["accuracy","acc"].indexOf(n)?i=dd:-1!==["crossentropy","ce"].indexOf(n)&&(i=Ed);var o=void 0;-1!==["accuracy","acc"].indexOf(n)?o="acc":-1!==["crossentropy","ce"].indexOf(n)&&(o="ce"),a=i,r=""+o}else{var l=function(t){var e={binaryAccuracy:md,categoricalAccuracy:dd,precision:gd,categoricalCrossentropy:Ed,sparseCategoricalCrossentropy:Ad,mse:bd,MSE:_d,mae:wd,MAE:xd,mape:Cd,MAPE:Sd,cosine:kd};if("string"==typeof n&&n in e)return e[n];if("string"!=typeof n&&null!=n)return n;throw new Lp("Unknown metric "+n)}();a=l,r=""+n}var u;wh(r,function(){u=a}),function(t,n,r){e.outputNames.length>1&&(n=e.outputNames[t]+"_"+n),e.metricsNames.push(n),e.metricsTensors.push([r,t])}(t,r,u)},o=0,l=p[t];o<l.length;o++)s(l[o])}()},n=0;n<e.outputs.length;++n)t(n)}),this.collectedTrainableWeights=this.trainableWeights},e.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},e.prototype.evaluate=function(t,e,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;Kd(r);var i=this.standardizeUserData(t,e,!0,r);try{var a=i[0].concat(i[1]);return this.makeTestFunction(),jp(this.testLoop(this.testFunction,a,r,n.verbose,n.steps))}finally{ef(i[0],t),ef(i[1],e)}},e.prototype.evaluateDataset=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){return this.makeTestFunction(),[2,Gd(this,t,e)]})})},e.prototype.checkNumSamples=function(t,e,n,r){var i;if(void 0===r&&(r="steps"),null!=n){if(i=null,null!=e)throw new Lp("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+e)}else{if(null==t)throw new Lp("Either the input data should have a defined shape, or "+r+" shoud be specified.");i=Array.isArray(t)?t[0].shape[0]:t.shape[0]}return i},e.prototype.execute=function(t,e){if(Array.isArray(e)&&0===e.length)throw new Lp("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(e),r=this.retrieveSymbolicTensors(n?e:[e]),i=new Md;if(t instanceof ht&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new Lp("The number of inputs provided ("+t.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var a=0;a<this.inputs.length;++a)i.add(this.inputs[a],t[a])}else for(var s=0,o=this.inputs;s<o.length;s++){var l=o[s],u=t[l.name];if(null==u)throw new Lp("No value is provided for the model's input "+l.name);i.add(l,u)}var c=Pd(r,i);return n?c:c[0]},e.prototype.retrieveSymbolicTensors=function(t){for(var e=Bp(null,t.length),n=t.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],s=Array.isArray(a.output)?a.output:[a.output],o=s.map(function(t){return t.name}),l=0;l<t.length;++l){var u=o.indexOf(t[l]);if(-1!==u&&(e[l]=s[u],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw e.forEach(function(e,n){null==e&&c.push(t[n])}),new Lp("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return e},e.prototype.predictLoop=function(t,e,n){var r=this;return void 0===e&&(e=32),void 0===n&&(n=!1),Fe(function(){var i=r.checkNumSamples(t);if(n)throw new Pp("Verbose predictLoop() is not implemented yet.");for(var a=Qd(i,e),s=r.outputs.map(function(t){return[]}),o=function(e){Fe(function(){var n=Yd(t,a[e][0],a[e][1]),i=[];if(Array.isArray(n))for(var s=0;s<n.length;++s)i.push({key:r.inputs[s],value:n[s]});else i.push({key:r.inputs[0],value:n});var o=new Md(i);return Pd(r.outputs,o)}).forEach(function(t,e){return s[e].push(t)})},l=0;l<a.length;++l)o(l);return jp(s.map(function(t){return Er(t,0)}))})},e.prototype.predict=function(t,e){void 0===e&&(e={});var n=tf(t);sf(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==e.batchSize?32:e.batchSize;return Kd(r),this.predictLoop(n,r)}finally{ef(n,t)}},e.prototype.predictOnBatch=function(t){return sf(t,this.inputNames,this.feedInputShapes,!0),this.predictLoop(t,t.shape[0])},e.prototype.standardizeUserData=function(t,e,n,r){if(void 0===n&&(n=!0),null==this.optimizer_)throw new Fp("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var i=[],a=0;a<this.feedOutputShapes.length;++a){var s=this.feedOutputShapes[a];i.push(this.feedLossFns[a]===od?s.slice(0,s.length-1).concat([1]):s)}if(function(t,e,n){var r=Xp(t.map(function(t){return t.shape[0]}));r.sort();var i=Xp(e.map(function(t){return t.shape[0]}));if(i.sort(),r.length>1)throw new Lp("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(t){return t.shape})));if(i.length>1)throw new Lp("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(t){return t.shape})));if(r.length>0&&i.length>0&&!et.arraysEqual(r,i))throw new Lp("Input Tensors should have the same number of samples as target Tensors. Found "+r[0]+" input sample(s) and "+i[0]+" target sample(s).")}(t=af(t,this.feedInputNames,this.feedInputShapes,!1,"input"),e=af(e,this.feedOutputNames,i,!1,"target")),function(t,e,n){for(var r=[Zm,ld,sd],i=0;i<t.length;++i){var a=t[i],s=e[i],o=n[i];if(null!=s){if(s===sd&&1===a.shape[a.shape.length-1])throw new Lp("You are passing a target array of shape "+a.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(s))for(var l=a.shape.slice(1),u=o.slice(1),c=0;c<l.length;++c){var p=u[c];if(null!=p&&l[c]!==p)throw new Lp("A target Tensor with shape "+a.shape+" was passed for an output of shape "+o+", while using a loss function that expects targets to have the same shape as the output.")}}}}(e,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&t[0].shape[0]%r!=0)throw new Lp("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+r+". Found: "+t[0].shape[0]+" sample(s).");return[t,e,null]},e.prototype.testLoop=function(t,e,n,r,i){var a=this;return void 0===r&&(r=0),Fe(function(){var s=a.checkNumSamples(e,n,i,"steps"),o=[];if(r>0)throw new Pp("Verbose mode is not implemented yet.");if(null!=i)throw new Pp("steps mode in testLoop() is not implemented yet");for(var l=Qd(s,n),u=Bn(Rh(0,s)),c=0;c<l.length;++c){var p=l[c][0],h=l[c][1],m=Mh(u,p,h-p),d=Xd(e,m),f=t(d);if(0===c)for(var g=0;g<f.length;++g)o.push(zn(0));for(g=0;g<f.length;++g)o[g]=Tl(o[g],Ul(h-p,f[g]))}for(g=0;g<o.length;++g)o[g]=Dl(o[g],s);return o})},e.prototype.getDedupedMetricsNames=function(){for(var t=this.metricsNames,e=[],n=0;n<t.length;++n){var r=t[n],i=r;Up(t,r)>1&&(i+="_"+Up(t.slice(0,n),r)),e.push(i)}return e},e.prototype.makeTrainFunction=function(){var t=this;return function(e){var n=e.slice(0,t.inputs.length),r=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),i=[],a=t.collectedTrainableWeights.map(function(t){return t.read()});return[t.optimizer_.minimize(function(){for(var e=[],a=0;a<t.inputs.length;++a)e.push({key:t.inputs[a],value:n[a]});var s,o=new Md(e),l=Pd(t.outputs,o,{training:!0});for(a=0;a<t.lossFunctions.length;++a){var u=(0,t.lossFunctions[a])(r[a],l[a]);pl(u),s=0===a?u:Tl(s,u)}for(a=0;a<t.metricsTensors.length;++a){var c=t.metricsTensors[a][1],p=pl((0,t.metricsTensors[a][0])(r[c],l[c]));Pe(p),i.push(p)}return s=pl(s),t.calculateLosses().forEach(function(t){s=Tl(s,t)}),s},!0,a)].concat(i)}},e.prototype.makeTestFunction=function(){var t=this;this.testFunction=function(e){return Fe(function(){for(var n,r=[],i=e.slice(0,t.inputs.length),a=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),s=[],o=0;o<t.inputs.length;++o)s.push({key:t.inputs[o],value:i[o]});var l=new Md(s),u=Pd(t.outputs,l);for(o=0;o<t.lossFunctions.length;++o){var c=pl((0,t.lossFunctions[o])(a[o],u[o]));n=0===o?c:Tl(n,c),r.push(n)}for(o=0;o<t.metricsTensors.length;++o){var p=t.metricsTensors[o][1],h=pl((0,t.metricsTensors[o][0])(a[p],u[p]));r.push(h)}return r})}},e.prototype.fit=function(t,e,n){return void 0===n&&(n={}),Rp(this,void 0,void 0,function(){return Dp(this,function(r){return[2,Jd(this,t,e,n)]})})},e.prototype.fitDataset=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){return[2,qd(this,t,e)]})})},e.prototype.trainOnBatch=function(t,e){return Rp(this,void 0,void 0,function(){var n,r,i,a,s,o,l,u,c;return Dp(this,function(p){switch(p.label){case 0:n=this.standardizeUserData(t,e),r=n[0],i=n[1],a=this.makeTrainFunction(),s=a(r.concat(i)),o=[],l=0,u=s,p.label=1;case 1:return l<u.length?[4,u[l].data()]:[3,4];case 2:c=p.sent(),o.push(c[0]),p.label=3;case 3:return l++,[3,1];case 4:return Le(s),[2,jp(o)]}})})},e.prototype.getNamedWeights=function(t){for(var e={},n=null!=t&&t.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||(e[r[a].originalName]=i[a]);return e},Object.defineProperty(e.prototype,"stopTraining",{get:function(){return this.stopTraining_},set:function(t){this.stopTraining_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optimizer",{get:function(){return this.optimizer_},set:function(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=t.prototype.dispose.call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=Oe().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-Oe().numTensors}return e},e.prototype.save=function(t,e){return Rp(this,void 0,void 0,function(){var n,r,i;return Dp(this,function(a){switch(a.label){case 0:if("string"==typeof t){if(0===(n=Jc.getSaveHandlers(t)).length)throw new Lp("Cannot find any save handlers for URL '"+t+"'");if(n.length>1)throw new Lp("Found more than one ("+n.length+") save handlers for URL '"+t+"'");t=n[0]}if(null==t.save)throw new Lp("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,Jc.encodeWeights(this.getNamedWeights(e))];case 1:return r=a.sent(),i=this.toJSON(null,!1),[2,t.save({modelTopology:i,weightData:r.data,weightSpecs:r.specs,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v1.2.1",convertedBy:null})]}})})},e.className="Model",e}(Ud);function lf(t,e,n){return Rp(this,void 0,void 0,function(){var r,i,a,s,o,l;return Dp(this,function(u){switch(u.label){case 0:if(null==n&&(n={}),null==t.load)throw new Lp("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,t.load()];case 1:if(r=u.sent(),null!=(i=r.modelTopology).model_config&&(i=i.model_config),a=null==n.strict||n.strict,s=null!=r.weightData&&null!=r.weightSpecs&&a,o=Rd(Od(i),e,s),null!=r.weightData){if(null==r.weightSpecs)throw new Lp("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");l=Jc.decodeWeights(r.weightData,r.weightSpecs),o.loadWeights(l,a),Le(l)}return[2,o]}})})}op.registerClass(of);var uf=function(t){function e(e){var n=t.call(this,{inputs:[],outputs:[]})||this;if(e=e||{},n.trainable=!0,n._updatable=!0,n.built=!1,n.name=null!=e.name?e.name:_m("sequential_"),null!=e.layers)for(var r=0,i=e.layers;r<i.length;r++)n.add(i[r]);return n}return Tp(e,t),e.prototype.checkShape=function(t){if(t.inboundNodes[0].outputTensors[0].shape.some(function(t){return t<0}))throw new Lp("Negative dimension size caused by adding layer "+t.name+" with input shape ["+t.inboundNodes[0].inputTensors[0].shape+"]")},e.prototype.add=function(t){var n,r=t instanceof e||t instanceof of;if(r){if(1!==(n=t).outputs.length)throw new Lp("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new Lp("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new Lp("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=Bm({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==t.inboundNodes.length)throw new Lp("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer "+t.name+" which has "+t.inboundNodes.length+" pre-existing inbound connections.");if(1!==t.inboundNodes[0].outputTensors.length)throw new Lp("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=function t(e,n,r){if((null==n||null!=r&&r>0)&&(n=e.sourceLayer,r=e.nodeIndex),0===n.inboundNodes.length)return[e];var i=n.inboundNodes[r];if(0===i.inboundLayers.length)return i.inputTensors;for(var a=[],s=0;s<i.inboundLayers.length;s++)for(var o=0,l=t(i.inputTensors[s],i.inboundLayers[s],i.nodeIndices[s]);o<l.length;o++){var u=l[o];-1===a.indexOf(u)&&a.push(u)}return a}(this.outputs[0])}this.inboundNodes=[],new Fm({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Bp(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(t){return t.shape}),outputShapes:this.outputs[0].shape})}else{var a=t.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1},e.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},e.prototype.call=function(t,e){return null==this.model&&this.build(),this.model.call(t,e)},e.prototype.build=function(t){if(Sm(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new of({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},e.prototype.countParams=function(){return this.built||this.build(),t.prototype.countParams.call(this)},e.prototype.summary=function(e,n,r){void 0===r&&(r=console.log),this.built||this.build(),t.prototype.summary.call(this,e,n,r)},e.prototype.setWeights=function(t){null==this.model&&this.build(),this.model.setWeights(t)},Object.defineProperty(e.prototype,"updatable",{get:function(){return this._updatable},set:function(t){this.built&&(this.model.updatable=t),this._updatable=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(t,e,n){if(void 0===n&&(n={}),!this.built)throw new Fp("The model needs to be compiled before being used.");return this.model.evaluate(t,e,n)},e.prototype.evaluateDataset=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){if(!this.built)throw new Fp("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(t,e)]})})},e.prototype.predict=function(t,e){return void 0===e&&(e={}),null==this.model&&this.build(),this.model.predict(t,e)},e.prototype.predictOnBatch=function(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)},e.prototype.compile=function(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(e.prototype,"optimizer",{get:function(){return this.model.optimizer},set:function(t){this.model.optimizer=t},enumerable:!0,configurable:!0}),e.prototype.fit=function(t,e,n){return void 0===n&&(n={}),Rp(this,void 0,void 0,function(){return Dp(this,function(r){if(!this.built)throw new Fp("The model needs to be compiled before being used.");return[2,this.model.fit(t,e,n)]})})},e.prototype.fitDataset=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){if(!this.built)throw new Fp("The model needs to be compiled before being used.");return[2,this.model.fitDataset(t,e)]})})},e.prototype.trainOnBatch=function(t,e){return Rp(this,void 0,void 0,function(){return Dp(this,function(n){return[2,this.model.trainOnBatch(t,e)]})})},e.fromConfig=function(t,n,r,i){var a;void 0===r&&(r={}),void 0===i&&(i=!1);var s={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new Lp("Legacy serialization format not supported yet.");a=n}else et.assert(null!=n.layers,function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."}),a=n.layers,delete n.layers,s=n;var o=new t(s);if(!(o instanceof e))throw new Pp("Sequential.fromConfig called on non-Sequential input: "+o);for(var l=0,u=a;l<u.length;l++){var c=Rd(u[l],void 0,i);i&&c.setFastWeightInitDuringBuild(!0),o.add(c)}return o},Object.defineProperty(e.prototype,"stopTraining",{get:function(){if(null==this.model)throw new Lp("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(t){if(null==this.model)throw new Lp("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e],i={};i.className=r.getClassName(),i.config=r.getConfig(),t.push(i)}return t},e.className="Sequential",e}(of);function cf(t){return new of(t)}function pf(t){return new uf(t)}function hf(t,e){return null==e&&(e={}),function(t,e){return Rp(this,void 0,void 0,function(){var n;return Dp(this,function(r){if(null==e&&(e={}),"string"==typeof t){if(0===(n=Jc.getLoadHandlers(t)).length)n.push(Jc.browserHTTPRequest(t,e));else if(n.length>1)throw new Lp("Found more than one ("+n.length+") load handlers for URL '"+t+"'");t=n[0]}return[2,lf(t,void 0,e)]})})}(t,e)}function mf(t){return Bm(t)}function df(t,e){Ym.registerCallbackConstructor(t,e)}op.registerClass(uf);var ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.getConfig=function(){return{}},e}(op.Serializable),gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=1),function(t,e){if(void 0===e&&(e=1),1!==e)throw new Pp("Support for alpha values other than 1 ("+e+") is not implemented yet.");return eu(t)}(t,e)},e.className="elu",e}(ff);op.registerClass(gf);var yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return au(t)},e.className="selu",e}(ff);op.registerClass(yf);var vf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return iu(t)},e.className="relu",e}(ff);op.registerClass(vf);var bf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return Fe(function(){return Pl(6,iu(t))})},e.className="relu6",e}(ff);op.registerClass(bf);var _f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return t},e.className="linear",e}(ff);op.registerClass(_f);var wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return no(t)},e.className="sigmoid",e}(ff);op.registerClass(wf);var xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return function(t){return Fe(function(){var e=Tl(.5,Ul(.2,t));return js(e,0,1)})}(t)},e.className="hardSigmoid",e}(ff);op.registerClass(xf);var Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return uo(t)},e.className="softplus",e}(ff);op.registerClass(Cf);var Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return function(t){return Fe(function(){return Dl(t,Ms(t).add(1))})}(t)},e.className="softsign",e}(ff);op.registerClass(Sf);var Ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t){return fo(t)},e.className="tanh",e}(ff);op.registerClass(Ef);var kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=-1),Dn(t,e)},e.className="softmax",e}(ff);op.registerClass(kf);var Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=-1),On(t,e)},e.className="logSoftmax",e}(ff);function Tf(t){return t.getClassName()}function If(t,e){return void 0===e&&(e={}),Kp(t,op.SerializationMap.getMap().classNameMap,e,"activation")}function Nf(t){var e;return null==t?If(e={className:"linear",config:{}}):"string"==typeof t?((e={}).className=t,e.config={},If(e)):t instanceof ff?t:If(t)}op.registerClass(Af);var Rf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e}(op.Serializable),Df=function(t){function e(e){var n=t.call(this)||this;return n.l1=null==e||null==e.l1?.01:e.l1,n.l2=null==e||null==e.l2?.01:e.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return Tp(e,t),e.prototype.apply=function(t){var e=this;return Fe(function(){var n=$n([1]);return e.hasL1&&(n=Tl(n,dl(Ul(e.l1,Ms(t))))),e.hasL2&&(n=Tl(n,dl(Ul(e.l2,Wh(t))))),n.asScalar()})},e.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},e.fromConfig=function(t,e){return new t({l1:e.l1,l2:e.l2})},e.className="L1L2",e}(Rf);op.registerClass(Df);var Of={l1l2:"L1L2"};function Mf(t){return Gp(t)}function Ff(t,e){return void 0===e&&(e={}),Kp(t,op.SerializationMap.getMap().classNameMap,e,"regularizer")}function Lf(t){return null==t?null:"string"==typeof t?Ff({className:t in Of?Of[t]:t,config:{}}):t instanceof Rf?t:Ff(t)}var Pf=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.supportsMasking=!0,null!=e&&(n.maxValue=e.maxValue),n}return Tp(e,t),e.prototype.call=function(t,e){t=Cm(t);var n=iu(t);return null!=this.maxValue&&(n=js(n,0,this.maxValue)),n},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={maxValue:this.maxValue},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ReLU",e}(Pm);op.registerClass(Pf);var zf=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_ALPHA=.3,null==e&&(e={}),n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return Tp(e,t),e.prototype.call=function(t,e){var n=Cm(t);return nu(n,this.alpha)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="LeakyReLU",e}(Pm);op.registerClass(zf);var Bf=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;if(n.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),n.supportsMasking=!0,n.alphaInitializer=fm(e.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=Lf(e.alphaRegularizer),n.alphaConstraint=ch(e.alphaConstraint),null==e.sharedAxes)n.sharedAxes=null;else if(Array.isArray(e.sharedAxes))n.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new Lp("Expected sharedAxes to be a number or an array of numbers, but got "+e.sharedAxes);n.sharedAxes=[e.sharedAxes]}return n}return Tp(e,t),e.prototype.build=function(t){var e=(t=Sm(t)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++)e[(a=r[n])-1]=1;this.alpha=this.addWeight("alpha",e,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<t.length;++a)i[a]=t[a];this.inputSpec=[new Dm({ndim:t.length,axes:i})],this.built=!0},e.prototype.call=function(t,e){return t=Cm(t),ru(t,this.alpha.read())},e.prototype.getConfig=function(){var e={alphaInitializer:dm(this.alphaInitializer),alphaRegularizer:Mf(this.alphaRegularizer),alphaConstraint:lh(this.alphaConstraint),sharedAxes:this.sharedAxes},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="PReLU",e}(Pm);op.registerClass(Bf);var Vf=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;if(n.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==n.DEFAULT_ALPHA)throw new Pp("Non-default alpha value ("+e.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return Tp(e,t),e.prototype.call=function(t,e){var n=Cm(t);return eu(n)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ELU",e}(Pm);op.registerClass(Vf);var Uf=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_THETA=1,null==e&&(e={}),n.theta=null==e.theta?n.DEFAULT_THETA:e.theta,n}return Tp(e,t),e.prototype.call=function(t,e){var n=Cm(t);return n.mul(Dh(n.greater(this.theta),"float32"))},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={theta:this.theta},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ThresholdedReLU",e}(Pm);op.registerClass(Uf);var jf=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_AXIS=1,null==e&&(e={}),n.softmax=(new kf).apply,n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n}return Tp(e,t),e.prototype.call=function(t,e){var n=Cm(t);return this.softmax(n,this.axis)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={axis:this.axis},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Softmax",e}(Pm);function Wf(t,e,n){if("number"==typeof t)return Bp(t,e);if(t.length!==e)throw new Lp("The "+n+" argument must be an integer or tuple of "+e+" integers. Received: "+t.length+" elements.");for(var r=0;r<e;++r){var i=t[r];if(!kh(i))throw new Lp("The "+n+" argument must be an integer or tuple of "+e+" integers. Received: "+JSON.stringify(t)+" including a non-integer number "+i)}return t}function Hf(t,e,n,r,i){return void 0===i&&(i=1),null==t?t:Math.floor((("same"===n?t:t-(e+(e-1)*(i-1))+1)+r-1)/r)}function qf(t,e,n,r){if(null==t)return null;if("valid"===r)t=t*e+Nh([n-e,0]);else{if("same"!==r)throw new Lp("Unsupport padding mode: "+r+".");t*=e}return t}function $f(t,e){return Fe(function(){return yh(e),"channelsFirst"===e?su(t,[0,2,3,1]):t})}op.registerClass(jf);var Gf=function(t){function e(n,r){var i=t.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",e.verifyArgs(r),i.rank=n,th(i.rank,"rank"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new Pp("Convolution layer for rank other than 1, 2, or 3 ("+i.rank+") is not implemented yet.");if(i.kernelSize=Wf(r.kernelSize,n,"kernelSize"),i.strides=Wf(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,vh(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,yh(i.dataFormat),i.activation=Nf(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=fm(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=ch(r.biasConstraint),i.biasRegularizer=Lf(r.biasRegularizer),i.activityRegularizer=Lf(r.activityRegularizer),i.dilationRate=Wf(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new Lp("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank){if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new Lp("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate))}else if(3===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new Lp("dilationRate must be a number or array of three numbers for 3D convolution, but received "+JSON.stringify(i.dilationRate));return i}return Tp(e,t),e.verifyArgs=function(t){if(Vp("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!Jp(t.kernelSize,"number",1,3))throw new Lp("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received "+JSON.stringify(t.kernelSize)+".")},e.prototype.getConfig=function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Tf(this.activation),useBias:this.useBias,biasInitializer:dm(this.biasInitializer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),biasConstraint:lh(this.biasConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Pm),Kf=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.kernel=null,e.verifyArgs(r),i.filters=r.filters,th(i.filters,"filters"),i.kernelInitializer=fm(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=ch(r.kernelConstraint),i.kernelRegularizer=Lf(r.kernelRegularizer),i}return Tp(e,t),e.prototype.build=function(t){var e;t=Sm(t);var n="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[n])throw new Lp("The channel dimension of the input should be defined. Found "+t[n]);var r=t[n],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(e={},e[n]=r,e)}],this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){var e;t=Cm(t);var r=null==n.bias?null:n.bias.read();if(1===n.rank)e=function(t,e,n,r,i,a,s){return void 0===r&&(r=1),void 0===i&&(i="valid"),void 0===s&&(s=1),Fe(function(){if(null==a&&(a="channelsLast"),yh(a),3!==t.shape.length)throw new Lp("The input of a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead.");if(3!==e.shape.length)throw new Lp("The kernel for a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new Lp("The bias for a conv1dWithBias operation should be 1, but is "+e.shape.length+" instead");if("channelsFirst"===a&&(t=su(t,[0,2,1])),"causal"===i)throw new Pp("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var o=Oo(t,e,r,"same"===i?"same":"valid","NWC",s);return null!=n&&(o=qh(o,n)),o})}(t,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)e=function(t,e,n,r,i,a,s){return void 0===r&&(r=[1,1]),void 0===i&&(i="valid"),Fe(function(){if(null==a&&(a="channelsLast"),yh(a),3!==t.rank&&4!==t.rank)throw new Lp("conv2dWithBias expects input to be of rank 3 or 4, but received "+t.rank+".");if(3!==e.rank&&4!==e.rank)throw new Lp("conv2dWithBias expects kernel to be of rank 3 or 4, but received "+t.rank+".");var o=$f(t,a);if("causal"===i)throw new Pp("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return o=Mo(o,e,r,"same"===i?"same":"valid","NHWC",s),null!=n&&(o=qh(o,n)),"channelsFirst"===a&&(o=su(o,[0,3,1,2])),o})}(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Pp("convolutions greater than 3D are not implemented yet.");e=function(t,e,n,r,i,a,s){return void 0===r&&(r=[1,1,1]),void 0===i&&(i="valid"),Fe(function(){if(null==a&&(a="channelsLast"),yh(a),4!==t.rank&&5!==t.rank)throw new Lp("conv3dWithBias expects input to be of rank 4 or 5, but received "+t.rank+".");if(4!==e.rank&&5!==e.rank)throw new Lp("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+t.rank+".");var o=function(t,e){return Fe(function(){return yh(e),"channelsFirst"===e?su(t,[0,2,3,4,1]):t})}(t,a);if("causal"===i)throw new Pp("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=Fo(o,e,r,"same"===i?"same":"valid","NDHWC",s),null!=n&&(o=qh(o,n)),"channelsFirst"===a&&(o=su(o,[0,4,1,2,3])),o})}(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}return null!=n.activation&&(e=n.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=Sm(t);for(var e=[],n="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2),r=0;r<n.length;++r){var i=Hf(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);e.push(i)}var a=[t[0]];return"channelsLast"===this.dataFormat?(a=a.concat(e)).push(this.filters):(a.push(this.filters),a=a.concat(e)),a},e.prototype.getConfig=function(){var e={filters:this.filters,kernelInitializer:dm(this.kernelInitializer),kernelRegularizer:Mf(this.kernelRegularizer),kernelConstraint:lh(this.kernelConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.verifyArgs=function(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new Lp("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(t.filters))},e}(Gf),Yf=function(t){function e(n){var r=t.call(this,2,n)||this;return e.verifyArgs(n),r}return Tp(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,e},e.verifyArgs=function(t){if("number"!=typeof t.kernelSize&&!Jp(t.kernelSize,"number",1,2))throw new Lp("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(t.kernelSize)+".")},e.className="Conv2D",e}(Kf);op.registerClass(Yf);var Xf=function(t){function e(n){var r=t.call(this,3,n)||this;return e.verifyArgs(n),r}return Tp(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,e},e.verifyArgs=function(t){if("number"!=typeof t.kernelSize&&(!Array.isArray(t.kernelSize)||1!==t.kernelSize.length&&3!==t.kernelSize.length))throw new Lp("Conv3D expects config.kernelSize to be number or [number, number, number], but received "+JSON.stringify(t.kernelSize)+".")},e.className="Conv3D",e}(Kf);op.registerClass(Xf);var Qf=function(t){function e(e){var n=t.call(this,e)||this;if(n.inputSpec=[new Dm({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new Lp("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return Tp(e,t),e.prototype.build=function(t){var e;if(4!==(t=Sm(t)).length)throw new Lp("Input should have rank 4; Received input shape: "+JSON.stringify(t));var n="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[n])throw new Lp("The channel dimension of the inputs should be defined. Found `None`.");var r=t[n],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",i,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Dm({ndim:4,axes:(e={},e[n]=r,e)})],this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){var e=Cm(t);if(4!==e.shape.length)throw new Lp("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+e.shape.length);var r,i,a=e.shape;"channelsFirst"===n.dataFormat?(r=2,i=3):(r=1,i=2);var s=a[i],o=n.kernelSize[1],l=n.strides[1],u=[a[0],qf(a[r],n.strides[0],n.kernelSize[0],n.padding),qf(s,l,o,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(e=su(e,[0,2,3,1]));var c=Bo(e,n.kernel.read(),u,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(c=su(c,[0,3,1,2])),null!=n.bias&&(c=qh(c,n.bias.read(),n.dataFormat)),null!=n.activation&&(c=n.activation.apply(c)),c})},e.prototype.computeOutputShape=function(t){var e,n,r,i=(t=Sm(t)).slice();"channelsFirst"===this.dataFormat?(e=1,n=2,r=3):(e=3,n=1,r=2);var a=this.kernelSize[0],s=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return i[e]=this.filters,i[n]=qf(i[n],o,a,this.padding),i[r]=qf(i[r],l,s,this.padding),i},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.dilationRate,e},e.className="Conv2DTranspose",e}(Yf);op.registerClass(Qf);var Zf=function(t){function e(e){return t.call(this,2,e)||this}return Tp(e,t),e.className="SeparableConv2D",e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new Lp("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new Lp("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new Lp("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=fm(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=Lf(n.depthwiseRegularizer),r.depthwiseConstraint=ch(n.depthwiseConstraint),r.pointwiseInitializer=fm(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=Lf(n.pointwiseRegularizer),r.pointwiseConstraint=ch(n.pointwiseConstraint),r}return Tp(e,t),e.prototype.build=function(t){var e;if((t=Sm(t)).length<this.rank+2)throw new Lp("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(t));var n="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[n]||t[n]<0)throw new Lp("The channel dimension of the inputs should be defined, but found "+JSON.stringify(t[n]));for(var r=t[n],i=this.kernelSize.concat([r,this.depthMultiplier]),a=[],s=0;s<this.rank;++s)a.push(1);a.push(r*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",i,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.inputSpec=[new Dm({ndim:this.rank+2,axes:(e={},e[n]=r,e)})],this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){var e;if(t=Cm(t),1===n.rank)throw new Pp("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(t=su(t,[0,2,3,1])),e=zo(t,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(e=qh(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),"channelsFirst"===n.dataFormat&&(e=su(e,[0,3,1,2])),e})},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=dm(this.depthwiseInitializer),e.pointwiseInitializer=dm(this.pointwiseInitializer),e.depthwiseRegularizer=Mf(this.depthwiseRegularizer),e.pointwiseRegularizer=Mf(this.pointwiseRegularizer),e.depthwiseConstraint=lh(this.depthwiseConstraint),e.pointwiseConstraint=lh(this.pointwiseConstraint),e},e.className="SeparableConv",e}(Kf));op.registerClass(Zf);var Jf=function(t){function e(n){var r=t.call(this,1,n)||this;return e.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return Tp(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.dataFormat,e},e.verifyArgs=function(t){if("number"!=typeof t.kernelSize&&!Jp(t.kernelSize,"number",1,1))throw new Lp("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(t.kernelSize)+".")},e.className="Conv1D",e}(Kf);op.registerClass(Jf);var tg=function(t){function e(e){var n=t.call(this,e)||this;return n.cropping="number"==typeof e.cropping?[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:e.cropping,n.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,n.inputSpec=[{ndim:4}],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]},e.prototype.call=function(t,e){var n=this;return Fe(function(){return t=Cm(t),"channelsLast"===n.dataFormat?Lh(Lh(t,n.cropping[0][0],t.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],t.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):Lh(Lh(t,n.cropping[0][0],t.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],t.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},e.prototype.getConfig=function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Cropping2D",e}(Pm);op.registerClass(tg);var eg=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==e.size?n.DEFAULT_SIZE:e.size,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,n}return Tp(e,t),e.prototype.computeOutputShape=function(t){if("channelsFirst"===this.dataFormat){var e=null==t[2]?null:this.size[0]*t[2],n=null==t[3]?null:this.size[1]*t[3];return[t[0],t[1],e,n]}return[t[0],e=null==t[1]?null:this.size[0]*t[1],n=null==t[2]?null:this.size[1]*t[2],t[3]]},e.prototype.call=function(t,e){var n=this;return Fe(function(){var e=Cm(t),r=e.shape;if("channelsFirst"===n.dataFormat){e=su(e,[0,2,3,1]);var i=n.size[0]*r[2],a=n.size[1]*r[3],s=e.resizeNearestNeighbor([i,a]);return su(s,[0,3,1,2])}return e.resizeNearestNeighbor([i=n.size[0]*r[1],a=n.size[1]*r[2]])})},e.prototype.getConfig=function(){var e={size:this.size,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="UpSampling2D",e}(Pm);op.registerClass(eg);var ng=function(t){function e(e){var n=t.call(this,2,e)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,n.depthwiseInitializer=fm(e.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=ch(e.depthwiseConstraint),n.depthwiseRegularizer=Lf(e.depthwiseRegularizer),n}return Tp(e,t),e.prototype.build=function(t){if((t=Sm(t)).length<4)throw new Lp("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(t)+".");var e="channelsFirst"===this.dataFormat?1:3;if(null==t[e]||t[e]<0)throw new Lp("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+t[e]+").");var n=t[e];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){var e=function(t,e,n,r,i,a){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),Fe(function(){null==i&&(i="channelsLast"),yh(i);var a=$f(t,i);if(4!==t.rank)throw new Lp("Input for depthwiseConv2d is required to be 4-D, but is instead "+t.rank+"-D");if(4!==e.rank)throw new Lp("depthwiseKernel is required to be 4-D, but is instead "+e.rank+"-D");return a=Po(a,e,n,"same"===r?"same":"valid","NHWC",null),"channelsFirst"===i&&(a=su(a,[0,3,1,2])),a})}(t=Cm(t),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat);return n.useBias&&(e=qh(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=Sm(t);var e="channelsFirst"===this.dataFormat?t[3]:t[2],n="channelsFirst"===this.dataFormat?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,r=Hf("channelsFirst"===this.dataFormat?t[2]:t[1],this.kernelSize[0],this.padding,this.strides[0]),i=Hf(e,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[t[0],n,r,i]:[t[0],r,i,n]},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=dm(this.depthwiseInitializer),e.depthwiseRegularizer=Mf(this.depthwiseRegularizer),e.depthwiseConstraint=lh(this.depthwiseRegularizer),e},e.className="DepthwiseConv2D",e}(Gf);op.registerClass(ng);var rg=function(t){function e(e){var n=t.call(this,e)||this;if(n.rate=Math.max(Math.min(e.rate,1),0),n.noiseShape=e.noiseShape,n.seed=e.seed,null!=n.seed)throw new Pp("Non-default seed is not implemented in Dropout layer yet: "+n.seed);return n.supportsMasking=!0,n}return Tp(e,t),e.prototype.getNoiseShape=function(t){if(null==this.noiseShape)return this.noiseShape;for(var e=t.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?e[r]:this.noiseShape[r]);return n},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t);if(null!=n.noiseShape&&!et.arraysEqual(r.shape,n.noiseShape))throw new Pp("Non-default noise shape is not implemented in Dropout layer yet: "+JSON.stringify(n.noiseShape));if(0<n.rate&&n.rate<1){var i=null!=e.training&&e.training,a=n.getNoiseShape(r);return Gh(function(){return $h(r,n.rate,a,n.seed)},function(){return r},i)}return t})},e.prototype.getConfig=function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.prototype.dispose=function(){return t.prototype.dispose.call(this)},e.className="Dropout",e}(Pm);op.registerClass(rg);var ig=function(t){function e(e){var n=t.call(this,e)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=[r,e.inputDim]}return n.units=e.units,th(n.units,"units"),n.activation=Nf(e.activation),null!=e.useBias&&(n.useBias=e.useBias),n.kernelInitializer=fm(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=fm(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=ch(e.kernelConstraint),n.biasConstraint=ch(e.biasConstraint),n.kernelRegularizer=Lf(e.kernelRegularizer),n.biasRegularizer=Lf(e.biasRegularizer),n.activityRegularizer=Lf(e.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return Tp(e,t),e.prototype.build=function(t){var e,n=(t=Sm(t))[t.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(e={},e[-1]=n,e)}],this.built=!0},e.prototype.computeOutputShape=function(t){var e=(t=Sm(t)).slice();return e[e.length-1]=this.units,e},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r,i=Cm(t),a=function(t){return"relu"===t?"relu":"linear"===t?"linear":null}(n.activation.getClassName());return null!=a?r=Uh(i,n.kernel.read(),a,n.bias?n.bias.read():null):(r=Uh(i,n.kernel.read()),null!=n.bias&&(r=qh(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r})},e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),biasInitializer:dm(this.biasInitializer),kernelRegularizer:Mf(this.kernelRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),biasConstraint:lh(this.biasConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dense",e}(Pm);op.registerClass(ig);var ag=function(t){function e(e){var n=t.call(this,e||{})||this;return n.inputSpec=[{minNDim:3}],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){for(var e=0,n=(t=Sm(t)).slice(1);e<n.length;e++)if(null==n[e])throw new Lp('The shape of the input to "Flatten" is not fully defined (got '+t.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[t[0],Ah(t,1)]},e.prototype.call=function(t,e){var n=this;return Fe(function(){return n.invokeCallHook(t,e),function(t){if(t.rank<=1)throw new Lp("batchFlatten requires a minimum rank of 2. Got rank: "+t.rank+".");var e=[t.shape[0],Ah(t.shape,1)];return t.reshape(e)}(Cm(t))})},e.className="Flatten",e}(Pm);op.registerClass(ag);var sg=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.activation=Nf(e.activation),n}return Tp(e,t),e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t);return n.activation.apply(r)})},e.prototype.getConfig=function(){var e={activation:Tf(this.activation)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Activation",e}(Pm);op.registerClass(sg);var og=function(t){function e(e){var n=t.call(this,e)||this;return n.n=e.n,n.inputSpec=[{ndim:2}],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return[t[0],this.n,t[1]]},e.prototype.call=function(t,e){var n=this;return Fe(function(){return function(t,e){return Fe(function(){if(2!==t.shape.length)throw new Lp("repeat() expects a rank-2 tensor, but received a rank-"+t.shape.length+" tensor.");return Bh(Oh(t,1),[1,e,1])})}(t=Cm(t),n.n)})},e.prototype.getConfig=function(){var e={n:this.n},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="RepeatVector",e}(Pm);op.registerClass(og);var lg=function(t){function e(e){var n=t.call(this,e)||this;n.targetShape=e.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return Tp(e,t),e.prototype.isUnknown=function(t){return t<0||null==t},e.prototype.fixUnknownDimension=function(t,e){for(var n="Total size of new array must be unchanged.",r=e.slice(),i=1,a=null,s=0;s<r.length;++s){var o=r[s];if(this.isUnknown(o)){if(null!==a)throw new Lp("Can only specifiy one unknown dimension.");a=s}else i*=o}var l=Ah(t);if(null!==a){if(0===i||l%i!=0)throw new Lp(n);r[a]=l/i}else if(l!==i)throw new Lp(n);return r},e.prototype.computeOutputShape=function(t){for(var e=!1,n=0;n<t.length;++n)if(this.isUnknown(t[n])){e=!0;break}return e?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)})},e.prototype.getConfig=function(){var e={targetShape:this.targetShape},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Reshape",e}(Pm);op.registerClass(lg);var ug=function(t){function e(e){var n=t.call(this,e)||this;if(null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+e.dims+" instead.");var r=Rh(1,e.dims.length+1);if(!et.arraysEqual(e.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=e.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new Dm({ndim:n.dims.length+1})],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){var e=(t=Sm(t)).slice();return this.dims.forEach(function(n,r){e[r+1]=t[n]}),e},e.prototype.call=function(t,e){return su(Cm(t),this.dimsIncludingBatch)},e.prototype.getConfig=function(){var e={dims:this.dims},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Permute",e}(Pm);op.registerClass(ug);var cg=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.supportsMasking=!0,n.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,e),n},e.prototype.computeMask=function(t,e){var n=Cm(t);return sl(kl(n,this.maskValue),-1)},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t),i=sl(kl(r,n.maskValue),-1,!0);return r.mul(i.asType(r.dtype))})},e.className="Masking",e}(Pm);op.registerClass(cg);var pg=function(t){function e(e){var n=t.call(this,e)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=null==e.inputLength?[r,null]:[r].concat(Wp(e.inputLength))}return n.inputDim=e.inputDim,th(n.inputDim,"inputDim"),n.outputDim=e.outputDim,th(n.outputDim,"outputDim"),n.embeddingsInitializer=fm(e.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=Lf(e.embeddingsRegularizer),n.activityRegularizer=Lf(e.activityRegularizer),n.embeddingsConstraint=ch(e.embeddingsConstraint),n.maskZero=e.maskZero,n.supportsMasking=e.maskZero,n.inputLength=e.inputLength,n}return Tp(e,t),e.prototype.build=function(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},e.prototype.warnOnIncompatibleInputShape=function(t){},e.prototype.computeMask=function(t,e){var n=this;return Fe(function(){return n.maskZero?(t=Cm(t),kl(t,Qn(t))):null})},e.prototype.computeOutputShape=function(t){if(t=Sm(t),null==this.inputLength)return t.concat([this.outputDim]);var e=Wp(this.inputLength);if(e.length!==t.length-1)throw new Lp('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);for(var n=0,r=0;r<e.length;++r){var i=e[r],a=t[r+1];if(null!=i&&null!=a&&i!==a)throw new Lp('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);null==i&&(e[n]=a),n++}return[t[0]].concat(e,[this.outputDim])},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t);return"int32"!==r.dtype&&(r=Dh(r,"int32")),jh(n.embeddings.read(),r.as1D()).reshape(Sm(n.computeOutputShape(r.shape)))})},e.prototype.getConfig=function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:dm(this.embeddingsInitializer),embeddingsRegularizer:Mf(this.embeddingsRegularizer),activityRegularizer:Mf(this.activityRegularizer),embeddingsConstraint:lh(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Embedding",e}(Pm);op.registerClass(pg);var hg=function(t){function e(e){var n=t.call(this,e||{})||this;return n.supportsMasking=!0,n}return Tp(e,t),e.prototype.mergeFunction=function(t){throw new Pp},e.prototype.computeElementwiseOpOutputShape=function(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;for(var n=t.slice(0,t.length-e.length),r=0;r<e.length;++r){var i=t[t.length-e.length+r],a=e[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new Lp("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));n.push(i)}}return n},e.prototype.build=function(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[Sm(t)]),(t=t).length<2)throw new Lp("A merge layer should be called on an Array of at least 2 inputs. Got "+t.length+" input(s).");for(var e=[],n=0,r=t;n<r.length;n++)null!=(s=r[n])&&null!==s[0]&&e.push(s[0]);if((e=Xp(e)).length>1)throw new Lp("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(t)+".");for(var i=null==t[0]?null:t[0].slice(1),a=1;a<t.length;++a){var s=null==t[a]?null:t[a].slice(1);i=this.computeElementwiseOpOutputShape(i,s)}var o=t.map(function(t){return t.length});this.reshapeRequired=-1!==t.indexOf(null)||1!==Xp(o).length},e.prototype.call=function(t,e){var n=this;return Fe(function(){if(t=t,n.reshapeRequired){var e=[],r=t.map(function(t){return t.rank});if(-1===r.indexOf(null)){for(var i=Nh(r),a=0,s=t;a<s.length;a++){for(var o=(h=s[a]).rank,l=0;l<i-o;++l)h=Oh(h,1);e.push(h)}return n.mergeFunction(e)}for(var u=!1,c=0,p=t;c<p.length;c++){var h;if(null==(o=(h=p[c]).rank)){var m=h.shape,d=m[0],f=m.slice(1).concat([d]),g=h.reshape([d].concat(Ah(m.slice(1))));g=(g=su(g,[1,0])).reshape(f),e.push(g),u=!0}else if(o>1){var y=Rh(1,o).concat([0]);e.push(su(h,y)),u=!0}else e.push(h)}var v=n.mergeFunction(e),b=v.rank;if(u)if(null==b){var _=v.shape;f=[d=_[_.length-1]].concat(_.slice(0,_.length-1)),v=su(v.reshape([-1,d]),[1,0]).reshape(f)}else b>1&&(y=[b-1].concat(Rh(0,b-1)),v=su(v,y));return v}return n.mergeFunction(t)})},e.prototype.computeOutputShape=function(t){var e;e=null==(t=t)[0]?null:t[0].slice(1);for(var n=1;n<t.length;++n){var r=null==t[n]?null:t[n].slice(1);e=this.computeElementwiseOpOutputShape(e,r)}for(var i=[],a=0,s=t;a<s.length;a++)null!=(r=s[a])&&null!==r[0]&&i.push(r[0]);return 1===(i=Xp(i)).length?i.concat(e):[null].concat(e)},e.prototype.computeMask=function(t,e){return Fe(function(){if(null==e)return null;if(!Array.isArray(e))throw new Lp("`mask` should be an Array");if(!Array.isArray(t))throw new Lp("`inputs` should be an Array");if(e.length!==t.length)throw new Lp("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+t.length+" vs "+e.length+")");if(e.every(function(t){return null==t}))return null;for(var n=(e=e.map(function(t){return null==t?t:Yr(t,0)}))[0],r=1;r<e.length-1;++r)n=Yl(n,e[r]);return n})},e}(Pm),mg=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.mergeFunction=function(t){return Fe(function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=Tl(e,t[n]);return e})},e.className="Add",e}(hg);op.registerClass(mg);var dg=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.mergeFunction=function(t){return Fe(function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=Ul(e,t[n]);return e})},e.className="Multiply",e}(hg);op.registerClass(dg);var fg=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.mergeFunction=function(t){return Fe(function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=Tl(e,t[n]);return Ul(1/t.length,e)})},e.className="Average",e}(hg);op.registerClass(fg);var gg=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.mergeFunction=function(t){return Fe(function(){for(var e=t[0],n=1;n<t.length;++n)e=Fl(e,t[n]);return e})},e.className="Maximum",e}(hg);op.registerClass(gg);var yg=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.mergeFunction=function(t){return Fe(function(){for(var e=t[0],n=1;n<t.length;++n)e=Pl(e,t[n]);return e})},e.className="Minimum",e}(hg);op.registerClass(yg);var vg=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_AXIS=-1,null==e&&(e={}),n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Tp(e,t),e.prototype.build=function(t){if(!Array.isArray(t)||!Array.isArray(t[0])||1===t.length)throw new Lp("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var e=!0,n=0,r=t=t;n<r.length;n++)if(null!=(c=r[n])){e=!1;break}if(!e){for(var i=[],a=0;a<t.length;++a){var s=t[a].slice();s.splice(this.axis,1);for(var o=!1,l=0,u=i;l<u.length;l++){var c=u[l];if(et.arraysEqual(c,s)){o=!0;break}}o||i.push(s)}if(i.length>1)throw new Lp("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}},e.prototype.mergeFunction=function(t){var e=this;return Fe(function(){return Ph(t,e.axis)})},e.prototype.computeOutputShape=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Lp("A `Concatenate` layer should be called on a list of inputs.");for(var e=t,n=e[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=e.slice(1);i<a.length;i++){var s=a[i];if(null==n[r]||null==s[r]){n[r]=null;break}n[r]+=s[r]}return n},e.prototype.computeMask=function(t,e){var n=this;if(null==e)return null;if(!Array.isArray(e))throw new Lp("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new Lp("`inputs` should be an array for Concatenate");if(e.length!==t.length)throw new Lp("Mismatch in the length of mask ("+e.length+") and the legnth of inputs ("+t.length+")");return Fe(function(){var r=!0;if(e.forEach(function(t){null==t||(r=!1)}),r)return null;for(var i=[],a=0;a<t.length;++a)i.push(null==e[a]?Xn(t[a]).asType("bool"):e[a].rank<t[a].rank?Yr(e[a],-1):e[a]);var s=Er(i,n.axis);return al(s,-1,!1)})},e.prototype.getConfig=function(){var e={axis:this.axis},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Concatenate",e}(hg);function bg(t,e){for(;t<0;)t+=e;return t}op.registerClass(vg);var _g=function(t){function e(e){var n=t.call(this,e)||this;return n.axes=e.axes,n.normalize=null!=e.normalize&&e.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Tp(e,t),e.prototype.build=function(t){et.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var e=t[0],n=t[1];if(e.length>3||n.length>3)throw new Pp("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(e,n);if(e[r[0]]!==n[r[1]])throw new Lp("Dimension incompatibility: "+e[r[0]]+" !== "+n[r[1]])},e.prototype.mergeFunction=function(t){if(2!==t.length)throw new Lp("A `Dot` layer must be called on exactly 2 inputs, but received "+t.length+" input(s).");var e,n=t[0],r=t[1];return e=Array.isArray(this.axes)?this.axes.map(function(e,n){return bg(e,t[n].shape.length)}):[bg(this.axes,n.shape.length),bg(this.axes,r.shape.length)],this.normalize&&(n=Qm(n,e[0]),r=Qm(r,e[1])),function(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Pp("batchDot is not implemented for tensors of 4D or higher rank yet");if(et.assert(t.shape.length>=2,function(){return"batchDot requires the rank of x to be >= 2, but got "+t.shape.length}),et.assert(t.shape.length>=2,function(){return"batchDot requires the rank of y to be >= 2, but got "+e.shape.length}),"number"==typeof n&&(n=[n,n]),"complex64"===t.dtype||"complex64"===e.dtype)throw new Pp("batchDot is not implemented for complex64-type Tensors yet.");var r=t.shape.length,i=e.shape.length;null==n&&(n=[r-1,i-2]);var a=n;return Fe(function(){var n,s;if(r>i){n=r-i;for(var o=[],l=0;l<n;++l)o.push(1);e=e.reshape(e.shape.concat(o))}else if(i>r){for(n=i-r,o=[],l=0;l<n;++l)o.push(1);t=t.reshape(t.shape.concat(o))}else n=0;if(s=2===t.shape.length&&2===e.shape.length?a[0]===a[1]?t.mulStrict(e).sum(a[0]):t.transpose([1,0]).mulStrict(e).sum(a[1]):t.matMul(e,a[0]!==t.shape.length-1,a[1]===e.shape.length-1),n>0){var u,c=[];for(l=u=r>i?r+i-3:r-1;l<u+n;++l)c.push(l);s=s.squeeze(c)}return 1===s.shape.length&&(s=s.expandDims(1)),s})}(n,r,e)},e.prototype.interpretAxes=function(t,e){return Array.isArray(this.axes)?this.axes:[bg(this.axes,t.length),bg(this.axes,e.length)]},e.prototype.computeOutputShape=function(t){et.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."});var e=t[0].slice(),n=t[1].slice();if(e.length>3||n.length>3)throw new Pp("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(e,n);e.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=e.concat(n);return 1===i.length&&i.push(1),i},e.prototype.computeMask=function(t,e){return null},e.prototype.getConfig=function(){var e={axes:this.axes,normalize:this.normalize},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dot",e}(hg);op.registerClass(_g);var wg=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.stddev=e.stddev,n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,e),n},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t);return Gh(function(){return Vh(r.shape,0,n.stddev).add(r)},function(){return r},e.training||!1)})},e.className="GaussianNoise",e}(Pm);op.registerClass(wg);var xg=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.rate=e.rate,n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,e),n},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e);var r=Cm(t);return n.rate>0&&n.rate<1?Gh(function(){var t=Math.sqrt(n.rate/(1-n.rate));return r.mul(Vh(r.shape,1,t))},function(){return r},e.training||!1):r})},e.className="GaussianDropout",e}(Pm);op.registerClass(xg);var Cg=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.rate=e.rate,n.noiseShape=e.noiseShape,n}return Tp(e,t),e.prototype._getNoiseShape=function(t){return this.noiseShape||Cm(t).shape},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,e),n},e.prototype.call=function(t,e){var n=this;return Fe(function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(t);return Gh(function(){var e=Cm(t),i=-1.7580993408473766,a=bl(si(r),n.rate);a=Dh(a,"float32");var s=Math.pow((1-n.rate)*(1+n.rate*Math.pow(i,2)),-.5),o=-s*i*n.rate;return e.mul(a).add(a.add(-1).mul(i)).mul(s).add(o)},function(){return Cm(t)},e.training||!1)}return t})},e.className="AlphaDropout",e}(Pm);function Sg(t,e,n,r,i,a){var s;if(void 0===a&&(a=.001),2===t.rank)s=Ao(t,e,n,r,i,a);else if(3===t.rank)s=To(t,e,n,r,i,a);else{if(4!==t.rank)throw new Pp("batchNormalization is not implemented for array of rank "+t.rank+" yet");s=Io(t,e,n,r,i,a)}return s}op.registerClass(Cg);var Eg=function(t){function e(e){var n=this;return null==e&&(e={}),(n=t.call(this,e)||this).supportsMasking=!0,n.axis=null==e.axis?-1:e.axis,n.momentum=null==e.momentum?.99:e.momentum,n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=fm(e.betaInitializer||"zeros"),n.gammaInitializer=fm(e.gammaInitializer||"ones"),n.movingMeanInitializer=fm(e.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=fm(e.movingVarianceInitializer||"ones"),n.betaConstraint=ch(e.betaConstraint),n.gammaConstraint=ch(e.gammaConstraint),n.betaRegularizer=Lf(e.betaRegularizer),n.gammaRegularizer=Lf(e.gammaRegularizer),n}return Tp(e,t),e.prototype.build=function(t){var e;t=Sm(t);var n=this.axis>=0?this.axis:this.axis+t.length,r=t[n];if(null==r)throw new Lp("Axis "+n+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(t)+".");this.inputSpec=[new Dm({ndim:t.length,axes:(e={},e[n]=r,e)})];var i=[r];this.scale&&(this.gamma=this.addWeight("gamma",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){var r=null!=e.training&&e.training,i=Cm(t),a=i.shape,s=a.length,o=Rh(0,s),l=n.axis>=0?n.axis:n.axis+s;o.splice(l,1);var u=Bp(1,s);u[l]=a[l];var c=o.slice();c.sort();var p=!et.arraysEqual(c,Rh(0,s).slice(0,s-1));if(!r)return function(){if(p){var t=n.movingMean.read().reshape(u),e=n.movingVariance.read().reshape(u),r=n.center?n.beta.read().reshape(u):null,a=n.scale?n.gamma.read().reshape(u):null;return Sg(i,t,e,r,a,n.epsilon)}return Sg(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=function(t,e,n,r,i){return void 0===i&&(i=.001),et.arraysEqual(r.slice().sort(),Rh(0,t.rank-1))?function(t,e,n,r,i){return void 0===i&&(i=.001),Fe(function(){var a=ml(t,r),s=a.mean,o=a.variance;return[Sg(t,s,o,n,e,i),s,o]})}(t,e,n,r,i):function(t,e,n,r,i){return void 0===i&&(i=.001),Fe(function(){for(var a=ml(t,r),s=a.mean,o=a.variance,l=[],u=0,c=Rh(0,t.rank);u<c.length;u++){var p=c[u];-1!==r.indexOf(p)?l.push(1):l.push(t.shape[p])}var h=s.reshape(l),m=o.reshape(l),d=null==e?null:e.reshape(l),f=null==n?null:n.reshape(l);return[Sg(t,h,m,f,d,i),s,o]})}(t,e,n,r,i)}(i,n.gamma.read(),n.beta.read(),o,n.epsilon),m=h[0],d=h[2],f=function(t,e,n){Fe(function(){var r=1-n,i=t.read(),a=i.sub(e).mul(r);t.write(i.sub(a))})};return f(n.movingMean,h[1],n.momentum),f(n.movingVariance,d,n.momentum),m})},e.prototype.getConfig=function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:dm(this.betaInitializer),gammaInitializer:dm(this.gammaInitializer),movingMeanInitializer:dm(this.movingMeanInitializer),movingVarianceInitializer:dm(this.movingVarianceInitializer),betaRegularizer:Mf(this.betaRegularizer),gammaRegularizer:Mf(this.gammaRegularizer),betaConstraint:lh(this.betaConstraint),gammaConstraint:lh(this.gammaConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="BatchNormalization",e}(Pm);op.registerClass(Eg);var kg=function(t){function e(e){var n=this;if(null==e&&(e={}),(n=t.call(this,e)||this).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)n.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Lp("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+e.padding.length+" array.");var r=void 0,i=void 0;if("number"==typeof e.padding[0])r=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Lp("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+e.padding[0].length+" array.");if(r=e.padding[0],2!==e.padding[1].length)throw new Lp("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+e.padding[1].length+" array.");i=e.padding[1]}n.padding=[r,i]}return n.inputSpec=[new Dm({ndim:4})],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return t=Sm(t),"channelsFirst"===this.dataFormat?[t[0],t[1],null!=t[2]&&t[2]>=0?t[2]+this.padding[0][0]+this.padding[0][1]:null,null!=t[3]&&t[3]>=0?t[3]+this.padding[1][0]+this.padding[1][1]:null]:[t[0],null!=t[1]&&t[1]>=0?t[1]+this.padding[0][0]+this.padding[0][1]:null,null!=t[2]&&t[2]>=0?t[2]+this.padding[1][0]+this.padding[1][1]:null,t[3]]},e.prototype.call=function(t,e){var n=this;return Fe(function(){return function(t,e,n){return Fe(function(){if(4!==t.rank)throw new Lp("temporalPadding expects input tensor to be 4-D, but received a "+t.rank+"-D tensor.");if(null==e&&(e=[[1,1],[1,1]]),2!==e.length||2!==e[0].length||2!==e[1].length)throw new Lp("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Lp("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");return Jr(t,"channelsFirst"===n?[[0,0],[0,0],e[0],e[1]]:[[0,0],e[0],e[1],[0,0]])})}(Cm(t),n.padding,n.dataFormat)})},e.prototype.getConfig=function(){var e={padding:this.padding,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ZeroPadding2D",e}(Pm);function Ag(t,e,n,r,i,a){return Fe(function(){var s;yh(i),Zp(dh,"PoolMode",a),vh(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==a&&(a="max"),t=$f(t,i);var o="same"===r?"same":"valid";return s="max"===a?Xo(t,e,n,o):Qo(t,e,n,o),"channelsFirst"===i&&(s=su(s,[0,3,1,2])),s})}op.registerClass(kg);var Tg=function(t){function e(e){var n=this;if(null==e.poolSize&&(e.poolSize=2),n=t.call(this,e)||this,"number"==typeof e.poolSize)n.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new Lp("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.poolSize));n.poolSize=e.poolSize}if(th(n.poolSize,"poolSize"),null==e.strides)n.strides=n.poolSize;else if("number"==typeof e.strides)n.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new Lp("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.strides));n.strides=e.strides}return th(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,vh(n.padding),n.inputSpec=[new Dm({ndim:3})],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){var e=Hf((t=Sm(t))[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]},e.prototype.call=function(t,e){var n=this;return Fe(function(){n.invokeCallHook(t,e),t=Oh(Cm(t),2);var r=n.poolingFunction(Cm(t),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return ui(r,[2])})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Pm),Ig=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return yh(i),vh(r),Ag(t,e,n,r,i,"max")},e.className="MaxPooling1D",e}(Tg);op.registerClass(Ig);var Ng=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return yh(i),vh(r),Ag(t,e,n,r,i,"avg")},e.className="AveragePooling1D",e}(Tg);op.registerClass(Ng);var Rg=function(t){function e(e){var n=this;if(null==e.poolSize&&(e.poolSize=[2,2]),(n=t.call(this,e)||this).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Lp("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+e.strides.length+".");n.strides=e.strides}else n.strides=[e.strides,e.strides];return th(n.poolSize,"poolSize"),th(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,yh(n.dataFormat),vh(n.padding),n.inputSpec=[new Dm({ndim:4})],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){t=Sm(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2];return e=Hf(e,this.poolSize[0],this.padding,this.strides[0]),n=Hf(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,n]:[t[0],e,n,t[3]]},e.prototype.call=function(t,e){var n=this;return Fe(function(){return n.invokeCallHook(t,e),n.poolingFunction(Cm(t),n.poolSize,n.strides,n.padding,n.dataFormat)})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Pm),Dg=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return yh(i),vh(r),Ag(t,e,n,r,i,"max")},e.className="MaxPooling2D",e}(Rg);op.registerClass(Dg);var Og=function(t){function e(e){return t.call(this,e)||this}return Tp(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return yh(i),vh(r),Ag(t,e,n,r,i,"avg")},e.className="AveragePooling2D",e}(Rg);op.registerClass(Og);var Mg=function(t){function e(e){var n=t.call(this,e)||this;return n.inputSpec=[new Dm({ndim:3})],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return[t[0],t[2]]},e.prototype.call=function(t,e){throw new Pp},e}(Pm),Fg=function(t){function e(e){return t.call(this,e||{})||this}return Tp(e,t),e.prototype.call=function(t,e){return Fe(function(){var e=Cm(t);return pl(e,1)})},e.className="GlobalAveragePooling1D",e}(Mg);op.registerClass(Fg);var Lg=function(t){function e(e){return t.call(this,e||{})||this}return Tp(e,t),e.prototype.call=function(t,e){return Fe(function(){var e=Cm(t);return cl(e,1)})},e.className="GlobalMaxPooling1D",e}(Mg);op.registerClass(Lg);var Pg=function(t){function e(e){var n=t.call(this,e)||this;return n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,yh(n.dataFormat),n.inputSpec=[new Dm({ndim:4})],n}return Tp(e,t),e.prototype.computeOutputShape=function(t){return t=t,"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]},e.prototype.call=function(t,e){throw new Pp},e.prototype.getConfig=function(){var e={dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Pm),zg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.call=function(t,e){var n=this;return Fe(function(){var e=Cm(t);return pl(e,"channelsLast"===n.dataFormat?[1,2]:[2,3])})},e.className="GlobalAveragePooling2D",e}(Pg);op.registerClass(zg);var Bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.call=function(t,e){var n=this;return Fe(function(){var e=Cm(t);return cl(e,"channelsLast"===n.dataFormat?[1,2]:[2,3])})},e.className="GlobalMaxPooling2D",e}(Pg);function Vg(t,e,n,r){if(Array.isArray(t)){if(null!=e||null!=n)throw new Lp("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function i(t){return null==t||Array.isArray(t)?t:[t]}return{inputs:t,initialState:e=i(e),constants:n=i(n)}}function Ug(t,e,n,r,i,a,s,o){return void 0===r&&(r=!1),void 0===s&&(s=!1),void 0===o&&(o=!1),Fe(function(){var l=e.shape.length;if(l<3)throw new Lp("Input should be at least 3D, but is "+l+"D.");var u=[1,0].concat(Rh(2,l));if(e=su(e,u),null!=a)throw new Pp("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&((i=i.asType("bool").asType("float32")).rank===l-1&&(i=Yr(i,-1)),i=su(i,u)),r&&(e=Wo(e,0),null!=i&&(i=Wo(i,0)));var c,p,h=[],m=n,d=e.shape[0],f=mi(e);null!=i&&(p=mi(i));for(var g,y=function(e){var n=f[e],r=Fe(function(){return t(n,m)});if(null==i)c=r[0],m=r[1];else{var a=Fe(function(){var t=p[e],n=Xn(t).sub(t);return{output:r[0].mul(t).addStrict(m[0].mul(n)),newStates:m.map(function(e,i){return r[1][i].mul(t).addStrict(e.mul(n))})}});c=a.output,m=a.newStates}o&&h.push(c)},v=0;v<d;++v)y(v);return o&&(g=ci(h,1)),[c,g,m]})}op.registerClass(Bg);var jg=function(t){function e(e){var n,r=t.call(this,e)||this;if(null==e.cell)throw new Lp("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(e.cell)?new Xg({cells:e.cell}):e.cell).stateSize)throw new Lp("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Dm({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return Tp(e,t),e.prototype.getStates=function(){return null==this.states_?Rh(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(t){return null}):this.states_},e.prototype.setStates=function(t){this.states_=t},e.prototype.computeOutputShape=function(t){wm(t)&&(t=t[0]),t=t;var e=this.cell.stateSize;Array.isArray(e)||(e=[e]);var n,r=e[0];if(n=this.returnSequences?[t[0],t[1],r]:[t[0],r],this.returnState){for(var i=[],a=0,s=e;a<s.length;a++)i.push([t[0],s[a]]);return[n].concat(i)}return n},e.prototype.computeMask=function(t,e){var n=this;return Fe(function(){Array.isArray(e)&&(e=e[0]);var t=n.returnSequences?e:null;if(n.returnState){var r=n.states.map(function(t){return null});return[t].concat(r)}return t})},Object.defineProperty(e.prototype,"states",{get:function(){if(null==this.states_){for(var t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,e=[],n=0;n<t;++n)e.push(null);return e}return this.states_},set:function(t){this.states_=t},enumerable:!0,configurable:!0}),e.prototype.build=function(t){if(null!=this.numConstants)throw new Pp("Constants support is not implemented in RNN yet.");wm(t)&&(t=t[0]),t=t,this.inputSpec[0]=new Dm({shape:[this.stateful?t[0]:null,null,t[t.length-1]]});var e,n=[t[0]].concat(t.slice(2));if(this.cell.build(n),e=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!et.arraysEqual(this.stateSpec.map(function(t){return t.shape[t.shape.length-1]}),e))throw new Lp("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=e.map(function(t){return new Dm({shape:[null,t]})});this.stateful&&this.resetStates()},e.prototype.resetStates=function(t,e){var n=this;void 0===e&&(e=!1),Fe(function(){if(!n.stateful)throw new Mp("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=n.inputSpec[0].shape[0];if(null==r)throw new Lp("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states_)n.states_=Array.isArray(n.cell.stateSize)?n.cell.stateSize.map(function(t){return $n([r,t])}):[$n([r,n.cell.stateSize])];else if(null==t)Le(n.states_),null!=n.keptStates&&(Le(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map(function(t){return $n([r,t])}):n.states_[0]=$n([r,n.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==n.states_.length)throw new Lp("Layer "+n.name+" expects "+n.states_.length+" state(s), but it received "+t.length+" state value(s). Input received: "+t);!0===e?n.keptStates.push(n.states_.slice()):Le(n.states_);for(var i=0;i<n.states_.length;++i){var a=t[i],s=Array.isArray(n.cell.stateSize)?n.cell.stateSize[i]:n.cell.stateSize,o=[r,s];if(!et.arraysEqual(a.shape,o))throw new Lp("State "+i+" is incompatible with layer "+n.name+": expected shape="+o+", received shape="+a.shape);n.states_[i]=a}}n.states_=n.states_.map(function(t){return Pe(t.clone())})})},e.prototype.apply=function(e,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=Vg(e,r,i,this.numConstants);e=a.inputs,i=a.constants;var s=[],o=[];if(null!=(r=a.initialState)){n.initialState=r,s=s.concat(r),this.stateSpec=[];for(var l=0,u=r;l<u.length;l++)this.stateSpec.push(new Dm({shape:u[l].shape}));o=o.concat(this.stateSpec)}if(null!=i&&(n.constants=i,s=s.concat(i),this.numConstants=i.length),s[0]instanceof Om){var c=[e].concat(s),p=this.inputSpec.concat(o),h=this.inputSpec;this.inputSpec=p;var m=t.prototype.apply.call(this,c,n);return this.inputSpec=h,m}return t.prototype.apply.call(this,e,n)},e.prototype.call=function(t,e){var n=this;return Fe(function(){var r=null==e?null:e.mask,i=null==e?null:e.training,a=null==e?null:e.initialState;t=Cm(t),null==a&&(a=n.stateful?n.states_:n.getInitialState(t));var s=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==s)throw new Lp("RNN Layer has "+s+" state(s) but was passed "+a.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var o={training:i},l=Ug(function(t,e){var r=n.cell.call([t].concat(e),o);return[r[0],r.slice(1)]},t,a,n.goBackwards,r,null,n.unroll,n.returnSequences),u=l[0],c=l[1],p=l[2];n.stateful&&n.resetStates(p,i);var h=n.returnSequences?c:u;return n.returnState?[h].concat(p):h})},e.prototype.getInitialState=function(t){var e=this;return Fe(function(){var n=$n(t.shape);return n=Oh(n=dl(n,[1,2])),Array.isArray(e.cell.stateSize)?e.cell.stateSize.map(function(t){return t>1?Bh(n,[1,t]):n}):e.cell.stateSize>1?[Bh(n,[1,e.cell.stateSize])]:[n]})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),e.prototype.setFastWeightInitDuringBuild=function(e){t.prototype.setFastWeightInitDuringBuild.call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)},e.prototype.getConfig=function(){var e={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(e.numConstants=this.numConstants);var n=this.cell.getConfig();e.cell={className:this.cell.getClassName(),config:n};var r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.fromConfig=function(t,e,n){void 0===n&&(n={});var r=Rd(e.cell,n);return new t(Object.assign(e,{cell:r}))},e.className="RNN",e}(Pm);op.registerClass(jg);var Wg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e}(Pm),Hg=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,th(n.units,"units"),n.activation=Nf(null==e.activation?n.DEFAULT_ACTIVATION:e.activation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=fm(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=fm(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=fm(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=Lf(e.kernelRegularizer),n.recurrentRegularizer=Lf(e.recurrentRegularizer),n.biasRegularizer=Lf(e.biasRegularizer),n.kernelConstraint=ch(e.kernelConstraint),n.recurrentConstraint=ch(e.recurrentConstraint),n.biasConstraint=ch(e.biasConstraint),n.dropout=Ih([1,Nh([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Ih([1,Nh([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Tp(e,t),e.prototype.build=function(t){t=Sm(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){if(2!==(t=t).length)throw new Lp("SimpleRNNCell expects 2 input Tensors, got "+t.length+".");var r=t[1];t=t[0];var i,a=null!=e.training&&e.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Qg(function(){return Xn(t)},n.dropout,a)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Qg(function(){return Xn(r)},n.recurrentDropout,a));var s=n.dropoutMask,o=n.recurrentDropoutMask;i=Uh(null!=s?Ul(t,s):t,n.kernel.read()),null!=n.bias&&(i=qh(i,n.bias.read())),null!=o&&(r=Ul(r,o));var l=Tl(i,Uh(r,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]})},e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),recurrentInitializer:dm(this.recurrentInitializer),biasInitializer:dm(this.biasInitializer),kernelRegularizer:Mf(this.kernelRegularizer),recurrentRegularizer:Mf(this.recurrentRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),recurrentConstraint:lh(this.recurrentConstraint),biasConstraint:lh(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="SimpleRNNCell",e}(Wg);op.registerClass(Hg);var qg=function(t){function e(e){return e.cell=new Hg(e),t.call(this,e)||this}return Tp(e,t),e.prototype.call=function(e,n){var r=this;return Fe(function(){return null!=r.cell.dropoutMask&&(Le(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Le(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t.prototype.call.call(r,e,{mask:null==n?null:n.mask,training:null==n?null:n.training,initialState:null==n?null:n.initialState})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),recurrentInitializer:dm(this.recurrentInitializer),biasInitializer:dm(this.biasInitializer),kernelRegularizer:Mf(this.kernelRegularizer),recurrentRegularizer:Mf(this.recurrentRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),recurrentConstraint:lh(this.recurrentConstraint),biasConstraint:lh(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return new t(e)},e.className="SimpleRNN",e}(jg);op.registerClass(qg);var $g=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,th(n.units,"units"),n.activation=Nf(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=Nf(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=fm(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=fm(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=fm(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=Lf(e.kernelRegularizer),n.recurrentRegularizer=Lf(e.recurrentRegularizer),n.biasRegularizer=Lf(e.biasRegularizer),n.kernelConstraint=ch(e.kernelConstraint),n.recurrentConstraint=ch(e.recurrentConstraint),n.biasConstraint=ch(e.biasConstraint),n.dropout=Ih([1,Nh([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Ih([1,Nh([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.implementation=e.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Tp(e,t),e.prototype.build=function(t){var e=(t=Sm(t))[t.length-1];this.kernel=this.addWeight("kernel",[e,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){if(2!==(t=t).length)throw new Lp("GRUCell expects 2 input Tensors (inputs, h, c), got "+t.length+".");var r=null!=e.training&&e.training,i=t[1];t=t[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Qg(function(){return Xn(t)},n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Qg(function(){return Xn(i)},n.recurrentDropout,r,3));var a,s,o,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(t=Ul(t,n.dropoutMask[0]));var u=Uh(t,n.kernel.read());n.useBias&&(u=qh(u,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Ul(i,l[0]));var c=n.recurrentKernel.read(),p=Nr(c,[2*n.units,n.units],c.rank-1),h=p[1],m=Uh(i,p[0]),d=Nr(u,3,u.rank-1),f=d[0],g=d[1],y=d[2],v=Nr(m,2,m.rank-1),b=v[1];a=n.recurrentActivation.apply(Tl(f,v[0])),s=n.recurrentActivation.apply(Tl(g,b));var _=Uh(Ul(s,i),h);o=n.activation.apply(Tl(y,_));var w=Tl(Ul(a,i),Ul(Tl(1,Zs(a)),o));return[w,w]})},e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),recurrentActivation:Tf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),recurrentInitializer:dm(this.recurrentInitializer),biasInitializer:dm(this.biasInitializer),kernelRegularizer:Mf(this.kernelRegularizer),recurrentRegularizer:Mf(this.recurrentRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),recurrentConstraint:lh(this.recurrentConstraint),biasConstraint:lh(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="GRUCell",e}(Wg);op.registerClass($g);var Gg=function(t){function e(e){return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new $g(e),t.call(this,e)||this}return Tp(e,t),e.prototype.call=function(e,n){var r=this;return Fe(function(){return null!=r.cell.dropoutMask&&(Le(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Le(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t.prototype.call.call(r,e,{mask:null==n?null:n.mask,training:null==n?null:n.training,initialState:null==n?null:n.initialState})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),recurrentActivation:Tf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),recurrentInitializer:dm(this.recurrentInitializer),biasInitializer:dm(this.biasInitializer),kernelRegularizer:Mf(this.kernelRegularizer),recurrentRegularizer:Mf(this.recurrentRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),recurrentConstraint:lh(this.recurrentConstraint),biasConstraint:lh(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="GRU",e}(jg);op.registerClass(Gg);var Kg=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,th(n.units,"units"),n.activation=Nf(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=Nf(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=fm(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=fm(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=fm(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=e.unitForgetBias,n.kernelRegularizer=Lf(e.kernelRegularizer),n.recurrentRegularizer=Lf(e.recurrentRegularizer),n.biasRegularizer=Lf(e.biasRegularizer),n.kernelConstraint=ch(e.kernelConstraint),n.recurrentConstraint=ch(e.recurrentConstraint),n.biasConstraint=ch(e.biasConstraint),n.dropout=Ih([1,Nh([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Ih([1,Nh([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.implementation=e.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Tp(e,t),e.prototype.build=function(t){var e,n,r=(t=Sm(t))[t.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,a=this.units;n=new((e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tp(e,t),e.prototype.apply=function(t,e){var n=i.apply([a]),r=(new Zh).apply([a]),s=i.apply([2*a]);return zh(zh(n,r),s)},e}(Xh)).className="CustomInit",e)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},e.prototype.call=function(t,e){var n=this;return Fe(function(){var r=null!=e.training&&e.training;if(3!==(t=t).length)throw new Lp("LSTMCell expects 3 input Tensors (inputs, h, c), got "+t.length+".");var i=t[1],a=t[2];t=t[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Qg(function(){return Xn(t)},n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Qg(function(){return Xn(i)},n.recurrentDropout,r,4));var s,o,l,u,c=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(t=Ul(t,n.dropoutMask[0]));var p=Uh(t,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Ul(i,c[0])),p=Tl(p,Uh(i,n.recurrentKernel.read())),n.useBias&&(p=qh(p,n.bias.read()));var h=Nr(p,4,p.rank-1),m=h[1],d=h[2],f=h[3];s=n.recurrentActivation.apply(h[0]),o=n.recurrentActivation.apply(m),l=Tl(Ul(o,a),Ul(s,n.activation.apply(d))),u=n.recurrentActivation.apply(f);var g=Ul(u,n.activation.apply(l));return[g,g,l]})},e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),recurrentActivation:Tf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),recurrentInitializer:dm(this.recurrentInitializer),biasInitializer:dm(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Mf(this.kernelRegularizer),recurrentRegularizer:Mf(this.recurrentRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),recurrentConstraint:lh(this.recurrentConstraint),biasConstraint:lh(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="LSTMCell",e}(Wg);op.registerClass(Kg);var Yg=function(t){function e(e){return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Kg(e),t.call(this,e)||this}return Tp(e,t),e.prototype.call=function(e,n){var r=this;return Fe(function(){return null!=r.cell.dropoutMask&&(Le(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Le(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t.prototype.call.call(r,e,{mask:null==n?null:n.mask,training:null==n?null:n.training,initialState:null==n?null:n.initialState})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:Tf(this.activation),recurrentActivation:Tf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:dm(this.kernelInitializer),recurrentInitializer:dm(this.recurrentInitializer),biasInitializer:dm(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Mf(this.kernelRegularizer),recurrentRegularizer:Mf(this.recurrentRegularizer),biasRegularizer:Mf(this.biasRegularizer),activityRegularizer:Mf(this.activityRegularizer),kernelConstraint:lh(this.kernelConstraint),recurrentConstraint:lh(this.recurrentConstraint),biasConstraint:lh(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="LSTM",e}(jg);op.registerClass(Yg);var Xg=function(t){function e(e){var n=t.call(this,e)||this;return n.cells=e.cells,n}return Tp(e,t),Object.defineProperty(e.prototype,"stateSize",{get:function(){for(var t=[],e=0,n=this.cells.slice().reverse();e<n.length;e++){var r=n[e];Array.isArray(r.stateSize)?t.push.apply(t,r.stateSize):t.push(r.stateSize)}return t},enumerable:!0,configurable:!0}),e.prototype.call=function(t,e){var n=this;return Fe(function(){for(var r=(t=t).slice(1),i=[],a=0,s=n.cells.slice().reverse();a<s.length;a++){var o=s[a];Array.isArray(o.stateSize)?i.push(r.splice(0,o.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var l,u=[],c=0;c<n.cells.length;++c)o=n.cells[c],r=i[c],l=0===c?[t[0]].concat(r):[l[0]].concat(r),l=o.call(l,e),u.push(l.slice(1));r=[];for(var p=0,h=u.slice().reverse();p<h.length;p++)r.push.apply(r,h[p]);return[l[0]].concat(r)})},e.prototype.build=function(t){var e;wm(t)&&(t=t[0]),t=t;for(var n=0,r=this.cells;n<r.length;n++){var i=r[n];i.build(t),e=Array.isArray(i.stateSize)?i.stateSize[0]:i.stateSize,t=[t[0],e]}this.built=!0},e.prototype.getConfig=function(){for(var e=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];e.push({className:i.getClassName(),config:i.getConfig()})}var a={cells:e},s=t.prototype.getConfig.call(this);return Object.assign(a,s),a},e.fromConfig=function(t,e,n){void 0===n&&(n={});for(var r=[],i=0,a=e.cells;i<a.length;i++)r.push(Rd(a[i],n));return new t({cells:r})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var t=[],e=0,n=this.cells;e<n.length;e++)t.push.apply(t,n[e].trainableWeights);return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,n=this.cells;e<n.length;e++){var r=n[e];t.push.apply(t,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,s=this.cells;a<s.length;a++)i.push.apply(i,(r=s[a]).trainableWeights);return i.concat(t)}return t},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){for(var t=[],e=0,n=this.cells;e<n.length;e++)t.push.apply(t,n[e].weights);return Tm(t)},e.prototype.setWeights=function(t){for(var e=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=t.splice(i.weights.length),s=0;s<i.weights.length;++s)e.push([i.weights[s],a[s]]);Im(e)},e.className="StackedRNNCells",e}(Wg);function Qg(t,e,n,r){function i(){return $h(t(),e)}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var a=[],s=0;s<r;s++)a.push(Gh(i,t,n));return a.map(function(t){return Pe(t.clone())})}return Pe(Gh(i,t,n).clone())}op.registerClass(Xg);var Zg=function(t){function e(e){var n=t.call(this,e)||this;return n.layer=e.layer,n}return Tp(e,t),e.prototype.build=function(t){this.built=!0},Object.defineProperty(e.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(t){null!=this.layer&&(this.layer.trainable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.layer.getWeights()},e.prototype.setWeights=function(t){this.layer.setWeights(t)},e.prototype.getConfig=function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.prototype.setFastWeightInitDuringBuild=function(e){t.prototype.setFastWeightInitDuringBuild.call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)},e.fromConfig=function(t,e,n){void 0===n&&(n={});var r=Rd(e.layer,n);delete e.layer;var i={layer:r};return Object.assign(i,e),new t(i)},e}(Pm),Jg=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n}return Tp(e,t),e.prototype.build=function(e){if((e=Sm(e)).length<3)throw new Lp("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(e));this.inputSpec=[{shape:e}];var n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),t.prototype.build.call(this,e)},e.prototype.computeOutputShape=function(t){var e=[(t=Sm(t))[0]].concat(t.slice(2)),n=this.layer.computeOutputShape(e);return[n[0],t[1]].concat(n.slice(1))},e.prototype.call=function(t,e){var n=this;return Fe(function(){return Ug(function(t,r){return[Cm(n.layer.call(t,e)),[]]},t=Cm(t),[],!1,null,null,!1,!0)[1]})},e.className="TimeDistributed",e}(Zg);op.registerClass(Jg);var ty="concat",ey=function(t){function e(e){var n=t.call(this,e)||this,r=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=r,n.forwardLayer=Rd(i),r.goBackwards=!0!==r.goBackwards;var a={};if(a.className=e.layer.getClassName(),a.config=r,n.backwardLayer=Rd(a),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===e.mergeMode?ty:e.mergeMode,Zp(fh,"BidirectionalMergeMode",n.mergeMode),e.weights)throw new Pp("weights support is not implemented for Bidirectional layer yet.");return n._stateful=e.layer.stateful,n.returnSequences=e.layer.returnSequences,n.returnState=e.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=e.layer.inputSpec,n.numConstants=null,n}return Tp(e,t),Object.defineProperty(e.prototype,"trainable",{get:function(){return this._trainable},set:function(t){this._trainable=t,null!=this.forwardLayer&&(this.forwardLayer.trainable=t),null!=this.backwardLayer&&(this.backwardLayer.trainable=t)},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},e.prototype.setWeights=function(t){var e=Math.floor(t.length/2);this.forwardLayer.setWeights(t.slice(0,e)),this.backwardLayer.setWeights(t.slice(e))},e.prototype.computeOutputShape=function(t){var e,n,r,i=this.forwardLayer.computeOutputShape(t);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),e=i[0]):e=i[0],e=e,"concat"===this.mergeMode?(e[e.length-1]*=2,n=[e]):n=null==this.mergeMode?[e,e.slice()]:[e],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[e].concat(r).concat(r.slice()):jp(n)},e.prototype.apply=function(e,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=Vg(e,r,i,this.numConstants);if(e=a.inputs,r=a.initialState,i=a.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==i)return t.prototype.apply.call(this,e,n);var s=[],o=[];if(null!=r){var l=r.length;if(l%2>0)throw new Lp("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,s.push.apply(s,r);var u=r.map(function(t){return new Dm({shape:t.shape})});this.forwardLayer.stateSpec=u.slice(0,l/2),this.backwardLayer.stateSpec=u.slice(l/2),o.push.apply(o,u)}if(null!=i)throw new Pp("Support for constants in Bidirectional layers is not implemented yet.");for(var c=s[0]instanceof Om,p=0,h=s;p<h.length;p++)if(h[p]instanceof Om!==c)throw new Lp("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){var m=[e].concat(s),d=this.inputSpec.concat(o),f=this.inputSpec;this.inputSpec=d;var g=t.prototype.apply.call(this,m,n);return this.inputSpec=f,g}return t.prototype.apply.call(this,e,n)},e.prototype.call=function(t,e){var n=this;return Fe(function(){if(null!=e.mask)throw new Pp("The support for masking is not implemented for Bidirectional layers yet.");var r,i,a,s,o=e.initialState;if(null==o)r=n.forwardLayer.call(t,e),i=n.backwardLayer.call(t,e);else{var l=o.slice(0,o.length/2),u=o.slice(o.length/2);r=n.forwardLayer.call(t,Object.assign(e,{initialState:l})),i=n.backwardLayer.call(t,Object.assign(e,{initialState:u}))}return n.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=Wo(i,1)),"concat"===n.mergeMode?s=Ph([r,i]):"sum"===n.mergeMode?s=Tl(r,i):"ave"===n.mergeMode?s=Ul(.5,Tl(r,i)):"mul"===n.mergeMode?s=Ul(r,i):null==n.mergeMode&&(s=[r,i]),n.returnState?null==n.mergeMode?s.concat(a):[s].concat(a):s})},e.prototype.resetStates=function(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},e.prototype.build=function(t){var e=this;wh(this.forwardLayer.name,function(){e.forwardLayer.build(t)}),wh(this.backwardLayer.name,function(){e.backwardLayer.build(t)}),this.built=!0},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.setFastWeightInitDuringBuild=function(e){t.prototype.setFastWeightInitDuringBuild.call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)},e.prototype.getConfig=function(){var e={mergeMode:this.mergeMode},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.fromConfig=function(t,e){var n=Rd(e.layer);if(delete e.layer,null!=e.numConstants)throw new Pp("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=e;return r.layer=n,new t(r)},e.className="Bidirectional",e}(Zg);function ny(t){return new Ng(t)}function ry(t){return new Og(t)}function iy(t){return new Lg(t)}function ay(t){return new Bg(t)}function sy(t){return new Ig(t)}function oy(t){return new Dg(t)}op.registerClass(ey);var ly=Object.freeze({inputLayer:function(t){return new zm(t)},elu:function(t){return new Vf(t)},reLU:function(t){return new Pf(t)},leakyReLU:function(t){return new zf(t)},prelu:function(t){return new Bf(t)},softmax:function(t){return new jf(t)},thresholdedReLU:function(t){return new Uf(t)},conv1d:function(t){return new Jf(t)},conv2d:function(t){return new Yf(t)},conv2dTranspose:function(t){return new Qf(t)},conv3d:function(t){return new Xf(t)},separableConv2d:function(t){return new Zf(t)},cropping2D:function(t){return new tg(t)},upSampling2d:function(t){return new eg(t)},depthwiseConv2d:function(t){return new ng(t)},activation:function(t){return new sg(t)},dense:function(t){return new ig(t)},dropout:function(t){return new rg(t)},flatten:function(t){return new ag(t)},repeatVector:function(t){return new og(t)},reshape:function(t){return new lg(t)},permute:function(t){return new ug(t)},embedding:function(t){return new pg(t)},add:function(t){return new mg(t)},average:function(t){return new fg(t)},concatenate:function(t){return new vg(t)},maximum:function(t){return new gg(t)},minimum:function(t){return new yg(t)},multiply:function(t){return new dg(t)},dot:function(t){return new _g(t)},batchNormalization:function(t){return new Eg(t)},zeroPadding2d:function(t){return new kg(t)},averagePooling1d:ny,avgPool1d:function(t){return ny(t)},avgPooling1d:function(t){return ny(t)},averagePooling2d:ry,avgPool2d:function(t){return ry(t)},avgPooling2d:function(t){return ry(t)},globalAveragePooling1d:function(t){return new Fg(t)},globalAveragePooling2d:function(t){return new zg(t)},globalMaxPooling1d:iy,globalMaxPooling2d:ay,maxPooling1d:sy,maxPooling2d:oy,gru:function(t){return new Gg(t)},gruCell:function(t){return new $g(t)},lstm:function(t){return new Yg(t)},lstmCell:function(t){return new Kg(t)},simpleRNN:function(t){return new qg(t)},simpleRNNCell:function(t){return new Hg(t)},rnn:function(t){return new jg(t)},stackedRNNCells:function(t){return new Xg(t)},bidirectional:function(t){return new ey(t)},timeDistributed:function(t){return new Jg(t)},globalMaxPool1d:iy,globalMaxPool2d:ay,maxPool1d:sy,maxPool2d:oy,Layer:Pm,RNN:jg,RNNCell:Wg,input:mf,gaussianNoise:function(t){return new wg(t)},gaussianDropout:function(t){return new xg(t)},alphaDropout:function(t){return new Cg(t)},masking:function(t){return new cg(t)}}),uy=Object.freeze({binaryAccuracy:function(t,e){return md(t,e)},binaryCrossentropy:function(t,e){return yd(t,e)},sparseCategoricalAccuracy:function(t,e){return vd(t,e)},categoricalAccuracy:function(t,e){return dd(t,e)},categoricalCrossentropy:function(t,e){return Ed(t,e)},precision:function(t,e){return gd(t,e)},recall:function(t,e){return function(t,e){return Fe(function(){var n=fd(t,e),r=function(t,e){return Fe(function(){return Yl(t.equal(1),e.equal(0)).sum().cast("float32")})}(t,e),i=n.add(r);return Jl(vl(i,0),n.div(i),0).cast("float32")})}(t,e)},cosineProximity:function(t,e){return pd(t,e)},meanAbsoluteError:function(t,e){return Jm(t,e)},meanAbsolutePercentageError:function(t,e){return td(t,e)},MAPE:function(t,e){return td(t,e)},mape:function(t,e){return td(t,e)},meanSquaredError:function(t,e){return Zm(t,e)},MSE:function(t,e){return Zm(t,e)},mse:function(t,e){return Zm(t,e)}}),cy=Object.freeze({modelFromJSON:function(t,e){return Rp(this,void 0,void 0,function(){var n,r,i,a,s,o,l,u;return Dp(this,function(c){switch(c.label){case 0:return"modelTopology"in t||(t={modelTopology:t}),null!=(n=(t=t).modelTopology).model_config&&(n=n.model_config),r=Od(n),i=Rd(r,e),null==t.weightsManifest?[3,2]:[4,Jc.loadWeights(t.weightsManifest,t.pathPrefix,i.weights.map(function(t){return t.originalName}))];case 1:for(a=c.sent(),s={},o=0,l=i.weights;o<l.length;o++)s[(u=l[o]).originalName]=a[u.originalName];i.loadWeights(s),Le(a),c.label=2;case 2:return[2,i]}})})}}),py=Object.freeze({l1l2:function(t){return new Df(t)},l1:function(t){return function(t){return new Df({l1:null!=t?t.l1:null,l2:0})}(t)},l2:function(t){return function(t){return new Df({l2:null!=t?t.l2:null,l1:0})}(t)}}),hy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e}return Tp(e,t),e.prototype.setModel=function(t){if(!(t instanceof of))throw new Error("model must be a LayersModel, not some other Container");this.model=t},e}(Wm);function my(t,e){return t<e}function dy(t,e){return t>e}var fy,gy,yy=function(t){function e(e){var n=t.call(this)||this;if(null==e&&(e={}),e.restoreBestWeights)throw new Pp("restoreBestWeights = True is not implemented in EarlyStopping yet.");return n.monitor=e.monitor||"val_loss",n.minDelta=Math.abs(e.minDelta||0),n.patience=e.patience||0,n.verbose=e.verbose||0,n.mode=e.mode||"auto",n.baseline=e.baseline,-1===["auto","min","max"].indexOf(n.mode)&&(console.warn("EarlyStopping mode '"+n.mode+"' is invalid. Falling back to mode 'auto'."),n.mode="auto"),n.monitorFunc="min"===n.mode?my:"max"===n.mode?dy:-1!==n.monitor.indexOf("acc")?dy:my,n.monitorFunc===my&&(n.minDelta*=-1),n}return Tp(e,t),e.prototype.onTrainBegin=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return this.wait=0,this.stoppedEpoch=0,this.best=null!=this.baseline?this.baseline:this.monitorFunc===my?1/0:-1/0,[2]})})},e.prototype.onEpochEnd=function(t,e){return Rp(this,void 0,void 0,function(){var n;return Dp(this,function(r){switch(r.label){case 0:return[4,Vm(e)];case 1:return r.sent(),null==(n=this.getMonitorValue(e))?[2]:(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=t,this.model.stopTraining=!0)),[2])}})})},e.prototype.onTrainEnd=function(t){return Rp(this,void 0,void 0,function(){return Dp(this,function(t){return this.stoppedEpoch>0&&this.verbose&&console.log("Epoch "+this.stoppedEpoch+": early stopping."),[2]})})},e.prototype.getMonitorValue=function(t){null==t&&(t={});var e=t[this.monitor];return null==e&&console.warn("Metric for EarlyStopping "+this.monitor+" is not available. Available metrics are: "+Object.keys(t)),e},e}(hy),vy={earlyStopping:function(t){return new yy(t)}},by=function(){return(by=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function _y(t,e,n,r){return new(n||(n=Promise))(function(i,a){function s(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,o)}l((r=r.apply(t,e||[])).next())})}function wy(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}!function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(fy||(fy={})),function(t){!function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"}(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))}(gy||(gy={}));var xy={};function Cy(t,e){xy[t]={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e}}function Sy(t){return xy[t]}function Ey(t){delete xy[t]}function ky(t,e,n,r){var i=e.inputParams[t];if(i&&void 0!==i.inputIndexStart){var a=i.inputIndexStart,s=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?a+1:i.inputIndexEnd;if("tensor"===i.type)return Ay(e.inputNames[i.inputIndexStart],n,r);if("tensors"===i.type)return e.inputNames.slice(a,s).map(function(t){return Ay(t,n,r)});var o=Array.prototype.slice.call(Ay(e.inputNames.slice(a)[0],n,r).dataSync());return"number"===i.type?o[0]:o}var l=e.attrParams[t];return l&&l.value}function Ay(t,e,n){var r=Ny(t),i=r[0],a=r[1],s=n.currentContextIds.find(function(t){return!!e[Iy(i,t)]});return void 0!==s?e[Iy(i,s)][a]:void 0}function Ty(t,e){var n=Ny(t),r=n[1];return[Iy(n[0],e&&e.currentContextId),r]}function Iy(t,e){return e?t+"-"+e:t}function Ny(t){var e=t.lastIndexOf(":");return-1===e?[t,0]:[t.substring(0,e),Number(t.substring(e+1))]}function Ry(t,e){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}var Dy=Object.freeze({json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),Oy=Object.freeze({json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),My=Object.freeze({json:[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}]}),Fy=Object.freeze({json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}]}),Ly=Object.freeze({json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]}]}),Py=Object.freeze({json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),zy=Object.freeze({json:[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}]}),By=Object.freeze({json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]}),Vy=Object.freeze({json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]}),Uy=Object.freeze({json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),jy=Object.freeze({json:[{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),Wy=Object.freeze({json:[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]}),Hy=Object.freeze({json:[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}]}),qy=Object.freeze({json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]}),$y=Object.freeze({json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]}),Gy=Object.freeze({json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}]}),Ky=function(){function t(){var t=[].concat.apply([],[Dy,Oy,My,Fy,Ly,Py,zy,Uy,Vy,By,jy,Wy,Hy,qy,$y,Gy].map(function(t){return t.json}));this.opMappers=t.reduce(function(t,e){return t[e.tfOpName]=e,t},{})}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.transformGraph=function(t){var e=this,n=[],r=[],i=t.node.reduce(function(t,i){return t[i.name]=e.mapNode(i),"Placeholder"===i.op&&n.push(t[i.name]),"Const"===i.op&&r.push(t[i.name]),t},{}),a=[],s=[],o=Object.keys(i);return o.forEach(function(t){var e=i[t];e.inputNames.forEach(function(t){var n=Ty(t)[0];e.inputs.push(i[n]),i[n].children.push(e)}),0===e.inputs.length&&a.push(e)}),o.forEach(function(t){var e=i[t];0===e.children.length&&s.push(e)}),{nodes:i,inputs:a,outputs:s,weights:r,placeholders:n}},t.prototype.mapNode=function(t){var e=Sy(t.op)||this.opMappers[t.op]||{};null==t.attr&&(t.attr={});var n={name:t.name,op:t.op,category:e.category,inputNames:(t.input||[]).map(function(t){return t.startsWith("^")?t.substr(1):t}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr};return null!=e.inputs&&(n.inputParams=e.inputs.reduce(function(t,e){return t[e.name]={type:e.type,inputIndexStart:e.start,inputIndexEnd:e.end},t},{})),null!=e.attrs&&(n.attrParams=e.attrs.reduce(function(e,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=Xy(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Xy(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=av(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=av(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=Zy(t.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=Zy(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=iv(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=iv(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=Qy(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Qy(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=ov(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ov(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=rv(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=rv(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=sv(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=sv(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=tv(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=tv(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=ev(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ev(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+t.op)}return e[n.name]={value:i,type:r},e},{})),n},t}();function Yy(t,e){var n=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var e=u.global;if(void 0!==e.atob)return e.atob(t);if("undefined"!=typeof Buffer)return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return e?n:n.toLowerCase()}function Xy(t,e,n,r){void 0===r&&(r=!1);var i=t[e];return null!=i?Yy(i.s,r):n}function Qy(t,e,n){var r=t[e];return r?r.b:n}function Zy(t,e,n){var r=t[e]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof i?i:parseInt(i,10)}function Jy(t){switch("string"==typeof t&&(t=fy[t]),t){case fy.DT_FLOAT:return"float32";case fy.DT_INT32:return"int32";case fy.DT_BOOL:return"bool";case fy.DT_DOUBLE:return"float32";case fy.DT_STRING:return"string";default:return null}}function tv(t,e,n){var r=t[e];return r&&r.type?Jy(r.type):n}function ev(t,e,n){var r=t[e];return r&&r.list&&r.list.type?r.list.type.map(function(t){return Jy(t)}):n}function nv(t){if(!t.unknownRank)return null!=t.dim?t.dim.map(function(t){return"number"==typeof t.size?t.size:parseInt(t.size,10)}):[]}function rv(t,e,n){var r=t[e];return r&&r.shape?nv(r.shape):n}function iv(t,e,n){var r=t[e];return r?(r.list.f&&r.list.f.length?r.list.f:r.list.i).map(function(t){return"number"==typeof t?t:parseInt(t,10)}):n}function av(t,e,n,r){void 0===r&&(r=!1);var i=t[e];return i&&i.list&&i.list.s?i.list.s.map(function(t){return Yy(t,r)}):n}function sv(t,e,n){var r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(function(t){return nv(t)}):n}function ov(t,e,n){var r=t[e];return r&&r.list&&r.list.b?r.list.b:n}var lv=function(){function t(t,e,n){var r=this;this.node=t,this.tensorMap=e,this.context=n,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(function(t){return r.getInput(t)}),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce(function(t,e){return t[e]=r.getAttr(e),t},{}))}return t.prototype.getInput=function(t){return Ay(t,this.tensorMap,this.context)},t.prototype.getAttr=function(t,e){var n=this.node.rawAttrs[t];if(null!=n.tensor)return Ay(t,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Zy(this.node.rawAttrs,t,e);if(null!=n.s)return Xy(this.node.rawAttrs,t,e);if(null!=n.b)return Qy(this.node.rawAttrs,t,e);if(null!=n.shape)return rv(this.node.rawAttrs,t,e);if(null!=n.type)return tv(this.node.rawAttrs,t,e);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return iv(this.node.rawAttrs,t,e);if(null!=n.list.s)return av(this.node.rawAttrs,t,e);if(null!=n.list.shape)return sv(this.node.rawAttrs,t,e);if(null!=n.list.b)return ov(this.node.rawAttrs,t,e);if(null!=n.list.type)return ev(this.node.rawAttrs,t,e)}return e},t}(),uv=function(t,e,n){switch(t.op){case"BiasAdd":case"Add":return[Tl(ky("a",t,e,n),ky("b",t,e,n))];case"AddN":return[Il(ky("tensors",t,e,n))];case"FloorMod":case"Mod":return[Bl(ky("a",t,e,n),ky("b",t,e,n))];case"Mul":return[Ul(ky("a",t,e,n),ky("b",t,e,n))];case"RealDiv":case"Div":return[Dl(ky("a",t,e,n),ky("b",t,e,n))];case"FloorDiv":return[Ml(ky("a",t,e,n),ky("b",t,e,n))];case"Sub":return[Gl(ky("a",t,e,n),ky("b",t,e,n))];case"Minimum":return[Pl(ky("a",t,e,n),ky("b",t,e,n))];case"Maximum":return[Fl(ky("a",t,e,n),ky("b",t,e,n))];case"Pow":return[Wl(ky("a",t,e,n),ky("b",t,e,n))];case"SquaredDifference":return[ql(ky("a",t,e,n),ky("b",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},cv=function(t,e,n){switch(t.op){case"Abs":return[Ms(ky("x",t,e,n))];case"Acos":return[Fs(ky("x",t,e,n))];case"Acosh":return[Ls(ky("x",t,e,n))];case"Asin":return[Ps(ky("x",t,e,n))];case"Asinh":return[zs(ky("x",t,e,n))];case"Atan":return[Bs(ky("x",t,e,n))];case"Atan2":return[Rl(ky("x",t,e,n),ky("y",t,e,n))];case"Atanh":return[Vs(ky("x",t,e,n))];case"Ceil":return[Us(ky("x",t,e,n))];case"Cos":return[Ws(ky("x",t,e,n))];case"Cosh":return[Hs(ky("x",t,e,n))];case"Elu":return[eu(ky("x",t,e,n))];case"Erf":return[qs(ky("x",t,e,n))];case"Exp":return[$s(ky("x",t,e,n))];case"Expm1":return[Gs(ky("x",t,e,n))];case"Floor":return[Ks(ky("x",t,e,n))];case"Log":return[Ys(ky("x",t,e,n))];case"Log1p":return[Xs(ky("x",t,e,n))];case"Neg":return[Zs(ky("x",t,e,n))];case"Reciprocal":return[Js(ky("x",t,e,n))];case"Relu":return[iu(ky("x",t,e,n))];case"Round":return[to(ky("x",t,e,n))];case"Selu":return[au(ky("x",t,e,n))];case"Sigmoid":return[no(ky("x",t,e,n))];case"Sin":return[oo(ky("x",t,e,n))];case"Sign":return[ro(ky("x",t,e,n))];case"Sinh":return[lo(ky("x",t,e,n))];case"Softplus":return[uo(ky("x",t,e,n))];case"Sqrt":return[co(ky("x",t,e,n))];case"Square":return[po(ky("x",t,e,n))];case"Tanh":return[fo(ky("x",t,e,n))];case"Tan":return[mo(ky("x",t,e,n))];case"Relu6":case"ClipByValue":return[js(ky("x",t,e,n),ky("clipValueMin",t,e,n),ky("clipValueMax",t,e,n))];case"Rsqrt":return[eo(Ay(t.inputNames[0],e,n))];case"Prod":return[fl(ky("x",t,e,n),ky("axes",t,e,n))];case"LeakyRelu":return[nu(ky("x",t,e,n),ky("alpha",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},pv=function(){function t(e,n,r,i,a,s,o){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=s,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.id=t.nextId++}return Object.defineProperty(t.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(){this.tensors.forEach(function(t){return t.tensor.dispose()}),this.tensors=[],this.closed_=!0},t.prototype.size=function(){return this.tensors.length},t.prototype.read=function(t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(t<0||t>=this.tensors.length)throw new Error("Tried to read from index "+t+", but array size is: "+this.tensors.length);var e=this.tensors[t];if(e.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+t+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor},t.prototype.readMany=function(t){var e=this;return t.map(function(t){return e.read(t)})},t.prototype.write=function(t,e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error("Tried to write to index "+t+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+",\n          because the value dtype is "+e.dtype+", but TensorArray dtype is "+this.dtype+".");if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=e.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,e.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+t+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+", because it has already been written.");n.tensor=e,n.written=!0,this.tensors[t]=n},t.prototype.writeMany=function(t,e){var n=this;if(t.length!==e.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+t.length+" is not the same as tensors size: "+e.length+".");t.forEach(function(t,r){return n.write(t,e[r])})},t.prototype.gather=function(t,e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+e);if(!t){t=[];for(var n=0;n<this.size();n++)t.push(n)}if(0===t.length)return Pn([],[0].concat(this.elementShape));var r=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),ci(r,0)},t.prototype.concat=function(t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+t);if(0===this.size())return Pn([],[0].concat(this.elementShape));for(var e=[],n=0;n<this.size();n++)e.push(n);var r=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+r[0].shape+")"),Er(r,0)},t.prototype.scatter=function(t,e){if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+e.dtype);if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+t.length+" vs. "+e.shape[0]);var n=Math.max.apply(Math,t);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(t,mi(e,0))},t.prototype.split=function(t,e){var n=this;if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+e.dtype);var r=0,i=t.map(function(t){return r+=t});if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+r+", and tensor's shape is: "+e.shape);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+t.length+"), and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:e.size/r,s=[];Fe(function(){e=e.reshape([1,r,a]);for(var o=0;o<t.length;++o)s[o]=Jo(e,[0,0===o?0:i[o-1],0],[1,t[o],a]).reshape(n.elementShape);return s});for(var o=[],l=0;l<t.length;l++)o[l]=l;this.writeMany(o,s)},t.prototype.assertShapesMatchAllowUndefinedSize=function(t,e,n){void 0===n&&(n=""),et.assert(this.shapesEqualAllowUndefinedSize(t,e),function(){return n+" Shapes "+t+" and "+e+" must match"})},t.prototype.shapesEqualAllowUndefinedSize=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(-1!==t[n]&&-1!==e[n]&&t[n]!==e[n])return!1;return!0},t.nextId=0,t}(),hv=function(t,e,n){switch(t.op){case"Conv1D":var r=ky("stride",t,e,n),i=ky("pad",t,e,n),a=ky("dataFormat",t,e,n).toUpperCase(),s=ky("dilation",t,e,n);return[Oo(ky("x",t,e,n),ky("filter",t,e,n),r,i,a,s)];case"Conv2D":r=ky("strides",t,e,n),i=ky("pad",t,e,n),a=ky("dataFormat",t,e,n).toUpperCase();var o=ky("dilations",t,e,n);return[Mo(ky("x",t,e,n),ky("filter",t,e,n),[r[1],r[2]],i,a,[o[1],o[2]])];case"Conv2DBackpropInput":case"Conv2dTranspose":var l=ky("outputShape",t,e,n);return r=ky("strides",t,e,n),i=ky("pad",t,e,n),[Bo(ky("x",t,e,n),ky("filter",t,e,n),l,[r[1],r[2]],i)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":return r=ky("strides",t,e,n),i=ky("pad",t,e,n),o=ky("dilations",t,e,n),a=ky("dataFormat",t,e,n).toUpperCase(),[Po(ky("input",t,e,n),ky("filter",t,e,n),[r[1],r[2]],i,a,[o[1],o[2]])];case"AvgPool":r=ky("strides",t,e,n),i=ky("pad",t,e,n);var u=ky("kernelSize",t,e,n);return[Qo(ky("x",t,e,n),[u[1],u[2]],[r[1],r[2]],i)];case"MaxPool":return r=ky("strides",t,e,n),i=ky("pad",t,e,n),u=ky("kernelSize",t,e,n),[Xo(ky("x",t,e,n),[u[1],u[2]],[r[1],r[2]],i)];default:throw TypeError("Node type "+t.op+" is not implemented")}},mv=function(t,e,n){switch(t.op){case"Fill":var r=ky("shape",t,e,n),i=ky("dtype",t,e,n);return[Gn(r,ky("value",t,e,n),i)];case"LinSpace":var a=ky("start",t,e,n);return[Kn(a,ky("stop",t,e,n),ky("num",t,e,n))];case"OneHot":var s=ky("indices",t,e,n),o=ky("depth",t,e,n),l=ky("onValue",t,e,n),u=ky("offValue",t,e,n);return[Zr(s,o,l,u)];case"Ones":return[qn(ky("shape",t,e,n),ky("dtype",t,e,n))];case"OnesLike":return[Xn(ky("x",t,e,n))];case"RandomUniform":return[si(ky("shape",t,e,n),ky("minval",t,e,n),ky("maxval",t,e,n),ky("dtype",t,e,n))];case"Range":return[Yn(a=ky("start",t,e,n),ky("stop",t,e,n),ky("step",t,e,n),ky("dtype",t,e,n))];case"TruncatedNormal":r=ky("shape",t,e,n);var c=ky("mean",t,e,n),p=ky("stdDev",t,e,n),h=ky("seed",t,e,n);return[hi(r,c,p,ky("dtype",t,e,n),h)];case"Zeros":return[$n(ky("shape",t,e,n),ky("dtype",t,e,n))];case"ZerosLike":return[Qn(ky("x",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},dv=function(t,e,n){switch(t.op){case"TopKV2":var r=ky("x",t,e,n),i=ky("k",t,e,n),a=ky("sorted",t,e,n),s=yu(r,i,a);return[s.values,s.indices];default:throw TypeError("Node type "+t.op+" is not implemented")}},fv=function(t,e,n){switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":var r=ky("default",t,e,n);return[Ay(t.name,e,n)||r];case"Placeholder":return[Ay(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[ky("x",t,e,n).clone()];case"IdentityN":return ky("x",t,e,n).map(function(t){return t.clone()});case"Snapshot":return[ky("x",t,e,n).clone()];case"Shape":return[Bn(ky("x",t,e,n).shape,"int32")];case"ShapeN":return ky("x",t,e,n).map(function(t){return Bn(t.shape)});case"Size":return[zn(ky("x",t,e,n).size,"int32")];case"Rank":return[zn(ky("x",t,e,n).rank,"int32")];case"NoOp":return[];case"Print":var i=ky("x",t,e,n),a=ky("data",t,e,n),s=ky("message",t,e,n),o=ky("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var l=0;l<a.length;l++)console.log(Array.prototype.slice.call(a[l].dataSync()).slice(0,o));return[i];default:throw TypeError("Node type "+t.op+" is not implemented")}},gv=function(t,e,n){switch(t.op){case"ResizeBilinear":var r=ky("images",t,e,n),i=ky("size",t,e,n),a=ky("alignCorners",t,e,n);return[Zu.resizeBilinear(r,[i[0],i[1]],a)];case"ResizeNearestNeighbor":return r=ky("images",t,e,n),i=ky("size",t,e,n),a=ky("alignCorners",t,e,n),[Zu.resizeNearestNeighbor(r,[i[0],i[1]],a)];case"CropAndResize":var s=ky("image",t,e,n),o=ky("boxes",t,e,n),l=ky("boxInd",t,e,n),u=ky("cropSize",t,e,n),c=ky("method",t,e,n),p=ky("extrapolationValue",t,e,n);return[Zu.cropAndResize(s,o,l,u,c,p)];default:throw TypeError("Node type "+t.op+" is not implemented")}},yv=function(t,e,n){switch(t.op){case"Equal":return[gl(ky("a",t,e,n),ky("b",t,e,n))];case"NotEqual":return[kl(ky("a",t,e,n),ky("b",t,e,n))];case"Greater":return[vl(ky("a",t,e,n),ky("b",t,e,n))];case"GreaterEqual":return[bl(ky("a",t,e,n),ky("b",t,e,n))];case"Less":return[xl(ky("a",t,e,n),ky("b",t,e,n))];case"LessEqual":return[Cl(ky("a",t,e,n),ky("b",t,e,n))];case"LogicalAnd":return[Yl(ky("a",t,e,n),ky("b",t,e,n))];case"LogicalNot":return[Xl(ky("a",t,e,n))];case"LogicalOr":return[Ql(ky("a",t,e,n),ky("b",t,e,n))];case"Select":return[Jl(ky("condition",t,e,n),ky("a",t,e,n),ky("b",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},vv=function(t,e,n){switch(t.op){case"BatchMatMul":case"MatMul":return[Vo(ky("a",t,e,n),ky("b",t,e,n),ky("transposeA",t,e,n),ky("transposeB",t,e,n))];case"Transpose":return[su(ky("x",t,e,n),ky("perm",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},bv=function(t,e,n){switch(t.op){case"FusedBatchNorm":case"FusedBatchNormV2":return[ko(ky("x",t,e,n),ky("mean",t,e,n),ky("variance",t,e,n),ky("offset",t,e,n),ky("scale",t,e,n),ky("epsilon",t,e,n))];case"LRN":return[ou(ky("x",t,e,n),ky("radius",t,e,n),ky("bias",t,e,n),ky("alpha",t,e,n),ky("beta",t,e,n))];case"Softmax":return[Dn(ky("x",t,e,n))];case"LogSoftmax":return[On(ky("x",t,e,n))];case"SparseToDense":return[Su(ky("sparseIndices",t,e,n),ky("outputShape",t,e,n),ky("sparseValues",t,e,n),ky("defaultValue",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},_v=function(t,e,n){switch(t.op){case"Max":var r=ky("axis",t,e,n),i=ky("keepDims",t,e,n);return[cl(ky("x",t,e,n),r,i)];case"Mean":return r=ky("axis",t,e,n),i=ky("keepDims",t,e,n),[pl(ky("x",t,e,n),r,i)];case"Min":return r=ky("axis",t,e,n),i=ky("keepDims",t,e,n),[hl(ky("x",t,e,n),r,i)];case"Sum":return r=ky("axis",t,e,n),i=ky("keepDims",t,e,n),[dl(ky("x",t,e,n),r,i)];case"All":return r=ky("axis",t,e,n),i=ky("keepDims",t,e,n),[al(ky("x",t,e,n),r,i)];case"Any":return r=ky("axis",t,e,n),i=ky("keepDims",t,e,n),[sl(ky("x",t,e,n),r,i)];case"ArgMax":return r=ky("axis",t,e,n),[ol(ky("x",t,e,n),r)];case"ArgMin":return r=ky("axis",t,e,n),[ll(ky("x",t,e,n),r)];case"Prod":return r=ky("axis",t,e,n),i=ky("keepDims",t,e,n),[fl(ky("x",t,e,n),r,i)];default:throw TypeError("Node type "+t.op+" is not implemented")}},wv=function(t,e,n){switch(t.op){case"ConcatV2":case"Concat":var r=ky("axis",t,e,n),i=ky("tensors",t,e,n);return[Er(i,r)];case"GatherV2":case"Gather":r=ky("axis",t,e,n);var a=ky("x",t,e,n),s=ky("indices",t,e,n);return[pu(a,s.asType("int32"),r)];case"ReverseV2":case"Reverse":return r=ky("axis",t,e,n),a=ky("x",t,e,n),[Wo(a,r)];case"Slice":var o=ky("begin",t,e,n),l=ky("size",t,e,n);return[Jo(ky("x",t,e,n),o,l)];case"StridedSlice":o=ky("begin",t,e,n);var u=ky("end",t,e,n),c=ky("strides",t,e,n),p=ky("beginMask",t,e,n),h=ky("endMask",t,e,n),m=ky("ellipsisMask",t,e,n),d=ky("newAxisMask",t,e,n),f=ky("shrinkAxisMask",t,e,n),g=ky("x",t,e,n);if(1===o.length&&g.shape.length>1)for(var y=1;y<g.shape.length;y++)o.push(0),u.push(g.shape[y]),c.push(c[0]);return[gu(g,o,u,c,p,h,m,d,f)];case"Pack":return Fe(function(){var r=ky("axis",t,e,n),i=ky("tensors",t,e,n),a=i[0].shape,s=i[0].squeeze().shape,o=i.map(function(t){var e=et.arraysEqual(t.shape,a);if(!e&&!et.arraysEqual(t.squeeze().shape,s))throw new Error("the input tensors shape does not match");return e?t:t.reshape(a)});return[ci(o,r)]});case"Unpack":return Fe(function(){var r=ky("axis",t,e,n),i=ky("tensor",t,e,n);return mi(i,r)});case"Tile":var v=ky("reps",t,e,n);return[pi(ky("x",t,e,n),v)];case"Split":case"SplitV":r=ky("axis",t,e,n);var b=ky("numOrSizeSplits",t,e,n);return Nr(ky("x",t,e,n),b,r);case"ScatterNd":s=ky("indices",t,e,n);var _=ky("values",t,e,n),w=ky("shape",t,e,n);return[vu(s,_,w)];case"GatherNd":var x=ky("x",t,e,n);return s=ky("indices",t,e,n),[Eu(x,s)];case"SparseToDense":s=ky("sparseIndices",t,e,n),w=ky("outputShape",t,e,n);var C=ky("sparseValues",t,e,n),S=ky("defaultValue",t,e,n);return[Su(s,C,w,C.dtype===S.dtype?S:S.asType(C.dtype))];default:throw TypeError("Node type "+t.op+" is not implemented")}},xv=function(t,e,n){switch(t.op){case"FFT":return[bu(ky("x",t,e,n))];case"IFFT":return[_u(ky("x",t,e,n))];case"RFFT":return[wu(ky("x",t,e,n))];case"IRFFT":return[xu(ky("x",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},Cv=function(t,e,n){switch(t.op){case"Cast":return[qr(ky("x",t,e,n),ky("dtype",t,e,n))];case"ExpandDims":var r=ky("axis",t,e,n);return[Yr(ky("x",t,e,n),r)];case"Squeeze":return r=ky("axis",t,e,n),[ui(ky("x",t,e,n),r)];case"Reshape":return[oi(ky("x",t,e,n),ky("shape",t,e,n))];case"PadV2":case"Pad":return[Jr(ky("x",t,e,n),Ry(ky("padding",t,e,n),2),ky("constantValue",t,e,n))];case"SpaceToBatchND":var i=ky("blockShape",t,e,n),a=Ry(ky("paddings",t,e,n),2);return[li(ky("x",t,e,n),i,a)];case"BatchToSpaceND":i=ky("blockShape",t,e,n);var s=Ry(ky("crops",t,e,n),2);return[Hr(ky("x",t,e,n),i,s)];case"DepthToSpace":var o=ky("blockSize",t,e,n),l=ky("dataFormat",t,e,n).toUpperCase();return[Kr(ky("x",t,e,n),o,l)];default:throw TypeError("Node type "+t.op+" is not implemented")}};function Sv(t,e,n){var r=function(t,e,n){switch(t.category){case"arithmetic":return uv(t,e,n);case"basic_math":return cv(t,e,n);case"control":return function(t,e,n){return _y(this,void 0,void 0,function(){var r,i,a,s,o,l,u,c,p,h,m,d,f,g,y,v,b,_,w,x,C,S,E,k,A,T,I,N,R,D,O,M,F,L;return wy(this,function(P){switch(P.label){case 0:switch(t.op){case"LoopCond":return[3,1];case"Switch":return[3,2];case"Merge":return[3,4];case"Enter":return[3,5];case"Exit":return[3,6];case"NextIteration":return[3,7];case"TensorArrayV3":return[3,8];case"TensorArrayWriteV3":return[3,9];case"TensorArrayReadV3":return[3,10];case"TensorArrayGatherV3":return[3,11];case"TensorArrayScatterV3":return[3,12];case"TensorArrayConcatV3":return[3,13];case"TensorArraySplitV3":return[3,14];case"TensorArraySizeV3":return[3,15];case"TensorArrayCloseV3":return[3,16]}return[3,17];case 1:return[2,[ky("pred",t,e,n).clone()]];case 2:return r=ky("pred",t,e,n),i=ky("data",t,e,n),[4,r.data()];case 3:return[2,P.sent()[0]?[void 0,i.clone()]:[i.clone(),void 0]];case 4:return[2,(a=t.inputNames.find(function(t){return void 0!==Ay(t,e,n)}))?[Ay(a,e,n).clone()]:void 0];case 5:return s=ky("frameName",t,e,n),o=ky("tensor",t,e,n),n.enterFrame(s),[2,[o.clone()]];case 6:return l=ky("tensor",t,e,n),n.exitFrame(),[2,[l.clone()]];case 7:return u=ky("tensor",t,e,n),n.nextIteration(),[2,[u.clone()]];case 8:return c=ky("size",t,e,n),p=ky("dtype",t,e,n),h=ky("elementShape",t,e,n),m=ky("dynamicSize",t,e,n),d=ky("clearAfterRead",t,e,n),f=ky("identicalElementShapes",t,e,n),g=ky("name",t,e,n),y=new pv(g,p,c,h,f,m,d),n.addTensorArray(y),[2,[zn(y.id),zn(1)]];case 9:return v=ky("tensorArrayId",t,e,n),b=ky("index",t,e,n),_=ky("tensor",t,e,n),n.getTensorArray(v).write(b,_),[2,[zn(1)]];case 10:return w=ky("tensorArrayId",t,e,n),x=ky("index",t,e,n),[2,[n.getTensorArray(w).read(x)]];case 11:return C=ky("tensorArrayId",t,e,n),S=ky("indices",t,e,n),E=ky("dtype",t,e,n),[2,[n.getTensorArray(C).gather(S,E)]];case 12:return k=ky("tensorArrayId",t,e,n),A=ky("indices",t,e,n),T=ky("tensor",t,e,n),n.getTensorArray(k).scatter(A,T),[2,[zn(1)]];case 13:return I=ky("tensorArrayId",t,e,n),N=n.getTensorArray(I),R=ky("dtype",t,e,n),[2,[N.concat(R)]];case 14:return D=ky("tensorArrayId",t,e,n),O=ky("tensor",t,e,n),M=ky("lengths",t,e,n),n.getTensorArray(D).split(M,O),[2,[zn(1)]];case 15:return F=ky("tensorArrayId",t,e,n),[2,[zn(n.getTensorArray(F).size(),"int32")]];case 16:return L=ky("tensorArrayId",t,e,n),n.getTensorArray(L).clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+t.op+" is not implemented")}})})}(t,e,n);case"convolution":return hv(t,e,n);case"creation":return mv(t,e,n);case"dynamic":return function(t,e,n){return _y(this,void 0,void 0,function(){var r,i,a,s,o;return wy(this,function(l){switch(l.label){case 0:switch(t.op){case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,1];case"Where":return[3,3];case"ListDiff":return[3,5]}return[3,7];case 1:return r=ky("boxes",t,e,n),i=ky("scores",t,e,n),a=ky("maxOutputSize",t,e,n),s=ky("iouThreshold",t,e,n),o=ky("scoreThreshold",t,e,n),[4,Zu.nonMaxSuppressionAsync(r,i,a,s,o)];case 2:return[2,[l.sent()]];case 3:return[4,tu(ky("condition",t,e,n))];case 4:return[2,[l.sent()]];case 5:return[4,di(ky("x",t,e,n),ky("y",t,e,n))];case 6:return[2,l.sent()];case 7:throw TypeError("Node type "+t.op+" is not implemented")}})})}(t,e,n);case"evaluation":return dv(t,e,n);case"image":return gv(t,e,n);case"graph":return fv(t,e,n);case"logical":return yv(t,e,n);case"matrices":return vv(t,e,n);case"normalization":return bv(t,e,n);case"reduction":return _v(t,e,n);case"slice_join":return wv(t,e,n);case"spectral":return xv(t,e,n);case"transformation":return Cv(t,e,n);case"custom":var r=Sy(t.op);if(r&&r.customExecutor)return r.customExecutor(new lv(t,e,n));throw TypeError("Custom op "+t.op+" is not registered.");default:throw TypeError("Unknown op '"+t.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(t,e,n);return r instanceof Promise?r.then(function(t){return[].concat(t)}):[].concat(r)}var Ev=function(){function t(t,e){this.weightMap=t,this.tensorArrayMap=e,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return t.prototype.newFrame=function(t,e){return{id:t,frameName:e,iterationId:0}},Object.defineProperty(t.prototype,"currentContext",{get:function(){return this.contexts},set:function(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),t.prototype.generateCurrentContextIds=function(){for(var t=[],e=0;e<this.contexts.length-1;e++){var n=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(n))}t.push(""),this._currentContextIds=t},t.prototype.contextIdforContexts=function(t){return t?t.map(function(t){return 0===t.id&&0===t.iterationId?"":t.frameName+"-"+t.iterationId}).join("/"):""},t.prototype.enterFrame=function(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},t.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},t.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},t.prototype.getWeight=function(t){return this.weightMap[t]},t.prototype.addTensorArray=function(t){this.tensorArrayMap[t.id]=t},t.prototype.getTensorArray=function(t){return this.tensorArrayMap[t]},t}();function kv(t,e,n){for(var r=new Set,i=[],a=null,s=null,o=new Set,l=e.slice();l.length>0;){var u=l.pop();(Iv(u)||Nv(u))&&null==a&&(s=(a=u).children.map(function(t){return t.name}).filter(function(t){return r.has(t)})),r.add(u.name),null==n[u.name]&&null==t[u.name]&&(0!==u.inputs.length?u.inputs.forEach(function(t){o.has(t.name)||(o.add(t.name),l.push(t))}):i.push(u.name))}return{inputs:t,outputs:e,usedNodes:r,missingInputs:i,dynamicNode:a,syncInputs:s}}var Av=["Switch","Merge","Enter","Exit","NextIteration"],Tv=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"];function Iv(t){return Av.indexOf(t.op)>=0}function Nv(t){return Tv.indexOf(t.op)>=0}var Rv=function(){function t(t){this.graph=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this.placeholders=t.placeholders,this._outputs=t.outputs}return Object.defineProperty(t.prototype,"weightMap",{get:function(){return this._weightMap},set:function(t){var e=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})});this.weightIds=[].concat.apply([],e),this._weightMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.placeholders.map(function(t){return{name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs.map(function(t){return{name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(t){return t.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.outputs.map(function(t){return t.name})},enumerable:!0,configurable:!0}),t.prototype.getCompilationKey=function(t,e){var n=t.map(function(t){return t.name}).sort(),r=e.map(function(t){return t.name}).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)},t.prototype.compile=function(t,e){var n=kv(t,e,this.weightMap),r=n.missingInputs,i=n.dynamicNode;if(null!=i)throw new Error("This execution contains the node '"+i.name+"', which has the dynamic op '"+i.op+"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs ["+n.syncInputs+"]");if(r.length>0){var a=e.map(function(t){return t.name}),s=Object.keys(t);throw new Error("Cannot compute the outputs ["+a+"] from the provided inputs ["+s+"]. Missing the following inputs: ["+r+"]")}return function(t,e,n){var r=n.usedNodes,i=[];Object.keys(n.inputs).map(function(e){return t.nodes[e]}).forEach(function(t){r.has(t.name)&&i.push(t)}),t.weights.forEach(function(t){r.has(t.name)&&i.push(t)});for(var a=new Set,s=[];i.length>0;){var o=i.pop();a.add(o.name),e[o.name]||s.push(o),o.children.forEach(function(t){!a.has(t.name)&&r.has(t.name)&&t.inputs.every(function(t){return a.has(t.name)})&&i.push(t)})}return s}(this.graph,this.weightMap,n)},t.prototype.execute=function(t,e){var n=this,r=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),this.checkOutputs(e);var i=r.map(function(t){return n.graph.nodes[t]}),a=e.map(function(t){return n.graph.nodes[Ny(t)[0]]}),s=this.getCompilationKey(i,a),o=this.compiledMap.get(s);null==o&&(o=this.compile(t,a),this.compiledMap.set(s,o));var l={};return Fe(function(){var r=new Ev(n._weightMap,l),i=by({},n.weightMap);Object.keys(t).forEach(function(e){i[e]=[t[e]]});for(var a=n.getFrozenTensorIds(i),s={},u=0;u<o.length;u++){var c=o[u];if(!i[c.name]){var p=Sv(c,i,r);if(p instanceof Promise)throw new Error("The execution of the op '"+c.op+"' returned a promise. Please use model.executeAsync() instead.");i[c.name]=p,n.checkTensorForDisposal(c.name,c,i,r,a,e,s)}}return e.map(function(t){return Ay(t,i,r)})})},t.prototype.getFrozenTensorIds=function(t){var e=[].concat.apply([],Object.keys(t).map(function(e){return t[e]}).map(function(t){return t.map(function(t){return t.id})}));return new Set(e)},t.prototype.checkTensorForDisposal=function(t,e,n,r,i,a,s){"control"!==e.category&&-1===a.indexOf(t)&&(n[t].forEach(function(t){null!=t&&(s[t.id]=(s[t.id]||0)+e.children.length)}),e.inputs.forEach(function(t){if("control"!==t.category){var e=function(t,e,n){return e[Iy(t,r.currentContextId)]}(t.name,n);null!=e&&e.forEach(function(t){if(t&&!i.has(t.id)){var e=s[t.id];1===e?(t.dispose(),delete s[t.id]):null!=e&&s[t.id]--}})}}))},t.prototype.executeAsync=function(t,e){return _y(this,void 0,void 0,function(){var n,r,i,a,s,o=this;return wy(this,function(l){switch(l.label){case 0:return this.checkInputs(t),this.checkInputShapeAndType(t),n=new Ev(this._weightMap,{}),[4,this.executeWithControlFlow(t,n,e)];case 1:return r=l.sent(),i=e.map(function(t){return Ay(t,r,n)}),a=new Set(i.map(function(t){return t.id})),s=new Set(Object.keys(t).map(function(e){return t[e].id})),Object.keys(r).forEach(function(t){r[t].forEach(function(t){!t||t.isDisposed||a.has(t.id)||s.has(t.id)||-1!==o.weightIds.indexOf(t.id)||t.dispose()})}),[2,i]}})})},t.prototype.executeWithControlFlow=function(t,e,n){return _y(this,void 0,void 0,function(){var r,i,a,s,o,l,u,c,p,h,m,d,f,g,y,v,b=this;return wy(this,function(_){switch(_.label){case 0:r=Object.keys(t),i=r.map(function(t){return b.graph.nodes[t]}),a=n.map(function(t){return b.graph.nodes[Ny(t)[0]]}),s=kv(t,a,this.weightMap),o=s.usedNodes,l=s.missingInputs,u=s.dynamicNode,c=s.syncInputs,p=i.concat(this.graph.weights).map(function(t){return{node:t,contexts:e.currentContext}}),h=by({},this.weightMap),Object.keys(t).forEach(function(e){h[e]=[t[e]]}),m={},d=this.getFrozenTensorIds(h),f={},_.label=1;case 1:return p.length>0?(g=this.processStack(i,p,e,h,f,d,n,m,o),[4,Promise.all(g)]):[3,3];case 2:return _.sent(),[3,1];case 3:if(null==u&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(y=a.filter(function(t){return!Iv(t)&&!Ay(t.name,h,e)}).map(function(t){return t.name})).length>0)throw v="",null!=u&&(v="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs ["+c+"]"),new Error("Cannot compute the outputs ["+y+"] from the provided inputs ["+r+"]. Consider providing the following inputs: ["+l+"]. "+v);return[2,h]}})})},t.prototype.processStack=function(t,e,n,r,i,a,s,o,l){for(var u=this,c=[],p=function(){var p=e.pop();n.currentContext=p.contexts;var m="";if("Enter"===p.node.op&&ky("isConstant",p.node,r,n)&&(m=Ty(p.node.name,n)[0]),-1===t.indexOf(p.node)){var d=Sv(p.node,r,n);m||(m=Ty(p.node.name,n)[0]);var f=n.currentContext;d instanceof Promise?c.push(d.then(function(t){return r[m]=t,n.currentContext=f,u.checkTensorForDisposal(m,p.node,r,n,a,s,o),u.processChildNodes(p.node,e,n,r,i,l),t})):(r[m]=d,h.checkTensorForDisposal(m,p.node,r,n,a,s,o),h.processChildNodes(p.node,e,n,r,i,l))}else h.processChildNodes(p.node,e,n,r,i,l)},h=this;e.length>0;)p();return c},t.prototype.processChildNodes=function(t,e,n,r,i,a){t.children.forEach(function(t){var s=Ty(t.name,n)[0];!i[s]&&a.has(t.name)&&("Merge"===t.op?t.inputNames.some(function(t){return!!Ay(t,r,n)})&&(i[s]=!0,e.push({contexts:n.currentContext,node:t})):t.inputNames.every(function(t){return!!Ay(t,r,n)})&&(i[s]=!0,e.push({contexts:n.currentContext,node:t})))})},t.prototype.dispose=function(){var t=this;Object.keys(this.weightMap).forEach(function(e){return t.weightMap[e].forEach(function(t){return t.dispose()})})},t.prototype.checkInputShapeAndType=function(t){var e=this;Object.keys(t).forEach(function(n){var r=t[n],i=e.graph.nodes[n];if(i.attrParams.shape&&i.attrParams.shape.value){var a=i.attrParams.shape.value,s=a.length===r.shape.length&&r.shape.every(function(t,e){return-1===a[e]||a[e]===t});et.assert(s,function(){return"The shape of dict['"+i.name+"'] provided in model.execute(dict) must be ["+a+"], but was ["+r.shape+"]"})}i.attrParams.dtype&&i.attrParams.dtype.value&&et.assert(r.dtype===i.attrParams.dtype.value,function(){return"The dtype of dict['"+i.name+"'] provided in model.execute(dict) must be "+i.attrParams.dtype.value+", but was "+r.dtype})})},t.prototype.checkInputs=function(t){var e=this,n=Object.keys(t).filter(function(t){return!e.graph.nodes[t]});if(n.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+n+"] that are not part of graph")},t.prototype.checkOutputs=function(t){var e=this;t.forEach(function(t){var n=Ny(t)[0];if(!e.graph.nodes[n])throw new Error("The output '"+t+"' is not found in the graph")})},t}(),Dv="?tfjs-format=file",Ov="model.json",Mv=function(){function t(t,e){void 0===e&&(e={}),this.modelUrl=t,this.loadOptions=e,this.version="n/a",null==e&&(this.loadOptions={})}return Object.defineProperty(t.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),t.prototype.findIOHandler=function(){var t=this.modelUrl;if(null!=t.load)this.handler=t;else if(null!=this.loadOptions.requestInit)this.handler=Jc.browserHTTPRequest(t,this.loadOptions);else{var e=Jc.getLoadHandlers(t,this.loadOptions.onProgress);if(0===e.length)e.push(Jc.browserHTTPRequest(t,this.loadOptions));else if(e.length>1)throw new Error("Found more than one ("+e.length+") load handlers for URL '"+[t]+"'");this.handler=e[0]}},t.prototype.load=function(){return _y(this,void 0,void 0,function(){var t,e,n;return wy(this,function(r){switch(r.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,this.handler.load()];case 1:return t=r.sent(),this.version=(e=t.modelTopology).versions.producer+"."+e.versions.minConsumer,n=Jc.decodeWeights(t.weightData,t.weightSpecs),this.executor=new Rv(Ky.Instance.transformGraph(e)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),[2,!0]}})})},t.prototype.predict=function(t,e){return this.execute(t,this.outputNodes)},t.prototype.normalizeInputs=function(t){if(!(t instanceof ht||Array.isArray(t)))return t;if((t=Array.isArray(t)?t:[t]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has "+this.inputNodes.length+" placeholders, while there are "+t.length+" input tensors.");return this.inputNodes.reduce(function(e,n,r){return e[n]=t[r],e},{})},t.prototype.normalizeOutputs=function(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]},t.prototype.execute=function(t,e){t=this.normalizeInputs(t),e=this.normalizeOutputs(e);var n=this.executor.execute(t,e);return n.length>1?n:n[0]},t.prototype.executeAsync=function(t,e){return _y(this,void 0,void 0,function(){var n;return wy(this,function(r){switch(r.label){case 0:return t=this.normalizeInputs(t),e=this.normalizeOutputs(e),[4,this.executor.executeAsync(t,e)];case 1:return[2,(n=r.sent()).length>1?n:n[0]]}})})},t.prototype.convertTensorMapToTensorsMap=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=[t[n]],e},{})},t.prototype.dispose=function(){this.executor.dispose()},t}();function Fv(t,e){return void 0===e&&(e={}),_y(this,void 0,void 0,function(){var n;return wy(this,function(r){switch(r.label){case 0:if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==e&&(e={}),e.fromTFHub&&null==t.load&&(t.endsWith("/")||(t+="/"),t=""+t+Ov+Dv),[4,(n=new Mv(t,e)).load()];case 1:return r.sent(),[2,n]}})})}var Lv=function(t,e){return(Lv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Pv(t,e){function n(){this.constructor=t}Lv(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function zv(t,e,n,r){return new(n||(n=Promise))(function(i,a){function s(t){try{l(r.next(t))}catch(t){a(t)}}function o(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,o)}l((r=r.apply(t,e||[])).next())})}function Bv(t,e){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}function Vv(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Uv=Vv(function(t){!function(t,e,n){function r(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function i(t,e){var n=new function(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}(t),i=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}e&&e.exports?e.exports=i:this.alea=i}(0,t)}),jv=Vv(function(t){!function(t,e,n){function r(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}(t),i=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}e&&e.exports?e.exports=i:this.xor128=i}(0,t)}),Wv=Vv(function(t){!function(t,e,n){function r(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),i=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}e&&e.exports?e.exports=i:this.xorwow=i}(0,t)}),Hv=Vv(function(t){!function(t,e,n){function r(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),i=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,i&&(i.x&&r(i,n),a.state=function(){return r(n,{})}),a}e&&e.exports?e.exports=i:this.xorshift7=i}(0,t)}),qv=Vv(function(t){!function(t,e,n){function r(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,a=e.i;return e.w=r=r+1640531527|0,n=i[a+34&127],t=i[a=a+1&127],n^=n<<13,t^=t<<17,n=i[a]=(n^=n>>>15)^(t^=t>>>12),e.i=a,n+(r^r>>>16)|0},function(t,e){var n,r,i,a,s,o=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),i=0,a=-32;a<l;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=0==(n=o[127&a]^=r+(s=s+1640531527|0))?i+1:0);for(i>=128&&(o[127&(e&&e.length||0)]=-1),i=127,a=512;a>0;--a)r=o[i+34&127],n=o[i=i+1&127],r^=r<<13,n^=n<<17,o[i]=(r^=r>>>15)^(n^=n>>>12);t.w=s,t.X=o,t.i=i}(e,t)}(t),i=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,i&&(i.X&&r(i,n),a.state=function(){return r(n,{})}),a}e&&e.exports?e.exports=i:this.xor4096=i}(0,t)}),$v=Vv(function(t){!function(t,e,n){function r(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}(t),i=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}e&&e.exports?e.exports=i:this.tychei=i}(0,t)}),Gv=Vv(function(t){!function(e,r){var i,a=this,s=256,o=6,l="random",u=r.pow(s,o),c=r.pow(2,52),p=2*c,h=s-1;function m(t,n,m){var y=[],v=f(function t(e,n){var r,i=[],a=typeof e;if(n&&"object"==a)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==a?e:e+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,g(e)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(s):(t=new Uint8Array(s),(a.crypto||a.msCrypto).getRandomValues(t)),g(t)}catch(t){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,g(e)]}}():t,3),y),b=new function(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);i<s;)o[i]=i++;for(i=0;i<s;i++)o[i]=o[a=h&a+t[i%n]+(e=o[i])],o[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,o=r.S;t--;)e=o[i=h&i+1],n=n*s+o[h&(o[i]=o[a=h&a+e])+(o[a]=e)];return r.i=i,r.j=a,n})(s)}(y),_=function(){for(var t=b.g(o),e=u,n=0;t<c;)t=(t+n)*s,e*=s,n=b.g(1);for(;t>=p;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|b.g(4)},_.quick=function(){return b.g(4)/4294967296},_.double=_,f(g(b.S),e),(n.pass||m||function(t,e,n,i){return i&&(i.S&&d(i,b),t.state=function(){return d(b,{})}),n?(r[l]=t,e):t})(_,v,"global"in n?n.global:this==r,n.state)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function f(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(r["seed"+l]=m,f(r.random(),e),t.exports){t.exports=m;try{i=n(3)}catch(t){}}}([],Math)});Gv.alea=Uv,Gv.xor128=jv,Gv.xorwow=Wv,Gv.xorshift7=Hv,Gv.xor4096=qv,Gv.tychei=$v;var Kv=Gv.alea;function Yv(t,e,n,r){if(void 0===n&&(n=new Map),void 0===r&&(r=new Set),null==t)return null;if(r.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);var i=e(t);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(Zv(t)){var a=Array.isArray(t)?[]:{};for(var s in r.add(t),t){var o=Yv(t[s],e,n,r);a[s]=o}return r.delete(t),a}throw new Error("Can't recurse into non-iterable type: "+t)}return n.set(t,i.value),i.value}function Xv(t){return null===t?null:Zv(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}function Qv(t,e){return zv(this,void 0,void 0,function(){var n,r,i,a,s,o;return Bv(this,function(l){switch(l.label){case 0:n=new Map,Yv(t,e,n),r=0,i=Array.from(n.keys()),l.label=1;case 1:return r<i.length?(s=n.get(a=i[r]))instanceof Promise?[4,s]:[3,3]:[3,4];case 2:o=l.sent(),n.set(a,o),l.label=3;case 3:return r++,[3,1];case 4:return[2,Yv(t,e,n)]}})})}function Zv(t){return null!=t&&(Array.isArray(t)||"object"==typeof t&&!(t instanceof ht))}function Jv(t){return function(t,e){return Yv(t,tb)}(t)}function tb(t){return t instanceof ht?{value:t.clone(),recurse:!1}:Zv(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}var eb=function(){function t(t){if(this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return t.prototype.wrap=function(t){for(;t<0;)t+=this.doubledCapacity;return t%this.doubledCapacity},t.prototype.get=function(t){if(t<0)throw new RangeError("Can't get item at a negative index.");return this.data[t%this.capacity]},t.prototype.set=function(t,e){if(t<0)throw new RangeError("Can't set item at a negative index.");this.data[t%this.capacity]=e},t.prototype.length=function(){var t=this.end-this.begin;return t<0&&(t=this.doubledCapacity+t),t},t.prototype.isFull=function(){return this.length()===this.capacity},t.prototype.isEmpty=function(){return 0===this.length()},t.prototype.push=function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,t),this.end=this.wrap(this.end+1)},t.prototype.pushAll=function(t){for(var e=0,n=t;e<n.length;e++)this.push(n[e])},t.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var t=this.get(this.end);return this.set(this.end,void 0),t},t.prototype.unshift=function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,t)},t.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),t},t.prototype.shuffleExcise=function(t){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.wrap(this.begin+t),n=this.get(e);return this.set(e,this.pop()),n},t}(),nb=function(t){function e(){return t.call(this,e.INITIAL_CAPACITY)||this}return Pv(e,t),e.prototype.isFull=function(){return!1},e.prototype.push=function(e){t.prototype.isFull.call(this)&&this.expand(),t.prototype.push.call(this,e)},e.prototype.unshift=function(e){t.prototype.isFull.call(this)&&this.expand(),t.prototype.unshift.call(this,e)},e.prototype.expand=function(){for(var t=2*this.capacity,e=new Array(t),n=this.length(),r=0;r<n;r++)e[r]=this.get(this.wrap(this.begin+r));this.data=e,this.capacity=t,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n},e.INITIAL_CAPACITY=32,e}(eb);function rb(t){return new ub(t)}function ib(t){return new cb(t)}function ab(t,e){return new wb(t,e)}function sb(t,e){return void 0===e&&(e=ob.FAIL),new xb(t,e)}var ob,lb=function(){function t(){}return t.prototype.toArray=function(){return zv(this,void 0,void 0,function(){var t,e;return Bv(this,function(n){switch(n.label){case 0:return t=[],[4,this.next()];case 1:e=n.sent(),n.label=2;case 2:return e.done?[3,4]:(t.push(e.value),[4,this.next()]);case 3:return e=n.sent(),[3,2];case 4:return[2,t]}})})},t.prototype.toArrayForTest=function(){return zv(this,void 0,void 0,function(){var t,e,n;return Bv(this,function(r){switch(r.label){case 0:return t=this.prefetch(100),e=[],[4,t.next()];case 1:n=r.sent(),r.label=2;case 2:return n.done?[3,4]:(e.push(n.value),[4,t.next()]);case 3:return n=r.sent(),[3,2];case 4:return[2,e]}})})},t.prototype.resolveFully=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){switch(e.label){case 0:return[4,this.next()];case 1:t=e.sent(),e.label=2;case 2:return t.done?[3,4]:[4,this.next()];case 3:return t=e.sent(),[3,2];case 4:return[2]}})})},t.prototype.resolveWhile=function(t){return zv(this,void 0,void 0,function(){var e,n;return Bv(this,function(r){switch(r.label){case 0:return[4,this.next()];case 1:e=r.sent(),n=t(e.value),r.label=2;case 2:return e.done||!n?[3,4]:[4,this.next()];case 3:return e=r.sent(),n=t(e.value),[3,2];case 4:return[2]}})})},t.prototype.handleErrors=function(t){return new yb(this,t)},t.prototype.filter=function(t){return new fb(this,t)},t.prototype.map=function(t){return new gb(this,t)},t.prototype.mapAsync=function(t){return new vb(this,t)},t.prototype.serialMapAsync=function(t){return new vb(this,t).serial()},t.prototype.flatmap=function(t){return new _b(this,t)},t.prototype.forEachAsync=function(t){return zv(this,void 0,void 0,function(){return Bv(this,function(e){return[2,this.map(t).resolveFully()]})})},t.prototype.serialForEach=function(t){return zv(this,void 0,void 0,function(){return Bv(this,function(e){return[2,this.serialMapAsync(t).resolveWhile(function(t){return!0===t})]})})},t.prototype.rowMajorBatch=function(t,e){return void 0===e&&(e=!0),new db(this,t,e)},t.prototype.columnMajorBatch=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=Xv),this.rowMajorBatch(t,e).map(function(t){return function(t,e){return void 0===e&&(e=Xv),function t(e,n,r){void 0===r&&(r=new Set);var i=e[0];if(r.has(i))throw new Error("Circular references are not supported.");var a=n(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(Zv(i)){var s=Array.isArray(i)?[]:{};r.add(i);var o=function(i){var a=t(e.map(function(t){return t[i]}),n,r);s[i]=a};for(var l in i)o(l);return r.delete(i),s}throw new Error("Can't recurse into non-iterable type: "+i)}return a.value}(t,e)}(t,n)})},t.prototype.concatenate=function(t,e){return new wb(rb([this,t]),e)},t.prototype.take=function(t){return t<0||null==t?this:new mb(this,t)},t.prototype.skip=function(t){return t<0||null==t?this:new hb(this,t)},t.prototype.prefetch=function(t){return new Cb(this,t)},t.prototype.shuffle=function(t,e){return new Sb(this,t,e)},t.prototype.serial=function(){return new pb(this)},t}(),ub=function(t){function e(e){var n=t.call(this)||this;return n.items=e,n.trav=0,n}return Pv(e,t),e.prototype.summary=function(){return"Array of "+this.items.length+" items"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(t=this.items[this.trav],this.trav++,[2,{value:Jv(t),done:!1}])})})},e}(lb),cb=function(t){function e(e){var n=t.call(this)||this;return n.nextFn=e,n}return Pv(e,t),e.prototype.summary=function(){return"Function call"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){try{return[2,this.nextFn()]}catch(t){throw t.message="Error thrown while iterating through a dataset: "+t.message,t}return[2]})})},e}(lb),pb=function(t){function e(e){var n=t.call(this)||this;return n.upstream=e,n.lastRead=Promise.resolve({value:null,done:!1}),n}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){return[2,this.upstream.next()]})})},e}(lb),hb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.maxCount=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){switch(e.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(t=e.sent()).done?[2,t]:(Le(t.value),[3,0]);case 2:return[2,this.upstream.next()]}})})},e}(lb),mb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.maxCount=n,r.count=0,r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Take"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]})})},e}(lb),db=function(t){function e(e,n,r){void 0===r&&(r=!0);var i=t.call(this)||this;return i.upstream=e,i.batchSize=n,i.enableSmallLastBatch=r,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){var t,e;return Bv(this,function(n){switch(n.label){case 0:t=[],n.label=1;case 1:return t.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(e=n.sent()).done?this.enableSmallLastBatch&&t.length>0?[2,{value:t,done:!1}]:[2,{value:null,done:!0}]:(t.push(e.value),[3,1]);case 3:return[2,{value:t,done:!1}]}})})},e}(lb),fb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.predicate=n,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){switch(e.label){case 0:return[4,this.upstream.next()];case 1:return(t=e.sent()).done||this.predicate(t.value)?[2,t]:(Le(t.value),[3,0]);case 2:return[2]}})})},e}(lb),gb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.transform=n,r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Map"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t,e,n,r,i,a,s;return Bv(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:if((t=o.sent()).done)return[2,{value:null,done:!0}];for(e=Tt.getTensorsInContainer(t.value),n=this.transform(t.value),r=Tt.getTensorsInContainer(n),i=0,a=e;i<a.length;i++)Tt.isTensorInList(s=a[i],r)||s.dispose();return[2,{value:n,done:!1}]}})})},e}(lb),yb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.handler=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){switch(e.label){case 0:e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,e.sent()];case 3:return t=e.sent(),this.handler(t)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}})})},e}(lb),vb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.transform=n,r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t,e,n,r,i,a,s;return Bv(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:return(t=o.sent()).done?[2,{value:null,done:!0}]:(e=Tt.getTensorsInContainer(t.value),[4,this.transform(t.value)]);case 2:for(n=o.sent(),r=Tt.getTensorsInContainer(n),i=0,a=e;i<a.length;i++)Tt.isTensorInList(s=a[i],r)||s.dispose();return[2,{value:n,done:!1}]}})})},e}(lb),bb=function(t){function e(){var e=t.call(this)||this;return e.outputQueue=new nb,e.lastRead=Promise.resolve({value:null,done:!1}),e}return Pv(e,t),e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return t.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}})})},e}(lb),_b=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.transform=n,r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},e.prototype.pump=function(){return zv(this,void 0,void 0,function(){var t,e,n,r,i,a,s;return Bv(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:if((t=o.sent()).done)return[2,!1];for(e=Tt.getTensorsInContainer(t.value),n=this.transform(t.value),r=Tt.getTensorsInContainer(n),this.outputQueue.pushAll(n),i=0,a=e;i<a.length;i++)Tt.isTensorInList(s=a[i],r)||s.dispose();return[2,!0]}})})},e}(bb),wb=function(t){function e(e,n){var r=t.call(this)||this;return r.baseErrorHandler=n,r.lastRead=null,r.iterator=null,r.moreIterators=e,r}return Pv(e,t),e.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},e.prototype.next=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]})})},e.prototype.readFromChain=function(t){return zv(this,void 0,void 0,function(){var e,n;return Bv(this,function(r){switch(r.label){case 0:return[4,t];case 1:return r.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((e=r.sent()).done)return[2,{value:null,done:!0}];this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),r.label=3;case 3:return[4,this.iterator.next()];case 4:return(n=r.sent()).done?(this.iterator=null,[2,this.readFromChain(t)]):[2,n]}})})},e}(lb);!function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"}(ob||(ob={}));var xb=function(t){function e(e,n){void 0===n&&(n=ob.FAIL);var r=t.call(this)||this;return r.iterators=e,r.mismatchMode=n,r.count=0,r.currentPromise=null,r}return Pv(e,t),e.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},e.prototype.nextState=function(t){return zv(this,void 0,void 0,function(){function e(t){return t instanceof lb?{value:t.next().then(function(t){return n++,t.done&&r++,t.value}),recurse:!1}:{value:null,recurse:!0}}var n,r,i;return Bv(this,function(a){switch(a.label){case 0:return[4,t];case 1:return a.sent(),n=0,r=0,[4,Qv(this.iterators,e)];case 2:if(i=a.sent(),n===r)return[2,{value:null,done:!0}];if(r>0)switch(this.mismatchMode){case ob.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case ob.SHORTEST:return[2,{value:null,done:!0}]}return this.count++,[2,{value:i,done:!1}]}})})},e.prototype.next=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:return this.currentPromise=this.nextState(this.currentPromise),[4,this.currentPromise];case 1:return[2,t.sent()]}})})},e}(lb),Cb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.bufferSize=n,r.buffer=new eb(n),r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},e.prototype.refill=function(){for(;!this.buffer.isFull();){var t=this.upstream.next();this.buffer.push(t)}},e.prototype.next=function(){return this.refill(),this.buffer.shift()},e}(lb),Sb=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.upstream=e,i.windowSize=n,i.upstreamExhausted=!1,i.random=Kv(r||et.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return Pv(e,t),e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t=this;return Bv(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.randomInt=function(t){return Math.floor(this.random()*t)},e.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},e.prototype.serialNext=function(){return zv(this,void 0,void 0,function(){var t,e;return Bv(this,function(n){switch(n.label){case 0:this.upstreamExhausted||this.refill(),n.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(t=this.chooseIndex(),[4,this.buffer.shuffleExcise(t)]);case 2:return(e=n.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,e]);case 3:return[2,{value:null,done:!0}]}})})},e}(Cb),Eb=function(){function t(){this.size=null}return t.prototype.batch=function(t,e){var n=this;void 0===e&&(e=!0);var r=this;return et.assert(t>0,function(){return"batchSize needs to be positive, but it is\n      "+t}),kb(function(){return zv(n,void 0,void 0,function(){return Bv(this,function(n){switch(n.label){case 0:return[4,r.iterator()];case 1:return[2,n.sent().columnMajorBatch(t,e,Ib)]}})})},this.size===1/0||null==this.size?this.size:e?Math.ceil(this.size/t):Math.floor(this.size/t))},t.prototype.concatenate=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){var e,r;return Bv(this,function(i){switch(i.label){case 0:return[4,n.iterator()];case 1:return r=(e=i.sent()).concatenate,[4,t.iterator()];case 2:return[2,r.apply(e,[i.sent()])]}})})},this.size===1/0||t.size===1/0?1/0:null!=this.size&&null!=t.size?this.size+t.size:null)},t.prototype.filter=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().filter(function(e){return Fe(function(){return t(e)})})]}})})},this.size===1/0?1/0:null)},t.prototype.forEachAsync=function(t){return zv(this,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,this.iterator()];case 1:return[2,e.sent().forEachAsync(t)]}})})},t.prototype.forEach=function(t){return zv(this,void 0,void 0,function(){return Bv(this,function(e){return Re("dataset.forEach() is deprecated and will be removed. Please use dataset.forEachAsync() instead"),[2,this.forEachAsync(t)]})})},t.prototype.map=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().map(function(e){return Fe(function(){return t(e)})})]}})})},this.size)},t.prototype.mapAsync=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().mapAsync(t)]}})})},this.size)},t.prototype.prefetch=function(t){var e=this;if(null==t)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var n=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().prefetch(t)]}})})},this.size)},t.prototype.repeat=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){var e=this;return Bv(this,function(r){return[2,ab(ib(function(){return zv(e,void 0,void 0,function(){var t;return Bv(this,function(e){switch(e.label){case 0:return t={},[4,n.iterator()];case 1:return[2,(t.value=e.sent(),t.done=!1,t)]}})})}).take(t))]})})},null!=this.size&&t>0?this.size*t:0===t?0:null!=this.size&&(void 0===t||t<0)?1/0:null)},t.prototype.skip=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().skip(t)]}})})},null!=this.size&&t>=0&&this.size>=t?this.size-t:null!=this.size&&(this.size<t||void 0===t||t<0)?0:null)},t.prototype.shuffle=function(t,e,n){var r=this;if(void 0===n&&(n=!0),null==t||t<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size ("+this.size+" elements)");var i=this,a=Kv(e||et.now().toString());return kb(function(){return zv(r,void 0,void 0,function(){var e;return Bv(this,function(r){switch(r.label){case 0:return e=a.int32(),n&&(e+=a.int32()),[4,i.iterator()];case 1:return[2,r.sent().shuffle(t,e.toString())]}})})},this.size)},t.prototype.take=function(t){var e=this,n=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().take(t)]}})})},null!=this.size&&this.size>t?t:null!=this.size&&this.size<=t?this.size:null)},t.prototype.toArray=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,t.sent().toArray()]}})})},t.prototype.toArrayForTest=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,t.sent().toArrayForTest()]}})})},t.MAX_BUFFER_SIZE=1e4,t}();function kb(t,e){return void 0===e&&(e=null),new(function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.size=e,t}return Pv(r,n),r.prototype.iterator=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(e){return[2,t()]})})},r}(Eb))}function Ab(t){var e=this;return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(e){return[2,rb(t)]})})},t.length)}function Tb(t){var e,n=this;if(!Zv(t))throw new Error("The argument to zip() must be an object or array.");if(Array.isArray(t))for(var r=0;r<t.length;r++)e=null==e?t[r].size:Math.min(e,t[r].size);else if(t instanceof Object)for(var i in t)e=null==e?t[i].size:Math.min(e,t[i].size);return kb(function(){return zv(n,void 0,void 0,function(){return Bv(this,function(e){switch(e.label){case 0:return[4,Qv(t,function(t){if(t instanceof Eb)return{value:t.iterator(),recurse:!1};if(Zv(t))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")})];case 1:return[2,sb(e.sent(),ob.SHORTEST)]}})})},e)}function Ib(t){return null===t?null:function(t){return null==t||function(t){return null===t||"object"!=typeof t&&"function"!=typeof t}(t)||Array.isArray(t)||"object"==typeof t&&t instanceof ht||et.isTypedArray(t)}(t[0])?{value:Nb(t),recurse:!1}:{value:null,recurse:!0}}function Nb(t){if(0===t.length)throw new Error("Can't make a batch of zero elements.");return t[0]instanceof ht?ci(t):Pn(t)}var Rb=function(t){function e(e){var n=t.call(this)||this;return n.input=e,n}return Pv(e,t),e.prototype.iterator=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:return[4,this.input.iterator()];case 1:return[2,t.sent().decodeUTF8().split("\n").map(function(t){return t.endsWith("\r")&&(t=t.slice(0,-1)),t})]}})})},e}(Eb),Db=Symbol("out"),Ob=Symbol("field"),Mb=Symbol("quote"),Fb=Symbol("quoteafterquote"),Lb=Symbol("quoteinquote"),Pb=function(t){function e(e,n){var r=t.call(this)||this;return r.input=e,r.hasHeader=!0,r.fullColumnNames=null,r.columnNamesValidated=!1,r.columnConfigs=null,r.configuredColumnsOnly=!1,r.delimiter=",",r.delimWhitespace=!1,r.base=new Rb(e),n||(n={}),r.hasHeader=!1!==n.hasHeader,r.fullColumnNames=n.columnNames,r.columnConfigs=n.columnConfigs,r.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(et.assert(null==n.delimiter,function(){return"Delimiter should not be provided when delimWhitespace is true."}),r.delimWhitespace=!0,r.delimiter=" "):r.delimiter=n.delimiter?n.delimiter:",",r}return Pv(e,t),e.prototype.columnNames=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:t.sent(),t.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}})})},e.prototype.setColumnNames=function(){return zv(this,void 0,void 0,function(){var t,e,n,r,i,a,s=this;return Bv(this,function(o){switch(o.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(t=o.sent(),!this.fullColumnNames&&!t)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&t&&et.assert(t.length===this.fullColumnNames.length,function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."}),this.fullColumnNames||(this.fullColumnNames=t),e=this.fullColumnNames.reduce(function(t,e){return t[e]=t[e]+1||1,t},{}),n=Object.keys(e).filter(function(t){return e[t]>1}),et.assert(0===n.length,function(){return"Duplicate column names found: "+n.toString()}),this.columnConfigs)for(r=0,i=Object.keys(this.columnConfigs);r<i.length;r++)if(-1===this.fullColumnNames.indexOf(a=i[r]))throw new Error('The key "'+a+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}})})},e.prototype.maybeReadHeaderLine=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){switch(e.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,e.sent().next()];case 2:if((t=e.sent()).done)throw new Error("No data was found for CSV parsing.");return[2,this.parseRow(t.value,!1)];case 3:return[2,null]}})})},e.prototype.iterator=function(){return zv(this,void 0,void 0,function(){var t,e=this;return Bv(this,function(n){switch(n.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:n.sent(),n.label=2;case 2:return[4,this.base.iterator()];case 3:return t=n.sent(),this.hasHeader&&(t=t.skip(1)),[2,t.map(function(t){return e.makeDataElement(t)})]}})})},e.prototype.makeDataElement=function(t){for(var e=this.parseRow(t),n={},r={},i=0;i<this.fullColumnNames.length;i++){var a=this.fullColumnNames[i],s=this.columnConfigs?this.columnConfigs[a]:null;if(!this.configuredColumnsOnly||s){var o=e[i],l=null;if(""===o)if(s&&void 0!==s.default)l=s.default;else{if(s&&(s.required||s.isLabel))throw new Error("Required column "+a+" is empty in this line: "+t);l=void 0}else{var u=Number(o);if(isNaN(u))l=s&&"bool"===s.dtype?this.getBoolean(o):o;else if(s&&s.dtype)switch(s.dtype){case"float32":l=u;break;case"int32":l=Math.floor(u);break;case"bool":l=this.getBoolean(o);break;default:l=u}else l=u}s&&s.isLabel?r[a]=l:n[a]=l}}return 0===Object.keys(r).length?n:{xs:n,ys:r}},e.prototype.getBoolean=function(t){return"1"===t||"true"===t.toLowerCase()?1:0},e.prototype.parseRow=function(t,e){void 0===e&&(e=!0);for(var n=[],r=0,i=t.length,a=Db,s=0;s<i;s++)switch(a){case Db:switch(t.charAt(s)){case'"':r=s+1,a=Mb;break;case this.delimiter:if(r=s+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),a=Db;break;default:a=Ob,r=s}break;case Ob:switch(t.charAt(s)){case this.delimiter:n.push(t.substring(r,s)),a=Db,r=s+1}break;case Mb:switch(t.charAt(s)){case'"':a=Fb}break;case Fb:switch(t.charAt(s)){case this.delimiter:n.push(t.substring(r,s-1)),a=Db,r=s+1;break;case'"':a=Mb;break;default:a=Lb}break;case Lb:switch(t.charAt(s)){case'"':a=Mb}}if(n.push(a===Fb?t.substring(r,i-1):t.substring(r)),e&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have "+this.fullColumnNames.length+" elements in a row, but got "+n);return n},e}(Eb),zb=function(t){function e(e,n){var r=t.call(this)||this;if(r.webcamVideoElement=e,r.webcamConfig=n,r.isClosed=!0,r.resize=!1,r.needToResize())if(r.resize=!0,r.cropSize=[r.webcamConfig.resizeHeight,r.webcamConfig.resizeWidth],r.cropBoxInd=Bn([0],"int32"),r.webcamConfig.centerCrop){var i=1*r.webcamConfig.resizeWidth/r.webcamVideoElement.width,a=1*r.webcamConfig.resizeHeight/r.webcamVideoElement.height,s=(1-i)/2,o=(1-a)/2;r.cropBox=Vn([o,s,a+o,s+i],[1,4])}else r.cropBox=Vn([0,0,1,1],[1,4]);return r}return Pv(e,t),e.prototype.summary=function(){return"webcam"},e.create=function(t,n){return void 0===n&&(n={}),zv(this,void 0,void 0,function(){var r;return Bv(this,function(i){switch(i.label){case 0:if(u.get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!t){if(t=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");t.width=n.resizeWidth,t.height=n.resizeHeight}return[4,(r=new e(t,n)).start()];case 1:return i.sent(),[2,r]}})})},e.prototype.start=function(){return zv(this,void 0,void 0,function(){var t,e,n=this;return Bv(this,function(r){switch(r.label){case 0:this.webcamConfig.facingMode&&et.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,function(){return"Invalid webcam facing mode: "+n.webcamConfig.facingMode+". Please provide 'user' or 'environment'"}),r.label=1;case 1:return r.trys.push([1,3,,4]),t=this,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})];case 2:return t.stream=r.sent(),[3,4];case 3:throw(e=r.sent()).message="Error thrown while initializing video stream: "+e.message,e;case 4:if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(t){console.log(t),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,[2,new Promise(function(t){n.webcamVideoElement.onloadedmetadata=function(){t()}})]}})})},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){if(this.isClosed)return[2,{value:null,done:!0}];try{t=rp.fromPixels(this.webcamVideoElement)}catch(t){throw new Error("Error thrown converting video to pixels: "+JSON.stringify(t))}if(!this.resize)return[2,{value:t,done:!1}];try{return[2,{value:this.cropAndResizeFrame(t),done:!1}]}catch(t){throw new Error("Error thrown cropping the video: "+t.message)}finally{t.dispose()}return[2]})})},e.prototype.needToResize=function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)},e.prototype.cropAndResizeFrame=function(t){var e=this;return Fe(function(){var n,r=t.toFloat().expandDims(0),i=(n=Zu.cropAndResize(r,e.cropBox,e.cropBoxInd,e.cropSize,"bilinear")).shape;return n.reshape(i.slice(1))})},e.prototype.capture=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){switch(t.label){case 0:return[4,this.next()];case 1:return[2,t.sent().value]}})})},e.prototype.stop=function(){this.stream.getTracks().forEach(function(t){return t.stop()});try{this.webcamVideoElement.srcObject=null}catch(t){console.log(t),this.webcamVideoElement.src=null}this.isClosed=!0},e.prototype.toArray=function(){throw new Error("Can not convert infinite video stream to array.")},e}(lb),Bb=function(){},Vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pv(e,t),e.prototype.split=function(t){return new Ub(this,t)},e}(lb),Ub=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.impl=new jb(e,n),r}return Pv(e,t),e.prototype.summary=function(){return this.impl.summary()},e.prototype.next=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){return[2,this.impl.next()]})})},e}(Vb),jb=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.separator=n,r.carryover="",r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},e.prototype.pump=function(){return zv(this,void 0,void 0,function(){var t,e,n,r;return Bv(this,function(i){switch(i.label){case 0:return[4,this.upstream.next()];case 1:if((t=i.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((e=t.value.split(this.separator))[0]=this.carryover+e[0],n=0,r=e.slice(0,-1);n<r.length;n++)this.outputQueue.push(r[n]);return this.carryover=e[e.length-1],[2,!0]}})})},e}(bb),Wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pv(e,t),e.prototype.decodeUTF8=function(){return new Hb(this)},e}(lb),Hb=function(t){function e(e){var n=t.call(this)||this;return n.upstream=e,n.impl=new qb(e),n}return Pv(e,t),e.prototype.summary=function(){return this.impl.summary()},e.prototype.next=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){return[2,this.impl.next()]})})},e}(Vb),qb=function(t){function e(e){var r=t.call(this)||this;if(r.upstream=e,u.get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var i=n(4).StringDecoder;r.decoder=new i("utf8")}return r}return Pv(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},e.prototype.pump=function(){return zv(this,void 0,void 0,function(){var t,e,n;return Bv(this,function(r){switch(r.label){case 0:return[4,this.upstream.next()];case 1:return(t=r.sent()).done?[2,!1]:(e=t.value,n=u.get("IS_BROWSER")?this.decoder.decode(e,{stream:!0}):this.decoder.write(Buffer.from(e.buffer)),this.outputQueue.push(n),[2,!0])}})})},e}(bb),$b=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.file=e,r.options=n,et.assert(e instanceof Uint8Array||!!u.get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."}),r.offset=n.offset||0,r.chunkSize=n.chunkSize||1048576,r}return Pv(e,t),e.prototype.summary=function(){return"FileChunks "+this.file},e.prototype.next=function(){return zv(this,void 0,void 0,function(){var t,e,n=this;return Bv(this,function(r){switch(r.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(t=new Promise(function(t,e){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)t(new Uint8Array(n.file.slice(n.offset,r)));else{var i=new FileReader;i.onload=function(n){var r=i.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return e(new TypeError("FileReader returned unknown type."));t(r)},i.onabort=function(t){return e(new Error("Aborted"))},i.onerror=function(t){return e(new Error(t.type))};var a=n.file.slice(n.offset,r);i.readAsArrayBuffer(a)}n.offset=r}),e={},[4,t]);case 1:return[2,(e.value=r.sent(),e.done=!1,e)]}})})},e}(Wb);function Gb(t,e){return void 0===e&&(e={}),zv(this,void 0,void 0,function(){var r,i,a,s;return Bv(this,function(o){switch(o.label){case 0:return u.get("IS_BROWSER")?[4,fetch(t)]:[3,5];case 1:return(r=o.sent()).ok?[4,r.blob()]:[3,3];case 2:return i=o.sent(),[2,new $b(i,e)];case 3:throw new Error(r.statusText);case 4:return[3,9];case 5:if(a=n(5),"string"!=typeof t)throw new Error("URL must be a string. Request objects are not supported in the node.js environment yet.");return[4,a(t)];case 6:return(r=o.sent()).ok?[4,r.buffer()]:[3,8];case 7:return s=o.sent(),[2,new $b(s,e)];case 8:throw new Error(r.statusText);case 9:return[2]}})})}function Kb(t){return"string"==typeof t&&"file://"===t.substr(0,7)}var Yb=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.input=e,r.options=n,r}return Pv(e,t),e.prototype.iterator=function(){return zv(this,void 0,void 0,function(){var t;return Bv(this,function(e){return Kb(this.input)&&u.get("IS_NODE")&&(t=n(6),this.input=t.readFileSync(this.input.substr(7))),[2,new $b(this.input,this.options)]})})},e}(Bb),Xb=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.url=e,r.fileOptions=n,r}return Pv(e,t),e.prototype.iterator=function(){return zv(this,void 0,void 0,function(){return Bv(this,function(t){return Kb(this.url)?[2,new Yb(this.url,this.fileOptions).iterator()]:[2,Gb(this.url,this.fileOptions)]})})},e}(Bb);function Qb(t,e){return void 0===e&&(e={}),new Pb(new Xb(t),e)}function Zb(t){var e=this,n=ib(t);return kb(function(){return zv(e,void 0,void 0,function(){return Bv(this,function(t){return[2,n]})})})}function Jb(t){var e=this;return kb(function(){return zv(e,void 0,void 0,function(){var e;return Bv(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),[2,ib(function(){return e.next()})]}})})})}function t_(t,e){return zv(this,void 0,void 0,function(){return Bv(this,function(n){return[2,zb.create(t,e)]})})}var e_="1.2.1";n.d(e,"version",function(){return n_}),n.d(e,"AdadeltaOptimizer",function(){return gp}),n.d(e,"AdagradOptimizer",function(){return yp}),n.d(e,"AdamOptimizer",function(){return vp}),n.d(e,"AdamaxOptimizer",function(){return bp}),n.d(e,"DataStorage",function(){return Zn}),n.d(e,"ENV",function(){return u}),n.d(e,"Environment",function(){return c}),n.d(e,"KernelBackend",function(){return Jn}),n.d(e,"MomentumOptimizer",function(){return wp}),n.d(e,"Optimizer",function(){return fp}),n.d(e,"RMSPropOptimizer",function(){return xp}),n.d(e,"Rank",function(){return dt}),n.d(e,"Reduction",function(){return Tu}),n.d(e,"SGDOptimizer",function(){return _p}),n.d(e,"Tensor",function(){return ht}),n.d(e,"TensorBuffer",function(){return lt}),n.d(e,"Variable",function(){return mt}),n.d(e,"abs",function(){return Ms}),n.d(e,"acos",function(){return Fs}),n.d(e,"acosh",function(){return Ls}),n.d(e,"add",function(){return Tl}),n.d(e,"addN",function(){return Il}),n.d(e,"addStrict",function(){return Nl}),n.d(e,"all",function(){return al}),n.d(e,"any",function(){return sl}),n.d(e,"argMax",function(){return ol}),n.d(e,"argMin",function(){return ll}),n.d(e,"asin",function(){return Ps}),n.d(e,"asinh",function(){return zs}),n.d(e,"atan",function(){return Bs}),n.d(e,"atan2",function(){return Rl}),n.d(e,"atanh",function(){return Vs}),n.d(e,"avgPool",function(){return Qo}),n.d(e,"backend",function(){return $e}),n.d(e,"backend_util",function(){return gr}),n.d(e,"basicLSTMCell",function(){return mu}),n.d(e,"batchNorm",function(){return ko}),n.d(e,"batchNorm2d",function(){return Ao}),n.d(e,"batchNorm3d",function(){return To}),n.d(e,"batchNorm4d",function(){return Io}),n.d(e,"batchNormalization",function(){return Eo}),n.d(e,"batchNormalization2d",function(){return xo}),n.d(e,"batchNormalization3d",function(){return Co}),n.d(e,"batchNormalization4d",function(){return So}),n.d(e,"batchToSpaceND",function(){return Hr}),n.d(e,"browser",function(){return rp}),n.d(e,"buffer",function(){return jr}),n.d(e,"cast",function(){return qr}),n.d(e,"ceil",function(){return Us}),n.d(e,"clipByValue",function(){return js}),n.d(e,"clone",function(){return $r}),n.d(e,"complex",function(){return Mn}),n.d(e,"concat",function(){return Er}),n.d(e,"concat1d",function(){return kr}),n.d(e,"concat2d",function(){return Ar}),n.d(e,"concat3d",function(){return Tr}),n.d(e,"concat4d",function(){return Ir}),n.d(e,"conv1d",function(){return Oo}),n.d(e,"conv2d",function(){return Mo}),n.d(e,"conv2dDerFilter",function(){return Lo}),n.d(e,"conv2dTranspose",function(){return Bo}),n.d(e,"conv3d",function(){return Fo}),n.d(e,"cos",function(){return Ws}),n.d(e,"cosh",function(){return Hs}),n.d(e,"cumsum",function(){return Gr}),n.d(e,"customGrad",function(){return In}),n.d(e,"deprecationWarn",function(){return Re}),n.d(e,"depthToSpace",function(){return Kr}),n.d(e,"depthwiseConv2d",function(){return Po}),n.d(e,"disableDeprecationWarnings",function(){return Ne}),n.d(e,"dispose",function(){return Le}),n.d(e,"disposeVariables",function(){return De}),n.d(e,"div",function(){return Dl}),n.d(e,"divStrict",function(){return Ol}),n.d(e,"dot",function(){return Uo}),n.d(e,"dropout",function(){return ku}),n.d(e,"elu",function(){return eu}),n.d(e,"enableDebugMode",function(){return Ie}),n.d(e,"enableProdMode",function(){return Te}),n.d(e,"environment",function(){return m}),n.d(e,"equal",function(){return gl}),n.d(e,"equalStrict",function(){return yl}),n.d(e,"erf",function(){return qs}),n.d(e,"exp",function(){return $s}),n.d(e,"expandDims",function(){return Yr}),n.d(e,"expm1",function(){return Gs}),n.d(e,"eye",function(){return Xr}),n.d(e,"fft",function(){return bu}),n.d(e,"fill",function(){return Gn}),n.d(e,"findBackend",function(){return We}),n.d(e,"findBackendFactory",function(){return He}),n.d(e,"floor",function(){return Ks}),n.d(e,"floorDiv",function(){return Ml}),n.d(e,"frame",function(){return Ru}),n.d(e,"fused",function(){return tc}),n.d(e,"gather",function(){return pu}),n.d(e,"gatherND",function(){return Eu}),n.d(e,"getBackend",function(){return Ue}),n.d(e,"grad",function(){return Sn}),n.d(e,"grads",function(){return En}),n.d(e,"greater",function(){return vl}),n.d(e,"greaterEqual",function(){return bl}),n.d(e,"greaterEqualStrict",function(){return _l}),n.d(e,"greaterStrict",function(){return wl}),n.d(e,"hammingWindow",function(){return Nu}),n.d(e,"hannWindow",function(){return Iu}),n.d(e,"ifft",function(){return _u}),n.d(e,"imag",function(){return Ln}),n.d(e,"image",function(){return Zu}),n.d(e,"io",function(){return Jc}),n.d(e,"irfft",function(){return xu}),n.d(e,"isFinite",function(){return so}),n.d(e,"isInf",function(){return ao}),n.d(e,"isNaN",function(){return io}),n.d(e,"keep",function(){return Pe}),n.d(e,"leakyRelu",function(){return nu}),n.d(e,"less",function(){return xl}),n.d(e,"lessEqual",function(){return Cl}),n.d(e,"lessEqualStrict",function(){return Sl}),n.d(e,"lessStrict",function(){return El}),n.d(e,"linalg",function(){return $u}),n.d(e,"linspace",function(){return Kn}),n.d(e,"localResponseNormalization",function(){return ou}),n.d(e,"log",function(){return Ys}),n.d(e,"log1p",function(){return Xs}),n.d(e,"logSigmoid",function(){return Qs}),n.d(e,"logSoftmax",function(){return On}),n.d(e,"logSumExp",function(){return ul}),n.d(e,"logicalAnd",function(){return Yl}),n.d(e,"logicalNot",function(){return Xl}),n.d(e,"logicalOr",function(){return Ql}),n.d(e,"logicalXor",function(){return Zl}),n.d(e,"losses",function(){return ju}),n.d(e,"matMul",function(){return Vo}),n.d(e,"math",function(){return ep}),n.d(e,"max",function(){return cl}),n.d(e,"maxPool",function(){return Xo}),n.d(e,"maximum",function(){return Fl}),n.d(e,"maximumStrict",function(){return Ll}),n.d(e,"mean",function(){return pl}),n.d(e,"memory",function(){return Oe}),n.d(e,"min",function(){return hl}),n.d(e,"minimum",function(){return Pl}),n.d(e,"minimumStrict",function(){return zl}),n.d(e,"mod",function(){return Bl}),n.d(e,"modStrict",function(){return Vl}),n.d(e,"moments",function(){return ml}),n.d(e,"movingAverage",function(){return fu}),n.d(e,"mul",function(){return Ul}),n.d(e,"mulStrict",function(){return jl}),n.d(e,"multiRNNCell",function(){return du}),n.d(e,"multinomial",function(){return Qr}),n.d(e,"neg",function(){return Zs}),n.d(e,"nextFrame",function(){return kp}),n.d(e,"norm",function(){return lu}),n.d(e,"notEqual",function(){return kl}),n.d(e,"notEqualStrict",function(){return Al}),n.d(e,"oneHot",function(){return Zr}),n.d(e,"ones",function(){return qn}),n.d(e,"onesLike",function(){return Xn}),n.d(e,"op",function(){return Rn}),n.d(e,"outerProduct",function(){return jo}),n.d(e,"pad",function(){return Jr}),n.d(e,"pad1d",function(){return ti}),n.d(e,"pad2d",function(){return ei}),n.d(e,"pad3d",function(){return ni}),n.d(e,"pad4d",function(){return ri}),n.d(e,"pool",function(){return Zo}),n.d(e,"pow",function(){return Wl}),n.d(e,"powStrict",function(){return Hl}),n.d(e,"prelu",function(){return ru}),n.d(e,"print",function(){return Wr}),n.d(e,"prod",function(){return fl}),n.d(e,"profile",function(){return Me}),n.d(e,"rand",function(){return ii}),n.d(e,"randomNormal",function(){return ai}),n.d(e,"randomUniform",function(){return si}),n.d(e,"range",function(){return Yn}),n.d(e,"ready",function(){return Ve}),n.d(e,"real",function(){return Fn}),n.d(e,"reciprocal",function(){return Js}),n.d(e,"registerBackend",function(){return qe}),n.d(e,"relu",function(){return iu}),n.d(e,"removeBackend",function(){return je}),n.d(e,"reshape",function(){return oi}),n.d(e,"reverse",function(){return Wo}),n.d(e,"reverse1d",function(){return Ho}),n.d(e,"reverse2d",function(){return qo}),n.d(e,"reverse3d",function(){return $o}),n.d(e,"reverse4d",function(){return Go}),n.d(e,"rfft",function(){return wu}),n.d(e,"round",function(){return to}),n.d(e,"rsqrt",function(){return eo}),n.d(e,"scalar",function(){return zn}),n.d(e,"scatterND",function(){return vu}),n.d(e,"selu",function(){return au}),n.d(e,"separableConv2d",function(){return zo}),n.d(e,"serialization",function(){return op}),n.d(e,"setBackend",function(){return Be}),n.d(e,"setPlatform",function(){return Ge}),n.d(e,"setdiff1dAsync",function(){return di}),n.d(e,"sigmoid",function(){return no}),n.d(e,"sign",function(){return ro}),n.d(e,"signal",function(){return Du}),n.d(e,"sin",function(){return oo}),n.d(e,"sinh",function(){return lo}),n.d(e,"slice",function(){return Jo}),n.d(e,"slice1d",function(){return tl}),n.d(e,"slice2d",function(){return el}),n.d(e,"slice3d",function(){return nl}),n.d(e,"slice4d",function(){return rl}),n.d(e,"softmax",function(){return Dn}),n.d(e,"softplus",function(){return uo}),n.d(e,"spaceToBatchND",function(){return li}),n.d(e,"sparseToDense",function(){return Su}),n.d(e,"spectral",function(){return Cu}),n.d(e,"split",function(){return Nr}),n.d(e,"sqrt",function(){return co}),n.d(e,"square",function(){return po}),n.d(e,"squaredDifference",function(){return ql}),n.d(e,"squaredDifferenceStrict",function(){return $l}),n.d(e,"squeeze",function(){return ui}),n.d(e,"stack",function(){return ci}),n.d(e,"step",function(){return ho}),n.d(e,"stridedSlice",function(){return gu}),n.d(e,"sub",function(){return Gl}),n.d(e,"subStrict",function(){return Kl}),n.d(e,"sum",function(){return dl}),n.d(e,"tan",function(){return mo}),n.d(e,"tanh",function(){return fo}),n.d(e,"tensor",function(){return Pn}),n.d(e,"tensor1d",function(){return Bn}),n.d(e,"tensor2d",function(){return Vn}),n.d(e,"tensor3d",function(){return Un}),n.d(e,"tensor4d",function(){return jn}),n.d(e,"tensor5d",function(){return Wn}),n.d(e,"tensor6d",function(){return Hn}),n.d(e,"tensor_util",function(){return Tt}),n.d(e,"test_util",function(){return mp}),n.d(e,"tidy",function(){return Fe}),n.d(e,"tile",function(){return pi}),n.d(e,"time",function(){return ze}),n.d(e,"topk",function(){return yu}),n.d(e,"train",function(){return Sp}),n.d(e,"transpose",function(){return su}),n.d(e,"truncatedNormal",function(){return hi}),n.d(e,"unsortedSegmentSum",function(){return hu}),n.d(e,"unstack",function(){return mi}),n.d(e,"util",function(){return et}),n.d(e,"valueAndGrad",function(){return kn}),n.d(e,"valueAndGrads",function(){return An}),n.d(e,"variable",function(){return _t}),n.d(e,"variableGrads",function(){return Tn}),n.d(e,"version_core",function(){return"1.2.1"}),n.d(e,"webgl",function(){return dp}),n.d(e,"where",function(){return Jl}),n.d(e,"whereAsync",function(){return tu}),n.d(e,"zeros",function(){return $n}),n.d(e,"zerosLike",function(){return Qn}),n.d(e,"constraints",function(){return ph}),n.d(e,"initializers",function(){return gm}),n.d(e,"layers",function(){return ly}),n.d(e,"metrics",function(){return uy}),n.d(e,"models",function(){return cy}),n.d(e,"regularizers",function(){return py}),n.d(e,"CallbackList",function(){return Hm}),n.d(e,"CustomCallback",function(){return Gm}),n.d(e,"History",function(){return $m}),n.d(e,"Callback",function(){return hy}),n.d(e,"callbacks",function(){return vy}),n.d(e,"EarlyStopping",function(){return yy}),n.d(e,"InputSpec",function(){return Dm}),n.d(e,"SymbolicTensor",function(){return Om}),n.d(e,"LayersModel",function(){return of}),n.d(e,"input",function(){return mf}),n.d(e,"loadLayersModel",function(){return hf}),n.d(e,"model",function(){return cf}),n.d(e,"registerCallbackConstructor",function(){return df}),n.d(e,"sequential",function(){return pf}),n.d(e,"RNN",function(){return jg}),n.d(e,"Sequential",function(){return uf}),n.d(e,"LayerVariable",function(){return Am}),n.d(e,"version_layers",function(){return"1.2.1"}),n.d(e,"GraphModel",function(){return Mv}),n.d(e,"loadGraphModel",function(){return Fv}),n.d(e,"deregisterOp",function(){return Ey}),n.d(e,"registerOp",function(){return Cy}),n.d(e,"version_converter",function(){return"1.2.1"}),n.d(e,"data",function(){return r});var n_={"tfjs-core":"1.2.1","tfjs-data":e_,"tfjs-layers":"1.2.1","tfjs-converter":"1.2.1",tfjs:"1.2.1"}},yLV6:function(t,e,n){var r;!function(i,a,s,o){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=a.createElement("div"),p="function",h=Math.round,m=Math.abs,d=Date.now;function f(t,e,n){return setTimeout(x(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==o)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,r,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===o||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==o&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=v(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===o)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),_=v(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&l(r,n)}function x(t,e){return function(){return t.apply(e,arguments)}}function C(t,e){return typeof t==p?t.apply(e&&e[0]||o,e):t}function S(t,e){return t===o?e:t}function E(t,e,n){y(I(e),function(e){t.addEventListener(e,n,!1)})}function k(t,e,n){y(I(e),function(e){t.removeEventListener(e,n,!1)})}function A(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function N(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function R(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var r=[],i=[],a=0;a<t.length;){var s=e?t[a][e]:t[a];N(i,s)<0&&r.push(t[a]),i[a]=s,a++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function O(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),a=0;a<u.length;){if((r=(n=u[a])?n+i:e)in t)return r;a++}return o}var M=1;function F(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L="ontouchstart"in i,P=O(i,"PointerEvent")!==o,z=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,V=1,U=4,j=8,W=1,H=2,q=4,$=8,G=16,K=H|q,Y=$|G,X=K|Y,Q=["x","y"],Z=["clientX","clientY"];function J(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){C(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,a=e&V&&r-i==0,s=e&(U|j)&&r-i==0;n.isFirst=!!a,n.isFinal=!!s,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=et(e)),i>1&&!n.firstMultiple?n.firstMultiple=et(e):1===i&&(n.firstMultiple=!1);var a=n.firstInput,s=n.firstMultiple,l=s?s.center:a.center,u=e.center=nt(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=st(l,u),e.distance=at(l,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};e.eventType!==V&&a.eventType!==U||(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var c,p,h=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=m(h.x)>m(h.y)?h.x:h.y,e.scale=s?(c=s.pointers,at((p=r)[0],p[1],Z)/at(c[0],c[1],Z)):1,e.rotation=s?function(t,e){return st(r[1],r[0],Z)+st(t[1],t[0],Z)}(s.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,a,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=j&&(l>B||s.velocity===o)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,p=rt(l,u,c);r=p.x,i=p.y,n=m(p.x)>m(p.y)?p.x:p.y,a=it(u,c),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=a}(n,e);var f=t.element;A(e.srcEvent.target,f)&&(f=e.srcEvent.target),e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?W:m(t)>=m(e)?t<0?H:q:e<0?$:G}function at(t,e,n){n||(n=Q);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function st(t,e,n){return n||(n=Q),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(F(this.element),this.evWin,this.domHandler)}};var ot={mousedown:V,mousemove:2,mouseup:U},lt="mousedown",ut="mousemove mouseup";function ct(){this.evEl=lt,this.evWin=ut,this.pressed=!1,J.apply(this,arguments)}w(ct,J,{handler:function(t){var e=ot[t.type];e&V&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var pt={pointerdown:V,pointermove:2,pointerup:U,pointercancel:j,pointerout:j},ht={2:"touch",3:"pen",4:"mouse",5:"kinect"},mt="pointerdown",dt="pointermove pointerup pointercancel";function ft(){this.evEl=mt,this.evWin=dt,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(mt="MSPointerDown",dt="MSPointerMove MSPointerUp MSPointerCancel"),w(ft,J,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=pt[r],a=ht[t.pointerType]||t.pointerType,s="touch"==a,o=N(e,t.pointerId,"pointerId");i&V&&(0===t.button||s)?o<0&&(e.push(t),o=e.length-1):i&(U|j)&&(n=!0),o<0||(e[o]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(o,1))}});var gt={touchstart:V,touchmove:2,touchend:U,touchcancel:j},yt="touchstart",vt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=yt,this.evWin=vt,this.started=!1,J.apply(this,arguments)}w(bt,J,{handler:function(t){var e=gt[t.type];if(e===V&&(this.started=!0),this.started){var n=(function(t,e){var n=R(t.touches),r=R(t.changedTouches);return e&(U|j)&&(n=D(n.concat(r),"identifier",!0)),[n,r]}).call(this,t,e);e&(U|j)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var _t={touchstart:V,touchmove:2,touchend:U,touchcancel:j},wt="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=wt,this.targetIds={},J.apply(this,arguments)}w(xt,J,{handler:function(t){var e=_t[t.type],n=(function(t,e){var n=R(t.touches),r=this.targetIds;if(e&(2|V)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,s=R(t.changedTouches),o=[],l=this.target;if(a=n.filter(function(t){return A(t.target,l)}),e===V)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&o.push(s[i]),e&(U|j)&&delete r[s[i].identifier],i++;return o.length?[D(a.concat(o),"identifier",!0),o]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Ct=2500;function St(){J.apply(this,arguments);var t=x(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new ct(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},Ct)}}w(St,J,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&V?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|j)&&Et.call(this,e)}).call(this,e,n);else if(r&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(e-i.x),s=Math.abs(n-i.y);if(a<=25&&s<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var kt=O(c.style,"touchAction"),At=kt!==o,Tt=function(){if(!At)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function It(t,e){this.manager=t,this.set(e)}It.prototype={set:function(t){"compute"==t&&(t=this.compute()),At&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,function(e){C(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(T(t,"none"))return"none";var e=T(t,"pan-x"),n=T(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":T(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=T(r,"none")&&!Tt.none,a=T(r,"pan-y")&&!Tt["pan-y"],s=T(r,"pan-x")&&!Tt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!a)return i||a&&n&K||s&&n&Y?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Nt=1,Rt=2,Dt=4,Ot=8,Mt=Ot,Ft=16;function Lt(t){this.options=l({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Nt,this.simultaneous={},this.requireFail=[]}function Pt(t){return t&Ft?"cancel":t&Ot?"end":t&Dt?"move":t&Rt?"start":""}function zt(t){return t==G?"down":t==$?"up":t==H?"left":t==q?"right":""}function Bt(t,e){var n=e.manager;return n?n.get(t):t}function Vt(){Lt.apply(this,arguments)}function Ut(){Vt.apply(this,arguments),this.pX=null,this.pY=null}function jt(){Vt.apply(this,arguments)}function Wt(){Lt.apply(this,arguments),this._timer=null,this._input=null}function Ht(){Vt.apply(this,arguments)}function qt(){Vt.apply(this,arguments)}function $t(){Lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gt(t,e){return(e=e||{}).recognizers=S(e.recognizers,Gt.defaults.preset),new Kt(t,e)}function Kt(t,e){var n;this.options=l({},Gt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(P?ft:z?xt:L?St:ct))(n,tt),this.touchAction=new It(this,this.options.touchAction),Yt(this,!0),y(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Yt(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,function(i,a){n=O(r.style,a),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Lt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Bt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=Bt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===N(e,t=Bt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Bt(t,this);var e=N(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Ot&&r(e.options.event+Pt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Ot&&r(e.options.event+Pt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Nt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!C(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Mt|Ft|32)&&(this.state=Nt),this.state=this.process(e),this.state&(Rt|Dt|Ot|Ft)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Vt,Lt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Rt|Dt),i=this.attrTest(t);return r&&(n&j||!i)?e|Ft:r||i?n&U?e|Ot:e&Rt?e|Dt:Rt:32}}),w(Ut,Vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push("pan-y"),t&Y&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,a=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&K?(i=0===a?W:a<0?H:q,n=a!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?W:s<0?$:G,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Vt.prototype.attrTest.call(this,t)&&(this.state&Rt||!(this.state&Rt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=zt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(jt,Vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Rt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(Wt,Lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(U|j)&&!i)this.reset();else if(t.eventType&V)this.reset(),this._timer=f(function(){this.state=Mt,this.tryEmit()},e.time,this);else if(t.eventType&U)return Mt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Mt&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(Ht,Vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Rt)}}),w(qt,Vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Y,pointers:1},getTouchAction:function(){return Ut.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|Y)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&Y&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&m(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w($t,Lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&V&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=U)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Mt,this.tryEmit()},e.interval,this),Rt):Mt}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gt.VERSION="2.0.7",Gt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ht,{enable:!1}],[jt,{enable:!1},["rotate"]],[qt,{direction:K}],[Ut,{direction:K},["swipe"]],[$t],[$t,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Kt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Mt)&&(i=e.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Rt|Dt|Ot)&&(i=e.curRecognizer=n),a++}},get:function(t){if(t instanceof Lt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=N(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==o&&e!==o){var n=this.handlers;return y(I(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==o){var n=this.handlers;return y(I(t),function(t){e?n[t]&&n[t].splice(N(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Yt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Gt,{INPUT_START:V,INPUT_MOVE:2,INPUT_END:U,INPUT_CANCEL:j,STATE_POSSIBLE:Nt,STATE_BEGAN:Rt,STATE_CHANGED:Dt,STATE_ENDED:Ot,STATE_RECOGNIZED:Mt,STATE_CANCELLED:Ft,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:H,DIRECTION_RIGHT:q,DIRECTION_UP:$,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Y,DIRECTION_ALL:X,Manager:Kt,Input:J,TouchAction:It,TouchInput:xt,MouseInput:ct,PointerEventInput:ft,TouchMouseInput:St,SingleTouchInput:bt,Recognizer:Lt,AttrRecognizer:Vt,Tap:$t,Pan:Ut,Swipe:qt,Pinch:jt,Rotate:Ht,Press:Wt,on:E,off:k,each:y,merge:_,extend:b,assign:l,inherit:w,bindFn:x,prefixed:O}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Gt,(r=(function(){return Gt}).call(e,n,e,t))===o||(t.exports=r)}(window,document)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t})}const o={closed:!0,next(t){},error(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const p=c,h=function(){class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:a,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++o<c&&i[o]||null;if(r(a))try{a.call(this)}catch(h){e=!0,t=h instanceof p?m(h.errors):[h]}if(l(s))for(o=-1,c=s.length;++o<c;){const n=s[o];if(u(n))try{n.unsubscribe()}catch(h){e=!0,t=t||[],h instanceof p?t=t.concat(m(h.errors)):t.push(h)}}if(e)throw new p(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}var e;return t.EMPTY=((e=new t).closed=!0,e),t}();function m(t){return t.reduce((t,e)=>t.concat(e instanceof p?e.errors:e),[])}const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!t){this.destination=o;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class g extends f{constructor(t,e,n,i){let a;super(),this._parentSubscriber=t;let s=this;r(e)?a=e:e&&(a=e.next,n=e.error,i=e.complete,e!==o&&(r((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=a,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function b(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}const w=function(){class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[d])return t[d]()}return t||e||n?new f(t,e,n):new f(o)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=x(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=x(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=(e=>new t(e)),t}();function x(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const S=C;class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class k extends f{constructor(t){super(t),this.destination=t}}const A=function(){class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new k(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=((t,e)=>new T(t,e)),t}();class T extends A{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class N extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const R=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},D=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const M=O(),F=t=>e=>{const n=t[M]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},L=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},P=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function z(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const B=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return L(t);if(P(t))return R(t);if(z(t))return D(t);if(t&&"function"==typeof t[M])return F(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function V(t,e,n,r,i=new N(t,n,r)){if(!i.closed)return B(e)(i)}class U extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(t,e))}}class W{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}class H extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function q(t,e){return new w(e?n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:R(t))}function $(t,e){if(!e)return t instanceof w?t:new w(B(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:L(t))}(t,e);if(z(t))return function(t,e){return new w(e?n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:D(t))}(t,e);if(P(t))return q(t,e);if(function(t){return t&&"function"==typeof t[M]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[M](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const a=i.next();t=a.value,e=a.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r}:F(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(G((n,r)=>$(t(n,r)).pipe(j((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Y(t,this.project,this.concurrent))}}class Y extends U{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new N(this,void 0,void 0);this.destination.add(r),V(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function X(t){return t}function Q(t=Number.POSITIVE_INFINITY){return G(X,t)}function Z(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Q(e)(q(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new et(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class et extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h).add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=h.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class it extends k{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function at(){return new A}function st(){return t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,rt);return r.source=e,r.subjectFactory=n,r}}(at)(t))}const ot="__parameters__";function lt(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(ot)?t[ot]:Object.defineProperty(t,ot,{value:[]})[ot];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const ut=lt("Inject",t=>({token:t})),ct=lt("Optional"),pt=lt("Self"),ht=lt("SkipSelf");var mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(let e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function ft(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const gt=ft;function yt(t){return t&&t.hasOwnProperty(vt)?t[vt]:null}const vt=dt({ngInjectableDef:dt});function bt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const _t=dt({__forward_ref__:dt});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return bt(this())},t}function xt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(_t)&&e.__forward_ref__===wt?e():t}function Ct(){const t="undefined"!=typeof globalThis&&globalThis,e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r="undefined"!=typeof global&&global;return t||r||e||n}const St=Ct();let Et,kt=void 0;function At(t){const e=kt;return kt=t,e}function Tt(t,e=mt.Default){return(Et||function(t,e=mt.Default){if(void 0===kt)throw new Error("inject() must be called from an injection context");return null===kt?function(t,e,n){const r=yt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&mt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${bt(t)}]`)}(t,0,e):kt.get(t,e&mt.Optional?null:void 0,e)})(t,e)}const It=Tt;class Nt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=ft({providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Rt="__source",Dt=new Object,Ot=new Nt("INJECTOR",-1);class Mt{get(t,e=Dt){if(e===Dt){const e=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ft=function(){class t{static create(t,e){return Array.isArray(t)?new qt(t,e):new qt(t.providers,t.parent,t.name||null)}}return t.THROW_IF_NOT_FOUND=Dt,t.NULL=new Mt,t.ngInjectableDef=ft({providedIn:"any",factory:()=>Tt(Ot)}),t.__NG_ELEMENT_ID__=-1,t}(),Lt=function(t){return t},Pt=[],zt=Lt,Bt=function(){return Array.prototype.slice.call(arguments)},Vt=dt({provide:String,useValue:dt}),Ut="ngTokenPath",jt="ngTempTokenPath",Wt=/\n/gm,Ht="\u0275";class qt{constructor(t,e=Ft.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Ft,{token:Ft,fn:Lt,deps:Pt,value:this,useNew:!1}),r.set(Ot,{token:Ot,fn:Lt,deps:Pt,value:this,useNew:!1}),function t(e,n){if(n)if((n=xt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Kt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Kt("Unexpected provider",n);{let t=xt(n.provide);const r=function(t){const e=function(t){let e=Pt;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=xt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof ct||n==ct?r|=1:n instanceof ht||n==ht?r&=-3:n instanceof pt||n==pt?r&=-5:i=n instanceof ut?n.token:xt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:xt(t.useExisting),options:6}];else if(!(n||Vt in t))throw Kt("'deps' required",t);return e}(t);let n=Lt,r=Pt,i=!1,a=xt(t.provide);if(Vt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=xt(t.useClass);else{if("function"!=typeof a)throw Kt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=a}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Bt)throw $t(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Bt,value:Pt});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==Bt)throw $t(t);e.set(t,r)}}}(r,t)}get(t,e,n=mt.Default){const r=this._records.get(t);try{return function t(e,n,r,i,a,s){try{return function(e,n,r,i,a,s){let o;if(!n||s&mt.SkipSelf)s&mt.Self||(o=i.get(e,a,mt.Default));else{if((o=n.value)==zt)throw Error(Ht+"Circular dependency");if(o===Pt){n.value=zt;let e=void 0,a=n.useNew,s=n.fn,l=n.deps,u=Pt;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],a=n.options,s=2&a?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&a?i:Ft.NULL,1&a?null:Ft.THROW_IF_NOT_FOUND,mt.Default))}}n.value=o=a?new s(...u):s.apply(e,u)}}return o}(e,n,r,i,a,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[jt]=o[jt]||[]).unshift(e),n&&n.value==zt&&(n.value=Pt),o}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[jt];throw e[Rt]&&i.unshift(e[Rt]),t.message=Gt("\n"+t.message,i,"StaticInjectorError",r),t[Ut]=i,t[jt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(bt(n))),`StaticInjector[${t.join(", ")}]`}}function $t(t){return Kt("Cannot mix multi providers and regular providers",t)}function Gt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ht?t.substr(2):t;let i=bt(e);if(e instanceof Array)i=e.map(bt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):bt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Wt,"\n  ")}`}function Kt(t,e){return new Error(Gt(t,e,"StaticInjectorError"))}const Yt="ngDebugContext",Xt="ngOriginalError",Qt="ngErrorLogger",Zt=new Nt("AnalyzeForEntryComponents"),Jt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),te=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function ee(t){return t[Yt]}function ne(t){return t[Xt]}function re(t,...e){t.error(...e)}class ie{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Qt]||re}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ee(t)?ee(t):this._findContext(ne(t)):null}_findOriginalError(t){let e=ne(t);for(;e&&ne(e);)e=ne(e);return e}}let ae=!0,se=!1;function oe(){return se=!0,ae}class le{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ue=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ce=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pe(t){return(t=String(t)).match(ue)||t.match(ce)?t:(oe()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function he(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function me(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const de=he("area,br,col,hr,img,wbr"),fe=he("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ge=he("rp,rt"),ye=me(ge,fe),ve=me(de,me(fe,he("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),me(ge,he("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ye),be=he("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_e=he("srcset"),we=me(be,_e,he("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),he("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xe=he("script,style,template");class Ce{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ve.hasOwnProperty(e))return this.sanitizedSomething=!0,!xe.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,a=e.toLowerCase();if(!we.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let s=t.value;be[a]&&(s=pe(s)),_e[a]&&(r=s,s=(r=String(r)).split(",").map(t=>pe(t.trim())).join(", ")),this.buf.push(" ",e,'="',ke(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ve.hasOwnProperty(e)&&!de.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ke(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ee=/([^\#-~ |!])/g;function ke(t){return t.replace(/&/g,"&amp;").replace(Se,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ee,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ae;function Te(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ie=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Ne{}const Re=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),De=/^url\(([^)]+)\)$/,Oe=/([A-Z])/g;function Me(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Fe(t){return!!t&&"function"==typeof t.then}function Le(t){return!!t&&"function"==typeof t.subscribe}let Pe=null;function ze(){if(!Pe){const t=St.Symbol;if(t&&t.iterator)Pe=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Pe=n)}}}return Pe}function Be(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ve(t,e){const n=je(t),r=je(e);if(n&&r)return function(t,e,n){const r=t[ze()](),i=e[ze()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ve);{const i=t&&("object"==typeof t||"function"==typeof t),a=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!a)||Be(t,e)}}class Ue{constructor(t){this.wrapped=t}static wrap(t){return new Ue(t)}static unwrap(t){return Ue.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ue}}function je(t){return!!We(t)&&(Array.isArray(t)||!(t instanceof Map)&&ze()in t)}function We(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class He{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}const qe=new Nt("The presence of this token marks an injector as being the root injector.");class $e{}class Ge{}function Ke(t){const e=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ye]=t,e}const Ye="ngComponent";class Xe{resolveComponentFactory(t){throw Ke(t)}}const Qe=function(){class t{}return t.NULL=new Xe,t}();class Ze{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ke(t);return new Je(e,this._ngModule)}}class Je extends Ge{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}class tn{}class en{}function nn(...t){}const rn=function(){class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=(()=>an(t)),t}(),an=nn;class sn{}class on{}const ln=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),un=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>cn()),t}(),cn=nn;class pn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hn=new pn("8.0.0");class mn{constructor(){}supports(t){return je(t)}create(t){return new fn(t)}}const dn=(t,e)=>e;class fn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||dn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const a=!n||e&&e.currentIndex<bn(n,r,i)?e:n,s=bn(a,r,i),o=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{i||(i=[]);const t=s-r,e=o-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,a=r+n;e<=a&&a<t&&(i[n]=r+1)}i[a.previousIndex]=e-t}}s!==o&&t(a,s,o)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!je(t))throw new Error(`Error trying to diff '${bt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Be(i.trackById,r)?(a&&(i=this._verifyReinsertion(i,n,r,e)),Be(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),a=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ze()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Be(i.trackById,r)?(a&&(i=this._verifyReinsertion(i,t,r,e)),Be(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),a=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Be(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Be(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new gn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Be(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class vn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new yn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class _n{constructor(){}supports(t){return t instanceof Map||We(t)}create(){return new wn}}class wn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||We(t)))throw new Error(`Error trying to diff '${bt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new xn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Be(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class xn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}const Cn=function(){class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=ft({providedIn:"root",factory:()=>new t([new mn])}),t}(),Sn=function(){class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=ft({providedIn:"root",factory:()=>new t([new _n])}),t}(),En=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>kn()),t}(),kn=(...t)=>{},An=[new _n],Tn=new Cn([new mn]),In=new Sn(An),Nn=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>Rn(t,rn)),t}(),Rn=nn,Dn=function(){class t{}return t.__NG_ELEMENT_ID__=(()=>On(t,rn)),t}(),On=nn;function Mn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Fn(n,e),n}(i,t)}function Fn(t,e){t[Yt]=e,t[Qt]=e.logError.bind(e)}function Ln(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function Pn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function zn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Bn(t,e){return t.nodes[e]}function Vn(t,e){return t.nodes[e]}function Un(t,e){return t.nodes[e]}function jn(t,e){return t.nodes[e]}function Wn(t,e){return t.nodes[e]}const Hn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},qn=()=>{},$n=new Map;function Gn(t){let e=$n.get(t);return e||(e=bt(t)+"_"+$n.size,$n.set(t,e)),e}const Kn="$$undefined",Yn="$$empty";function Xn(t){return{id:Kn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Qn=0;function Zn(t,e,n,r){return!(!(2&t.state)&&Be(t.oldValues[e.bindingIndex+n],r))}function Jn(t,e,n,r){return!!Zn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function tr(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ve(i,r)){const a=e.bindings[n].name;throw Mn(Hn.createDebugContext(t,e.nodeIndex),`${a}: ${i}`,`${a}: ${r}`,0!=(1&t.state))}}function er(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function nr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function rr(t,e,n,r){try{return er(33554432&t.def.nodes[e].flags?Vn(t,e).componentView:t),Hn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function ir(t){return t.parent?Vn(t.parent,t.parentNodeDef.nodeIndex):null}function ar(t){return t.parent?t.parentNodeDef.parent:null}function sr(t,e){switch(201347067&e.flags){case 1:return Vn(t,e.nodeIndex).renderElement;case 2:return Bn(t,e.nodeIndex).renderText}}function or(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function lr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ur(t){return 1<<t%32}function cr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=ur(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function pr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Rt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Gn(n)}})}function hr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Jt.Native?Vn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const mr=new WeakMap;function dr(t){let e=mr.get(t);return e||((e=t(()=>qn)).factory=t,mr.set(t,e)),e}function fr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(sr(t,t.def.lastRenderRootNode))),gr(t,e,0,t.def.nodes.length-1,n,r,i)}function gr(t,e,n,r,i,a,s){for(let o=n;o<=r;o++){const n=t.def.nodes[o];11&n.flags&&vr(t,n,e,i,a,s),o+=n.childCount}}function yr(t,e,n,r,i,a){let s=t;for(;s&&!or(s);)s=s.parent;const o=s.parent,l=ar(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=o.def.nodes[c];t.ngContentIndex===e&&vr(o,t,n,r,i,a),c+=t.childCount}if(!o.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)br(t,s[e],n,r,i,a)}}function vr(t,e,n,r,i,a){if(8&e.flags)yr(t,e.ngContent.index,n,r,i,a);else{const s=sr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&br(t,s,n,r,i,a),32&e.bindingFlags&&br(Vn(t,e.nodeIndex).componentView,s,n,r,i,a)):br(t,s,n,r,i,a),16777216&e.flags){const s=Vn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)fr(s[t],n,r,i,a)}1&e.flags&&!e.element.name&&gr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,a)}}function br(t,e,n,r,i,a){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:a.push(e)}}const _r=/^:([^:]+):(.+)$/;function wr(t){if(":"===t[0]){const e=t.match(_r);return[e[1],e[2]]}return["",t]}function xr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Cr(t,e,n,r,i,a,s,o,l,u,c,p,h,m,d,f,g,y,v,b){switch(t){case 1:return e+Sr(n)+r;case 2:return e+Sr(n)+r+Sr(i)+a;case 3:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o;case 4:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o+Sr(l)+u;case 5:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o+Sr(l)+u+Sr(c)+p;case 6:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o+Sr(l)+u+Sr(c)+p+Sr(h)+m;case 7:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o+Sr(l)+u+Sr(c)+p+Sr(h)+m+Sr(d)+f;case 8:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o+Sr(l)+u+Sr(c)+p+Sr(h)+m+Sr(d)+f+Sr(g)+y;case 9:return e+Sr(n)+r+Sr(i)+a+Sr(s)+o+Sr(l)+u+Sr(c)+p+Sr(h)+m+Sr(d)+f+Sr(g)+y+Sr(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Sr(t){return null!=t?t.toString():""}const Er=new Object,kr=Gn(Ft),Ar=Gn(Ot),Tr=Gn(tn);function Ir(t,e,n,r){return n=xt(n),{index:-1,deps:pr(r,bt(e)),flags:t,token:e,value:n}}function Nr(t,e,n=Ft.THROW_IF_NOT_FOUND){const r=At(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case kr:case Ar:case Tr:return t}const o=t._def.providersByKey[s];let l;if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=Rr(t,o)),e===Er?void 0:e}if((l=yt(e.token))&&(i=t,null!=(a=l).providedIn&&(function(t,e){return t._def.modules.indexOf(a.providedIn)>-1}(i)||"root"===a.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Er,t._providers[n]=Rr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{At(r)}var i,a}function Rr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Nr(t,n[0]));case 2:return new e(Nr(t,n[0]),Nr(t,n[1]));case 3:return new e(Nr(t,n[0]),Nr(t,n[1]),Nr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Nr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Nr(t,n[0]));case 2:return e(Nr(t,n[0]),Nr(t,n[1]));case 3:return e(Nr(t,n[0]),Nr(t,n[1]),Nr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Nr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Nr(t,e.deps[0]);break;case 256:n=e.value}return n===Er||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Er:n}function Dr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Lr(n,e),Hn.dirtyParentQueries(r),Mr(r),r}function Or(t,e,n){const r=e?sr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),a=n.renderer.nextSibling(r);fr(n,2,i,a,void 0)}function Mr(t){fr(t,3,null,null,void 0)}function Fr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lr(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const Pr=new Object;function zr(t,e,n,r,i,a){return new Br(t,e,n,r,i,a)}class Br extends Ge{constructor(t,e,n,r,i,a){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=a,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=dr(this.viewDefFactory),a=i.nodes[0].element.componentProvider.nodeIndex,s=Hn.createRootView(t,e||[],n,i,r,Pr),o=Un(s,a).instance;return n&&s.renderer.setAttribute(Vn(s,0).renderElement,"ng-version",hn.full),new Vr(s,new Hr(s),o)}}class Vr extends $e{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new rn(Vn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Kr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Ur(t,e,n){return new jr(t,e,n)}class jr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new rn(this._data.renderElement)}get injector(){return new Kr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=ar(t),t=t.parent;return t?new Kr(t,e):new Kr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Dr(this._data,t);Hn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Hr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const a=n||this.parentInjector;i||t instanceof Je||(i=a.get(tn));const s=t.create(a,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Fr(i,n,r),function(t,e){const n=ir(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,e.parentNodeDef)}(e,r),Hn.dirtyParentQueries(r),Or(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,a=i[n];Lr(i,n),null==r&&(r=i.length),Fr(i,r,a),Hn.dirtyParentQueries(a),Mr(a),Or(t,r>0?i[r-1]:null,a)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Dr(this._data,t);e&&Hn.destroyView(e)}detach(t){const e=Dr(this._data,t);return e?new Hr(e):null}}function Wr(t){return new Hr(t)}class Hr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return fr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){er(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Hn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Hn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Hn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Mr(this._view),Hn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function qr(t,e){return new $r(t,e)}class $r extends Nn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Hr(Hn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new rn(Vn(this._parentView,this._def.nodeIndex).renderElement)}}function Gr(t,e){return new Kr(t,e)}class Kr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ft.THROW_IF_NOT_FOUND){return Hn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Gn(t)},e)}}function Yr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Vn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Bn(t,n.nodeIndex).renderText;if(20240&n.flags)return Un(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Xr(t){return new Qr(t.renderer)}class Qr{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=wr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=wr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Zr(t,e,n,r){return new Jr(t,e,n,r)}class Jr{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Rr(t,i))}}(this)}get(t,e=Ft.THROW_IF_NOT_FOUND,n=mt.Default){let r=0;return n&mt.SkipSelf?r|=1:n&mt.Self&&(r|=4),Nr(this,{token:t,tokenKey:Gn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Qe)}destroy(){if(this._destroyed)throw new Error(`The ng module ${bt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Er){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const ti=Gn(sn),ei=Gn(un),ni=Gn(rn),ri=Gn(Dn),ii=Gn(Nn),ai=Gn(En),si=Gn(Ft),oi=Gn(Ot);function li(t,e,n,r,i,a,s,o){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(o)for(let c in o)u.push({type:1,propName:c,target:null,eventName:o[c]});return ci(t,e|=16384,n,r,i,i,a,l,u)}function ui(t,e,n,r,i){return ci(-1,t,e,0,n,r,i)}function ci(t,e,n,r,i,a,s,o,l){const{matchedQueries:u,references:c,matchedQueryIds:p}=cr(n);l||(l=[]),o||(o=[]),a=xt(a);const h=pr(s,bt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:p,references:c,ngContentIndex:-1,childCount:r,bindings:o,bindingFlags:xr(o),outputs:l,element:null,provider:{token:i,value:a,deps:h},text:null,query:null,ngContent:null}}function pi(t,e){return fi(t,e)}function hi(t,e){let n=t;for(;n.parent&&!or(n);)n=n.parent;return gi(n.parent,ar(n),!0,e.provider.value,e.provider.deps)}function mi(t,e){const n=gi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],a=n[i.propName];if(!Le(a))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=a.subscribe(di(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function di(t,e,n){return r=>rr(t,e,n,r)}function fi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return gi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const a=i.length;switch(a){case 0:return r();case 1:return r(vi(t,e,n,i[0]));case 2:return r(vi(t,e,n,i[0]),vi(t,e,n,i[1]));case 3:return r(vi(t,e,n,i[0]),vi(t,e,n,i[1]),vi(t,e,n,i[2]));default:const s=Array(a);for(let r=0;r<a;r++)s[r]=vi(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return vi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function gi(t,e,n,r,i){const a=i.length;switch(a){case 0:return new r;case 1:return new r(vi(t,e,n,i[0]));case 2:return new r(vi(t,e,n,i[0]),vi(t,e,n,i[1]));case 3:return new r(vi(t,e,n,i[0]),vi(t,e,n,i[1]),vi(t,e,n,i[2]));default:const s=new Array(a);for(let r=0;r<a;r++)s[r]=vi(t,e,n,i[r]);return new r(...s)}}const yi={};function vi(t,e,n,r,i=Ft.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const a=t;2&r.flags&&(i=null);const s=r.tokenKey;s===ai&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let o=t;for(;o;){if(e)switch(s){case ti:return Xr(bi(o,e,n));case ei:return bi(o,e,n).renderer;case ni:return new rn(Vn(o,e.nodeIndex).renderElement);case ri:return Vn(o,e.nodeIndex).viewContainer;case ii:if(e.element.template)return Vn(o,e.nodeIndex).template;break;case ai:return Wr(bi(o,e,n));case si:case oi:return Gr(o,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Un(o,t.nodeIndex);return e||(e={instance:fi(o,t)},o.nodes[t.nodeIndex]=e),e.instance}}n=or(o),e=ar(o),o=o.parent,4&r.flags&&(o=null)}const l=a.root.injector.get(r.token,yi);return l!==yi||i===yi?l:a.root.ngModule.injector.get(r.token,i)}function bi(t,e,n){let r;if(n)r=Vn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!or(r);)r=r.parent;return r}function _i(t,e,n,r,i,a){if(32768&n.flags){const e=Vn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){a=a||{};const e=Ue.unwrap(t.oldValues[n.bindingIndex+r]);a[n.bindings[r].nonMinifiedName]=new He(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,a}function wi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const a=n[i];let s=a.parent;for(!s&&a.flags&e&&Ci(t,i,a.flags&e,r++),0==(a.childFlags&e)&&(i+=a.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=xi(t,s,e,r)),s=s.parent}}function xi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Ci(t,i,e.flags&n,r++),i+=e.childCount}return r}function Ci(t,e,n,r){const i=Un(t,e);if(!i)return;const a=i.instance;a&&(Hn.setCurrentNode(t,e),1048576&n&&zn(t,512,r)&&a.ngAfterContentInit(),2097152&n&&a.ngAfterContentChecked(),4194304&n&&zn(t,768,r)&&a.ngAfterViewInit(),8388608&n&&a.ngAfterViewChecked(),131072&n&&a.ngOnDestroy())}const Si=new Nt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>te});class Ei extends A{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,a=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(a=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(a=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,a);return t instanceof h&&t.add(s),s}}class ki{constructor(){this.dirty=!0,this._results=[],this.changes=new Ei,this.length=0}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}[ze()](){return this._results[ze()]()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ai{}const Ti=new Nt("Application Initializer");class Ii{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Fe(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Ni=new Nt("AppId");function Ri(){return`${Di()}${Di()}${Di()}`}function Di(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Oi=new Nt("Platform Initializer"),Mi=new Nt("Platform ID"),Fi=new Nt("appBootstrapListener");class Li{log(t){console.log(t)}warn(t){console.warn(t)}}function Pi(){throw new Error("Runtime compiler is not loaded")}const zi=Pi,Bi=Pi,Vi=Pi,Ui=Pi;class ji{constructor(){this.compileModuleSync=zi,this.compileModuleAsync=Bi,this.compileModuleAndAllComponentsSync=Vi,this.compileModuleAndAllComponentsAsync=Ui}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Wi{}let Hi,qi;function $i(){const t=St.wtf;return!(!t||!(Hi=t.trace)||(qi=Hi.events,0))}const Gi=$i(),Ki=Gi?function(t,e=null){return qi.createScope(t,e)}:(t,e)=>(function(t,e){return null}),Yi=Gi?function(t,e){return Hi.leaveScope(t,e),e}:(t,e)=>e,Xi=(()=>Promise.resolve(0))();function Qi(t){"undefined"==typeof Zone?Xi.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zi{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei(!1),this.onMicrotaskEmpty=new Ei(!1),this.onStable=new Ei(!1),this.onError=new Ei(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,a,s)=>{try{return na(e),t.invokeTask(r,i,a,s)}finally{ra(e)}},onInvoke:(t,n,r,i,a,s,o)=>{try{return na(e),t.invoke(r,i,a,s,o)}finally{ra(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,ea(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,t,ta,Ji,Ji);try{return i.runTask(a,e,n)}finally{i.cancelTask(a)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ji(){}const ta={};function ea(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function na(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ra(t){t._nesting--,ea(t)}class ia{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ei,this.onMicrotaskEmpty=new Ei,this.onStable=new Ei,this.onError=new Ei}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class aa{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zi.assertNotInAngularZone(),Qi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}const sa=function(){class t{constructor(){this._applications=new Map,ua.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ua.findTestabilityInTree(this,t,e)}}return t.ctorParameters=(()=>[]),t}();class oa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let la,ua=new oa,ca=function(t,e,n){return t.get(Wi).createCompiler([e]).compileModuleAsync(n)},pa=function(t){return t instanceof Je};const ha=new Nt("AllowMultipleToken");class ma{constructor(t,e){this.name=t,this.token=e}}function da(t,e,n=[]){const r=`Platform: ${e}`,i=new Nt(r);return(e=[])=>{let a=fa();if(!a||a.injector.get(ha,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(la&&!la.destroyed&&!la.injector.get(ha,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");la=t.get(ga);const e=t.get(Oi,null);e&&e.forEach(t=>t())}(Ft.create({providers:t,name:r}))}return function(t){const e=fa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function fa(){return la&&!la.destroyed?la:null}class ga{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new ia:("zone.js"===i?void 0:i)||new Zi({enableLongStackTrace:oe()}),r=[{provide:Zi,useValue:n}];var i;return n.run(()=>{const e=Ft.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),a=i.injector.get(ie,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ba(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{a.handleError(t)}})),function(t,e,n){try{const i=n();return Fe(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,n,()=>{const t=i.injector.get(Ii);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ya({},e);return ca(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(va);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${bt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ya(t,e){return Array.isArray(e)?e.reduce(ya,t):Object.assign({},t,e)}const va=function(){class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oe(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zi.assertNotInAngularZone(),Qi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Z(s,o.pipe(st()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ge?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=pa(n)?null:this._injector.get(tn),i=n.create(Ft.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const a=i.injector.get(aa,null);return a&&i.injector.get(sa).registerApplication(i.location.nativeElement,a),this._loadComponent(i),oe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Yi(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ba(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fi,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ba(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Ki("ApplicationRef#tick()"),t}();function ba(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _a=!1,wa="#",xa="NgFactory";class Ca{}const Sa={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ea{constructor(t,e){this._compiler=t,this._config=e||Sa}load(t){return!_a&&this._compiler instanceof ji?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(wa);return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ka(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(wa),i=xa;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ka(t,e,r))}}function ka(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Aa{constructor(t,e){this.name=t,this.callback=e}}class Ta{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Ia&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Ia extends Ta{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Ia&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Ia&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Ia&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Ia)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Na=new Map,Ra=function(t){return Na.get(t)||null};function Da(t){Na.set(t.nativeNode,t)}const Oa=da(null,"core",[{provide:Mi,useValue:"unknown"},{provide:ga,deps:[Ft]},{provide:sa,deps:[]},{provide:Li,deps:[]}]),Ma=new Nt("LocaleId");function Fa(){return Tn}function La(){return In}function Pa(t){return t||"en-US"}function za(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Ba{constructor(t){}}function Va(t,e,n,r,i,a){t|=1;const{matchedQueries:s,references:o,matchedQueryIds:l}=cr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:o,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:a?dr(a):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||qn},provider:null,text:null,query:null,ngContent:null}}function Ua(t,e,n,r,i,a,s=[],o,l,u,c,p){u||(u=qn);const{matchedQueries:h,references:m,matchedQueryIds:d}=cr(n);let f=null,g=null;a&&([f,g]=wr(a)),o=o||[];const y=new Array(o.length);for(let _=0;_<o.length;_++){const[t,e,n]=o[_],[r,i]=wr(e);let a=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:a=n}y[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:a,suffix:s}}l=l||[];const v=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e]=l[_];v[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=wr(t);return[n,r,e]});return p=function(t){if(t&&t.id===Kn){const e=null!=t.encapsulation&&t.encapsulation!==Jt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Qn++}`:Yn}return t&&t.id===Yn&&(t=null),t||null}(p),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:d,references:m,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:xr(y),outputs:v,element:{ns:f,name:g,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:u||qn},provider:null,text:null,query:null,ngContent:null}}function ja(t,e,n){const r=n.element,i=t.root.selectorOrNode,a=t.renderer;let s;if(t.parent||!i){s=r.name?a.createElement(r.name,r.ns):a.createComment("");const i=hr(t,e,n);i&&a.appendChild(i,s)}else s=a.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Jt.ShadowDom);if(r.attrs)for(let o=0;o<r.attrs.length;o++){const[t,e,n]=r.attrs[o];a.setAttribute(s,e,n,t)}return s}function Wa(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const o=n.outputs[s],l=Ha(t,n.nodeIndex,(a=o.eventName,(i=o.target)?`${i}:${a}`:a));let u=o.target,c=t;"component"===o.target&&(u=null,c=e);const p=c.renderer.listen(u||r,o.eventName,l);t.disposables[n.outputIndex+s]=p}var i,a}function Ha(t,e,n){return r=>rr(t,e,n,r)}function qa(t,e,n,r){if(!Jn(t,e,n,r))return!1;const i=e.bindings[n],a=Vn(t,e.nodeIndex),s=a.renderElement,o=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,a){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,a):a;o=null!=o?o.toString():null;const l=t.renderer;null!=a?l.setAttribute(n,i,o,r):l.removeAttribute(n,i,r)}(t,i,s,i.ns,o,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,o,r);break;case 4:!function(t,e,n,r,i){let a=t.root.sanitizer.sanitize(Ie.STYLE,i);if(null!=a){a=a.toString();const t=e.suffix;null!=t&&(a+=t)}else a=null;const s=t.renderer;null!=a?s.setStyle(n,r,a):s.removeStyle(n,r)}(t,i,s,o,r);break;case 8:!function(t,e,n,r,i){const a=e.securityContext;let s=a?t.root.sanitizer.sanitize(a,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?a.componentView:t,i,s,o,r)}return!0}function $a(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ur(e),bindings:r},ngContent:null}}function Ga(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&lr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Wn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Wn(t,n).setDirty(),n+=e.childCount}}function Ka(t,e){const n=Wn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Ya(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=Un(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Ya(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const a=e.query.bindings;let s=!1;for(let o=0;o<a.length;o++){const t=a[o];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Ya(t,e,n,r,i){for(let a=e;a<=n;a++){const e=t.def.nodes[a],n=e.matchedQueries[r.id];if(null!=n&&i.push(Xa(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Vn(t,a);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Ya(t,a+1,a+e.childCount,r,i),a+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const a=t[e],s=ir(a);s&&s===n&&Ya(a,0,a.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Ya(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(a+=e.childCount)}return i}function Xa(t,e,n){if(null!=n)switch(n){case 1:return Vn(t,e.nodeIndex).renderElement;case 0:return new rn(Vn(t,e.nodeIndex).renderElement);case 2:return Vn(t,e.nodeIndex).template;case 3:return Vn(t,e.nodeIndex).viewContainer;case 4:return Un(t,e.nodeIndex).instance}}function Qa(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Za(t,e,n){const r=hr(t,e,n);r&&yr(t,n.ngContent.index,1,r,null,void 0)}function Ja(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let a=0;a<r;a++){const t=n[a];i[e[t]]=t}return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:xr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function ts(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function es(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const a=hr(t,e,n);return a&&i.appendChild(a,r),{renderText:r}}function ns(t,e){return(null!=t?t.toString():"")+e.suffix}function rs(t,e,n,r){let i=0,a=0,s=0,o=0,l=0,u=null,c=null,p=!1,h=!1,m=null;for(let d=0;d<e.length;d++){const t=e[d];if(t.nodeIndex=d,t.parent=u,t.bindingIndex=i,t.outputIndex=a,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,p=!1,h=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(as(u,t,e.length),i+=t.bindings.length,a+=t.outputs.length,!c&&3&t.flags&&(m=t),20224&t.flags){p||(p=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Gn(t.provider.token)]=t:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Gn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):o|=t.flags,t.childCount>0)u=t,is(t)||(c=t);else for(;u&&d===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&is(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:o,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||qn,updateRenderer:r||qn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:a,lastRenderRootNode:m}}function is(t){return 0!=(1&t.flags)&&null===t.element.name}function as(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function ss(t,e,n,r){const i=us(t.root,t.renderer,t,e,n);return cs(i,t.component,r),ps(i),i}function os(t,e,n){const r=us(t,t.renderer,null,null,e);return cs(r,n,n),ps(r),r}function ls(t,e,n,r){const i=e.element.componentRendererType;let a;return a=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,us(t.root,a,t,e.element.componentProvider,n)}function us(t,e,n,r,i){const a=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:a,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function cs(t,e,n){t.component=e,t.context=n}function ps(t){let e;or(t)&&(e=Vn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const a=n.nodes[i];let s;switch(Hn.setCurrentNode(t,i),201347067&a.flags){case 1:const n=ja(t,e,a);let o=void 0;if(33554432&a.flags){const e=dr(a.element.componentView);o=Hn.createComponentView(t,a,e,n)}Wa(t,o,a,n),s={renderElement:n,componentView:o,viewContainer:null,template:a.element.template?qr(t,a):void 0},16777216&a.flags&&(s.viewContainer=Ur(t,a,s));break;case 2:s=es(t,e,a);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&a.flags||(s={instance:pi(t,a)});break;case 16:s={instance:hi(t,a)};break;case 16384:(s=r[i])||(s={instance:mi(t,a)}),32768&a.flags&&cs(Vn(t,a.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new ki;break;case 8:Za(t,e,a),s=void 0}r[i]=s}_s(t,bs.CreateViewNodes),Ss(t,201326592,268435456,0)}function hs(t){fs(t),Hn.updateDirectives(t,1),ws(t,bs.CheckNoChanges),Hn.updateRenderer(t,1),_s(t,bs.CheckNoChanges),t.state&=-97}function ms(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Pn(t,0,256),fs(t),Hn.updateDirectives(t,0),ws(t,bs.CheckAndUpdate),Ss(t,67108864,536870912,0);let e=Pn(t,256,512);wi(t,2097152|(e?1048576:0)),Hn.updateRenderer(t,0),_s(t,bs.CheckAndUpdate),Ss(t,134217728,536870912,0),wi(t,8388608|((e=Pn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Pn(t,768,1024)}function ds(t,e,n,r,i,a,s,o,l,u,c,p,h){return 0===n?function(t,e,n,r,i,a,s,o,l,u,c,p){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,a,s,o,l,u,c,p){const h=e.bindings.length;let m=!1;return h>0&&qa(t,e,0,n)&&(m=!0),h>1&&qa(t,e,1,r)&&(m=!0),h>2&&qa(t,e,2,i)&&(m=!0),h>3&&qa(t,e,3,a)&&(m=!0),h>4&&qa(t,e,4,s)&&(m=!0),h>5&&qa(t,e,5,o)&&(m=!0),h>6&&qa(t,e,6,l)&&(m=!0),h>7&&qa(t,e,7,u)&&(m=!0),h>8&&qa(t,e,8,c)&&(m=!0),h>9&&qa(t,e,9,p)&&(m=!0),m}(t,e,n,r,i,a,s,o,l,u,c,p);case 2:return function(t,e,n,r,i,a,s,o,l,u,c,p){let h=!1;const m=e.bindings,d=m.length;if(d>0&&Jn(t,e,0,n)&&(h=!0),d>1&&Jn(t,e,1,r)&&(h=!0),d>2&&Jn(t,e,2,i)&&(h=!0),d>3&&Jn(t,e,3,a)&&(h=!0),d>4&&Jn(t,e,4,s)&&(h=!0),d>5&&Jn(t,e,5,o)&&(h=!0),d>6&&Jn(t,e,6,l)&&(h=!0),d>7&&Jn(t,e,7,u)&&(h=!0),d>8&&Jn(t,e,8,c)&&(h=!0),d>9&&Jn(t,e,9,p)&&(h=!0),h){let h=e.text.prefix;d>0&&(h+=ns(n,m[0])),d>1&&(h+=ns(r,m[1])),d>2&&(h+=ns(i,m[2])),d>3&&(h+=ns(a,m[3])),d>4&&(h+=ns(s,m[4])),d>5&&(h+=ns(o,m[5])),d>6&&(h+=ns(l,m[6])),d>7&&(h+=ns(u,m[7])),d>8&&(h+=ns(c,m[8])),d>9&&(h+=ns(p,m[9]));const f=Bn(t,e.nodeIndex).renderText;t.renderer.setValue(f,h)}return h}(t,e,n,r,i,a,s,o,l,u,c,p);case 16384:return function(t,e,n,r,i,a,s,o,l,u,c,p){const h=Un(t,e.nodeIndex),m=h.instance;let d=!1,f=void 0;const g=e.bindings.length;return g>0&&Zn(t,e,0,n)&&(d=!0,f=_i(t,h,e,0,n,f)),g>1&&Zn(t,e,1,r)&&(d=!0,f=_i(t,h,e,1,r,f)),g>2&&Zn(t,e,2,i)&&(d=!0,f=_i(t,h,e,2,i,f)),g>3&&Zn(t,e,3,a)&&(d=!0,f=_i(t,h,e,3,a,f)),g>4&&Zn(t,e,4,s)&&(d=!0,f=_i(t,h,e,4,s,f)),g>5&&Zn(t,e,5,o)&&(d=!0,f=_i(t,h,e,5,o,f)),g>6&&Zn(t,e,6,l)&&(d=!0,f=_i(t,h,e,6,l,f)),g>7&&Zn(t,e,7,u)&&(d=!0,f=_i(t,h,e,7,u,f)),g>8&&Zn(t,e,8,c)&&(d=!0,f=_i(t,h,e,8,c,f)),g>9&&Zn(t,e,9,p)&&(d=!0,f=_i(t,h,e,9,p,f)),f&&m.ngOnChanges(f),65536&e.flags&&zn(t,256,e.nodeIndex)&&m.ngOnInit(),262144&e.flags&&m.ngDoCheck(),d}(t,e,n,r,i,a,s,o,l,u,c,p);case 32:case 64:case 128:return function(t,e,n,r,i,a,s,o,l,u,c,p){const h=e.bindings;let m=!1;const d=h.length;if(d>0&&Jn(t,e,0,n)&&(m=!0),d>1&&Jn(t,e,1,r)&&(m=!0),d>2&&Jn(t,e,2,i)&&(m=!0),d>3&&Jn(t,e,3,a)&&(m=!0),d>4&&Jn(t,e,4,s)&&(m=!0),d>5&&Jn(t,e,5,o)&&(m=!0),d>6&&Jn(t,e,6,l)&&(m=!0),d>7&&Jn(t,e,7,u)&&(m=!0),d>8&&Jn(t,e,8,c)&&(m=!0),d>9&&Jn(t,e,9,p)&&(m=!0),m){const m=jn(t,e.nodeIndex);let f;switch(201347067&e.flags){case 32:f=new Array(h.length),d>0&&(f[0]=n),d>1&&(f[1]=r),d>2&&(f[2]=i),d>3&&(f[3]=a),d>4&&(f[4]=s),d>5&&(f[5]=o),d>6&&(f[6]=l),d>7&&(f[7]=u),d>8&&(f[8]=c),d>9&&(f[9]=p);break;case 64:f={},d>0&&(f[h[0].name]=n),d>1&&(f[h[1].name]=r),d>2&&(f[h[2].name]=i),d>3&&(f[h[3].name]=a),d>4&&(f[h[4].name]=s),d>5&&(f[h[5].name]=o),d>6&&(f[h[6].name]=l),d>7&&(f[h[7].name]=u),d>8&&(f[h[8].name]=c),d>9&&(f[h[9].name]=p);break;case 128:const t=n;switch(d){case 1:f=t.transform(n);break;case 2:f=t.transform(r);break;case 3:f=t.transform(r,i);break;case 4:f=t.transform(r,i,a);break;case 5:f=t.transform(r,i,a,s);break;case 6:f=t.transform(r,i,a,s,o);break;case 7:f=t.transform(r,i,a,s,o,l);break;case 8:f=t.transform(r,i,a,s,o,l,u);break;case 9:f=t.transform(r,i,a,s,o,l,u,c);break;case 10:f=t.transform(r,i,a,s,o,l,u,c,p)}}m.value=f}return m}(t,e,n,r,i,a,s,o,l,u,c,p);default:throw"unreachable"}}(t,e,r,i,a,s,o,l,u,c,p,h):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)qa(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let a=0;a<n.length;a++)Jn(t,e,a,n[a])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=ns(n[t],r[t]);i=e.text.prefix+i;const a=Bn(t,e.nodeIndex).renderText;t.renderer.setValue(a,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=Un(t,e.nodeIndex),i=r.instance;let a=!1,s=void 0;for(let o=0;o<n.length;o++)Zn(t,e,o,n[o])&&(a=!0,s=_i(t,r,e,o,n[o],s));return s&&i.ngOnChanges(s),65536&e.flags&&zn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),a}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let a=0;a<n.length;a++)Jn(t,e,a,n[a])&&(i=!0);if(i){const i=jn(t,e.nodeIndex);let a;switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(let e=0;e<n.length;e++)a[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);a=t.transform(...i)}i.value=a}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function fs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=Vn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,nr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function gs(t,e,n,r,i,a,s,o,l,u,c,p,h){return 0===n?function(t,e,n,r,i,a,s,o,l,u,c,p){const h=e.bindings.length;h>0&&tr(t,e,0,n),h>1&&tr(t,e,1,r),h>2&&tr(t,e,2,i),h>3&&tr(t,e,3,a),h>4&&tr(t,e,4,s),h>5&&tr(t,e,5,o),h>6&&tr(t,e,6,l),h>7&&tr(t,e,7,u),h>8&&tr(t,e,8,c),h>9&&tr(t,e,9,p)}(t,e,r,i,a,s,o,l,u,c,p,h):function(t,e,n){for(let r=0;r<n.length;r++)tr(t,e,r,n[r])}(t,e,r),!1}function ys(t,e){if(Wn(t,e.nodeIndex).dirty)throw Mn(Hn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function vs(t){if(!(128&t.state)){if(ws(t,bs.Destroy),_s(t,bs.Destroy),wi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=ir(t);if(e){const n=e.template._projectedViews;n&&(Lr(n,n.indexOf(t)),Hn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Vn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Bn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Wn(t,n).destroy()}}(t),or(t)&&t.renderer.destroy(),t.state|=128}}const bs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function _s(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?xs(Vn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ws(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Vn(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)xs(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function xs(t,e){const n=t.state;switch(e){case bs.CheckNoChanges:0==(128&n)&&(12==(12&n)?hs(t):64&n&&Cs(t,bs.CheckNoChangesProjectedViews));break;case bs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?hs(t):64&n&&Cs(t,e));break;case bs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ms(t):64&n&&Cs(t,bs.CheckAndUpdateProjectedViews));break;case bs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ms(t):64&n&&Cs(t,e));break;case bs.Destroy:vs(t);break;case bs.CreateViewNodes:ps(t)}}function Cs(t,e){ws(t,e),_s(t,e)}function Ss(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let a=0;a<i;a++){const i=t.def.nodes[a];if(i.flags&e&&i.flags&n)switch(Hn.setCurrentNode(t,i.nodeIndex),r){case 0:Ka(t,i);break;case 1:ys(t,i)}i.childFlags&e&&i.childFlags&n||(a+=i.childCount)}}let Es=!1;function ks(t,e,n,r,i,a){const s=i.injector.get(on);return os(Ts(t,i,s,e,n),r,a)}function As(t,e,n,r,i,a){const s=i.injector.get(on),o=Ts(t,i,new so(s),e,n),l=zs(r);return io(Hs.create,os,null,[o,l,a])}function Ts(t,e,n,r,i){const a=e.injector.get(Ne),s=e.injector.get(ie),o=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:a,rendererFactory:n,renderer:o,errorHandler:s}}function Is(t,e,n,r){const i=zs(n);return io(Hs.create,ss,null,[t,e,i,r])}function Ns(t,e,n,r){return n=Ms.get(e.element.componentProvider.provider.token)||zs(n),io(Hs.create,ls,null,[t,e,n,r])}function Rs(t,e,n,r){return Zr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Ds.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Ds.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{Os.forEach((r,i)=>{yt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Ds.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=pr(i.deps),r.value=i.value)}if(Os.size>0){let e=new Set(t.modules);Os.forEach((r,i)=>{if(e.has(yt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:pr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Gn(i)]=e}})}}(t=t.factory(()=>qn)),t):t}(r))}const Ds=new Map,Os=new Map,Ms=new Map;function Fs(t){let e;Ds.set(t.token,t),"function"==typeof t.token&&(e=yt(t.token))&&"function"==typeof e.providedIn&&Os.set(t.token,t)}function Ls(t,e){const n=dr(e.viewDefFactory),r=dr(n.nodes[0].element.componentView);Ms.set(t,r)}function Ps(){Ds.clear(),Os.clear(),Ms.clear()}function zs(t){if(0===Ds.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Ds.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>qn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Ds.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=pr(n.deps),t.value=n.value)}}}}function Bs(t,e,n,r,i,a,s,o,l,u,c,p,h){const m=t.def.nodes[e];return ds(t,m,n,r,i,a,s,o,l,u,c,p,h),224&m.flags?jn(t,e).value:void 0}function Vs(t,e,n,r,i,a,s,o,l,u,c,p,h){const m=t.def.nodes[e];return gs(t,m,n,r,i,a,s,o,l,u,c,p,h),224&m.flags?jn(t,e).value:void 0}function Us(t){return io(Hs.detectChanges,ms,null,[t])}function js(t){return io(Hs.checkNoChanges,hs,null,[t])}function Ws(t){return io(Hs.destroy,vs,null,[t])}const Hs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let qs,$s,Gs;function Ks(t,e){$s=t,Gs=e}function Ys(t,e,n,r){return Ks(t,e),io(Hs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Xs(t,e){if(128&t.state)throw Ln(Hs[qs]);return Ks(t,to(t,0)),t.def.updateDirectives(function(t,n,r,...i){const a=t.def.nodes[n];return 0===e?Zs(t,a,r,i):Js(t,a,r,i),16384&a.flags&&Ks(t,to(t,n)),224&a.flags?jn(t,a.nodeIndex).value:void 0},t)}function Qs(t,e){if(128&t.state)throw Ln(Hs[qs]);return Ks(t,eo(t,0)),t.def.updateRenderer(function(t,n,r,...i){const a=t.def.nodes[n];return 0===e?Zs(t,a,r,i):Js(t,a,r,i),3&a.flags&&Ks(t,eo(t,n)),224&a.flags?jn(t,a.nodeIndex).value:void 0},t)}function Zs(t,e,n,r){if(ds(t,e,n,...r)){const s=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],o=s[t];8&r.flags&&(n[(i=r.nonMinifiedName,a=void 0,a=i.replace(/[$@]/g,"_"),`ng-reflect-${i=a.replace(Oe,(...t)=>"-"+t[1].toLowerCase())}`)]=Me(o))}const r=e.parent,o=Vn(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(o,e,r):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}var i,a}function Js(t,e,n,r){gs(t,e,n,...r)}function to(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function eo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class no{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ar(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Vn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Gr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){ro(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&ro(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!or(t);)t=t.parent;return t.parent?Vn(t.parent,ar(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?sr(this.view,this.nodeDef):sr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let a=-1;n.factory(()=>++a===i?t.error.bind(t,...e):qn),a<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function ro(t,e,n){for(let r in e.references)n[r]=Xa(t,e,e.references[r])}function io(t,e,n,r){const i=qs,a=$s,s=Gs;try{qs=t;const l=e.apply(n,r);return $s=a,Gs=s,qs=i,l}catch(o){if(ee(o)||!$s)throw o;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Fn(t,e),t}(o,ao())}}function ao(){return $s?new no($s,Gs):null}class so{constructor(t){this.delegate=t}createRenderer(t,e){return new oo(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class oo{constructor(t){this.delegate=t,this.debugContextFactory=ao,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){Na.delete(t.nativeNode)}(Ra(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Ia(n,null,r);e.name=t,Da(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Da(new Ta(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Da(new Ta(e,null,n)),e}appendChild(t,e){const n=Ra(t),r=Ra(e);n&&r&&n instanceof Ia&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=Ra(t),i=Ra(e),a=Ra(n);r&&i&&r instanceof Ia&&r.insertBefore(a,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Ra(t),r=Ra(e);n&&r&&n instanceof Ia&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=ao();return r&&Da(new Ia(n,null,r)),n}setAttribute(t,e,n,r){const i=Ra(t);i&&i instanceof Ia&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=Ra(t);r&&r instanceof Ia&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Ra(t);n&&n instanceof Ia&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Ra(t);n&&n instanceof Ia&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=Ra(t);i&&i instanceof Ia&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=Ra(t);r&&r instanceof Ia&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=Ra(t);r&&r instanceof Ia&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=Ra(t);r&&r.listeners.push(new Aa(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function lo(t,e,n){return new uo(t,e,n)}class uo extends en{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Es)return;Es=!0;const t=oe()?{setCurrentNode:Ks,createRootView:As,createEmbeddedView:Is,createComponentView:Ns,createNgModuleRef:Rs,overrideProvider:Fs,overrideComponentView:Ls,clearOverrides:Ps,checkAndUpdateView:Us,checkNoChangesView:js,destroyView:Ws,createDebugContext:(t,e)=>new no(t,e),handleEvent:Ys,updateDirectives:Xs,updateRenderer:Qs}:{setCurrentNode:()=>{},createRootView:ks,createEmbeddedView:ss,createComponentView:ls,createNgModuleRef:Zr,overrideProvider:qn,overrideComponentView:qn,clearOverrides:qn,checkAndUpdateView:ms,checkNoChangesView:hs,destroyView:vs,createDebugContext:(t,e)=>new no(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Bs:Vs,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Bs:Vs,t)};Hn.setCurrentNode=t.setCurrentNode,Hn.createRootView=t.createRootView,Hn.createEmbeddedView=t.createEmbeddedView,Hn.createComponentView=t.createComponentView,Hn.createNgModuleRef=t.createNgModuleRef,Hn.overrideProvider=t.overrideProvider,Hn.overrideComponentView=t.overrideComponentView,Hn.clearOverrides=t.clearOverrides,Hn.checkAndUpdateView=t.checkAndUpdateView,Hn.checkNoChangesView=t.checkNoChangesView,Hn.destroyView=t.destroyView,Hn.resolveDep=vi,Hn.createDebugContext=t.createDebugContext,Hn.handleEvent=t.handleEvent,Hn.updateDirectives=t.updateDirectives,Hn.updateRenderer=t.updateRenderer,Hn.dirtyParentQueries=Ga}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(dr(this._ngModuleDefFactory));return Hn.createNgModuleRef(this.moduleType,t||Ft.NULL,this._bootstrapComponents,e)}}n("yLV6");class co{}class po{constructor(t,e){this.service=t,this.titleService=e,this.title="About Jingles"}ngOnInit(){this.updatePageTitle()}updatePageTitle(){this.service.updatePageTitle.subscribe(t=>{this.titleService.setTitle(t),this.title=t})}}class ho{}const mo=new Nt("Location Initialized");class fo{}const go=new Nt("appBaseHref");class yo{constructor(t,e){this._subject=new Ei,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=yo.stripTrailingSlash(vo(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+yo.normalizeQueryParams(e))}normalize(t){return yo.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,vo(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function vo(t){return t.replace(/\/index.html$/,"")}class bo extends fo{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=yo.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+yo.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+yo.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class _o extends fo{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yo.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+yo.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+yo.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+yo.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const wo=void 0;var xo=["en",[["a","p"],["AM","PM"],wo],[["AM","PM"],wo,wo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wo,"{1} 'at' {0}",wo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const Co={},So=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Eo=new Nt("UseV4Plurals");class ko{}class Ao extends ko{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Co[e];if(n)return n;const r=e.split("-")[0];if(n=Co[r])return n;if("en"===r)return xo;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[18]}(e||this.locale)(t)){case So.Zero:return"zero";case So.One:return"one";case So.Two:return"two";case So.Few:return"few";case So.Many:return"many";default:return"other"}}}function To(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Io{}class No{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(je(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}const Ro=function(){class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t}();class Do extends Ro{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class Oo{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Mo{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){oe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Oo(null,this._ngForOf,-1,-1),r),i=new Fo(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const a=new Fo(t,i);e.push(a)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Fo{constructor(t,e){this.record=t,this.view=e}}class Lo{constructor(t,e){this._viewContainer=t,this._context=new Po,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(t,e){return!0}}class Po{constructor(){this.$implicit=null,this.ngIf=null}}function zo(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}class Bo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class Vo{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Uo{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Bo(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class jo{constructor(t,e,n){n._addDefault(new Bo(t,e))}}class Wo{}class Ho{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}const qo=function(){class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t}();class $o extends qo{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}class Go{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ko{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Yo=new Ko,Xo=new Go;class Qo{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Be(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Fe(t))return Yo;if(Le(t))return Xo;throw Error(`InvalidPipeArgument: '${t}' for pipe '${bt(Qo)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class Zo{}const Jo=new Nt("DocumentToken"),tl="browser",el="server";function nl(t){return t===tl}function rl(t){return t===el}const il=function(){class t{}return t.ngInjectableDef=ft({providedIn:"root",factory:()=>new al(Tt(Jo),window,Tt(ie))}),t}();class al{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=(()=>[0,0])}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const sl=new w(t=>t.complete());function ol(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):sl}function ll(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function ul(...t){let e=t[t.length-1];switch(I(e)?t.pop():e=void 0,t.length){case 0:return ol(e);case 1:return e?q(t,e):ll(t[0]);default:return q(t,e)}}class cl extends A{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}function pl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}pl.prototype=Object.create(Error.prototype);const hl=pl,ml={};function dl(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),q(t,n).lift(new fl(e))}class fl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new gl(t,this.resultSelector))}}class gl extends U{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ml),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(V(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const a=this.values,s=this.toRespond?a[n]===ml?--this.toRespond:this.toRespond:0;a[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function yl(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?$(n):ol()).subscribe(e)})}function vl(){return Q(1)}function bl(t,e){return function(n){return n.lift(new _l(t,e))}}class _l{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new wl(t,this.predicate,this.thisArg))}}class wl extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function xl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}xl.prototype=Object.create(Error.prototype);const Cl=xl;function Sl(t){return function(e){return 0===t?ol():e.lift(new El(t))}}class El{constructor(t){if(this.total=t,this.total<0)throw new Cl}call(t,e){return e.subscribe(new kl(t,this.total))}}class kl extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Al(t,e,n){return function(r){return r.lift(new Tl(t,e,n))}}class Tl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Il(t,this.nextOrObserver,this.error,this.complete))}}class Il extends f{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Nl=(t=function(){return new hl})=>Al({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Rl(t=null){return e=>e.lift(new Dl(t))}class Dl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ol(t,this.defaultValue))}}class Ol extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ml(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bl((e,n)=>t(e,n,r)):X,Sl(1),n?Rl(e):Nl(()=>new hl))}function Fl(t){return function(e){const n=new Ll(t),r=e.lift(n);return n.caught=r}}class Ll{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Pl(t,this.selector,this.caught))}}class Pl extends U{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N(this,void 0,void 0);this.add(r),V(this,n,void 0,void 0,r)}}}function zl(t){return e=>0===t?ol():e.lift(new Bl(t))}class Bl{constructor(t){if(this.total=t,this.total<0)throw new Cl}call(t,e){return e.subscribe(new Vl(t,this.total))}}class Vl extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ul(t,e){const n=arguments.length>=2;return r=>r.pipe(t?bl((e,n)=>t(e,n,r)):X,zl(1),n?Rl(e):Nl(()=>new hl))}class jl{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Wl(t,this.predicate,this.thisArg,this.source))}}class Wl extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Hl(t,e){return"function"==typeof e?n=>n.pipe(Hl((n,r)=>$(t(n,r)).pipe(j((t,i)=>e(n,t,r,i))))):e=>e.lift(new ql(t))}class ql{constructor(t){this.project=t}call(t,e){return e.subscribe(new $l(t,this.project))}}class $l extends U{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new N(this,void 0,void 0);this.destination.add(i),this.innerSubscription=V(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Gl(...t){return e=>{let n=t[t.length-1];I(n)?t.pop():n=null;const r=t.length;return function(...t){return vl()(ul(...t))}(1!==r||n?r>0?q(t,n):ol(n):ll(t[0]),e)}}function Kl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yl(t,e,n))}}class Yl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Xl(t,this.accumulator,this.seed,this.hasSeed))}}class Xl extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ql(t,e){return G(t,e,1)}function Zl(t){return e=>e.lift(new Jl(t))}class Jl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new tu(t,this.callback))}}class tu extends f{constructor(t,e){super(t),this.add(new h(e))}}let eu=null;function nu(){return eu}class ru{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class iu extends ru{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const au={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},su=3,ou={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uu=(()=>{if(St.Node)return St.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class cu extends iu{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new cu,eu||(eu=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return au}contains(t,e){return uu.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===su&&lu.hasOwnProperty(e)&&(e=lu[e]))}return ou[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=hu||(hu=document.querySelector("base"))?hu.getAttribute("href"):null;return null==e?null:(n=e,pu||(pu=document.createElement("a")),pu.setAttribute("href",n),"/"===pu.pathname.charAt(0)?pu.pathname:"/"+pu.pathname);var n}resetBaseElement(){hu=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return To(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let pu,hu=null;function mu(){return!!window.history.pushState}const du=function(){class t extends ho{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=nu().getLocation(),this._history=nu().getHistory()}getBaseHrefFromDOM(){return nu().getBaseHref(this._doc)}onPopState(t){nu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){nu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){mu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){mu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=(()=>[{type:void 0,decorators:[{type:ut,args:[Jo]}]}]),t}(),fu=new Nt("TRANSITION_ID"),gu=[{provide:Ti,useFactory:function(t,e,n){return()=>{n.get(Ii).donePromise.then(()=>{const n=nu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[fu,Jo,Ft],multi:!0}];class yu{static init(){var t;t=new yu,ua=t}addToWindow(t){St.getAngularTestability=((e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r}),St.getAllAngularTestabilities=(()=>t.getAllTestabilities()),St.getAllAngularRootElements=(()=>t.getAllRootElements()),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(t=>{const e=St.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?nu().isShadowRoot(e)?this.findTestabilityInTree(t,nu().getHost(e),!0):this.findTestabilityInTree(t,nu().parentElement(e),!0):null}}function vu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((St.ng=St.ng||{})[t]=e)}const bu=(()=>({ApplicationRef:va,NgZone:Zi}))();function _u(t){return Ra(t)}const wu=new Nt("EventManagerPlugins");class xu{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class Cu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=nu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class Su{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Eu extends Su{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>nu().remove(t))}}const ku={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Au=/%COMP%/g,Tu="_nghost-%COMP%",Iu="_ngcontent-%COMP%";function Nu(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nu(t,i,n):(i=i.replace(Au,t),n.push(i))}return n}function Ru(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class Du{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ou(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Jt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Lu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Jt.Native:case Jt.ShadowDom:return new Pu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Nu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Ou{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ku[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=`${r}:${e}`;const i=ku[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ku[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ln.DashCase?t.style.setProperty(e,n,r&ln.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ln.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Fu(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Fu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ru(n)):this.eventManager.addEventListener(t,e,Ru(n))}}const Mu=(()=>"@".charCodeAt(0))();function Fu(t,e){if(t.charCodeAt(0)===Mu)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Lu extends Ou{constructor(t,e,n,r){super(t),this.component=n;const i=Nu(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=Iu.replace(Au,r+"-"+n.id),this.hostAttr=Tu.replace(Au,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Pu extends Ou{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Jt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Nu(r.id,r.styles,[]);for(let a=0;a<i.length;a++){const t=document.createElement("style");t.textContent=i[a],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const zu=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Bu=zu("addEventListener"),Vu=zu("removeEventListener"),Uu={},ju="FALSE",Wu="ANGULAR",Hu="addEventListener",qu="removeEventListener",$u="__zone_symbol__propagationStopped",Gu="__zone_symbol__stopImmediatePropagation",Ku=(()=>{const t="undefined"!=typeof Zone&&Zone[zu("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Yu=function(t){return!!Ku&&Ku.hasOwnProperty(t)},Xu=function(t){const e=Uu[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[$u];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class Qu extends Cu{constructor(t,e,n){super(t),this.ngZone=e,n&&rl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Gu])return;const t=Event.prototype[Gu]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[$u]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Bu]||Zi.isInAngularZone()&&!Yu(e))t[Hu](e,r,!1);else{let n=Uu[e];n||(n=Uu[e]=zu(Wu+e+ju));let i=t[n];const a=i&&i.length>0;i||(i=t[n]=[]);const s=Yu(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}a||t[Bu](e,Xu,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[Vu];if(!r)return t[qu].apply(t,[e,n,!1]);let i=Uu[e],a=i&&t[i];if(!a)return t[qu].apply(t,[e,n,!1]);let s=!1;for(let o=0;o<a.length;o++)if(a[o].handler===n){s=!0,a.splice(o,1);break}s?0===a.length&&r.apply(t,[e,Xu,!1]):t[qu].apply(t,[e,n,!1])}}const Zu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ju=new Nt("HammerGestureConfig"),tc=new Nt("HammerLoader");class ec{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class nc extends Cu{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Zu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=(()=>{}));r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=(()=>{})}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),a=function(t){r.runGuarded(function(){n(t)})};return i.on(e,a),()=>{i.off(e,a),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const rc=["alt","control","meta","shift"],ic={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class ac extends Cu{constructor(t){super(t)}supports(t){return null!=ac.parseEventName(t)}addEventListener(t,e,n){const r=ac.parseEventName(e),i=ac.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nu().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=ac._normalizeKey(e.pop());let i="";if(rc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const a={};return a.domEventName=n,a.fullKey=i,a}static getEventFullKey(t){let e="",n=nu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),rc.forEach(r=>{r!=n&&(0,ic[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{ac.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class sc{}class oc extends sc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ie.NONE:return e;case Ie.HTML:return e instanceof uc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Ae=Ae||new le(t);let r=e?String(e):"";n=Ae.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=Ae.getInertBodyElement(r)}while(r!==a);const s=new Ce,o=s.sanitizeChildren(Te(n)||n);return oe()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const t=Te(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Ie.STYLE:return e instanceof cc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(De);return e&&pe(e[1])===e[1]||t.match(Re)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(oe()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Ie.SCRIPT:if(e instanceof pc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ie.URL:return e instanceof mc||e instanceof hc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),pe(String(e)));case Ie.RESOURCE_URL:if(e instanceof mc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof lc)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new uc(t)}bypassSecurityTrustStyle(t){return new cc(t)}bypassSecurityTrustScript(t){return new pc(t)}bypassSecurityTrustUrl(t){return new hc(t)}bypassSecurityTrustResourceUrl(t){return new mc(t)}}class lc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class uc extends lc{getTypeName(){return"HTML"}}class cc extends lc{getTypeName(){return"Style"}}class pc extends lc{getTypeName(){return"Script"}}class hc extends lc{getTypeName(){return"URL"}}class mc extends lc{getTypeName(){return"ResourceURL"}}const dc=da(Oa,"browser",[{provide:Mi,useValue:tl},{provide:Oi,useValue:function(){cu.makeCurrent(),yu.init()},multi:!0},{provide:ho,useClass:du,deps:[Jo]},{provide:Jo,useFactory:function(){return document},deps:[]}]);function fc(){return new ie}class gc{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:gc,providers:[{provide:Ni,useValue:t.appId},{provide:fu,useExisting:Ni},gu]}}}function yc(){return new vc(Tt(Jo))}const vc=function(){class t{constructor(t){this._doc=t}getTitle(){return nu().getTitle(this._doc)}setTitle(t){nu().setTitle(this._doc,t)}}return t.ngInjectableDef=ft({factory:yc,token:t,providedIn:"root"}),t}();"undefined"!=typeof window&&window;class bc{constructor(t,e){this.id=t,this.url=e}}class _c extends bc{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wc extends bc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xc extends bc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cc extends bc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sc extends bc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ec extends bc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kc extends bc{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ac extends bc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tc extends bc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ic{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Lc{}const Pc="primary";class zc{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bc(t){return new zc(t)}const Vc="ngNavigationCancelingError";function Uc(t){const e=Error("NavigationCancelingError: "+t);return e[Vc]=!0,e}function jc(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let a=0;a<r.length;a++){const e=r[a],n=t[a];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Wc{constructor(t,e){this.routes=t,this.module=e}}function Hc(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];qc(r,$c(e,r))}}function qc(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Pc)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Hc(t.children,e)}function $c(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Gc(t){const e=t.children&&t.children.map(Gc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Pc&&(n.component=Lc),n}function Kc(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(t[i=n[a]]!==e[i])return!1;return!0}function Yc(t){return Array.prototype.concat.apply([],t)}function Xc(t){return t.length>0?t[t.length-1]:null}function Qc(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zc(t){return Le(t)?t:Fe(t)?$(Promise.resolve(t)):ul(t)}function Jc(t,e,n){return n?function(t,e){return Kc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!rp(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!rp(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!rp(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!rp(n.segments,t)&&!!n.children[Pc]&&e(n.children[Pc],r,a)}}(e,n,n.segments)}(t.root,e.root)}class tp{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return op.serialize(this)}}class ep{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qc(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lp(this)}}class np{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bc(this.parameters)),this._parameterMap}toString(){return dp(this)}}function rp(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ip(t,e){let n=[];return Qc(t.children,(t,r)=>{r===Pc&&(n=n.concat(e(t,r)))}),Qc(t.children,(t,r)=>{r!==Pc&&(n=n.concat(e(t,r)))}),n}class ap{}class sp{parse(t){const e=new bp(t);return new tp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return lp(e);if(n){const n=e.children[Pc]?t(e.children[Pc],!1):"",r=[];return Qc(e.children,(e,n)=>{n!==Pc&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ip(e,(n,r)=>r===Pc?[t(e.children[Pc],!1)]:[`${r}:${t(n,!1)}`]);return`${lp(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${cp(e)}=${cp(t)}`).join("&"):`${cp(e)}=${cp(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const op=new sp;function lp(t){return t.segments.map(t=>dp(t)).join("/")}function up(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cp(t){return up(t).replace(/%3B/gi,";")}function pp(t){return up(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hp(t){return decodeURIComponent(t)}function mp(t){return hp(t.replace(/\+/g,"%20"))}function dp(t){return`${pp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${pp(t)}=${pp(e[t])}`).join("")}`;var e}const fp=/^[^\/()?;=#]+/;function gp(t){const e=t.match(fp);return e?e[0]:""}const yp=/^[^=?&#]+/,vp=/^[^?&#]+/;class bp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ep([],{}):new ep([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Pc]=new ep(t,e)),n}parseSegment(){const t=gp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new np(hp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gp(this.remaining);t&&this.capture(n=t)}t[hp(e)]=hp(n)}parseQueryParam(t){const e=function(t){const e=t.match(yp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vp);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=mp(e),i=mp(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Pc);const a=this.parseChildren();e[i]=1===Object.keys(a).length?a[Pc]:new ep([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _p{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return xp(t,this._root).map(t=>t.value)}}function wp(t,e){if(t===e.value)return e;for(const n of e.children){const e=wp(t,n);if(e)return e}return null}function xp(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xp(t,n);if(r.length)return r.unshift(e),r}return[]}class Cp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ep extends _p{constructor(t,e){super(t),this.snapshot=e,Rp(this,t)}toString(){return this.snapshot.toString()}}function kp(t,e){const n=function(t,e){const n=new Ip([],{},{},"",{},Pc,e,null,t.root,-1,{});return new Np("",new Cp(n,[]))}(t,e),r=new cl([new np("",{})]),i=new cl({}),a=new cl({}),s=new cl({}),o=new cl(""),l=new Ap(r,i,s,o,a,Pc,e,n.root);return l.snapshot=n.root,new Ep(new Cp(l,[]),n)}class Ap{constructor(t,e,n,r,i,a,s,o){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=a,this.component=s,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(t=>Bc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(t=>Bc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tp(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ip{constructor(t,e,n,r,i,a,s,o,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=a,this.component=s,this.routeConfig=o,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Np extends _p{constructor(t,e){super(e),this.url=t,Rp(this,e)}toString(){return Dp(this._root)}}function Rp(t,e){e.value._routerState=t,e.children.forEach(e=>Rp(t,e))}function Dp(t){const e=t.children.length>0?` { ${t.children.map(Dp).join(", ")} } `:"";return`${t.value}${e}`}function Op(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Kc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Kc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Mp(t,e){var n,r;return Kc(t.params,e.params)&&rp(n=t.url,r=e.url)&&n.every((t,e)=>Kc(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Mp(t.parent,e.parent))}function Fp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lp(t,e,n,r,i){let a={};return r&&Qc(r,(t,e)=>{a[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new tp(n.root===t?e:function t(e,n,r){const i={};return Qc(e.children,(e,a)=>{i[a]=e===n?r:t(e,n,r)}),new ep(e.segments,i)}(n.root,t,e),a,i)}class Pp{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Fp(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Xc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bp(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Pc]:`${t}`}function Vp(t,e,n){if(t||(t=new ep([],{})),0===t.segments.length&&t.hasChildren())return Up(t,e,n);const r=function(t,e,n){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return a;const e=t.segments[i],s=Bp(n[r]),o=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&o&&"object"==typeof o&&void 0===o.outlets){if(!qp(s,o,e))return a;r+=2}else{if(!qp(s,{},e))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ep(t.segments.slice(0,r.pathIndex),{});return e.children[Pc]=new ep(t.segments.slice(r.pathIndex),t.children),Up(e,0,i)}return r.match&&0===i.length?new ep(t.segments,{}):r.match&&!t.hasChildren()?jp(t,e,n):r.match?Up(t,0,i):jp(t,e,n)}function Up(t,e,n){if(0===n.length)return new ep(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[Pc]:t}:void 0===t[0].outlets?{[Pc]:t}:t[0].outlets}(n),i={};return Qc(r,(n,r)=>{null!==n&&(i[r]=Vp(t.children[r],e,n))}),Qc(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ep(t.segments,i)}}function jp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Wp(n[i].outlets);return new ep(r,t)}if(0===i&&Fp(n[0])){r.push(new np(t.segments[e].path,n[0])),i++;continue}const a=Bp(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Fp(s)?(r.push(new np(a,Hp(s))),i+=2):(r.push(new np(a,{})),i++)}return new ep(r,{})}function Wp(t){const e={};return Qc(t,(t,n)=>{null!==t&&(e[n]=jp(new ep([],{}),0,t))}),e}function Hp(t){const e={};return Qc(t,(t,n)=>e[n]=`${t}`),e}function qp(t,e,n){return t==n.path&&Kc(e,n.parameters)}const $p=(t,e,n)=>j(r=>(new Gp(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Gp{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Op(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Sp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qc(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Sp(t),i=t.value.component?n.children:e;Qc(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Sp(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Mc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Dc(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Op(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Kp(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Kp(t){Op(t.value),t.children.forEach(Kp)}function Yp(t){return"function"==typeof t}function Xp(t){return t instanceof tp}class Qp{constructor(t){this.segmentGroup=t||null}}class Zp{constructor(t){this.urlTree=t}}function Jp(t){return new w(e=>e.error(new Qp(t)))}function th(t){return new w(e=>e.error(new Zp(t)))}function eh(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class nh{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(tn)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Pc).pipe(j(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fl(t=>{if(t instanceof Zp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Qp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pc).pipe(j(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Fl(t=>{if(t instanceof Qp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ep([],{[Pc]:t}):t;return new tp(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j(t=>new ep([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return ul({});const n=[],r=[],i={};return Qc(t,(t,a)=>{const s=e(a,t).pipe(j(t=>i[a]=t));a===Pc?n.push(s):r.push(s)}),ul.apply(null,n.concat(r)).pipe(vl(),Ml(),j(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,a){return ul(...n).pipe(j(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(Fl(t=>{if(t instanceof Qp)return ul(null);throw t}))),vl(),Ul(t=>!!t),Fl((t,n)=>{if(t instanceof hl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return ul(new ep([],{}));throw new Qp(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,a,s){return sh(r)!==a?Jp(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,a):Jp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?th(i):this.lineralizeSegments(n,i).pipe(G(n=>{const i=new ep(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,a){const{matched:s,consumedSegments:o,lastChild:l,positionalParamSegments:u}=rh(e,r,i);if(!s)return Jp(e);const c=this.applyRedirectCommands(o,r.redirectTo,u);return r.redirectTo.startsWith("/")?th(c):this.lineralizeSegments(r,c).pipe(G(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),a,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j(t=>(n._loadedConfig=t,new ep(r,{})))):ul(new ep(r,{}));const{matched:i,consumedSegments:a,lastChild:s}=rh(e,n,r);if(!i)return Jp(e);const o=r.slice(s);return this.getChildConfig(t,n,r).pipe(G(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>ah(t,e,n)&&sh(n)!==Pc)}(t,n)?{segmentGroup:ih(new ep(e,function(t,e){const n={};n[Pc]=e;for(const r of t)""===r.path&&sh(r)!==Pc&&(n[sh(r)]=new ep([],{}));return n}(r,new ep(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>ah(t,e,n))}(t,n)?{segmentGroup:ih(new ep(t.segments,function(t,e,n,r){const i={};for(const a of n)ah(t,e,a)&&!r[sh(a)]&&(i[sh(a)]=new ep([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,o,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(j(t=>new ep(a,t))):0===r.length&&0===s.length?ul(new ep(a,{})):this.expandSegment(n,i,r,s,Pc,!0).pipe(j(t=>new ep(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?ul(new Wc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ul(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?$(r).pipe(j(r=>{const i=t.get(r);let a;if(function(t){return t&&Yp(t.canLoad)}(i))a=i.canLoad(e,n);else{if(!Yp(i))throw new Error("Invalid CanLoad guard");a=i(e,n)}return Zc(a)})).pipe(vl(),(i=(t=>!0===t),t=>t.lift(new jl(i,void 0,t)))):ul(!0);var i}(t.injector,e,n).pipe(G(n=>n?this.configLoader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Uc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):ul(new Wc([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ul(n);if(r.numberOfChildren>1||!r.children[Pc])return eh(t.redirectTo);r=r.children[Pc]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new tp(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qc(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let a={};return Qc(e.children,(e,i)=>{a[i]=this.createSegmentGroup(t,e,n,r)}),new ep(i,a)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function rh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||jc)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ih(t){if(1===t.numberOfChildren&&t.children[Pc]){const e=t.children[Pc];return new ep(t.segments.concat(e.segments),e.children)}return t}function ah(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function sh(t){return t.outlet||Pc}class oh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lh{constructor(t,e){this.component=t,this.route=e}}function uh(t,e,n){const r=t._root;return function t(e,n,r,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sp(n);return e.children.forEach(e=>{!function(e,n,r,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rp(t.url,e.url)||!Kc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mp(t,e)||!Kc(t.queryParams,e.queryParams);case"paramsChange":default:return!Mp(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);if(u?a.canActivateChecks.push(new oh(i)):(s.data=o.data,s._resolvedData=o._resolvedData),t(e,n,s.component?l?l.children:null:r,i,a),u){a.canDeactivateChecks.push(new lh(l&&l.outlet&&l.outlet.component||null,o))}}else o&&ph(n,l,a),a.canActivateChecks.push(new oh(i)),t(e,null,s.component?l?l.children:null:r,i,a)}(e,s[e.value.outlet],r,i.concat([e.value]),a),delete s[e.value.outlet]}),Qc(s,(t,e)=>ph(t,r.getContext(e),a)),a}(r,e?e._root:null,n,[r.value])}function ch(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ph(t,e,n){const r=Sp(t),i=t.value;Qc(r,(t,r)=>{ph(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new lh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const hh=Symbol("INITIAL_VALUE");function mh(){return Hl(t=>dl(...t.map(t=>t.pipe(zl(1),Gl(hh)))).pipe(Kl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==hh)return t;if(r===hh&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Xp(r))return r}return t},t)},hh),bl(t=>t!==hh),j(t=>Xp(t)?t:!0===t),zl(1)))}function dh(t,e){return null!==t&&e&&e(new Oc(t)),ul(!0)}function fh(t,e){return null!==t&&e&&e(new Rc(t)),ul(!0)}function gh(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?ul(r.map(r=>yl(()=>{const i=ch(r,e,n);let a;if(function(t){return t&&Yp(t.canActivate)}(i))a=Zc(i.canActivate(e,t));else{if(!Yp(i))throw new Error("Invalid CanActivate guard");a=Zc(i(e,t))}return a.pipe(Ul())}))).pipe(mh()):ul(!0)}function yh(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>yl(()=>ul(e.guards.map(i=>{const a=ch(i,e.node,n);let s;if(function(t){return t&&Yp(t.canActivateChild)}(a))s=Zc(a.canActivateChild(r,t));else{if(!Yp(a))throw new Error("Invalid CanActivateChild guard");s=Zc(a(r,t))}return s.pipe(Ul())})).pipe(mh())));return ul(i).pipe(mh())}class vh{}class bh{constructor(t,e,n,r,i,a){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=a}recognize(){try{const e=xh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Pc),r=new Ip([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pc,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Cp(r,n),a=new Np(this.url,i);return this.inheritParamsAndData(a._root),ul(a)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Tp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ip(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Pc?-1:e.value.outlet===Pc?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const a of t)try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(i){if(!(i instanceof vh))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new vh}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new vh;if((t.outlet||Pc)!==r)throw new vh;let i,a=[],s=[];if("**"===t.path){const a=n.length>0?Xc(n).parameters:{};i=new Ip(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eh(t),r,t.component,t,_h(e),wh(e)+n.length,kh(t))}else{const o=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new vh;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||jc)(n,t,e);if(!r)throw new vh;const i={};Qc(r.posParams,(t,e)=>{i[e]=t.path});const a=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(e,t,n);a=o.consumedSegments,s=n.slice(o.lastChild),i=new Ip(a,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eh(t),r,t.component,t,_h(e),wh(e)+a.length,kh(t))}const o=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=xh(e,a,s,o,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(o,l);return[new Cp(i,t)]}if(0===o.length&&0===u.length)return[new Cp(i,[])];const c=this.processSegment(o,l,u,Pc);return[new Cp(i,c)]}}function _h(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wh(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xh(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>Ch(t,e,n)&&Sh(n)!==Pc)}(t,n)){const i=new ep(e,function(t,e,n,r){const i={};i[Pc]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const a of n)if(""===a.path&&Sh(a)!==Pc){const n=new ep([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Sh(a)]=n}return i}(t,e,r,new ep(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>Ch(t,e,n))}(t,n)){const a=new ep(t.segments,function(t,e,n,r,i,a){const s={};for(const o of r)if(Ch(t,n,o)&&!i[Sh(o)]){const n=new ep([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===a?t.segments.length:e.length,s[Sh(o)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}const a=new ep(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Ch(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Sh(t){return t.outlet||Pc}function Eh(t){return t.data||{}}function kh(t){return t.resolve||{}}function Ah(t,e,n,r){const i=ch(t,e,r);return Zc(i.resolve?i.resolve(e,n):i(e,n))}function Th(t){return function(e){return e.pipe(Hl(e=>{const n=t(e);return n?$(n).pipe(j(()=>e)):$([e])}))}}class Ih{}class Nh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Rh=new Nt("ROUTES");class Dh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Wc(Yc(r.injector.get(Rh)).map(Gc),r)}))}loadModuleFactory(t){return"string"==typeof t?$(this.loader.load(t)):Zc(t()).pipe(G(t=>t instanceof en?ul(t):$(this.compiler.compileModuleAsync(t))))}}class Oh{}class Mh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fh(t){throw t}function Lh(t,e,n){return e.parse("/")}function Ph(t,e){return ul(null)}class zh{constructor(t,e,n,r,i,a,s,o){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=Fh,this.malformedUriErrorHandler=Lh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ph,afterPreactivation:Ph},this.urlHandlingStrategy=new Mh,this.routeReuseStrategy=new Nh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(tn),this.console=i.get(Li);const l=i.get(Zi);this.isNgZoneEnabled=l instanceof Zi,this.resetConfig(o),this.currentUrlTree=new tp(new ep([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dh(a,s,t=>this.triggerEvent(new Ic(t)),t=>this.triggerEvent(new Nc(t))),this.routerState=kp(this.currentUrlTree,this.rootComponentType),this.transitions=new cl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(bl(t=>0!==t.id),j(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Hl(t=>{let n=!1,r=!1;return ul(t).pipe(Al(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Hl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return ul(t).pipe(Hl(t=>{const n=this.transitions.getValue();return e.next(new _c(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?sl:[t]}),Hl(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Hl(i=>(function(t,e,n,r,a){return new nh(t,e,n,i.extractedUrl,a).apply()})(t,e,n,0,r).pipe(j(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Al(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(a){return a.pipe(G(a=>(function(t,e,n,r,i="emptyOnly",a="legacy"){return new bh(t,e,n,r,i,a).recognize()})(t,e,a.urlAfterRedirects,n(a.urlAfterRedirects),r,i).pipe(j(t=>Object.assign({},a,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Al(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Al(t=>{const n=new Sc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:a,extras:s}=t,o=new _c(n,this.serializeUrl(r),i,a);e.next(o);const l=kp(r,this.rootComponentType).snapshot;return ul(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),sl}),Th(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:a,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!a,replaceUrl:!!s})}),Al(t=>{const e=new Ec(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),j(t=>Object.assign({},t,{guards:uh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:s}}=n;return 0===s.length&&0===a.length?ul(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return $(s).pipe(G(t=>(function(t,e,n,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ul(a.map(a=>{const s=ch(a,e,i);let o;if(function(t){return t&&Yp(t.canDeactivate)}(s))o=Zc(s.canDeactivate(t,e,n,r));else{if(!Yp(s))throw new Error("Invalid CanDeactivate guard");o=Zc(s(t,e,n,r))}return o.pipe(Ul())})).pipe(mh()):ul(!0)})(t.component,t.route,n,e,r)),Ul(t=>!0!==t,!0))}(0,r,i,t).pipe(G(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,r){return $(a).pipe(Ql(e=>$([fh(e.route.parent,r),dh(e.route,r),yh(t,e.path,n),gh(t,e.route,n)]).pipe(vl(),Ul(t=>!0!==t,!0))),Ul(t=>!0!==t,!0))}(r,0,t,e):ul(n)),j(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Al(t=>{if(Xp(t.guardsResult)){const e=Uc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Al(t=>{const e=new kc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),bl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new xc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Th(t=>{if(t.guards.canActivateChecks.length)return ul(t).pipe(Al(t=>{const e=new Ac(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(G(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?$(i).pipe(Ql(n=>(function(t,e,n,i){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ul({});if(1===i.length){const a=i[0];return Ah(t[a],e,n,r).pipe(j(t=>({[a]:t})))}const a={};return $(i).pipe(G(i=>Ah(t[i],e,n,r).pipe(j(t=>(a[i]=t,t))))).pipe(Ml(),j(()=>a))}(t._resolve,t,r,i).pipe(j(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Tp(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(e){return b(Kl(t,void 0),Sl(1),Rl(void 0))(e)}:function(e){return b(Kl((e,n,r)=>t(e)),Sl(1))(e)}}((t,e)=>t),j(t=>n)):ul(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Al(t=>{const e=new Tc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Th(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:a,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!a,replaceUrl:!!s})}),j(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const a=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Cp(i,a)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Ap(new cl((i=n.value).url),new cl(i.params),new cl(i.queryParams),new cl(i.fragment),new cl(i.data),i.outlet,i.component,i),a=n.children.map(n=>t(e,n));return new Cp(r,a)}}var i}(t,e._root,n?n._root:void 0);return new Ep(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Al(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),$p(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),Al({next(){n=!0},complete(){n=!0}}),Zl(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new xc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Fl(n=>{if(r=!0,function(t){return n&&n[Vc]}()){const r=Xp(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new xc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Cc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return sl}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hc(t),this.config=t.map(Gc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:a,queryParamsHandling:s,preserveFragment:o}=e;oe()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=a?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Lp(e.root,e.root,e,r,i);const a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Pp(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qc(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Pp(n,e,r)}(n);if(a.toRoot())return Lp(e.root,new ep([],{}),e,r,i);const s=function(t,n,r){if(t.isAbsolute)return new zp(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new zp(r.snapshot._urlSegment,!0,0);const i=Fp(t.commands[0])?0:1;return function(e,n,a){let s=r.snapshot._urlSegment,o=r.snapshot._lastPathIndex+i,l=t.numberOfDoubleDots;for(;l>o;){if(l-=o,!(s=s.parent))throw new Error("Invalid number of '../'");o=s.segments.length}return new zp(s,!1,o-l)}()}(a,0,t),o=s.processChildren?Up(s.segmentGroup,s.index,a.commands):Vp(s.segmentGroup,s.index,a.commands);return Lp(s.segmentGroup,o,e,r,i)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){oe()&&this.isNgZoneEnabled&&!Zi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Xp(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Xp(t))return Jc(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Jc(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new wc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let a=null,s=null;const o=new Promise((t,e)=>{a=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:s,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Bh{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof wc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Vh(this.skipLocationChange),replaceUrl:Vh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Vh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Vh(this.preserveFragment)})}}function Vh(t){return""===t||!!t}class Uh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jh,this.attachRef=null}}class jh{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Uh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Wh{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ei,this.deactivateEvents=new Ei,this.name=r||Pc,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Hh(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Hh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ap?this.route:t===jh?this.childContexts:this.parent.get(t,e)}}class qh{}class $h{preload(t,e){return e().pipe(Fl(()=>ul(null)))}}class Gh{preload(t,e){return ul(null)}}class Kh{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Dh(e,n,e=>t.triggerEvent(new Ic(e)),e=>t.triggerEvent(new Nc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(bl(t=>t instanceof wc),Ql(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(tn);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return $(n).pipe(Q(),j(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(G(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Yh{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _c?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Fc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Xh=new Nt("ROUTER_CONFIGURATION"),Qh=new Nt("ROUTER_FORROOT_GUARD"),Zh=[yo,{provide:ap,useClass:sp},{provide:zh,useFactory:am,deps:[va,ap,jh,yo,Ft,Ai,ji,Rh,Xh,[Oh,new ct],[Ih,new ct]]},jh,{provide:Ap,useFactory:sm,deps:[zh]},{provide:Ai,useClass:Ea},Kh,Gh,$h,{provide:Xh,useValue:{enableTracing:!1}}];function Jh(){return new ma("Router",zh)}class tm{constructor(t,e){}static forRoot(t,e){return{ngModule:tm,providers:[Zh,im(t),{provide:Qh,useFactory:rm,deps:[[zh,new ct,new ht]]},{provide:Xh,useValue:e||{}},{provide:fo,useFactory:nm,deps:[ho,[new ut(go),new ct],Xh]},{provide:Yh,useFactory:em,deps:[zh,il,Xh]},{provide:qh,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Gh},{provide:ma,multi:!0,useFactory:Jh},[om,{provide:Ti,multi:!0,useFactory:lm,deps:[om]},{provide:cm,useFactory:um,deps:[om]},{provide:Fi,multi:!0,useExisting:cm}]]}}static forChild(t){return{ngModule:tm,providers:[im(t)]}}}function em(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yh(t,e,n)}function nm(t,e,n={}){return n.useHash?new bo(t,e):new _o(t,e)}function rm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function im(t){return[{provide:Zt,multi:!0,useValue:t},{provide:Rh,multi:!0,useValue:t}]}function am(t,e,n,r,i,a,s,o,l={},u,c){const p=new zh(null,e,n,r,i,a,s,Yc(o));if(u&&(p.urlHandlingStrategy=u),c&&(p.routeReuseStrategy=c),l.errorHandler&&(p.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(p.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=nu();p.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(p.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(p.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(p.relativeLinkResolution=l.relativeLinkResolution),p}function sm(t){return t.routerState.root}class om{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(mo,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zh),r=this.injector.get(Xh);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?ul(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Xh),n=this.injector.get(Kh),r=this.injector.get(Yh),i=this.injector.get(zh),a=this.injector.get(va);t===a.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function lm(t){return t.appInitializer.bind(t)}function um(t){return t.bootstrapListener.bind(t)}const cm=new Nt("Router Initializer");var pm=Xn({encapsulation:2,styles:[],data:{}});function hm(t){return rs(0,[(t()(),Ua(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),li(1,212992,null,0,Wh,[jh,Dn,Qe,[8,null],En],null,null)],function(t,e){t(e,1,0)},null)}function mm(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"ng-component",[],null,null,null,hm,pm)),li(1,49152,null,0,Lc,[],null,null)],null,null)}var dm=zr("ng-component",Lc,mm,{},{},[]);class fm{}class gm{}class ym{}class vm{}class bm{}class _m{}class wm{}const xm=new Nt("cdk-dir-doc",{providedIn:"root",factory:function(){return It(Jo)}}),Cm=function(){class t{constructor(t){if(this.value="ltr",this.change=new Ei,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(xm,8))},token:t,providedIn:"root"}),t}();class Sm{}function Em(t){return null!=t&&"false"!==`${t}`}function km(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Am(t){return Array.isArray(t)?t:[t]}function Tm(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Im(t){return t instanceof rn?t.nativeElement:t}let Nm;try{Nm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(iI){Nm=!1}const Rm=function(){class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?nl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Mi,8))},token:t,providedIn:"root"}),t}();class Dm{}let Om;const Mm=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Fm(){if(Om)return Om;if("object"!=typeof document||!document)return Om=new Set(Mm);let t=document.createElement("input");return Om=new Set(Mm.filter(e=>(t.setAttribute("type",e),t.type===e)))}let Lm;function Pm(t){return function(){if(null==Lm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lm=!0}))}finally{Lm=Lm||!1}return Lm}()?t:!!t.capture}const zm=9,Bm=13,Vm=27,Um=32,jm=33,Wm=34,Hm=35,qm=36,$m=37,Gm=38,Km=39,Ym=40,Xm=48,Qm=57,Zm=65,Jm=90;function td(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class ed extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class nd extends ed{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}const rd=function(){class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=(()=>Date.now()),t}();class id extends rd{constructor(t,e=rd.now){super(t,()=>id.delegate&&id.delegate!==this?id.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return id.delegate&&id.delegate!==this?id.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const ad=new id(nd);function sd(t,e=ad){return n=>n.lift(new od(t,e))}class od{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ld(t,this.dueTime,this.scheduler))}}class ld extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ud,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ud(t){t.debouncedNext()}const cd=" ";function pd(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const hd="cdk-describedby-message-container",md="cdk-describedby-message",dd="cdk-describedby-host";let fd=0;const gd=new Map;let yd=null;const vd=function(){class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&(gd.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(!this._isElementNode(t))return;this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e);const n=gd.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e),yd&&0===yd.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${dd}]`);for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(dd);yd&&this._deleteMessagesContainer(),gd.clear()}_createMessageElement(t){const e=this._document.createElement("div");e.setAttribute("id",`${md}-${fd++}`),e.appendChild(this._document.createTextNode(t)),this._createMessagesContainer(),yd.appendChild(e),gd.set(t,{messageElement:e,referenceCount:0})}_deleteMessageElement(t){const e=gd.get(t),n=e&&e.messageElement;yd&&n&&yd.removeChild(n),gd.delete(t)}_createMessagesContainer(){if(!yd){const t=this._document.getElementById(hd);t&&t.parentNode.removeChild(t),(yd=this._document.createElement("div")).id=hd,yd.setAttribute("aria-hidden","true"),yd.style.display="none",this._document.body.appendChild(yd)}}_deleteMessagesContainer(){yd&&yd.parentNode&&(yd.parentNode.removeChild(yd),yd=null)}_removeCdkDescribedByReferenceIds(t){const e=pd(t,"aria-describedby").filter(t=>0!=t.indexOf(md));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=gd.get(e);!function(t,e,n){const r=pd(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(cd)))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(dd,""),n.referenceCount++}_removeMessageReference(t,e){const n=gd.get(e);n.referenceCount--,function(t,e,n){const r=pd(t,e).filter(t=>t!=n.trim());t.setAttribute(e,r.join(cd))}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(dd)}_isElementDescribedByMessage(t,e){const n=pd(t,"aria-describedby"),r=gd.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Jo))},token:t,providedIn:"root"}),t}();class bd{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new A,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=(t=>t.disabled),this._pressedLetters=[],this.tabOut=new A,this.change=new A,t instanceof ki&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Al(t=>this._pressedLetters.push(t)),sd(t),bl(()=>this._pressedLetters.length>0),j(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case zm:return void this.tabOut.next();case Ym:if(this._vertical&&n){this.setNextItemActive();break}return;case Gm:if(this._vertical&&n){this.setPreviousItemActive();break}return;case Km:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case $m:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||td(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=Zm&&e<=Jm||e>=Xm&&e<=Qm)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof ki?this._items.toArray():this._items}}class _d extends bd{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}const wd=function(){class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(iI){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Cd(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Cd(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||xd(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Rm))},token:t,providedIn:"root"}),t}();function xd(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Cd(t){if(!xd(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Sd{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=(()=>this.focusLastTabbableElement()),this.endAnchorListener=(()=>this.focusFirstTabbableElement()),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),oe()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(zl(1)).subscribe(t)}}const Ed=function(){class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Sd(t,this._checker,this._ngZone,this._document,e)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(wd),Tt(Zi),Tt(Jo))},token:t,providedIn:"root"}),t}();class kd{constructor(t,e,n){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Em(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Em(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}const Ad=new Nt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Td=new Nt("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Id=function(){class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Ad,8),Tt(Zi),Tt(Jo),Tt(Td,8))},token:t,providedIn:"root"}),t}();class Nd{constructor(t,e,n,r){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=n,this._ngZone=r,this._politeness="off"}get politeness(){return this._politeness}set politeness(t){this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}const Rd=650,Dd=Pm({passive:!0,capture:!0}),Od=function(){class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=(()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")}),this._documentMousedownListener=(()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")}),this._documentTouchstartListener=(t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Rd)}),this._windowFocusListener=(()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)})}monitor(t,e=!1){if(!this._platform.isBrowser)return ul(null);const n=Im(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new A};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),a=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",a,!0)}),r.unlisten=(()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",a,!0)}),r.subject.asObservable()}stopMonitoring(t){const e=Im(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=Im(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Dd),document.addEventListener("mousedown",this._documentMousedownListener,Dd),document.addEventListener("touchstart",this._documentTouchstartListener,Dd),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Dd),document.removeEventListener("mousedown",this._documentMousedownListener,Dd),document.removeEventListener("touchstart",this._documentTouchstartListener,Dd),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Zi),Tt(Rm))},token:t,providedIn:"root"}),t}();class Md{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new Ei,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}class Fd{}const Ld=new Nt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class Pd{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&oe()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function zd(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Em(t)}}}function Bd(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function Vd(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Em(t)}}}function Ud(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function jd(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new A}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}const Wd=new Nt("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return It(Ma)}});class Hd{constructor(){this._localeChanges=new A}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const qd=new Nt("mat-date-formats");let $d;try{$d="undefined"!=typeof Intl}catch(iI){$d=!1}const Gd={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Kd=Qd(31,t=>String(t+1)),Yd={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Xd=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Qd(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}class Zd extends Hd{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if($d){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Qd(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return Gd[t]}getDateNames(){if($d){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Qd(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Kd}getDayOfWeekNames(t){if($d){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Qd(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Yd[t]}getYearName(t){if($d){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if($d){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign({},e,{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Xd.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}const Jd={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class tf{}class ef{}const nf=function(){class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}(),rf=new Nt("MAT_HAMMER_OPTIONS"),af=["longpress","slide","slidestart","slideend","slideright","slideleft"],sf={on:()=>{},off:()=>{}};class of extends ec{constructor(t,e){super(),this._hammerOptions=t,this.events=af,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return sf;const n=new e(t,this._hammerOptions||void 0),r=new e.Pan,i=new e.Swipe,a=new e.Press,s=this._createRecognizer(r,{event:"slide",threshold:0},i),o=this._createRecognizer(a,{event:"longpress",time:500});return r.recognizeWith(i),o.recognizeWith(s),n.add([i,a,r,s,o]),n}_createRecognizer(t,e,...n){let r=new t.constructor(e);return n.push(t),n.forEach(t=>r.recognizeWith(t)),r}}class lf{}const uf=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class cf{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=uf.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const pf={enterDuration:450,exitDuration:400},hf=800,mf=Pm({passive:!0});class df{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=(t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+hf;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}),this._onTouchStart=(t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}),this._onPointerUp=(()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===uf.VISIBLE||t.config.terminateOnPointerUp&&t.state===uf.FADING_IN)&&t.fadeOut()}))}),r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},pf,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,o=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${o-a}px`,u.style.height=`${2*a}px`,u.style.width=`${2*a}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new cf(this,u,n);return c.state=uf.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=uf.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},pf,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=uf.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=uf.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>{t.addEventListener(n,e,mf)})}),this._triggerElement=t)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,mf)})}}const ff=new Nt("mat-ripple-global-options");class gf{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new df(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class yf{}class vf{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}class bf{}class _f{}const wf=zd(_f);let xf=0;class Cf extends wf{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${xf++}`}}let Sf=0;class Ef{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const kf=new Nt("MAT_OPTION_PARENT_COMPONENT");class Af{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${Sf++}`,this.onSelectionChange=new Ei,this._stateChanges=new A}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Em(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(){const t=this._getHostElement();"function"==typeof t.focus&&t.focus()}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==Bm&&t.keyCode!==Um||td(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Ef(this,t))}}function Tf(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),a=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[a]&&a++;return a}return 0}class If{}const Nf=new Nt("mat-label-global-options");var Rf=Xn({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function Df(t){return rs(2,[Qa(null,0),Qa(null,1)],null,null)}var Of=Xn({encapsulation:2,styles:[],data:{}});function Mf(t){return rs(2,[Qa(null,0),(t()(),Ua(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),Qa(null,1),Qa(null,2)],null,null)}let Ff=1;const Lf={},Pf={setImmediate(t){const e=Ff++;return Lf[e]=t,Promise.resolve().then(()=>(function(t){const e=Lf[t];e&&e()})(e)),e},clearImmediate(t){delete Lf[t]}};class zf extends nd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Pf.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Pf.clearImmediate(e),t.scheduled=void 0)}}class Bf extends id{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Vf=new Bf(zf);function Uf(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Uf(t,e,n).pipe(j(t=>l(t)?i(...t):i(t))):new w(r=>{!function t(e,n,r,i,a){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,a),s=(()=>t.removeEventListener(n,r,a))}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=(()=>t.off(n,r))}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=(()=>t.removeListener(n,r))}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)t(e[s],n,r,i,a)}i.add(s)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function jf(t){return e=>e.lift(new Wf(t))}class Wf{constructor(t){this.notifier=t}call(t,e){const n=new Hf(t),r=V(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Hf extends U{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}class qf{}class $f{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new $f(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}const Gf=function(){class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Kf={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Yf=new Nt("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Kf}),Xf=new Nt("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Qf=new Nt("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Zf(t,e){return t=t?t.clone():new $f,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const Jf="inline",tg=["row","column","row-reverse","column-reverse"];function eg(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}class ng{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new A,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return tg.find(t=>t===e)||(e=tg[0]),n===Jf&&(n=r!==Jf?r:"",r=Jf),[e,eg(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.addStyles(t)}}const rg=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.99px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.99px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.99px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.99px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.99px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.99px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.99px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.99px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.99px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],ig="(orientation: portrait) and (max-width: 599.99px)",ag="(orientation: portrait) and (min-width: 600px) and (max-width: 839.99px)",sg="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.99px)",og="(orientation: portrait) and (min-width: 840px)",lg="(orientation: landscape) and (min-width: 1280px)",ug={HANDSET:`${ig}, (orientation: landscape) and (max-width: 959.99px)`,TABLET:`${ag} , ${sg}`,WEB:`${og}, ${lg} `,HANDSET_PORTRAIT:`${ig}`,TABLET_PORTRAIT:`${ag} `,WEB_PORTRAIT:`${og}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.99px)]",TABLET_LANDSCAPE:`${sg}`,WEB_LANDSCAPE:`${lg}`},cg=[{alias:"handset",priority:2e3,mediaQuery:ug.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ug.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ug.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ug.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ug.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:ug.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ug.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ug.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ug.WEB_PORTRAIT,overlapping:!0}],pg=/(\.|-|_)/g;function hg(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const mg=new Nt("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=It(Qf),e=It(Yf),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(r=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(e){return t.alias.replace(pg,"|").split("|").map(hg).join("")}(),t.overlapping=!!t.overlapping)}),r;var r}((e.disableDefaultBps?[]:rg).concat(e.addOrientationBps?cg:[]),n)}});function dg(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function fg(t,e){return(t.priority||0)-(e.priority||0)}const gg=function(){class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(fg)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(mg))},token:t,providedIn:"root"}),t}(),yg=function(){class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new cl(new $f(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return!!e&&e.matches}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(bl(n=>!e||t.indexOf(n.mediaQuery)>-1));return Z(new w(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()}),n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!vg[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>vg[t]=i)}catch(r){console.error(r)}}}(e,this._document),e.forEach(t=>{let e=this.registry.get(t);e||((e=this.buildMQL(t)).addListener(e=>{this._zone.run(()=>this.source.next(new $f(e.matches,t)))}),this.registry.set(t,e)),e.matches&&n.push(new $f(!0,t))}),n}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}(t,nl(this._platformId))}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Zi),Tt(Mi),Tt(Jo))},token:t,providedIn:"root"}),t}(),vg={},bg="print",_g={alias:bg,mediaQuery:bg,priority:1e3},wg=function(){class t{constructor(t,e){this.breakpoints=t,this.layoutConfig=e,this.isPrinting=!1,this.queue=new xg,this.deactivations=[]}withPrintQuery(t){return[...t,bg]}isPrintEvent(t){return t.mediaQuery.startsWith(bg)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(dg)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),Zf(t,e)}interceptEvents(t){return e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):!e.matches&&this.isPrinting&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting)if(t.matches)this.deactivations=[];else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(dg))}}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(gg),Tt(Yf))},token:t,providedIn:"root"}),t}();class xg{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(_g),t.sort(dg),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(bg)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function Cg(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":t["-webkit-flex-direction"]=n=n||"row",t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}const Sg=function(){class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:Cg(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:Cg(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||rl(this._platformId)&&this._serverModuleLoaded?e:""]}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return nl(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(nl(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",nl(this._platformId)||!this._serverModuleLoaded?nl(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${r}`);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Gf,8),Tt(Xf,8),Tt(Mi),Tt(Yf))},token:t,providedIn:"root"}),t}();class Eg{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function kg(t,e="1",n="1"){let r=[e,n,t],i=t.indexOf("calc");if(i>0){r[2]=Ag(t.substring(i).trim());let e=t.substr(0,i).trim().split(" ");2==e.length&&(r[0]=e[0],r[1]=e[1])}else if(0==i)r[2]=Ag(t.trim());else{let i=t.split(" ");r=3===i.length?i:[e,n,t]}return r}function Ag(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}const Tg=function(){class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new A,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=Zf(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(dg),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(dg),this.updateStyles()))}init(t,e,n,r,i=[]){Ig(this.updateMap,t,e,n),Ig(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const a=(i.get(r)||new Map).set(e,n);i.set(r,a),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const a=this.getValue(t,e);void 0!==a&&this.updateElement(t,e,a)}trackValue(t,e){return this.subject.asObservable().pipe(bl(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n)){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Z(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Al(this.hook.interceptEvents(this)),bl(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(yg),Tt(gg),Tt(wg))},token:t,providedIn:"root"}),t}();function Ig(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}const Ng="inline",Rg=["row","column","row-reverse","column-reverse"];function Dg(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return Rg.find(t=>t===e)||(e=Rg[0]),n===Ng&&(n=r!==Ng?r:"",r=Ng),[e,Mg(n),!!r]}function Og(t){let[e]=Dg(t);return e.indexOf("row")>-1}function Mg(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}const Fg=function(){class t extends Eg{buildStyles(t){return function(t){let[e,n,r]=Dg(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Lg=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];class Pg extends ng{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout",this.styleCache=Bg,this.init()}}class zg extends Pg{constructor(){super(...arguments),this.inputs=Lg}}const Bg=new Map,Vg={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null},Ug=function(){class t extends Eg{constructor(t){super(),this._styler=t}buildStyles(t,e){return t.endsWith(Yg)?function(t,n){let r="0px",i="0px";return"rtl"===e.directionality?i="-"+t:r="-"+t,{margin:`0px ${r} ${"-"+t} ${i}`}}(t=t.slice(0,t.indexOf(Yg))):{}}sideEffect(t,e,n){const r=n.items;if(t.endsWith(Yg)){const e=function(t,e){let r="0px",i="0px";return"rtl"===n.directionality?i=t:r=t,{padding:`0px ${r} ${t} ${i}`}}(t=t.slice(0,t.indexOf(Yg)));this._styler.applyStyleToElements(e,n.items)}else{const e=r.pop(),i=function(t,e){const n=Xg(e.directionality,e.layout),r=Object.assign({},Vg);return r[n]=t,r}(t,n);this._styler.applyStyleToElements(i,r),this._styler.applyStyleToElements(Vg,[e])}}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Sg))},token:t,providedIn:"root"}),t}(),jg=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];class Wg extends ng{constructor(t,e,n,r,i,a){super(t,i,r,a),this.elRef=t,this.zone=e,this.directionality=n,this.styleUtils=r,this.styleBuilder=i,this.marshal=a,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new A;const s=[this.directionality.change,this.observerSubject.asObservable()];this.init(s),this.marshal.trackValue(this.nativeElement,"layout").pipe(jf(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,e=[];for(let n=t.length;n--;)e[n]=t[n];return e}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],Rg.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const e=this.childrenNodes.filter(t=>1===t.nodeType&&this.willDisplay(t)).sort((t,e)=>{const n=+this.styler.lookupStyle(t,"order"),r=+this.styler.lookupStyle(e,"order");return isNaN(n)||isNaN(r)||n===r?0:n>r?1:-1});if(e.length>0){const n=this.directionality.value,r=this.layout;"row"===r&&"rtl"===n?this.styleCache=qg:"row"===r&&"rtl"!==n?this.styleCache=Gg:"column"===r&&"rtl"===n?this.styleCache=$g:"column"===r&&"rtl"!==n&&(this.styleCache=Kg),this.addStyles(t,{directionality:n,items:e,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,e=t?"padding":Xg(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[e]:""},this.childrenNodes)}willDisplay(t){const e=this.marshal.getValue(t,"show-hide");return!0===e||void 0===e&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(t=>t.addedNodes&&t.addedNodes.length>0||t.removedNodes&&t.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}class Hg extends Wg{constructor(){super(...arguments),this.inputs=jg}}const qg=new Map,$g=new Map,Gg=new Map,Kg=new Map,Yg=" grid";function Xg(t,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===t?"margin-left":"margin-right";case"row-reverse":return"rtl"===t?"margin-right":"margin-left";default:return"rtl"===t?"margin-left":"margin-right"}}function Qg(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}const Zg=function(){class t extends Eg{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,r,...i]=t.split(" "),a=i.join(" ");const s=e.direction.indexOf("column")>-1?"column":"row",o=Og(s)?"max-width":"max-height",l=Og(s)?"min-width":"min-height",u=String(a).indexOf("calc")>-1,c=u||"auto"===a,p=String(a).indexOf("%")>-1&&!u,h=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1;let m=u||h;r="0"==r?0:r;const d=!(n="0"==n?0:n)&&!r;let f={};const g={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;a="row"===s?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,a="auto";break;case"grow":a="100%";break;case"noshrink":r=0,a="auto";break;case"auto":break;case"none":n=0,r=0,a="auto";break;default:m||p||isNaN(a)||(a+="%"),"0%"===a&&(m=!0),"0px"===a&&(a="0%"),f=Qg(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":m?a:"100%"}:{flex:`${n} ${r} ${m?a:"100%"}`})}return f.flex||f["flex-grow"]||(f=Qg(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":a}:{flex:`${n} ${r} ${a}`})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(f[l]=d||m&&n?a:null,f[o]=d||!c&&r?a:null),f[l]||f[o]?e.hasWrap&&(f[u?"flex-basis":"flex"]=f[o]?u?f[o]:`${n} ${r} ${f[o]}`:u?f[l]:`${n} ${r} ${f[l]}`):f=Qg(g,u?{"flex-grow":n,"flex-shrink":r,"flex-basis":a}:{flex:`${n} ${r} ${a}`}),Qg(f,{"box-sizing":"border-box"})}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Yf))},token:t,providedIn:"root"}),t}(),Jg=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];class ty extends ng{constructor(t,e,n,r,i){super(t,r,e,i),this.elRef=t,this.styleUtils=e,this.layoutConfig=n,this.styleBuilder=r,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(jf(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(jf(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const e=this.direction,n=e.startsWith("row"),r=this.wrap;n&&r?this.styleCache=iy:n&&!r?this.styleCache=ny:!n&&r?this.styleCache=ay:n||r||(this.styleCache=ry);const i=kg(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:e,hasWrap:r})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=kg(t,this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}class ey extends ty{constructor(){super(...arguments),this.inputs=Jg}}const ny=new Map,ry=new Map,iy=new Map,ay=new Map,sy=function(){class t extends Eg{buildStyles(t,e){const n={},[r,i]=t.split(" ");switch(r){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(i){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return Qg(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===i?Og(e.layout)?null:"100%":null,"max-height":"stretch"===i&&Og(e.layout)?"100%":null})}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}(),oy=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];class ly extends ng{constructor(t,e,n,r){super(t,n,e,r),this.elRef=t,this.styleUtils=e,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(jf(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=dy:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=gy:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=fy:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=yy:"column-reverse"!==e||n||(this.styleCache=my):this.styleCache=py:this.styleCache=hy:this.styleCache=cy,this.addStyles(t,{layout:e,inline:n})}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],this.inline=t.value.includes("inline"),Rg.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}}class uy extends ly{constructor(){super(...arguments),this.inputs=oy}}const cy=new Map,py=new Map,hy=new Map,my=new Map,dy=new Map,fy=new Map,gy=new Map,yy=new Map;class vy{}class by{constructor(){}ngOnInit(){}}var _y=Xn({encapsulation:0,styles:[[".mat-card-avatar[_ngcontent-%COMP%]{width:100px;border-radius:0}\n/*# sourceMappingURL=home.component.css.map*/"]],data:{}});function wy(t){return rs(0,[(t()(),Ua(0,0,null,null,16,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(1,49152,null,0,bm,[],null,null),(t()(),Ua(2,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(3,49152,null,0,_m,[],null,null),(t()(),Ua(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(5,16384,null,0,gm,[],null,null),(t()(),ts(-1,null,["Hello!"])),(t()(),Ua(7,0,null,0,9,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(8,16384,null,0,fm,[],null,null),(t()(),Ua(9,0,null,null,7,"div",[["fxLayout","row"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(10,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"]},null),li(11,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(12,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(13,0,null,null,3,"div",[["fxFlex",""]],null,null,null,null,null)),li(14,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Hi, I'm Hong Jing, you can call me Jingles. A data scientist with four years of machine learning industry experience in the area of natural language processing and recommendation systems. Working on a range of classification and optimisation problems. Ability to deliver innovative solutions accurately and efficiently solve challenging business problems. Nimble and agile professional to deliver solutions in a rapidly changing environment. Curious and inquisitive with a constant desire to learn and pioneer new uses for machine learning. "])),(t()(),Ua(17,0,null,null,36,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(18,49152,null,0,bm,[],null,null),(t()(),Ua(19,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(20,49152,null,0,_m,[],null,null),(t()(),Ua(21,0,null,0,1,"div",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","background-image: url('./assets/home/logo-alibaba.jpg');background-size: cover;"]],null,null,null,null,null)),li(22,16384,null,0,vm,[],null,null),(t()(),Ua(23,0,null,1,5,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(24,16384,null,0,gm,[],null,null),(t()(),ts(-1,null,["Currently at "])),(t()(),Ua(26,0,null,null,1,"a",[["href","https://www.alibabagroup.com"]],null,null,null,null,null)),(t()(),ts(-1,null,["Alibaba Group"])),(t()(),ts(-1,null,["..."])),(t()(),Ua(29,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),li(30,16384,null,0,ym,[],null,null),(t()(),ts(-1,null,["2017 to present"])),(t()(),Ua(32,0,null,0,21,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(33,16384,null,0,fm,[],null,null),(t()(),Ua(34,0,null,null,19,"div",[["fxLayout","row"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(35,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"]},null),li(36,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(37,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(38,0,null,null,15,"div",[["fxFlex",""]],null,null,null,null,null)),li(39,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(40,0,null,null,0,"img",[["alt","At Alibaba Shen Zhen"],["src","./assets/home/about-taobao.jpg"],["style","float:left; max-height:400px; margin:10px; "]],null,null,null,null,null)),(t()(),Ua(41,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["This year, I've been traveling to Hangzhou throughout the year, working with "])),(t()(),Ua(43,0,null,null,1,"a",[["href","https://www.alibaba.com/"]],null,null,null,null,null)),(t()(),ts(-1,null,["Alibaba"])),(t()(),ts(-1,null,[" counterparts. My main focus this year is to work on recommendations systems for campaigns (such as double 11) and vouchers recommendation."])),(t()(),Ua(46,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ts(-1,null,["My involvement in campaigns"])),(t()(),Ua(48,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["As my modules are shown at the top and throughout the main campaign page, the purpose is to improve click through rate (CTR) and conversion rate. My modules recommends a list of categories and shops which are personalised for every users. I've built 2 types of models for CTR, parameter server logistic regression and Wide and Deep model, and challenges to improve CTR from previous campaigns."])),(t()(),Ua(50,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ts(-1,null,["Recommends the best vouchers to the right person"])),(t()(),Ua(52,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["For vouchers, my models and modules recommends voucher for every user to improve redemption rate which converts to sales. I also built voucher redemption model to predict every customer spending habits, type of vouchers users collect and redeem, and did A/B testing to validation every model performance."])),(t()(),Ua(54,0,null,null,35,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(55,49152,null,0,bm,[],null,null),(t()(),Ua(56,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(57,49152,null,0,_m,[],null,null),(t()(),Ua(58,0,null,0,1,"div",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","background-image: url('./assets/home/logo-dsta.png');background-size: cover;"]],null,null,null,null,null)),li(59,16384,null,0,vm,[],null,null),(t()(),Ua(60,0,null,1,5,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(61,16384,null,0,gm,[],null,null),(t()(),ts(-1,null,["Previously, at "])),(t()(),Ua(63,0,null,null,1,"a",[["href","https://www.dsta.gov.sg/"]],null,null,null,null,null)),(t()(),ts(-1,null,["Defence Science and Technology Agency"])),(t()(),ts(-1,null,["..."])),(t()(),Ua(66,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),li(67,16384,null,0,ym,[],null,null),(t()(),ts(-1,null,["2014 to 2017"])),(t()(),Ua(69,0,null,0,20,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(70,16384,null,0,fm,[],null,null),(t()(),Ua(71,0,null,null,18,"div",[["fxLayout","row"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(72,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"]},null),li(73,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(74,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(75,0,null,null,14,"div",[["fxFlex",""]],null,null,null,null,null)),li(76,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(77,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["A statutory board, of the "])),(t()(),Ua(79,0,null,null,1,"a",[["href","https://www.mindef.gov.sg/"]],null,null,null,null,null)),(t()(),ts(-1,null,["Singapore Ministry of Defence"])),(t()(),ts(-1,null,[". My role is focusing on natural language processing and fleet management system."])),(t()(),Ua(82,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ts(-1,null,["Built a text analytic web app"])),(t()(),Ua(84,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["As there are a many ad-hoc requests to analyse text data from surveys or documents, I built a user friendly text analytic web-based app for corporate staffs. I further improve it by understanding the pain points users faced at their work, and by getting their feedback from using the tool. Users upload their data and the backend server will extract topics and topic/entity-level sentiments. Users can explore their data from the interactive dashboard and further analyse the data by slicing the data by decomgraphics and search functions. This reduced time taken to analyse and report by eliminating the time spent on reading lengthy documents. Frontend is built on Angular, and backend is Python with Flask, TensorFlow, Spacy and various packages."])),(t()(),Ua(86,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ts(-1,null,["Predict possible machine failures"])),(t()(),Ua(88,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["I'm also involve in 1) analysis of sensor data of engines from naval ships, 2) accident logs from vehicles, and 3) failure logs from aircrafts. The findings from my analysis matches the domain knowledge of subject matter experts, thus gaining trust and confidence from users that data science is applicable for them. I am also part of the team that designed and developed prototype for showcasing fleet management systems, which has gained many approval and funding, from both internal staffs and external ministers."])),(t()(),Ua(90,0,null,null,41,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(91,49152,null,0,bm,[],null,null),(t()(),Ua(92,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(93,49152,null,0,_m,[],null,null),(t()(),Ua(94,0,null,0,1,"div",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","background-image: url('./assets/home/logo-ntu.jpg');background-size: cover;"]],null,null,null,null,null)),li(95,16384,null,0,vm,[],null,null),(t()(),Ua(96,0,null,1,5,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(97,16384,null,0,gm,[],null,null),(t()(),ts(-1,null,["During my time in "])),(t()(),Ua(99,0,null,null,1,"a",[["href","https://www.ntu.edu.sg/"]],null,null,null,null,null)),(t()(),ts(-1,null,["Nanyang Technological University"])),(t()(),ts(-1,null,["..."])),(t()(),Ua(102,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),li(103,16384,null,0,ym,[],null,null),(t()(),ts(-1,null,["2011 to 2014"])),(t()(),Ua(105,0,null,0,26,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(106,16384,null,0,fm,[],null,null),(t()(),Ua(107,0,null,null,24,"div",[["fxLayout","row"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(108,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"]},null),li(109,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(110,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(111,0,null,null,20,"div",[["fxFlex",""]],null,null,null,null,null)),li(112,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(113,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,['Graduated with Second Upper Honors in Computer Science. Focusing on machine learning, data structure, algorithms, natural language processing and artificial intelligence. I also did my internship in Institut sup\xe9rieur d\'\xe9lectronique de Paris as a research scientist for data center load balancing algorithm using cost aware prediction. My final year project is on keyword ambiguity search within XML documents, by providing user suggestion words that disambiguate their search. For example, when a user is searching for "Cambridge", machine suggested "UK" or "MA" to disambiguate the search tree.'])),(t()(),Ua(115,0,null,null,0,"img",[["alt","NTU robotics project"],["src","./assets/home/about-robot.jpg"],["style","float:left; max-height:200px; margin:10px; "]],null,null,null,null,null)),(t()(),Ua(116,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ts(-1,null,["Led 8 person team on a robotics project"])),(t()(),Ua(118,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["Our team were 2nd place (out of 30 teams) to explore the obsticle map and finding the shortest path from assigned point A to point B. This robotics project has 3 main parts, logic (on raspberry pi), hardware (on arduino), and control & display (on android). There are many challenges, from the hardware such as power supply affecting calibrated motors, irregular readings from sensors, to limitation on processing power on the raspberry pi. Integrating every components and leading a team to work together within 10 weeks. Watch the final report on "])),(t()(),Ua(120,0,null,null,1,"a",[["href","https://www.youtube.com/watch?v=1xrpDKF9mj0"]],null,null,null,null,null)),(t()(),ts(-1,null,["Youtube"])),(t()(),ts(-1,null,["."])),(t()(),Ua(123,0,null,null,3,"h3",[],null,null,null,null,null)),(t()(),ts(-1,null,["I'm very involved in "])),(t()(),Ua(125,0,null,null,1,"a",[["href","http://ntucac.com/"]],null,null,null,null,null)),(t()(),ts(-1,null,["Cultural Activities Club"])),(t()(),Ua(127,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["I was the Media and IT Director, in the 21st Executive Committee. I managed a committee of 20, provided video coverage for 23 performing arts events, managed 2 web development projects, and directed our very own "])),(t()(),Ua(129,0,null,null,1,"a",[["href","https://www.youtube.com/watch?v=M5ax5IdOTsE"]],null,null,null,null,null)),(t()(),ts(-1,null,["corporate video"])),(t()(),ts(-1,null,[". On my 2nd year, I was the Chief Publicity & Publications, in Arts from the Heart, a charity committee that bring joy and fundraising to the less fortunate children through activities. Managed a team of 5, designed T-shirts, posters, stage backdrop, voucher coupons, videos for our activities."])),(t()(),Ua(132,0,null,null,21,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(133,49152,null,0,bm,[],null,null),(t()(),Ua(134,0,null,0,4,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(135,49152,null,0,_m,[],null,null),(t()(),Ua(136,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(137,16384,null,0,gm,[],null,null),(t()(),ts(-1,null,["And I enjoy..."])),(t()(),Ua(139,0,null,0,14,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(140,16384,null,0,fm,[],null,null),(t()(),Ua(141,0,null,null,12,"div",[["fxLayout","row"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(142,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"]},null),li(143,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(144,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(145,0,null,null,8,"div",[["fxFlex",""]],null,null,null,null,null)),li(146,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(147,0,null,null,0,"img",[["alt","Freediving"],["src","./assets/home/about-freediving.jpg"],["style","float:right; max-height:300px; margin:10px; "]],null,null,null,null,null)),(t()(),Ua(148,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Ua(149,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/Freediving"]],null,null,null,null,null)),(t()(),ts(-1,null,["Freediving"])),(t()(),ts(-1,null,["! I enjoy being in the water, especially if there are fishes. My best record for static breath hold is 4 mins and 50 seconds, and longest single breath swim across the pool is 90 metres. I have only managed to dive in a few places around the warm waters in south east asia."])),(t()(),Ua(152,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["I also enjoy traveling, especially if it is a road trip with scenary and good food. My favorite road trip experience is in Hokkaido. Road trip from Gold Cost to Great Ocean Road and horse riding at Alpine National Park was very memorable too. I hope to do a US/Canada road trip one day."]))],function(t,e){t(e,10,0,"row","column"),t(e,11,0,"20px"),t(e,12,0,"center"),t(e,14,0,""),t(e,35,0,"row","column"),t(e,36,0,"20px"),t(e,37,0,"center"),t(e,39,0,""),t(e,72,0,"row","column"),t(e,73,0,"20px"),t(e,74,0,"center"),t(e,76,0,""),t(e,108,0,"row","column"),t(e,109,0,"20px"),t(e,110,0,"center"),t(e,112,0,""),t(e,142,0,"row","column"),t(e,143,0,"20px"),t(e,144,0,"center"),t(e,146,0,"")},null)}function xy(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"app-home",[],null,null,null,wy,_y)),li(1,114688,null,0,by,[],null,null)],function(t,e){t(e,1,0)},null)}var Cy=zr("app-home",by,xy,{},{},[]);function Sy(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?sl:e?Sy(t).pipe(j(t=>e(...t))):new w(e=>new Ey(e,t))}class Ey extends U{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=V(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const ky=new Nt("NgValueAccessor"),Ay=new Nt("CompositionEventMode");class Ty{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=nu()?nu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Iy{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ny extends Iy{get formDirective(){return null}get path(){return null}}function Ry(){throw new Error("unimplemented")}class Dy extends Iy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Ry()}get asyncValidator(){return Ry()}}class Oy{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class My extends Oy{constructor(t){super(t)}}class Fy extends Oy{constructor(t){super(t)}}function Ly(t){return null==t||0===t.length}const Py=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class zy{static min(t){return e=>{if(Ly(e.value)||Ly(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ly(e.value)||Ly(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ly(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ly(t.value)?null:Py.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ly(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return zy.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ly(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(By);return 0==e.length?null:function(t){return Uy(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(By);return 0==e.length?null:function(t){return Sy(function(t,n){return e.map(e=>e(t))}(t).map(Vy)).pipe(j(Uy))}}}function By(t){return null!=t}function Vy(t){const e=Fe(t)?$(t):t;if(!Le(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Uy(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function jy(t){return t.validate?e=>t.validate(e):t}function Wy(t){return t.validate?e=>t.validate(e):t}class Hy{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class qy{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const $y={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Gy{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${$y.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${$y.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${$y.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${$y.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${$y.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${$y.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Ky(t,e){return[...e.path,t]}function Yy(t,e){t||Jy(e,"Cannot find control with"),e.valueAccessor||Jy(e,"No value accessor for form control with"),t.validator=zy.compose([t.validator,e.validator]),t.asyncValidator=zy.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Xy(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Xy(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Xy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qy(t,e){null==t&&Jy(e,"Cannot find control with"),t.validator=zy.compose([t.validator,e.validator]),t.asyncValidator=zy.composeAsync([t.asyncValidator,e.asyncValidator])}function Zy(t){return Jy(t,"There is no FormControl instance attached to form control element with")}function Jy(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function tv(t){return null!=t?zy.compose(t.map(jy)):null}function ev(t){return null!=t?zy.composeAsync(t.map(Wy)):null}const nv=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=(t=>{}),this.onTouched=(()=>{})}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=(e=>{t(""==e?null:parseFloat(e))})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Hy,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=Be}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=(e=>{this.value=this._getOptionValue(e),t(this.value)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=(t=>{}),this.onTouched=(()=>{}),this._compareWith=Be}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=((t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)})}else e=((t,e)=>{t._setSelected(!1)});this._optionMap.forEach(e)}registerOnChange(t){this.onChange=(e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)})}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(Dy),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=(()=>{t(this.value),this._registry.select(this)})}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function rv(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const av="VALID",sv="INVALID",ov="PENDING",lv="DISABLED";function uv(t){const e=pv(t)?t.validators:t;return Array.isArray(e)?tv(e):e||null}function cv(t,e){const n=pv(e)?e.asyncValidators:t;return Array.isArray(n)?ev(n):n||null}function pv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hv{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===av}get invalid(){return this.status===sv}get pending(){return this.status==ov}get disabled(){return this.status===lv}get enabled(){return this.status!==lv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=uv(t)}setAsyncValidators(t){this.asyncValidator=cv(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ov,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lv,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=av,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==av&&this.status!==ov||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lv:av}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ov;const e=Vy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof dv?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof fv&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ei,this.statusChanges=new Ei}_calculateStatus(){return this._allControlsDisabled()?lv:this.errors?sv:this._anyControlsHaveStatus(ov)?ov:this._anyControlsHaveStatus(sv)?sv:av}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class mv extends hv{constructor(t=null,e,n){super(uv(e),cv(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class dv extends hv{constructor(t,e,n){super(uv(e),cv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof mv?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class fv extends hv{constructor(t,e,n){super(uv(e),cv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof mv?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const gv=(()=>Promise.resolve(null))();class yv extends Ny{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ei,this.form=new dv({},tv(t),ev(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gv.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Yy(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),iv(this._directives,t)})}addFormGroup(t){gv.then(()=>{const e=this._findContainer(t.path),n=new dv({});Qy(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){gv.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rv(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class vv{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${$y.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${$y.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${$y.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${$y.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${$y.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${$y.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const bv=new Nt("NgFormSelectorWarning");class _v extends Ny{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ky(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return tv(this._validators)}get asyncValidator(){return ev(this._asyncValidators)}_checkParentType(){}}class wv extends _v{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof wv||this._parent instanceof yv||vv.modelGroupParentException()}}const xv=(()=>Promise.resolve(null))();class Cv extends Dy{constructor(t,e,n,r){super(),this.control=new mv,this._registered=!1,this.update=new Ei,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Jy(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===Ty?n=e:function(t){return nv.some(e=>t.constructor===e)}(e)?(r&&Jy(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Jy(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Jy(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Be(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ky(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return tv(this._rawValidators)}get asyncValidator(){return ev(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof wv)&&this._parent instanceof _v?vv.formGroupNameException():this._parent instanceof wv||this._parent instanceof yv||vv.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||vv.missingNameException()}_updateValue(t){xv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;xv.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Sv{}class Ev extends Ny{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ei}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Yy(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){iv(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Qy(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Qy(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,rv(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Zy(e)),e.valueAccessor.registerOnTouched(()=>Zy(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Yy(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=tv(this._validators);this.form.validator=zy.compose([this.form.validator,t]);const e=ev(this._asyncValidators);this.form.asyncValidator=zy.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Gy.missingFormException()}}class kv{}class Av{static withConfig(t){return{ngModule:Av,providers:[{provide:bv,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class Tv{}class Iv{}const Nv="*";function Rv(t,e=null){return{type:2,steps:t,options:e}}function Dv(t){return{type:6,styles:t,offset:null}}function Ov(t){Promise.resolve(null).then(t)}class Mv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ov(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Fv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ov(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Lv="!";class Pv{}function zv(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let Bv=0;class Vv{constructor(){this.align="start",this.id=`mat-hint-${Bv++}`}}class Uv{}let jv=0;const Wv=.75,Hv=5;class qv{constructor(t){this._elementRef=t}}const $v=Bd(qv,"primary"),Gv=new Nt("MAT_FORM_FIELD_DEFAULT_OPTIONS");class Kv extends $v{constructor(t,e,n,r,i,a,s,o){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=a,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new A,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${jv++}`,this._labelId=`mat-form-field-label-${jv++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==o,this.appearance=i&&i.appearance?i.appearance:"legacy"}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Em(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Gl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(jf(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(jf(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Gl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Gl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(jf(this._destroyed)).subscribe(()=>this.updateOutlineGap())}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Uf(this._label.nativeElement,"transitionend").pipe(zl(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw zv("start");t=n}else if("end"===n.align){if(e)throw zv("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),a=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const a=this._getStartEnd(i),s=this._getStartEnd(t.children[0].getBoundingClientRect());let o=0;for(const e of t.children)o+=e.offsetWidth;e=s-a-Hv,n=o>0?o*Wv+2*Hv:0}for(let s=0;s<i.length;s++)i.item(s).style.width=`${e}px`;for(let s=0;s<a.length;s++)a.item(s).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}class Yv{}const Xv=function(){class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Qv=function(){class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Im(t);return new w(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new A,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Xv))},token:t,providedIn:"root"}),t}();class Zv{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Ei,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Em(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=km(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(sd(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}class Jv{}function tb(){return"undefined"!=typeof process}function eb(t){switch(t.length){case 0:return new Mv;case 1:return t[0];default:return new Fv(t)}}function nb(t,e,n,r,i={},a={}){const s=[],o=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,o=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),o){case Lv:o=i[n];break;case Nv:o=a[n];break;default:o=e.normalizeStyleValue(n,r,o,s)}c[r]=o}),r||o.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return o}function rb(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&ib(n,"start",t)));break;case"done":t.onDone(()=>r(n&&ib(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&ib(n,"destroy",t)))}}function ib(t,e,n){const r=n.totalTime,i=ab(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),a=t._data;return null!=a&&(i._data=a),i}function ab(t,e,n,r,i="",a=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!s}}function sb(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function ob(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let lb=(t,e)=>!1,ub=(t,e)=>!1,cb=(t,e,n)=>[];const pb=tb();(pb||"undefined"!=typeof Element)&&(lb=((t,e)=>t.contains(e)),ub=(()=>{if(pb||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ub}})(),cb=((t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r}));let hb=null,mb=!1;function db(t){hb||(hb=("undefined"!=typeof document?document.body:null)||{},mb=!!hb.style&&"WebkitAppearance"in hb.style);let e=!0;return hb.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in hb.style)&&mb&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in hb.style),e}const fb=ub,gb=lb,yb=cb;function vb(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class bb{validateStyleProperty(t){return db(t)}matchesElement(t,e){return fb(t,e)}containsElement(t,e){return gb(t,e)}query(t,e,n){return yb(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,a=[],s){return new Mv(n,r)}}const _b=function(){class t{}return t.NOOP=new bb,t}(),wb=1e3,xb="{{",Cb="ng-enter",Sb="ng-leave",Eb="ng-trigger",kb=".ng-trigger",Ab="ng-animating",Tb=".ng-animating";function Ib(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Nb(parseFloat(e[1]),e[2])}function Nb(t,e){switch(e){case"s":return t*wb;default:return t}}function Rb(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,a="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Nb(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Nb(parseFloat(s),n[4]));const o=n[5];o&&(a=o)}else r=t;if(!n){let n=!1,a=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(a,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:a}}(t,e,n)}function Db(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ob(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Db(t,n);return n}function Mb(t,e,n){return n?e+":"+n+";":""}function Fb(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Mb(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Mb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Lb(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Hb(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),tb()&&Fb(t))}function Pb(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Hb(e);t.style[n]=""}),tb()&&Fb(t))}function zb(t){return Array.isArray(t)?1==t.length?t[0]:Rv(t):t}const Bb=new RegExp(`${xb}\\s*(.+?)\\s*}}`,"g");function Vb(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=Bb.exec(n);)e.push(r[1]);Bb.lastIndex=0}return e}function Ub(t,e,n){const r=t.toString(),i=r.replace(Bb,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function jb(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Wb=/-+([a-z0-9])/g;function Hb(t){return t.replace(Wb,(...t)=>t[1].toUpperCase())}function qb(t,e){return 0===t||0===e}function $b(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let a=e[0],s=[];if(r.forEach(t=>{a.hasOwnProperty(t)||s.push(t),a[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=Kb(t,e)})}}return e}function Gb(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Kb(t,e){return window.getComputedStyle(t)[e]}const Yb="*";function Xb(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],a=r[2],s=r[3];e.push(Jb(i,s)),"<"!=a[0]||i==Yb&&s==Yb||e.push(Jb(s,i))})(t,n,e)):n.push(t),n}const Qb=new Set(["true","1"]),Zb=new Set(["false","0"]);function Jb(t,e){const n=Qb.has(t)||Zb.has(t),r=Qb.has(e)||Zb.has(e);return(i,a)=>{let s=t==Yb||t==i,o=e==Yb||e==a;return!s&&n&&"boolean"==typeof i&&(s=i?Qb.has(t):Zb.has(t)),!o&&r&&"boolean"==typeof a&&(o=a?Qb.has(e):Zb.has(e)),s&&o}}const t_=":self",e_=new RegExp(`s*${t_}s*,?`,"g");function n_(t,e,n){return new i_(t).build(e,n)}const r_="";class i_{constructor(t){this._driver=t}build(t,e){const n=new a_(e);return this._resetContextStyleTimingState(n),Gb(this,zb(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=r_,t.collectedStyles={},t.collectedStyles[r_]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,a.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:a,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,a=r||{};if(n.styles.forEach(t=>{if(s_(t)){const e=t;Object.keys(e).forEach(t=>{Vb(e[t]).forEach(t=>{a.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=jb(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Gb(this,zb(t.animation),e);return{type:1,matchers:Xb(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:o_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Gb(this,t,e)),options:o_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Gb(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:o_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return l_(Rb(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=l_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return l_((n=n||Rb(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Dv({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,a=!1;if(!i){a=!0;const t={};n.easing&&(t.easing=n.easing),i=Dv(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=a,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Nv?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(s_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(xb)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const a=e.collectedStyles[e.currentQuerySelector],s=a[n];let o=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),o=!1),i=s.startTime),o&&(a[n]={startTime:i,endTime:r}),e.options&&function(r,i,a){const s=e.options.params||{},o=Vb(t[n]);o.length&&o.forEach(t=>{s.hasOwnProperty(t)||a.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let a=!1,s=!1,o=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(s_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(s_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),s=s||u<0||u>1,a=a||u<o,o=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const p=u-1,h=e.currentTime,m=e.currentAnimateTimings,d=m.duration;return l.forEach((t,r)=>{const a=c>0?r==p?1:c*r:i[r],s=a*d;e.currentTime=h+m.delay+s,m.duration=s,this._validateStyleAst(t,e),t.offset=a,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Gb(this,zb(t.animation),e),options:o_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:o_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:o_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,a]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==t_);return e&&(t=t.replace(e_,"")),[t=t.replace(/@\*/g,kb).replace(/@\w+/g,t=>kb+"-"+t.substr(1)).replace(/:animating/g,Tb),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,sb(e.collectedStyles,e.currentQuerySelector,{});const s=Gb(this,zb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:o_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Rb(t.timings,e.errors,!0);return{type:12,animation:Gb(this,zb(t.animation),e),timings:n,options:null}}}class a_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function s_(t){return!Array.isArray(t)&&"object"==typeof t}function o_(t){var e;return t?(t=Db(t)).params&&(t.params=(e=t.params)?Db(e):null):t={},t}function l_(t,e,n){return{duration:t,delay:e,easing:n}}function u_(t,e,n,r,i,a,s=null,o=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:s,subTimeline:o}}class c_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const p_=1,h_=new RegExp(":enter","g"),m_=new RegExp(":leave","g");function d_(t,e,n,r,i,a={},s={},o,l,u=[]){return(new f_).buildKeyframes(t,e,n,r,i,a,s,o,l,u)}class f_{buildKeyframes(t,e,n,r,i,a,s,o,l,u=[]){l=l||new c_;const c=new y_(t,e,l,r,i,u,[]);c.options=o,c.currentTimeline.setStyles([a],null,c.errors,o),Gb(this,n,c);const p=c.timelines.filter(t=>t.containsAnimation());if(p.length&&Object.keys(s).length){const t=p[p.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,o)}return p.length?p.map(t=>t.buildKeyframes()):[u_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Ib(n.duration):null,a=null!=n.delay?Ib(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,a);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Gb(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=g_);const t=Ib(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Gb(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Ib(t.options.delay):0;t.steps.forEach(a=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Gb(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Rb(e.params?Ub(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(t=>{a.forwardTime((t.offset||0)*i),a.setStyles(t.styles,t.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Ib(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=g_);let a=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let o=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(o=s.currentTimeline),Gb(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),o&&(e.currentTimeline.mergeTimelineCollectedStyles(o),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,a=Math.abs(i.duration),s=a*(e.currentQueryTotal-1);let o=a*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":o=s-o;break;case"full":o=n.currentStaggerTime}const l=e.currentTimeline;o&&l.delayNextStep(o);const u=l.currentTime;Gb(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const g_={};class y_{constructor(t,e,n,r,i,a,s,o){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=g_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new v_(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Ib(n.duration)),null!=n.delay&&(r.delay=Ib(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ub(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new y_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=g_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new b_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,a){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(h_,"."+this._enterClassName)).replace(m_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class v_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new v_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=p_,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Nv,this._currentKeyframe[t]=Nv}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},a=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=Nv}):Ob(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(a).forEach(t=>{const e=Ub(a[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Nv),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,a)=>{const s=Ob(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==Lv?t.add(n):r==Nv&&e.add(n)}),n||(s.offset=a/this.duration),r.push(s)});const i=t.size?jb(t.values()):[],a=e.size?jb(e.values()):[];if(n){const t=r[0],e=Db(t);t.offset=0,e.offset=1,r=[t,e]}return u_(this.element,r,i,a,this.duration,this.startTime,this.easing,!1)}}class b_ extends v_{constructor(t,e,n,r,i,a,s=!1){super(t,e,a.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],a=n+e,s=e/a,o=Ob(t[0],!1);o.offset=0,i.push(o);const l=Ob(t[0],!1);l.offset=__(s),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let s=Ob(t[r],!1);s.offset=__((e+s.offset*n)/a),i.push(s)}n=a,e=0,r="",t=i}return u_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function __(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class w_{}class x_ extends w_{normalizePropertyName(t,e){return Hb(t)}normalizeStyleValue(t,e,n,r){let i="";const a=n.toString().trim();if(C_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return a+i}}const C_=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function S_(t,e,n,r,i,a,s,o,l,u,c,p,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:s,timelines:o,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:p,errors:h}}const E_={};class k_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],a=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):a}build(t,e,n,r,i,a,s,o,l,u){const c=[],p=this.ast.options&&this.ast.options.params||E_,h=this.buildStyles(n,s&&s.params||E_,c),m=o&&o.params||E_,d=this.buildStyles(r,m,c),f=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign({},p,m)},_=u?[]:d_(t,e,this.ast.animation,i,a,h,d,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return S_(e,this._triggerName,n,r,v,h,d,[],[],g,y,w,c);_.forEach(t=>{const n=t.element,r=sb(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=sb(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&f.add(n)});const x=jb(f.values());return S_(e,this._triggerName,n,r,v,h,d,_,x,g,y,w)}}class A_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Db(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let a=i[t];a.length>1&&(a=Ub(a,r,e)),n[t]=a})}}),n}}class T_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new A_(t.style,t.options&&t.options.params||{})}),I_(this.states,"true","1"),I_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new k_(t,e,this.states))}),this.fallbackTransition=new k_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function I_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const N_=new c_;class R_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=n_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=nb(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let a;const s=new Map;if(i?(a=d_(this._driver,e,i,Cb,Sb,{},{},n,N_,r)).forEach(t=>{const e=sb(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),a=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Nv)})});const o=eb(a.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=o,o.onDestroy(()=>this.destroy(t)),this.players.push(o),o}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=ab(e,"","","");return rb(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const D_="ng-animate-queued",O_=".ng-animate-queued",M_="ng-animate-disabled",F_=".ng-animate-disabled",L_="ng-star-inserted",P_=".ng-star-inserted",z_=[],B_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},U_="__ng_removed";class j_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=Db(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const W_="void",H_=new j_(W_);class q_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,J_(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const a=sb(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);const o=sb(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(J_(t,Eb),J_(t,Eb+"-"+e),o[e]=H_),()=>{this._engine.afterFlush(()=>{const t=a.indexOf(s);t>=0&&a.splice(t,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),a=new G_(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(J_(t,Eb),J_(t,Eb+"-"+e),this._engine.statesByElement.set(t,s={}));let o=s[e];const l=new j_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&l.absorbOptions(o.options),s[e]=l,o||(o=H_),l.value!==W_&&o.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(o.params,l.params)){const e=[],n=i.matchStyles(o.value,o.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Pb(t,n),Lb(t,r)})}return}const u=sb(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(o.value,l.value,t,l.params),p=!1;if(!c){if(!r)return;c=i.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:o,toState:l,player:a,isFallbackTransition:p}),p||(J_(t,D_),a.onStart(()=>{tw(t,D_)})),a.onDone(()=>{let e=this.players.indexOf(a);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(a);t>=0&&n.splice(t,1)}}),this.players.push(a),u.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,kb,!0).forEach(t=>{if(t[U_])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const a=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,W_,r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&eb(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,a=this._engine.statesByElement.get(t)[r]||H_,s=new j_(W_),o=new G_(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:a,toState:s,player:o,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){J_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,a=this._elementListeners.get(i);a&&a.forEach(e=>{if(e.name==n.triggerName){const r=ab(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,rb(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class $_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((t,e)=>{})}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new q_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(K_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!K_(e))return;const i=e[U_];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),J_(t,M_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),tw(t,M_))}removeNode(t,e,n,r){if(K_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[U_]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return K_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,kb,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Tb,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return eb(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[U_];if(e&&e.setForRemoval){if(t[U_]=B_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,F_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,F_,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)J_(this.collectedEnterElements[n],L_);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?eb(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new c_,r=[],i=new Map,a=[],s=new Map,o=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,O_,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,p=Array.from(this.statesByElement.keys()),h=Q_(p,this.collectedEnterElements),m=new Map;let d=0;h.forEach((t,e)=>{const n=Cb+d++;m.set(e,n),t.forEach(t=>J_(t,n))});const f=[],g=new Set,y=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const t=this.collectedLeaveElements[N],e=t[U_];e&&e.setForRemoval&&(f.push(t),g.add(t),e.hasAnimation?this.driver.query(t,P_,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Q_(p,Array.from(g));b.forEach((t,e)=>{const n=Sb+d++;v.set(e,n),t.forEach(t=>J_(t,n))}),t.push(()=>{h.forEach((t,e)=>{const n=m.get(e);t.forEach(t=>tw(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>tw(t,n))}),f.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[U_];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),p=v.get(i),h=m.get(i),d=this._buildInstruction(t,n,h,p,u);if(!d.errors||!d.errors.length)return u?(e.onStart(()=>Pb(i,d.fromStyles)),e.onDestroy(()=>Lb(i,d.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>Pb(i,d.fromStyles)),e.onDestroy(()=>Lb(i,d.toStyles)),void r.push(e)):(d.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,d.timelines),a.push({instruction:d,player:e,element:i}),d.queriedElements.forEach(t=>sb(s,t,[]).push(e)),d.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=o.get(e);t||o.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void d.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(d)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;a.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{sb(x,e,[]).push(t),t.destroy()})});const S=f.filter(t=>nw(t,o,l)),E=new Map;X_(E,this.driver,y,l,Nv).forEach(t=>{nw(t,o,l)&&S.push(t)});const k=new Map;h.forEach((t,e)=>{X_(k,this.driver,new Set(t),o,Lv)}),S.forEach(t=>{const e=E.get(t),n=k.get(t);E.set(t,Object.assign({},e,n))});const A=[],T=[],I={};a.forEach(t=>{const{element:e,player:a,instruction:s}=t;if(n.has(e)){if(u.has(e))return a.onDestroy(()=>Lb(e,s.toStyles)),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(a.namespaceId,s,x,i,k,E);if(a.setRealPlayer(n),t===I)A.push(a);else{const e=this.playersByElement.get(t);e&&e.length&&(a.parentPlayer=eb(e)),r.push(a)}}else Pb(e,s.fromStyles),a.onDestroy(()=>Lb(e,s.toStyles)),T.push(a),u.has(e)&&r.push(a)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=eb(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let N=0;N<f.length;N++){const t=f[N],e=t[U_];if(tw(t,Sb),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Tb,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ew(this,t,r):this.processLeaveNode(t)}return f.length=0,A.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),A}elementContainsData(t,e){let n=!1;const r=e[U_];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let a=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(a=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==W_;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&a.push(e)})}}return(n||r)&&(a=a.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),a}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,o=t!==r,l=sb(n,t,[]);this._getPreviousPlayers(t,o,i,a,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Pb(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,a){const s=e.triggerName,o=e.element,l=[],u=new Set,c=new Set,p=e.timelines.map(e=>{const p=e.element;u.add(p);const h=p[U_];if(h&&h.removedBeforeQueried)return new Mv(e.duration,e.delay);const m=p!==o,d=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Fv?t(i.players,n):n.push(i)}}((n.get(p)||z_).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===p),f=i.get(p),g=a.get(p),y=nb(0,this._normalizer,0,e.keyframes,f,g),v=this._buildPlayer(e,y,d);if(e.subTimeline&&r&&c.add(p),m){const e=new G_(t,s,p);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{sb(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>J_(t,Ab));const h=eb(p);return h.onDestroy(()=>{u.forEach(t=>tw(t,Ab)),Lb(o,e.toStyles)}),c.forEach(t=>{sb(r,t,[]).push(h)}),h}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Mv(t.duration,t.delay)}}class G_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Mv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>rb(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sb(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function K_(t){return t&&1===t.nodeType}function Y_(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function X_(t,e,n,r,i){const a=[];n.forEach(t=>a.push(Y_(t)));const s=[];r.forEach((n,r)=>{const a={};n.forEach(t=>{const n=a[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[U_]=V_,s.push(r))}),t.set(r,a)});let o=0;return n.forEach(t=>Y_(t,a[o++])),s}function Q_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let a=i.get(e);if(a)return a;const s=e.parentNode;return a=n.has(s)?s:r.has(s)?1:t(s),i.set(e,a),a}(t);1!==e&&n.get(e).push(t)}),n}const Z_="$$classes";function J_(t,e){if(t.classList)t.classList.add(e);else{let n=t[Z_];n||(n=t[Z_]={}),n[e]=!0}}function tw(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Z_];n&&delete n[e]}}function ew(t,e,n){eb(n).onDone(()=>t.processLeaveNode(e))}function nw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class rw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=((t,e)=>{}),this._transitionEngine=new $_(t,e,n),this._timelineEngine=new R_(t,e,n),this._transitionEngine.onRemovalComplete=((t,e)=>this.onRemovalComplete(t,e))}registerTrigger(t,e,n,r,i){const a=t+"-"+r;let s=this._triggerCache[a];if(!s){const t=[],e=n_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new T_(t,e)}(r,e),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ob(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ob(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function iw(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=sw(e[0]),e.length>1&&(r=sw(e[e.length-1]))):e&&(n=sw(e)),n||r?new aw(t,n,r):null}const aw=function(){class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Lb(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lb(this._element,this._initialStyles),this._endStyles&&(Lb(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Pb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pb(this._element,this._endStyles),this._endStyles=null),Lb(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t}();function sw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ow(i)&&((e=e||{})[i]=t[i])}return e}function ow(t){return"display"===t||"position"===t}const lw=3,uw="animation",cw="animationend",pw=1e3;class hw{constructor(t,e,n,r,i,a,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(t=>this._handleCallback(t))}apply(){!function(t,e){const n=vw(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),yw(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),gw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){mw(this._element,this._name,"paused")}resume(){mw(this._element,this._name,"running")}setPosition(t){const e=dw(this._element,this._name);this._position=t*this._duration,yw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(lw))*pw;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),gw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=vw(t,"").split(","),r=fw(n,e);r>=0&&(n.splice(r,1),yw(t,"",n.join(",")))}(this._element,this._name))}}function mw(t,e,n){yw(t,"PlayState",n,dw(t,e))}function dw(t,e){const n=vw(t,"");return n.indexOf(",")>0?fw(n.split(","),e):fw([n],e)}function fw(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function gw(t,e,n){n?t.removeEventListener(cw,e):t.addEventListener(cw,e)}function yw(t,e,n,r){const i=uw+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function vw(t,e){return t.style[uw+e]}const bw="forwards",_w="linear";class ww{constructor(t,e,n,r,i,a,s,o){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||_w,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hw(this.element,this.animationName,this._duration,this._delay,this.easing,bw,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Kb(this.element,n))})}this.currentSnapshot=t}}class xw extends Mv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=vb(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const Cw="gen_css_kf_",Sw=" ";class Ew{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return db(t)}matchesElement(t,e){return fb(t,e)}containsElement(t,e){return gb(t,e)}query(t,e,n){return yb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>vb(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=Sw;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=Sw,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const a=document.createElement("style");return a.innerHTML=r,a}animate(t,e,n,r,i,a=[],s){s&&this._notifyFaultyScrubber();const o=a.filter(t=>t instanceof ww),l={};qb(n,r)&&o.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=$b(t,e,l));if(0==n)return new xw(t,u);const c=`${Cw}${this._count++}`,p=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(p);const h=iw(t,e),m=new ww(t,e,c,n,r,i,u,h);return m.onDestroy(()=>(function(t){p.parentNode.removeChild(p)})()),m}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class kw{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Kb(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Aw{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Tw().toString()),this._cssKeyframesDriver=new Ew}validateStyleProperty(t){return db(t)}matchesElement(t,e){return fb(t,e)}containsElement(t,e){return gb(t,e)}query(t,e,n){return yb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,a=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,a);const o={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(o.easing=i);const l={},u=a.filter(t=>t instanceof kw);qb(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=iw(t,e=$b(t,e=e.map(t=>Ob(t,!1)),l));return new kw(t,e,o,c)}}function Tw(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Iw extends Tv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Jt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Rv(t):t;return Dw(this._renderer,null,e,"register",[n]),new Nw(e,this._renderer)}}class Nw extends Iv{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Rw(this._id,t,e||{},this._renderer)}}class Rw{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Dw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Dw(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Ow="@",Mw="@.disabled";class Fw{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=((t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)})}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Lw("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new Pw(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Lw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Ow&&e==Mw?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Pw extends Lw{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Ow?"."==e.charAt(1)&&e==Mw?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Ow){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),a="";return i.charAt(0)!=Ow&&([i,a]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,a,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class zw extends rw{constructor(t,e,n){super(t.body,e,n)}}function Bw(){return"function"==typeof Tw()?new Aw:new Ew}function Vw(){return new x_}function Uw(t,e,n){return new Fw(t,e,n)}const jw=new Nt("AnimationModuleType");class Ww{}var Hw=Xn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function qw(t){return rs(0,[(t()(),Ua(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Ua(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Ua(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Ua(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),Ua(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),Ua(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Ua(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Ua(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function $w(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Qa(null,0)],null,null)}function Gw(t){return rs(0,[(t()(),Ua(0,0,null,null,2,null,null,null,null,null,null,null)),Qa(null,2),(t()(),ts(2,null,["",""]))],null,function(t,e){t(e,2,0,e.component._control.placeholder)})}function Kw(t){return rs(0,[Qa(null,3),(t()(),Va(0,null,null,0))],null,null)}function Yw(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),ts(-1,null,[" *"]))],null,null)}function Xw(t){return rs(0,[(t()(),Ua(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],function(t,e,n){var r=!0;return"cdkObserveContent"===e&&(r=!1!==t.component.updateOutlineGap()&&r),r},null,null)),li(1,16384,null,0,Vo,[],{ngSwitch:[0,"ngSwitch"]},null),li(2,1196032,null,0,Zv,[Qv,rn,Zi],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Va(16777216,null,null,1,null,Gw)),li(4,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,Kw)),li(6,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,Yw)),li(8,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)},function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)})}function Qw(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Qa(null,4)],null,null)}function Zw(t){return rs(0,[(t()(),Ua(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),Ua(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)})}function Jw(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Qa(null,5)],null,function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function tx(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),ts(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)})}function ex(t){return rs(0,[(t()(),Ua(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Va(16777216,null,null,1,null,tx)),li(2,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),Qa(null,6),(t()(),Ua(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Qa(null,7)],function(t,e){t(e,2,0,e.component.hintLabel)},function(t,e){t(e,0,0,e.component._subscriptAnimationState)})}function nx(t){return rs(2,[$a(671088640,1,{underlineRef:0}),$a(402653184,2,{_connectionContainerRef:0}),$a(671088640,3,{_inputContainerRef:0}),$a(671088640,4,{_label:0}),(t()(),Ua(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),Ua(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i._control.onContainerClick&&i._control.onContainerClick(n))&&r),r},null,null)),(t()(),Va(16777216,null,null,1,null,qw)),li(7,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Va(16777216,null,null,1,null,$w)),li(9,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ua(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Qa(null,1),(t()(),Ua(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Va(16777216,null,null,1,null,Xw)),li(14,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Va(16777216,null,null,1,null,Qw)),li(16,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Va(16777216,null,null,1,null,Zw)),li(18,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ua(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),li(20,16384,null,0,Vo,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Va(16777216,null,null,1,null,Jw)),li(22,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,ex)),li(24,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")},null)}class rx{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ix(t,this.durationSelector))}}class ix extends U{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:r}=this;n=r(t)}catch(e){return this.destination.error(e)}const r=V(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ax(t){return!l(t)&&t-parseFloat(t)+1>=0}function sx(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ox(t,e=ad){return n=(()=>(function(t=0,e,n){let r=-1;return ax(e)?r=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=ad),new w(e=>{const i=ax(t)?t:+t-n.now();return n.schedule(sx,i,{index:0,period:r,subscriber:e})})})(t,e)),function(t){return t.lift(new rx(n))};var n}const lx=Pm({passive:!0}),ux=function(){class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return sl;const e=Im(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new A,i="cdk-text-field-autofilled",a=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",a,lx),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",a,lx)}}),r.asObservable()}stopMonitoring(t){const e=Im(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Rm),Tt(Zi))},token:t,providedIn:"root"}),t}();class cx{}const px=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hx=0;class mx{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const dx=jd(mx);class fx extends dx{constructor(t,e,n,r,i,a,s,o,l){super(a,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=o,this._uid=`mat-input-${hx++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new A,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Fm().has(t));const u=this._elementRef.nativeElement;this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Em(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Em(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Fm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Em(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(){this._elementRef.nativeElement.focus()}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(px.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}class gx{}const yx="accent",vx=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class bx{constructor(t){this._elementRef=t}}const _x=Bd(zd(Vd(bx)));class wx extends _x{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of vx)this._hasHostAttributes(r)&&t.nativeElement.classList.add(r);this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=yx)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(){this._getHostElement().focus()}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class xx extends wx{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}class Cx{}var Sx=Xn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Ex(t){return rs(2,[$a(671088640,1,{ripple:0}),(t()(),Ua(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Qa(null,0),(t()(),Ua(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),li(4,212992,[[1,4]],0,gf,[rn,Zi,Rm,[2,ff],[2,jw]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Ua(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Yr(e,4).unbounded)})}var kx=Xn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Ax(t){return rs(2,[$a(671088640,1,{ripple:0}),(t()(),Ua(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Qa(null,0),(t()(),Ua(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),li(4,212992,[[1,4]],0,gf,[rn,Zi,Rm,[2,ff],[2,jw]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Ua(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Yr(e,4).unbounded)})}const Tx=n("C1Pg"),Ix=new class{constructor(){this.message="heyhey",this.BASE_URL="https://storage.googleapis.com/tfjs-examples/multivariate-linear-regression/data/",this.TRAIN_FEATURES_FN="train-data.csv",this.TRAIN_TARGET_FN="train-target.csv",this.TEST_FEATURES_FN="test-data.csv",this.TEST_TARGET_FN="test-target.csv"}async printit(){let t=Tx.tensor([[1,2,3],[4,5,6],[7,8,9],[10,11,12],[13,14,15]]);t.print();let e=t.min(0),n=t.max(0);t.sub(e).div(n.sub(e)).print()}};class Nx{constructor(t){this.service=t}ngOnInit(){this.service.changePageTitle("YY"),Ix.printit()}}class Rx{constructor(){this.updatePageTitle=new Ei}changePageTitle(t){this.updatePageTitle.emit(t)}}Rx.ngInjectableDef=ft({factory:function(){return new Rx},token:Rx,providedIn:"root"});var Dx=Xn({encapsulation:0,styles:[["\n/*# sourceMappingURL=mnist.component.css.map*/"]],data:{}});function Ox(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"div",[["id","micro-out-div"]],null,null,null,null,null)),(t()(),ts(-1,null,["Training..."])),(t()(),Ua(2,0,null,null,32,"form",[["class","example-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Yr(t,4).onSubmit(n)&&r),"reset"===e&&(r=!1!==Yr(t,4).onReset()&&r),r},null,null)),li(3,16384,null,0,Sv,[],null,null),li(4,4210688,null,0,yv,[[8,null],[8,null]],null,null),ui(2048,null,Ny,null,[yv]),li(6,16384,null,0,Fy,[[4,Ny]],null,null),(t()(),Ua(7,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(8,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],null,null),$a(603979776,1,{_controlNonStatic:0}),$a(335544320,2,{_controlStatic:0}),$a(603979776,3,{_labelChildNonStatic:0}),$a(335544320,4,{_labelChildStatic:0}),$a(603979776,5,{_placeholderChild:0}),$a(603979776,6,{_errorChildren:1}),$a(603979776,7,{_hintChildren:1}),$a(603979776,8,{_prefixChildren:1}),$a(603979776,9,{_suffixChildren:1}),(t()(),Ua(18,0,null,1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Favorite food"],["value","Sushi"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],function(t,e,n){var r=!0;return"blur"===e&&(r=!1!==Yr(t,19)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,19)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,19)._onInput()&&r),r},null,null)),li(19,999424,null,0,fx,[rn,Rm,[8,null],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"],value:[1,"value"]},null),ui(2048,[[1,4],[2,4]],Pv,null,[fx]),(t()(),Ua(21,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(22,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],null,null),$a(603979776,10,{_controlNonStatic:0}),$a(335544320,11,{_controlStatic:0}),$a(603979776,12,{_labelChildNonStatic:0}),$a(335544320,13,{_labelChildStatic:0}),$a(603979776,14,{_placeholderChild:0}),$a(603979776,15,{_errorChildren:1}),$a(603979776,16,{_hintChildren:1}),$a(603979776,17,{_prefixChildren:1}),$a(603979776,18,{_suffixChildren:1}),(t()(),Ua(32,0,null,1,2,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Leave a comment"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],function(t,e,n){var r=!0;return"blur"===e&&(r=!1!==Yr(t,33)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,33)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,33)._onInput()&&r),r},null,null)),li(33,999424,null,0,fx,[rn,Rm,[8,null],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"]},null),ui(2048,[[10,4],[11,4]],Pv,null,[fx]),(t()(),Ua(35,0,null,null,19,"div",[["class","example-button-row"]],null,null,null,null,null)),(t()(),Ua(36,0,null,null,2,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ex,Sx)),li(37,180224,null,0,wx,[rn,Od,[2,jw]],null,null),(t()(),ts(-1,0,["Basic"])),(t()(),Ua(39,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ex,Sx)),li(40,180224,null,0,wx,[rn,Od,[2,jw]],{color:[0,"color"]},null),(t()(),ts(-1,0,["Primary"])),(t()(),Ua(42,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ex,Sx)),li(43,180224,null,0,wx,[rn,Od,[2,jw]],{color:[0,"color"]},null),(t()(),ts(-1,0,["Accent"])),(t()(),Ua(45,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ex,Sx)),li(46,180224,null,0,wx,[rn,Od,[2,jw]],{color:[0,"color"]},null),(t()(),ts(-1,0,["Warn"])),(t()(),Ua(48,0,null,null,2,"button",[["disabled",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ex,Sx)),li(49,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"]},null),(t()(),ts(-1,0,["Disabled"])),(t()(),Ua(51,0,null,null,3,"a",[["mat-raised-button",""],["routerLink","."]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,52).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=!1!==Yr(t,53)._haltDisabledEvents(n)&&r),r},Ax,kx)),li(52,671744,null,0,Bh,[zh,Ap,fo],{routerLink:[0,"routerLink"]},null),li(53,180224,null,0,xx,[Od,rn,[2,jw]],null,null),(t()(),ts(-1,0,["Link"]))],function(t,e){t(e,19,0,"Favorite food","Sushi"),t(e,33,0,"Leave a comment"),t(e,40,0,"primary"),t(e,43,0,"accent"),t(e,46,0,"warn"),t(e,49,0,""),t(e,52,0,".")},function(t,e){t(e,2,0,Yr(e,6).ngClassUntouched,Yr(e,6).ngClassTouched,Yr(e,6).ngClassPristine,Yr(e,6).ngClassDirty,Yr(e,6).ngClassValid,Yr(e,6).ngClassInvalid,Yr(e,6).ngClassPending),t(e,7,1,["standard"==Yr(e,8).appearance,"fill"==Yr(e,8).appearance,"outline"==Yr(e,8).appearance,"legacy"==Yr(e,8).appearance,Yr(e,8)._control.errorState,Yr(e,8)._canLabelFloat,Yr(e,8)._shouldLabelFloat(),Yr(e,8)._hasFloatingLabel(),Yr(e,8)._hideControlPlaceholder(),Yr(e,8)._control.disabled,Yr(e,8)._control.autofilled,Yr(e,8)._control.focused,"accent"==Yr(e,8).color,"warn"==Yr(e,8).color,Yr(e,8)._shouldForward("untouched"),Yr(e,8)._shouldForward("touched"),Yr(e,8)._shouldForward("pristine"),Yr(e,8)._shouldForward("dirty"),Yr(e,8)._shouldForward("valid"),Yr(e,8)._shouldForward("invalid"),Yr(e,8)._shouldForward("pending"),!Yr(e,8)._animationsEnabled]),t(e,18,0,Yr(e,19)._isServer,Yr(e,19).id,Yr(e,19).placeholder,Yr(e,19).disabled,Yr(e,19).required,Yr(e,19).readonly&&!Yr(e,19)._isNativeSelect||null,Yr(e,19)._ariaDescribedby||null,Yr(e,19).errorState,Yr(e,19).required.toString()),t(e,21,1,["standard"==Yr(e,22).appearance,"fill"==Yr(e,22).appearance,"outline"==Yr(e,22).appearance,"legacy"==Yr(e,22).appearance,Yr(e,22)._control.errorState,Yr(e,22)._canLabelFloat,Yr(e,22)._shouldLabelFloat(),Yr(e,22)._hasFloatingLabel(),Yr(e,22)._hideControlPlaceholder(),Yr(e,22)._control.disabled,Yr(e,22)._control.autofilled,Yr(e,22)._control.focused,"accent"==Yr(e,22).color,"warn"==Yr(e,22).color,Yr(e,22)._shouldForward("untouched"),Yr(e,22)._shouldForward("touched"),Yr(e,22)._shouldForward("pristine"),Yr(e,22)._shouldForward("dirty"),Yr(e,22)._shouldForward("valid"),Yr(e,22)._shouldForward("invalid"),Yr(e,22)._shouldForward("pending"),!Yr(e,22)._animationsEnabled]),t(e,32,0,Yr(e,33)._isServer,Yr(e,33).id,Yr(e,33).placeholder,Yr(e,33).disabled,Yr(e,33).required,Yr(e,33).readonly&&!Yr(e,33)._isNativeSelect||null,Yr(e,33)._ariaDescribedby||null,Yr(e,33).errorState,Yr(e,33).required.toString()),t(e,36,0,Yr(e,37).disabled||null,"NoopAnimations"===Yr(e,37)._animationMode),t(e,39,0,Yr(e,40).disabled||null,"NoopAnimations"===Yr(e,40)._animationMode),t(e,42,0,Yr(e,43).disabled||null,"NoopAnimations"===Yr(e,43)._animationMode),t(e,45,0,Yr(e,46).disabled||null,"NoopAnimations"===Yr(e,46)._animationMode),t(e,48,0,Yr(e,49).disabled||null,"NoopAnimations"===Yr(e,49)._animationMode),t(e,51,0,Yr(e,52).target,Yr(e,52).href,Yr(e,53).disabled?-1:Yr(e,53).tabIndex||0,Yr(e,53).disabled||null,Yr(e,53).disabled.toString(),"NoopAnimations"===Yr(e,53)._animationMode)})}function Mx(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"app-mnist",[],null,null,null,Ox,Dx)),li(1,114688,null,0,Nx,[Rx],null,null)],function(t,e){t(e,1,0)},null)}var Fx=zr("app-mnist",Nx,Mx,{},{},[]);class Lx{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Em(t)}get inset(){return this._inset}set inset(t){this._inset=Em(t)}}class Px{}var zx,Bx=Xn({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],data:{}});function Vx(t){return rs(2,[],null,null)}class Ux{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new A,this.onChange=this.changed,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}class jx{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Wx(t,this.compare,this.keySelector))}}class Wx extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(zx||(zx={}));const Hx=20,qx=function(){class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new A,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Hx){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(ox(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ul()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(bl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Uf(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Zi),Tt(Rm))},token:t,providedIn:"root"}),t}();class $x{}const Gx=20,Kx=function(){class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Z(Uf(window,"resize"),Uf(window,"orientationchange")):ul(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=Gx){return t>0?this._change.pipe(ox(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Rm),Tt(Zi))},token:t,providedIn:"root"}),t}();function Yx(){throw Error("Host already has a portal attached")}class Xx{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Yx(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Qx extends Xx{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Zx extends Xx{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Jx{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Yx(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Qx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Zx?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tC extends Jx{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class eC extends Jx{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Ei}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class nC{}class rC{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}class iC{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Tm(-this._previousScrollPosition.left),t.style.top=Tm(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function aC(){return Error("Scroll strategy has already been attached.")}class sC{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=(()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())})}attach(t){if(this._overlayRef)throw aC();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oC{enable(){}disable(){}attach(){}}function lC(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function uC(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class cC{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw aC();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();lC(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}const pC=function(){class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=(()=>new oC),this.close=(t=>new sC(this._scrollDispatcher,this._ngZone,this._viewportRuler,t)),this.block=(()=>new iC(this._viewportRuler,this._document)),this.reposition=(t=>new cC(this._scrollDispatcher,this._viewportRuler,this._ngZone,t)),this._document=r}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(qx),Tt(Kx),Tt(Zi),Tt(Jo))},token:t,providedIn:"root"}),t}();class hC{constructor(t){this.scrollStrategy=new oC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t&&Object.keys(t).forEach(e=>{void 0!==t[e]&&(this[e]=t[e])})}}class mC{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class dC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function fC(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function gC(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}const yC=function(){class t{constructor(t){this._attachedOverlays=[],this._keydownListener=(t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}}),this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Jo))},token:t,providedIn:"root"}),t}(),vC=function(){class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Jo))},token:t,providedIn:"root"}),t}();class bC{constructor(t,e,n,r,i,a,s,o){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=a,this._document=s,this._location=o,this._backdropElement=null,this._backdropClick=new A,this._attachments=new A,this._detachments=new A,this._locationChanges=h.EMPTY,this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new A,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(zl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){const t=this._pane.style;t.width=Tm(this._config.width),t.height=Tm(this._config.height),t.minWidth=Tm(this._config.minWidth),t.minHeight=Tm(this._config.minHeight),t.maxWidth=Tm(this._config.maxWidth),t.maxHeight=Tm(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",t=>this._backdropClick.next(t)),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&e.parentNode&&e.parentNode.removeChild(e),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Am(e).forEach(t=>{n?r.add(t):r.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(jf(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const _C="cdk-overlay-connected-position-bounding-box";class wC{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new A,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(_C),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let a of this._preferredPositions){let s=this._getOriginPoint(t,a),o=this._getOverlayPoint(s,e,a),l=this._getOverlayFit(o,e,n,a);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,s);this._canFitWithFlexibleDimensions(l,o,n)?r.push({position:a,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,a)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:o,originPoint:s,position:a,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_C),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,r){let{x:i,y:a}=t,s=this._getOffset(r,"x"),o=this._getOffset(r,"y");s&&(i+=s),o&&(a+=o);let l=0-a,u=a+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),p=this._subtractOverflows(e.height,l,u),h=c*p;return{visibleArea:h,isCompletelyWithinViewport:e.width*e.height===h,fitsInViewportVertically:p===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,a=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,o=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=a&&a<=r)&&o}}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),a=Math.max(t.y+e.height-r.bottom,0),s=Math.max(r.top-n.top-t.y,0),o=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=r.width?o||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,y:u=e.height<=r.height?s||-a:t.y<this._viewportMargin?r.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new dC(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,a,s,o,l,u;if("top"===e.overlayY)i=n.height-(a=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)i=n.height-(s=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;a=t.y-e,(i=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.right-t.x+this._viewportMargin,o=t.x-n.left;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,o=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;l=t.x-e,(o=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:a,left:l,bottom:s,right:u,width:o,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Tm(n.height),r.top=Tm(n.top),r.bottom=Tm(n.bottom),r.width=Tm(n.width),r.left=Tm(n.left),r.right=Tm(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Tm(t)),i&&(r.maxWidth=Tm(i))}this._lastBoundingBoxSize=n,xC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){xC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();xC(n,this._getExactOverlayY(e,t,r)),xC(n,this._getExactOverlayX(e,t,r))}else n.position="static";let r="",i=this._getOffset(e,"x"),a=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),a&&(r+=`translateY(${a}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),xC(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=a,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=Tm(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,n)),"right"==(r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=`${this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)}px`:i.left=Tm(a.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uC(t,n),isOriginOutsideView:lC(t,n),isOverlayClipped:uC(e,n),isOverlayOutsideView:lC(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{gC("originX",t.originX),fC("originY",t.originY),gC("overlayX",t.overlayX),fC("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Am(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof rn?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function xC(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class CC{constructor(t,e,n,r,i,a,s){this._preferredPositions=[],this._positionStrategy=new wC(n,r,i,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new mC(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const SC="cdk-global-overlay-wrapper";class EC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(SC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(SC),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}const kC=function(){class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new EC}connectedTo(t,e,n){return new CC(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new wC(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Kx),Tt(Jo),Tt(Rm),Tt(vC))},token:t,providedIn:"root"}),t}();let AC=0;class TC{constructor(t,e,n,r,i,a,s,o,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=a,this._ngZone=s,this._document=o,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new hC(t);return i.direction=i.direction||this._directionality.value,new bC(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${AC++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(va)),new tC(t,this._componentFactoryResolver,this._appRef,this._injector)}}const IC=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],NC=new Nt("cdk-connected-overlay-scroll-strategy");class RC{constructor(t){this.elementRef=t}}class DC{constructor(t,e,n,r,i){this._overlay=t,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new Ei,this.positionChange=new Ei,this.attach=new Ei,this.detach=new Ei,this.overlayKeydown=new Ei,this._templatePortal=new Zx(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Em(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Em(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Em(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Em(t)}get push(){return this._push}set push(t){this._push=Em(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=IC),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode===Vm&&this._detachOverlay()})}_buildConfig(){const t=this._position=this._createPositionStrategy(),e=new hC({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}function OC(t){return()=>t.scrollStrategies.reposition()}class MC{}let FC=0;const LC=256,PC=16,zC=2*PC,BC=3;let VC=0;const UC=8,jC=new Nt("mat-select-scroll-strategy");function WC(t){return()=>t.scrollStrategies.reposition()}class HC{constructor(t,e){this.source=t,this.value=e}}class qC{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const $C=Vd(Ud(zd(jd(qC))));class GC extends $C{constructor(t,e,n,r,i,a,s,o,l,u,c,p,h){super(i,r,s,o,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=a,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=h,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=((t,e)=>t===e),this._uid=`mat-select-${FC++}`,this._destroy=new A,this._triggerFontSize=0,this._onChange=(()=>{}),this._onTouched=(()=>{}),this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new A,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=yl(()=>{const t=this.options;return t?t.changes.pipe(Gl(t),Hl(()=>Z(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(zl(1),Hl(()=>this.optionSelectionChanges))}),this.openedChange=new Ei,this._openedStream=this.openedChange.pipe(bl(t=>t),j(()=>{})),this._closedStream=this.openedChange.pipe(bl(t=>!t),j(()=>{})),this.selectionChange=new Ei,this.valueChange=new Ei,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(c)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}set focused(t){this._focused=t}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Em(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Em(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Em(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ux(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(t=>t.lift(new jx(void 0,void 0)),jf(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(jf(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.onChange.pipe(jf(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Gl(null),jf(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next()}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(zl(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===Ym||e===Gm||e===$m||e===Km,r=this._keyManager;if((e===Bm||e===Um)&&!td(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;e===qm||e===Hm?(e===qm?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;this._liveAnnouncer&&i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=t.keyCode,n=e===Ym||e===Gm,r=this._keyManager;if(e===qm||e===Hm)t.preventDefault(),e===qm?r.setFirstItemActive():r.setLastItemActive();else if(n&&t.altKey)t.preventDefault(),this.close();else if(e!==Bm&&e!==Um||!r.activeItem||td(t))if(this._multiple&&e===Zm&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const e=r.activeItemIndex;r.onKeydown(t),this._multiple&&n&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==e&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(zl(1)).subscribe(()=>{this._setPseudoCheckboxPaddingSize(),this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}_setPseudoCheckboxPaddingSize(){if(!VC&&this.multiple){const t=this.panel.nativeElement.querySelector(".mat-pseudo-checkbox");t&&(VC=1.5*PC+t.offsetWidth)}}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e&&this._keyManager.setActiveItem(e)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return oe()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new _d(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(jf(this._destroy)).subscribe(()=>{this.focus(),this.close()}),this._keyManager.change.pipe(jf(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Z(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(jf(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Z(...this.options.map(t=>t._stateChanges)).pipe(jf(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new HC(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Tf(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,r){const i=t*e;return i<n?i:i+e>n+LC?Math.max(0,i-LC+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop)}focus(){this._elementRef.nativeElement.focus()}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0===e?t===n?r:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,LC),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=Tf(i,this.options,this.optionGroups);const a=n/2;this._scrollTop=this._calculateOverlayScroll(i,a,r),this._offsetY=this._calculateOverlayOffsetY(i,a,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?VC+PC:2*PC;let i;if(this.multiple)i=VC;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?zC:PC}n||(i*=-1);const a=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);a>0?i+=a+UC:s>0&&(i-=s+UC),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,a=Math.floor(LC/r);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-a))*r+(r-(this._getItemCount()*r-LC)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-UC,i=n.height-this._triggerRect.bottom-UC,a=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,LC)-a-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):a>r?this._adjustPanelDown(a,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return this._triggerFontSize*BC}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}class KC{}var YC=Xn({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform .4s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}@media (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],data:{animation:[{type:7,name:"transformPanelWrap",definitions:[{type:1,expr:"* => void",animation:{type:11,selector:"@transformPanel",animation:[{type:9,options:null}],options:{optional:!0}},options:null}],options:{}},{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0.8)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}}]}});function XC(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(t()(),ts(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.placeholder||"\xa0")})}function QC(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ts(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.triggerValue||"\xa0")})}function ZC(t){return rs(0,[Qa(null,0),(t()(),Va(0,null,null,0))],null,null)}function JC(t){return rs(0,[(t()(),Ua(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),li(1,16384,null,0,Vo,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Va(16777216,null,null,1,null,QC)),li(3,16384,null,0,jo,[Dn,Nn,Vo],null,null),(t()(),Va(16777216,null,null,1,null,ZC)),li(5,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){t(e,1,0,!!e.component.customTrigger),t(e,5,0,!0)},null)}function tS(t){return rs(0,[(t()(),Ua(0,0,null,null,4,"div",[["class","mat-select-panel-wrap"]],[[24,"@transformPanelWrap",0]],null,null,null,null)),(t()(),Ua(1,0,[[2,0],["panel",1]],null,3,"div",[],[[24,"@transformPanel",0],[4,"transformOrigin",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"@transformPanel.done"===e&&(r=!1!==i._panelDoneAnimatingStream.next(n.toState)&&r),"keydown"===e&&(r=!1!==i._handleKeydown(n)&&r),r},null,null)),ui(512,null,Io,No,[Cn,Sn,rn,un]),li(3,278528,null,0,Do,[Io],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Qa(null,1)],function(t,e){var n=e.component;t(e,3,0,Cr(1,"mat-select-panel ",n._getPanelTheme(),""),n.panelClass)},function(t,e){var n=e.component;t(e,0,0,void 0),t(e,1,0,n.multiple?"showing-multiple":"showing",n._transformOrigin,n._triggerFontSize)})}function eS(t){return rs(2,[$a(671088640,1,{trigger:0}),$a(671088640,2,{panel:0}),$a(671088640,3,{overlayDir:0}),(t()(),Ua(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggle()&&r),r},null,null)),li(4,16384,[["origin",4]],0,RC,[rn],null,null),(t()(),Ua(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),li(6,16384,null,0,Vo,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Va(16777216,null,null,1,null,XC)),li(8,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,JC)),li(10,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ua(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(t()(),Ua(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(t()(),Va(16777216,null,null,1,function(t,e,n){var r=!0,i=t.component;return"backdropClick"===e&&(r=!1!==i.close()&&r),"attach"===e&&(r=!1!==i._onAttached()&&r),"detach"===e&&(r=!1!==i.close()&&r),r},tS)),li(14,671744,[[3,4]],0,DC,[TC,Nn,Dn,NC,[2,Cm]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],function(t,e){var n=e.component;t(e,6,0,n.empty),t(e,8,0,!0),t(e,10,0,!1),t(e,14,0,Yr(e,4),n._positions,n._offsetY,null==n._triggerRect?null:n._triggerRect.width,"cdk-overlay-transparent-backdrop",n._scrollStrategy,n.panelOpen,"","")},null)}var nS=Xn({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function rS(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,sS,aS)),li(1,49152,null,0,vf,[[2,jw]],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)},function(t,e){t(e,0,0,"indeterminate"===Yr(e,1).state,"checked"===Yr(e,1).state,Yr(e,1).disabled,"NoopAnimations"===Yr(e,1)._animationMode)})}function iS(t){return rs(2,[(t()(),Va(16777216,null,null,1,null,rS)),li(1,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Ua(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),Qa(null,0),(t()(),Ua(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),li(5,212992,null,0,gf,[rn,Zi,Rm,[2,ff],[2,jw]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())},function(t,e){t(e,4,0,Yr(e,5).unbounded)})}var aS=Xn({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function sS(t){return rs(2,[],null,null)}const oS=100,lS=10;class uS{constructor(t){this._elementRef=t}}const cS=Bd(uS,"primary"),pS=new Nt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:oS}}}),hS="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n",mS=function(){class t extends cS{constructor(t,e,n,r,i){super(t),this._elementRef=t,this._document=n,this._value=0,this._fallbackAnimation=!1,this._diameter=oS,this.mode="determinate",this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth)),t.nativeElement.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get diameter(){return this._diameter}set diameter(e){this._diameter=km(e),this._fallbackAnimation||t._diameters.has(this._diameter)||this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=km(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,km(t)))}get _circleRadius(){return(this.diameter-lS)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){let e=t._styleTag;e||(e=this._document.createElement("style"),this._document.head.appendChild(e),t._styleTag=e),e&&e.sheet&&e.sheet.insertRule(this._getAnimationText(),0),t._diameters.add(this.diameter)}_getAnimationText(){return hS.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t._diameters=new Set([oS]),t._styleTag=null,t}();class dS extends mS{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}class fS{}var gS=Xn({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function yS(t){return rs(0,[(t()(),Ua(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n._circleRadius,"mat-progress-spinner-stroke-rotate-"+n.diameter,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)})}function vS(t){return rs(0,[(t()(),Ua(0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n._circleRadius,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)})}function bS(t){return rs(2,[(t()(),Ua(0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),li(1,16384,null,0,Vo,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Va(16777216,null,null,1,null,yS)),li(3,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,vS)),li(5,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){t(e,1,0,"indeterminate"===e.component.mode),t(e,3,0,!0),t(e,5,0,!1)},function(t,e){var n=e.component;t(e,0,0,n.diameter,n.diameter,n._viewBox)})}function _S(t,e,n,r){return new(n||(n=Promise))(function(i,a){function s(t){try{l(r.next(t))}catch(e){a(e)}}function o(t){try{l(r.throw(t))}catch(e){a(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,o)}l((r=r.apply(t,e||[])).next())})}const wS=function(){class t{static setModuleName(e){t._moduleName=e}static setPlotly(e){t._plotly=e}static insert(e){return-1===t.instances.indexOf(e)&&t.instances.push(e),e}static remove(e){const n=t.instances.indexOf(e);n>=0&&(t.instances.splice(n,1),t._plotly.purge(e))}getInstanceByDivId(e){for(const n of t.instances)if(n&&n.id===e)return n}getPlotly(){if(void 0===t._plotly)throw new Error("ViaCDN"===t._moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return t._plotly}waitFor(t){return new Promise(e=>{const n=()=>{t()?e():setTimeout(n,10)};n()})}newPlot(e,n,r,i,a){return _S(this,void 0,void 0,function*(){if(yield this.waitFor(()=>"waiting"!==this.getPlotly()),a){const s={data:n,layout:r,config:i,frames:a};return this.getPlotly().newPlot(e,s).then(()=>t.insert(e))}return this.getPlotly().newPlot(e,n,r,i).then(()=>t.insert(e))})}plot(t,e,n,r,i){if(i){const a={data:e,layout:n,config:r,frames:i};return this.getPlotly().plot(t,a)}return this.getPlotly().plot(t,e,n,r)}update(t,e,n,r,i){if(i){const a={data:e,layout:n,config:r,frames:i};return this.getPlotly().react(t,a)}return this.getPlotly().react(t,e,n,r)}resize(t){return this.getPlotly().Plots.resize(t)}}return t.instances=[],t._plotly=void 0,t._moduleName=void 0,t.ngInjectableDef=gt({factory:function(){return new t},token:t,providedIn:"root"}),t}();class xS{constructor(t,e,n){this.plotly=t,this.iterableDiffers=e,this.keyValueDiffers=n,this.defaultClassName="js-plotly-plot",this.datarevision=0,this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.initialized=new Ei,this.update=new Ei,this.purge=new Ei,this.error=new Ei,this.afterExport=new Ei,this.afterPlot=new Ei,this.animated=new Ei,this.animatingFrame=new Ei,this.animationInterrupted=new Ei,this.autoSize=new Ei,this.beforeExport=new Ei,this.buttonClicked=new Ei,this.click=new Ei,this.clickAnnotation=new Ei,this.deselect=new Ei,this.doubleClick=new Ei,this.framework=new Ei,this.hover=new Ei,this.legendClick=new Ei,this.legendDoubleClick=new Ei,this.relayout=new Ei,this.restyle=new Ei,this.redraw=new Ei,this.selected=new Ei,this.selecting=new Ei,this.sliderChange=new Ei,this.sliderEnd=new Ei,this.sliderStart=new Ei,this.transitioning=new Ei,this.transitionInterrupted=new Ei,this.unhover=new Ei,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","buttonClicked","click","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","relayout","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","transitioning","transitionInterrupted","unhover"]}ngOnInit(){this.createPlot().then(()=>{const t=this.createFigure();this.initialized.emit(t)})}ngOnDestroy(){"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0);const t=this.createFigure();this.purge.emit(t),wS.remove(this.plotlyInstance)}ngOnChanges(t){let e=!1;const n=t.revision;n&&!n.isFirstChange()&&(e=!0);const r=t.debug;r&&!r.isFirstChange()&&(e=!0),e&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){let t=!1;this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(t=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0,this.dataDiffer?this.dataDiffer.diff(this.data)&&(t=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0,t&&this.plotlyInstance&&(this.datarevision+=1,this.updatePlot())}getWindow(){return window}getClassName(){let t=[this.defaultClassName];return Array.isArray(this.className)?t=t.concat(this.className):this.className&&t.push(this.className),t.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.data,this.layout,this.config,this.frames).then(t=>{this.plotlyInstance=t,this.getWindow().gd=this.debug?t:void 0,this.eventNames.forEach(e=>{const n=`plotly_${e.toLowerCase()}`;t.on(n,t=>this[e].emit(t))}),this.updateWindowResizeHandler()},t=>{console.error("Error while plotting:",t),this.error.emit(t)})}createFigure(){const t=this.plotlyInstance;return{data:t.data,layout:t.layout,frames:t._transitionData?t._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const t=new Error("Plotly component wasn't initialized");throw this.error.emit(t),t}const t=Object.assign({datarevision:this.datarevision},this.layout);return this.plotly.update(this.plotlyInstance,this.data,t,this.config,this.frames).then(()=>{const t=this.createFigure();this.update.emit(t)},t=>{console.error("Error while updating plot:",t),this.error.emit(t)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=(()=>this.plotly.resize(this.plotlyInstance)),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(t,e){const n=Object.assign({},e,{uid:""});return JSON.stringify(n)}}class CS{}class SS{constructor(){const t=window.Plotly;if(void 0===t)throw new Error("Plotly object not found on window.");wS.setPlotly(t)}static forRoot(){throw new Error("[PlotlyViaWindowModule] forRoot method is deprecated. Please see: https://github.com/plotly/angular-plotly.js#plotly-via-window-module")}}var ES=Xn({encapsulation:2,styles:[],data:{}});function kS(t){return rs(0,[$a(402653184,1,{plotEl:0}),(t()(),Ua(1,0,[[1,0],["plot",1]],null,2,"div",[],[[1,"id",0],[8,"className",0]],null,null,null,null)),ui(512,null,Wo,Ho,[rn,Sn,un]),li(3,278528,null,0,$o,[Wo],{ngStyle:[0,"ngStyle"]},null)],function(t,e){t(e,3,0,e.component.style)},function(t,e){var n=e.component;t(e,1,0,n.divId,n.getClassName())})}class AS{}class TS{}class IS{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof IS?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new IS;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof IS?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class NS{encodeKey(t){return RS(t)}encodeValue(t){return RS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function RS(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class DS{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new NS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,a]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(a),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new DS({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function OS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function MS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function FS(t){return"undefined"!=typeof FormData&&t instanceof FormData}class LS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new IS),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new DS,this.urlWithParams=e}serializeBody(){return null===this.body?null:OS(this.body)||MS(this.body)||FS(this.body)||"string"==typeof this.body?this.body:this.body instanceof DS?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:FS(this.body)?null:MS(this.body)?this.body.type||null:OS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof DS?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let o=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(o=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),o)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new LS(e,n,i,{params:l,headers:o,reportProgress:s,responseType:r,withCredentials:a})}}const PS=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class zS{constructor(t,e=200,n="OK"){this.headers=t.headers||new IS,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class BS extends zS{constructor(t={}){super(t),this.type=PS.ResponseHeader}clone(t={}){return new BS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VS extends zS{constructor(t={}){super(t),this.type=PS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new VS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class US extends zS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function jS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class WS{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof LS)r=t;else{let i=void 0;i=n.headers instanceof IS?n.headers:new IS(n.headers);let a=void 0;n.params&&(a=n.params instanceof DS?n.params:new DS({fromObject:n.params})),r=new LS(t,e,void 0!==n.body?n.body:null,{headers:i,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=ul(r).pipe(Ql(t=>this.handler.handle(t)));if(t instanceof LS||"events"===n.observe)return i;const a=i.pipe(bl(t=>t instanceof VS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return a.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return a.pipe(j(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return a.pipe(j(t=>t.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new DS).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,jS(n,e))}post(t,e,n={}){return this.request("POST",t,jS(n,e))}put(t,e,n={}){return this.request("PUT",t,jS(n,e))}}class HS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const qS=new Nt("HTTP_INTERCEPTORS");class $S{intercept(t,e){return e.handle(t)}}const GS=/^\)\]\}',?\n/;class KS{}class YS{constructor(){}build(){return new XMLHttpRequest}}class XS{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const a=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",a=new IS(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new BS({headers:a,status:e,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:o}=a(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(GS,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new VS({body:l,headers:r,status:i,statusText:s,url:o||void 0})),e.complete()):e.error(new US({error:l,headers:r,status:i,statusText:s,url:o||void 0}))},o=t=>{const{url:r}=a(),i=new US({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(a()),l=!0);let i={type:PS.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:PS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",o),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:PS.Sent}),()=>{n.removeEventListener("error",o),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const QS=new Nt("XSRF_COOKIE_NAME"),ZS=new Nt("XSRF_HEADER_NAME");class JS{}class tE{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=To(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class eE{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class nE{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(qS,[]);this.chain=t.reduceRight((t,e)=>new HS(t,e),this.backend)}return this.chain.handle(t)}}class rE{static disable(){return{ngModule:rE,providers:[{provide:eE,useClass:$S}]}}static withOptions(t={}){return{ngModule:rE,providers:[t.cookieName?{provide:QS,useValue:t.cookieName}:[],t.headerName?{provide:ZS,useValue:t.headerName}:[]]}}}class iE{}function aE(t){return Error(`Unable to find icon with the name "${t}"`)}function sE(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function oE(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class lE{constructor(t){t.nodeName?this.svgElement=t:this.url=t}}const uE=function(){class t{constructor(t,e,n){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e){return this.addSvgIconInNamespace("",t,e)}addSvgIconLiteral(t,e){return this.addSvgIconLiteralInNamespace("",t,e)}addSvgIconInNamespace(t,e,n){return this._addSvgIconConfig(t,e,new lE(n))}addSvgIconLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Ie.HTML,n);if(!r)throw oE(n);const i=this._createSvgElementForSingleIcon(r);return this._addSvgIconConfig(t,e,new lE(i))}addSvgIconSet(t){return this.addSvgIconSetInNamespace("",t)}addSvgIconSetLiteral(t){return this.addSvgIconSetLiteralInNamespace("",t)}addSvgIconSetInNamespace(t,e){return this._addSvgIconSetConfig(t,new lE(e))}addSvgIconSetLiteralInNamespace(t,e){const n=this._sanitizer.sanitize(Ie.HTML,e);if(!n)throw oE(e);const r=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new lE(r))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Ie.RESOURCE_URL,t);if(!e)throw sE(t);const n=this._cachedIconsByUrl.get(e);return n?ul(cE(n)):this._loadSvgIconFromConfig(new lE(t)).pipe(Al(t=>this._cachedIconsByUrl.set(e,t)),j(t=>cE(t)))}getNamedSvgIcon(t,e=""){const n=pE(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(a=aE(n),new w(t=>t.error(a)));var a}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?ul(cE(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Al(e=>t.svgElement=e),j(t=>cE(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?ul(n):Sy(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Fl(e=>{const n=this._sanitizer.sanitize(Ie.RESOURCE_URL,t.url);return console.error(`Loading icon set URL: ${n} failed: ${e.message}`),ul(null)})))).pipe(j(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw aE(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(j(t=>this._createSvgElementForSingleIcon(t)))}_loadSvgIconSetFromConfig(t){return t.svgElement?ul(t.svgElement):this._fetchUrl(t.url).pipe(j(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t){const e=this._svgElementFromString(t);return this._setSvgAttributes(e),e}_extractSvgIconFromSet(t,e){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const r=n.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r));const i=this._svgElementFromString("<svg></svg>");return i.appendChild(r),this._setSvgAttributes(i)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let e=this._svgElementFromString("<svg></svg>");for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Ie.RESOURCE_URL,t);if(!e)throw sE(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe(Zl(()=>this._inProgressUrlFetches.delete(e)),st());return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(pE(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(WS,8),Tt(sc),Tt(Jo,8))},token:t,providedIn:"root"}),t}();function cE(t){return t.cloneNode(!0)}function pE(t,e){return t+":"+e}class hE{constructor(t){this._elementRef=t}}const mE=Bd(hE),dE=new Nt("mat-icon-location",{providedIn:"root",factory:function(){const t=It(Jo),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),fE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gE=fE.map(t=>`[${t}]`).join(", "),yE=/^url\(['"]?#(.*?)['"]?\)$/;class vE extends mE{constructor(t,e,n,r){super(t),this._iconRegistry=e,this._location=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Em(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(zl(1)).subscribe(t=>this._setSvgElement(t),t=>console.log(`Error retrieving icon: ${t.message}`))}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(gE),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)fE.forEach(t=>{const i=e[r],a=i.getAttribute(t),s=a?a.match(yE):null;if(s){let e=n.get(i);e||n.set(i,e=[]),e.push({name:t,value:s[1]})}})}}class bE{}var _E=Xn({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function wE(t){return rs(2,[Qa(null,0)],null,null)}const xE=new Set;let CE;const SE=function(){class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):EE}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!xE.has(t))try{CE||((CE=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(CE)),CE.sheet&&(CE.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),xE.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(Rm))},token:t,providedIn:"root"}),t}();function EE(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}const kE=function(){class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new A}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return AE(Am(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){return dl(AE(Am(t)).map(t=>this._registerQuery(t).observable)).pipe(sd(0,Vf),j(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new w(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Gl(e),j(e=>({query:t,matches:e.matches})),jf(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.ngInjectableDef=ft({factory:function(){return new t(Tt(SE),Tt(Zi))},token:t,providedIn:"root"}),t}();function AE(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const TE={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},IE=20,NE="mat-tooltip-panel";function RE(t){return Error(`Tooltip position "${t}" is invalid.`)}const DE=new Nt("mat-tooltip-scroll-strategy");function OE(t){return()=>t.scrollStrategies.reposition({scrollThrottle:IE})}const ME=new Nt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});class FE{constructor(t,e,n,r,i,a,s,o,l,u,c,p){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._ariaDescriber=s,this._focusMonitor=o,this._dir=u,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new A,this._scrollStrategy=l;const h=e.nativeElement,m="undefined"==typeof window||window.Hammer||p;a.IOS||a.ANDROID?m||this._manualListeners.set("touchstart",()=>this.show()):this._manualListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide()),this._manualListeners.forEach((t,e)=>h.addEventListener(e,t)),o.monitor(e).pipe(jf(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&i.run(()=>this.show()):i.run(()=>this.hide(0))}),c&&c.position&&(this.position=c.position)}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Em(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ariaDescriber.describe(this._elementRef.nativeElement,this.message))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){const t=this._elementRef.nativeElement,e=t.style;"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||(e.webkitUserSelect=e.userSelect=e.msUserSelect=""),t.draggable&&"none"===e.webkitUserDrag&&(e.webkitUserDrag="")}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((t,e)=>{this._elementRef.nativeElement.removeEventListener(e,t)}),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Qx(LE,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(jf(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(t){this._isTooltipVisible()&&t.keyCode===Vm&&(t.stopPropagation(),this.hide(0))}_handleTouchend(){this.hide(this._defaultOptions.touchendHideDelay)}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(jf(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:NE,scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(jf(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign({},e.main,n.main),Object.assign({},e.fallback,n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw RE(e);n={originX:"end",originY:"center"}}const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw RE(e);n={overlayX:"start",overlayY:"center"}}const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(zl(1),jf(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}}class LE{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new A,this._isHandset=this._breakpointObserver.observe(TE.Handset)}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}class PE{}class zE{constructor(t){this._elementRef=t}}const BE=Bd(zE,"primary"),VE=new Nt("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=It(Jo),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let UE=0;class jE extends BE{constructor(t,e,n,r){super(t),this._elementRef=t,this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Ei,this._animationEndSubscription=h.EMPTY,this.mode="determinate",this.progressbarId=`mat-progress-bar-${UE++}`;const i=r?r.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${i}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=WE(t||0),this._isNoopAnimation&&this._emitAnimationEnd()}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=WE(t||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){if("buffer"===this.mode)return{transform:`scaleX(${this.bufferValue/100})`}}ngAfterViewInit(){this._isNoopAnimation||this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Uf(t,"transitionend").pipe(bl(e=>e.target===t)).subscribe(()=>this._ngZone.run(()=>this._emitAnimationEnd()))})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}_emitAnimationEnd(){"determinate"!==this.mode&&"buffer"!==this.mode||this.animationEnd.next({value:this.value})}}function WE(t,e=0,n=100){return Math.max(e,Math.min(n,t))}class HE{}var qE=Xn({encapsulation:2,styles:[".mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-background{display:none}}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition:none}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}"],data:{}});function $E(t){return rs(2,[$a(671088640,1,{_primaryValueBar:0}),(t()(),Ua(1,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","4"],["width","100%"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(t()(),Ua(3,0,null,null,1,":svg:pattern",[["height","4"],["patternUnits","userSpaceOnUse"],["width","8"],["x","4"],["y","0"]],[[8,"id",0]],null,null,null,null)),(t()(),Ua(4,0,null,null,0,":svg:circle",[["cx","2"],["cy","2"],["r","2"]],null,null,null,null,null)),(t()(),Ua(5,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(t()(),Ua(6,0,null,null,2,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),ui(512,null,Wo,Ho,[rn,Sn,un]),li(8,278528,null,0,$o,[Wo],{ngStyle:[0,"ngStyle"]},null),(t()(),Ua(9,0,[[1,0],["primaryValueBar",1]],null,2,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),ui(512,null,Wo,Ho,[rn,Sn,un]),li(11,278528,null,0,$o,[Wo],{ngStyle:[0,"ngStyle"]},null),(t()(),Ua(12,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n._bufferTransform()),t(e,11,0,n._primaryTransform())},function(t,e){var n=e.component;t(e,3,0,n.progressbarId),t(e,5,0,n._rectangleFillValue)})}var GE=n("C1Pg");class KE{constructor(t){this.httpClient=t,this.input_dataset=[],this.result=[],this.data_raw=[],this.sma_vec=[],this.window_size=50,this.trainingsize=70,this.data_temporal_resolutions="Weekly"}demo_1_fetchData(t,e,n){return _S(this,void 0,void 0,function*(){return new Promise((r,i)=>{let a={},s="";this.httpClient.get(s="Daily"==n?"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol="+t+"&outputsize=full&apikey="+e:"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol="+t+"&apikey="+e).subscribe(t=>{console.log("GET Request is successful ",t);let e=[];if(e="Daily"==n?t["Time Series (Daily)"]:t["Weekly Time Series"]){let n=t["Meta Data"]["2. Symbol"],r=t["Meta Data"]["3. Last Refreshed"],i=[];for(let t in e)i.push({timestamp:t,price:parseFloat(e[t]["4. close"])});if(i.reverse(),a.linegraph_title="Symbol: "+n+" (last refreshed "+r+")",i.length>0){let t=i.map(function(t){return t.timestamp}),e=i.map(function(t){return t.price});a.timestamps=t,a.prices=e}a.data_raw=i,a.success=!0}else a.success=!1,a.error_message=t.Information;r(a)},t=>{a.success=!1,a.error_message=t,i(a)})})})}demo_2_compute_sma(t,e){let n={};return n.data_sma_vec=this.computeSMA(t,e),n.sma=n.data_sma_vec.map(function(t){return t.avg}),n.prices=t.map(function(t){return t.price}),n.timestamps_a=t.map(function(t){return t.timestamp}),n.timestamps_b=t.map(function(t){return t.timestamp}).splice(e,t.length),n}trainModel(t,e){return _S(this,void 0,void 0,function*(){console.log(t);let n=t.inputs,r=t.outputs,i=t.input_trainingsize,a=t.input_windowsize,s=t.input_epochs,o=t.input_learningrate,l=t.input_hiddenlayers;const u=a,c=[10,5],p=a;let h=n.slice(0,Math.floor(i/100*n.length)),m=r.slice(0,Math.floor(i/100*r.length));const d=GE.tensor2d(h,[h.length,h[0].length]).div(GE.scalar(10)),f=GE.tensor2d(m,[m.length,1]).reshape([m.length,1]).div(GE.scalar(10)),g=GE.sequential();g.add(GE.layers.dense({units:50,inputShape:[u]})),g.add(GE.layers.reshape({targetShape:c}));let y=[];for(let t=0;t<l;t++)y.push(GE.layers.lstmCell({units:20}));g.add(GE.layers.rnn({cell:y,inputShape:c,returnSequences:!1})),g.add(GE.layers.dense({units:1,inputShape:[20]})),g.compile({optimizer:GE.train.adam(o),loss:"meanSquaredError"});const v=yield g.fit(d,f,{batchSize:p,epochs:s,callbacks:{onEpochEnd:(n,r)=>_S(this,void 0,void 0,function*(){e(n,r,t)})}});return{model:g,stats:v}})}makePredictions(t,e,n){let r=t.slice(Math.floor(e/100*t.length),t.length);const i=n.predict(GE.tensor2d(r,[r.length,r[0].length]).div(GE.scalar(10))).mul(10);return Array.from(i.dataSync())}computeSMA(t,e){let n=[],r=0;for(let i=0;i<=t.length-e;i++){let a=0,s=i+e;for(let n=i;n<s&&n<=t.length;n++)a+=t[n].price/e;n.push({set:t.slice(i,i+e),avg:a}),r=a}return n}}class YE{constructor(t,e){this.service=t,this.httpClient=e,this.trained_model={},this.data_raw=[],this.data_sma_vec=[],this.demo_1_loadingdata=!1,this.demo_1_graph={data:[],layout:{}},this.demo_2_ready=!1,this.input_windowsize=50,this.demo_2_loadingdata=!1,this.demo_2_graph={data:[],layout:{}},this.demo_2_table=[],this.demo_2_table_columns=["index","y","x"],this.demo_3_ready=!1,this.demo_3_div_display=!1,this.demo_3_loadingdata=!1,this.input_trainingsize=70,this.input_epochs=10,this.input_learningrate=.01,this.input_hiddenlayers=4,this.demo_3_traininglog="",this.demo_3_progressbar=0,this.demo_3_graph={data:[],layout:{}},this.demo_4_ready=!1,this.demo_4_div_display=!1,this.demo_4_loadingdata=!1,this.demo_4_graph={data:[],layout:{}}}ngOnInit(){this.service.changePageTitle("Time Series Forecasting with TensorFlow.js"),this.model=new KE(this.httpClient),this.input_temporal_resolutions="Daily",this.input_ticker="MSFT",this.input_apikey="demo"}onClickFetchData(){return _S(this,void 0,void 0,function*(){this.demo_1_loadingdata=!0;let t=yield this.model.demo_1_fetchData(this.input_ticker,this.input_apikey,this.input_temporal_resolutions);console.log(t),this.data_raw=t.data_raw,this.demo_1_div_display=!0,this.demo_1_linegraph_title=t.linegraph_title,this.demo_1_graph={data:[{x:t.timestamps,y:t.prices}],layout:{height:350,title:t.linegraph_title,autosize:!0}},window.dispatchEvent(new Event("resize")),this.demo_1_loadingdata=!1,this.demo_2_ready=!0})}onClickDisplaySMA(){return _S(this,void 0,void 0,function*(){this.demo_2_loadingdata=!0;let t=yield this.model.demo_2_compute_sma(this.data_raw,this.input_windowsize);console.log(t),this.data_sma_vec=t.data_sma_vec,this.demo_2_table=t.demo_2_table,this.demo_2_div_display=!0,this.demo_2_graph={data:[{x:t.timestamps_a,y:t.prices,name:"Stock Price"},{x:t.timestamps_b,y:t.sma,name:"SMA"}],layout:{height:350,title:"Stock Price and Simple Moving Average (window: "+this.input_windowsize+")",autosize:!0}},window.dispatchEvent(new Event("resize")),this.demo_2_loadingdata=!1,this.demo_3_ready=!0})}onClickTrainModel(){return _S(this,void 0,void 0,function*(){this.demo_3_loadingdata=!0,this.demo_3_div_display=!0;let t=[];this.demo_3_traininglog="";let e={inputs:this.data_sma_vec.map(function(t){return t.set.map(function(t){return t.price})}),outputs:this.data_sma_vec.map(function(t){return t.avg}),input_trainingsize:this.input_trainingsize,input_windowsize:this.input_windowsize,input_epochs:this.input_epochs,input_learningrate:this.input_learningrate,input_hiddenlayers:this.input_hiddenlayers};this.trained_model=yield this.model.trainModel(e,(function(e,n,r){this.demo_3_traininglog="<div>Epoch: "+(e+1)+" (of "+this.input_epochs+"), loss: "+n.loss+"</div>"+this.demo_3_traininglog,t.push(n.loss),console.log("log",n),this.demo_3_progressbar=Math.ceil((e+1)*(100/this.input_epochs)),this.demo_3_graph={data:[{x:Array.from({length:t.length},(t,e)=>e+1),y:t,name:"Loss"}],layout:{height:350,title:"Training Loss",autosize:!0}},window.dispatchEvent(new Event("resize"))}).bind(this)),this.demo_3_traininglog="<div>Model trained</div>"+this.demo_3_traininglog,this.demo_3_loadingdata=!1,this.demo_4_ready=!0})}onClickPredict(){this.demo_4_loadingdata=!0,this.demo_4_div_display=!0;let t=this.data_sma_vec.map(function(t){return t.set.map(function(t){return t.price})}),e=this.data_sma_vec.map(function(t){return t.avg}),n=(e.slice(Math.floor(this.input_trainingsize/100*e.length),e.length),this.model.makePredictions(t,this.input_trainingsize,this.trained_model.model)),r=this.data_raw.map(function(t){return t.timestamp}),i=this.data_raw.map(function(t){return t.timestamp}).splice(this.input_windowsize,this.data_raw.length),a=this.data_raw.map(function(t){return t.timestamp}).splice(this.input_windowsize+Math.floor(this.input_trainingsize/100*e.length),this.data_raw.length),s=this.data_sma_vec.map(function(t){return t.avg}),o=this.data_raw.map(function(t){return t.price});this.demo_4_graph={data:[{x:r,y:o,name:"Actual Price"},{x:i,y:s,name:"Training Label (SMA)"},{x:a,y:n,name:"Predicted"}],layout:{height:350,title:"Predict Results",autosize:!0}},window.dispatchEvent(new Event("resize")),this.demo_4_loadingdata=!1}get_static_data(){return JSON.parse('{"linegraph_title":"Symbol: MSFT (last refreshed 2019-06-07)","timestamps":["1998-01-02","1998-01-05","1998-01-06","1998-01-07","1998-01-08","1998-01-09","1998-01-12","1998-01-13","1998-01-14","1998-01-15","1998-01-16","1998-01-20","1998-01-21","1998-01-22","1998-01-23","1998-01-26","1998-01-27","1998-01-28","1998-01-29","1998-01-30","1998-02-02","1998-02-03","1998-02-04","1998-02-05","1998-02-06","1998-02-09","1998-02-10","1998-02-11","1998-02-12","1998-02-13","1998-02-17","1998-02-18","1998-02-19","1998-02-20","1998-02-23","1998-02-24","1998-02-25","1998-02-26","1998-02-27","1998-03-02","1998-03-03","1998-03-04","1998-03-05","1998-03-06","1998-03-09","1998-03-10","1998-03-11","1998-03-12","1998-03-13","1998-03-16","1998-03-17","1998-03-18","1998-03-19","1998-03-20","1998-03-23","1998-03-24","1998-03-25","1998-03-26","1998-03-27","1998-03-30","1998-03-31","1998-04-01","1998-04-02","1998-04-03","1998-04-06","1998-04-07","1998-04-08","1998-04-09","1998-04-13","1998-04-14","1998-04-15","1998-04-16","1998-04-17","1998-04-20","1998-04-21","1998-04-22","1998-04-23","1998-04-24","1998-04-27","1998-04-28","1998-04-29","1998-04-30","1998-05-01","1998-05-04","1998-05-05","1998-05-06","1998-05-07","1998-05-08","1998-05-11","1998-05-12","1998-05-13","1998-05-14","1998-05-15","1998-05-18","1998-05-19","1998-05-20","1998-05-21","1998-05-22","1998-05-26","1998-05-27","1998-05-28","1998-05-29","1998-06-01","1998-06-02","1998-06-03","1998-06-04","1998-06-05","1998-06-08","1998-06-09","1998-06-10","1998-06-11","1998-06-12","1998-06-15","1998-06-16","1998-06-17","1998-06-18","1998-06-19","1998-06-22","1998-06-23","1998-06-24","1998-06-25","1998-06-26","1998-06-29","1998-06-30","1998-07-01","1998-07-02","1998-07-06","1998-07-07","1998-07-08","1998-07-09","1998-07-10","1998-07-13","1998-07-14","1998-07-15","1998-07-16","1998-07-17","1998-07-20","1998-07-21","1998-07-22","1998-07-23","1998-07-24","1998-07-27","1998-07-28","1998-07-29","1998-07-30","1998-07-31","1998-08-03","1998-08-04","1998-08-05","1998-08-06","1998-08-07","1998-08-10","1998-08-11","1998-08-12","1998-08-13","1998-08-14","1998-08-17","1998-08-18","1998-08-19","1998-08-20","1998-08-21","1998-08-24","1998-08-25","1998-08-26","1998-08-27","1998-08-28","1998-08-31","1998-09-01","1998-09-02","1998-09-03","1998-09-04","1998-09-08","1998-09-09","1998-09-10","1998-09-11","1998-09-14","1998-09-15","1998-09-16","1998-09-17","1998-09-18","1998-09-21","1998-09-22","1998-09-23","1998-09-24","1998-09-25","1998-09-28","1998-09-29","1998-09-30","1998-10-01","1998-10-02","1998-10-05","1998-10-06","1998-10-07","1998-10-08","1998-10-09","1998-10-12","1998-10-13","1998-10-14","1998-10-15","1998-10-16","1998-10-19","1998-10-20","1998-10-21","1998-10-22","1998-10-23","1998-10-26","1998-10-27","1998-10-28","1998-10-29","1998-10-30","1998-11-02","1998-11-03","1998-11-04","1998-11-05","1998-11-06","1998-11-09","1998-11-10","1998-11-11","1998-11-12","1998-11-13","1998-11-16","1998-11-17","1998-11-18","1998-11-19","1998-11-20","1998-11-23","1998-11-24","1998-11-25","1998-11-27","1998-11-30","1998-12-01","1998-12-02","1998-12-03","1998-12-04","1998-12-07","1998-12-08","1998-12-09","1998-12-10","1998-12-11","1998-12-14","1998-12-15","1998-12-16","1998-12-17","1998-12-18","1998-12-21","1998-12-22","1998-12-23","1998-12-24","1998-12-28","1998-12-29","1998-12-30","1998-12-31","1999-01-04","1999-01-05","1999-01-06","1999-01-07","1999-01-08","1999-01-11","1999-01-12","1999-01-13","1999-01-14","1999-01-15","1999-01-19","1999-01-20","1999-01-21","1999-01-22","1999-01-25","1999-01-26","1999-01-27","1999-01-28","1999-01-29","1999-02-01","1999-02-02","1999-02-03","1999-02-04","1999-02-05","1999-02-08","1999-02-09","1999-02-10","1999-02-11","1999-02-12","1999-02-16","1999-02-17","1999-02-18","1999-02-19","1999-02-22","1999-02-23","1999-02-24","1999-02-25","1999-02-26","1999-03-01","1999-03-02","1999-03-03","1999-03-04","1999-03-05","1999-03-08","1999-03-09","1999-03-10","1999-03-11","1999-03-12","1999-03-15","1999-03-16","1999-03-17","1999-03-18","1999-03-19","1999-03-22","1999-03-23","1999-03-24","1999-03-25","1999-03-26","1999-03-29","1999-03-30","1999-03-31","1999-04-01","1999-04-05","1999-04-06","1999-04-07","1999-04-08","1999-04-09","1999-04-12","1999-04-13","1999-04-14","1999-04-15","1999-04-16","1999-04-19","1999-04-20","1999-04-21","1999-04-22","1999-04-23","1999-04-26","1999-04-27","1999-04-28","1999-04-29","1999-04-30","1999-05-03","1999-05-04","1999-05-05","1999-05-06","1999-05-07","1999-05-10","1999-05-11","1999-05-12","1999-05-13","1999-05-14","1999-05-17","1999-05-18","1999-05-19","1999-05-20","1999-05-21","1999-05-24","1999-05-25","1999-05-26","1999-05-27","1999-05-28","1999-06-01","1999-06-02","1999-06-03","1999-06-04","1999-06-07","1999-06-08","1999-06-09","1999-06-10","1999-06-11","1999-06-14","1999-06-15","1999-06-16","1999-06-17","1999-06-18","1999-06-21","1999-06-22","1999-06-23","1999-06-24","1999-06-25","1999-06-28","1999-06-29","1999-06-30","1999-07-01","1999-07-02","1999-07-06","1999-07-07","1999-07-08","1999-07-09","1999-07-12","1999-07-13","1999-07-14","1999-07-15","1999-07-16","1999-07-19","1999-07-20","1999-07-21","1999-07-22","1999-07-23","1999-07-26","1999-07-27","1999-07-28","1999-07-29","1999-07-30","1999-08-02","1999-08-03","1999-08-04","1999-08-05","1999-08-06","1999-08-09","1999-08-10","1999-08-11","1999-08-12","1999-08-13","1999-08-16","1999-08-17","1999-08-18","1999-08-19","1999-08-20","1999-08-23","1999-08-24","1999-08-25","1999-08-26","1999-08-27","1999-08-30","1999-08-31","1999-09-01","1999-09-02","1999-09-03","1999-09-07","1999-09-08","1999-09-09","1999-09-10","1999-09-13","1999-09-14","1999-09-15","1999-09-16","1999-09-17","1999-09-20","1999-09-21","1999-09-22","1999-09-23","1999-09-24","1999-09-27","1999-09-28","1999-09-29","1999-09-30","1999-10-01","1999-10-04","1999-10-05","1999-10-06","1999-10-07","1999-10-08","1999-10-11","1999-10-12","1999-10-13","1999-10-14","1999-10-15","1999-10-18","1999-10-19","1999-10-20","1999-10-21","1999-10-22","1999-10-25","1999-10-26","1999-10-27","1999-10-28","1999-10-29","1999-11-01","1999-11-02","1999-11-03","1999-11-04","1999-11-05","1999-11-08","1999-11-09","1999-11-10","1999-11-11","1999-11-12","1999-11-15","1999-11-16","1999-11-17","1999-11-18","1999-11-19","1999-11-22","1999-11-23","1999-11-24","1999-11-26","1999-11-29","1999-11-30","1999-12-01","1999-12-02","1999-12-03","1999-12-06","1999-12-07","1999-12-08","1999-12-09","1999-12-10","1999-12-13","1999-12-14","1999-12-15","1999-12-16","1999-12-17","1999-12-20","1999-12-21","1999-12-22","1999-12-23","1999-12-27","1999-12-28","1999-12-29","1999-12-30","1999-12-31","2000-01-03","2000-01-04","2000-01-05","2000-01-06","2000-01-07","2000-01-10","2000-01-11","2000-01-12","2000-01-13","2000-01-14","2000-01-18","2000-01-19","2000-01-20","2000-01-21","2000-01-24","2000-01-25","2000-01-26","2000-01-27","2000-01-28","2000-01-31","2000-02-01","2000-02-02","2000-02-03","2000-02-04","2000-02-07","2000-02-08","2000-02-09","2000-02-10","2000-02-11","2000-02-14","2000-02-15","2000-02-16","2000-02-17","2000-02-18","2000-02-22","2000-02-23","2000-02-24","2000-02-25","2000-02-28","2000-02-29","2000-03-01","2000-03-02","2000-03-03","2000-03-06","2000-03-07","2000-03-08","2000-03-09","2000-03-10","2000-03-13","2000-03-14","2000-03-15","2000-03-16","2000-03-17","2000-03-20","2000-03-21","2000-03-22","2000-03-23","2000-03-24","2000-03-27","2000-03-28","2000-03-29","2000-03-30","2000-03-31","2000-04-03","2000-04-04","2000-04-05","2000-04-06","2000-04-07","2000-04-10","2000-04-11","2000-04-12","2000-04-13","2000-04-14","2000-04-17","2000-04-18","2000-04-19","2000-04-20","2000-04-24","2000-04-25","2000-04-26","2000-04-27","2000-04-28","2000-05-01","2000-05-02","2000-05-03","2000-05-04","2000-05-05","2000-05-08","2000-05-09","2000-05-10","2000-05-11","2000-05-12","2000-05-15","2000-05-16","2000-05-17","2000-05-18","2000-05-19","2000-05-22","2000-05-23","2000-05-24","2000-05-25","2000-05-26","2000-05-30","2000-05-31","2000-06-01","2000-06-02","2000-06-05","2000-06-06","2000-06-07","2000-06-08","2000-06-09","2000-06-12","2000-06-13","2000-06-14","2000-06-15","2000-06-16","2000-06-19","2000-06-20","2000-06-21","2000-06-22","2000-06-23","2000-06-26","2000-06-27","2000-06-28","2000-06-29","2000-06-30","2000-07-03","2000-07-05","2000-07-06","2000-07-07","2000-07-10","2000-07-11","2000-07-12","2000-07-13","2000-07-14","2000-07-17","2000-07-18","2000-07-19","2000-07-20","2000-07-21","2000-07-24","2000-07-25","2000-07-26","2000-07-27","2000-07-28","2000-07-31","2000-08-01","2000-08-02","2000-08-03","2000-08-04","2000-08-07","2000-08-08","2000-08-09","2000-08-10","2000-08-11","2000-08-14","2000-08-15","2000-08-16","2000-08-17","2000-08-18","2000-08-21","2000-08-22","2000-08-23","2000-08-24","2000-08-25","2000-08-28","2000-08-29","2000-08-30","2000-08-31","2000-09-01","2000-09-05","2000-09-06","2000-09-07","2000-09-08","2000-09-11","2000-09-12","2000-09-13","2000-09-14","2000-09-15","2000-09-18","2000-09-19","2000-09-20","2000-09-21","2000-09-22","2000-09-25","2000-09-26","2000-09-27","2000-09-28","2000-09-29","2000-10-02","2000-10-03","2000-10-04","2000-10-05","2000-10-06","2000-10-09","2000-10-10","2000-10-11","2000-10-12","2000-10-13","2000-10-16","2000-10-17","2000-10-18","2000-10-19","2000-10-20","2000-10-23","2000-10-24","2000-10-25","2000-10-26","2000-10-27","2000-10-30","2000-10-31","2000-11-01","2000-11-02","2000-11-03","2000-11-06","2000-11-07","2000-11-08","2000-11-09","2000-11-10","2000-11-13","2000-11-14","2000-11-15","2000-11-16","2000-11-17","2000-11-20","2000-11-21","2000-11-22","2000-11-24","2000-11-27","2000-11-28","2000-11-29","2000-11-30","2000-12-01","2000-12-04","2000-12-05","2000-12-06","2000-12-07","2000-12-08","2000-12-11","2000-12-12","2000-12-13","2000-12-14","2000-12-15","2000-12-18","2000-12-19","2000-12-20","2000-12-21","2000-12-22","2000-12-26","2000-12-27","2000-12-28","2000-12-29","2001-01-02","2001-01-03","2001-01-04","2001-01-05","2001-01-08","2001-01-09","2001-01-10","2001-01-11","2001-01-12","2001-01-16","2001-01-17","2001-01-18","2001-01-19","2001-01-22","2001-01-23","2001-01-24","2001-01-25","2001-01-26","2001-01-29","2001-01-30","2001-01-31","2001-02-01","2001-02-02","2001-02-05","2001-02-06","2001-02-07","2001-02-08","2001-02-09","2001-02-12","2001-02-13","2001-02-14","2001-02-15","2001-02-16","2001-02-20","2001-02-21","2001-02-22","2001-02-23","2001-02-26","2001-02-27","2001-02-28","2001-03-01","2001-03-02","2001-03-05","2001-03-06","2001-03-07","2001-03-08","2001-03-09","2001-03-12","2001-03-13","2001-03-14","2001-03-15","2001-03-16","2001-03-19","2001-03-20","2001-03-21","2001-03-22","2001-03-23","2001-03-26","2001-03-27","2001-03-28","2001-03-29","2001-03-30","2001-04-02","2001-04-03","2001-04-04","2001-04-05","2001-04-06","2001-04-09","2001-04-10","2001-04-11","2001-04-12","2001-04-16","2001-04-17","2001-04-18","2001-04-19","2001-04-20","2001-04-23","2001-04-24","2001-04-25","2001-04-26","2001-04-27","2001-04-30","2001-05-01","2001-05-02","2001-05-03","2001-05-04","2001-05-07","2001-05-08","2001-05-09","2001-05-10","2001-05-11","2001-05-14","2001-05-15","2001-05-16","2001-05-17","2001-05-18","2001-05-21","2001-05-22","2001-05-23","2001-05-24","2001-05-25","2001-05-29","2001-05-30","2001-05-31","2001-06-01","2001-06-04","2001-06-05","2001-06-06","2001-06-07","2001-06-08","2001-06-11","2001-06-12","2001-06-13","2001-06-14","2001-06-15","2001-06-18","2001-06-19","2001-06-20","2001-06-21","2001-06-22","2001-06-25","2001-06-26","2001-06-27","2001-06-28","2001-06-29","2001-07-02","2001-07-03","2001-07-05","2001-07-06","2001-07-09","2001-07-10","2001-07-11","2001-07-12","2001-07-13","2001-07-16","2001-07-17","2001-07-18","2001-07-19","2001-07-20","2001-07-23","2001-07-24","2001-07-25","2001-07-26","2001-07-27","2001-07-30","2001-07-31","2001-08-01","2001-08-02","2001-08-03","2001-08-06","2001-08-07","2001-08-08","2001-08-09","2001-08-10","2001-08-13","2001-08-14","2001-08-15","2001-08-16","2001-08-17","2001-08-20","2001-08-21","2001-08-22","2001-08-23","2001-08-24","2001-08-27","2001-08-28","2001-08-29","2001-08-30","2001-08-31","2001-09-04","2001-09-05","2001-09-06","2001-09-07","2001-09-10","2001-09-17","2001-09-18","2001-09-19","2001-09-20","2001-09-21","2001-09-24","2001-09-25","2001-09-26","2001-09-27","2001-09-28","2001-10-01","2001-10-02","2001-10-03","2001-10-04","2001-10-05","2001-10-08","2001-10-09","2001-10-10","2001-10-11","2001-10-12","2001-10-15","2001-10-16","2001-10-17","2001-10-18","2001-10-19","2001-10-22","2001-10-23","2001-10-24","2001-10-25","2001-10-26","2001-10-29","2001-10-30","2001-10-31","2001-11-01","2001-11-02","2001-11-05","2001-11-06","2001-11-07","2001-11-08","2001-11-09","2001-11-12","2001-11-13","2001-11-14","2001-11-15","2001-11-16","2001-11-19","2001-11-20","2001-11-21","2001-11-23","2001-11-26","2001-11-27","2001-11-28","2001-11-29","2001-11-30","2001-12-03","2001-12-04","2001-12-05","2001-12-06","2001-12-07","2001-12-10","2001-12-11","2001-12-12","2001-12-13","2001-12-14","2001-12-17","2001-12-18","2001-12-19","2001-12-20","2001-12-21","2001-12-24","2001-12-26","2001-12-27","2001-12-28","2001-12-31","2002-01-02","2002-01-03","2002-01-04","2002-01-07","2002-01-08","2002-01-09","2002-01-10","2002-01-11","2002-01-14","2002-01-15","2002-01-16","2002-01-17","2002-01-18","2002-01-22","2002-01-23","2002-01-24","2002-01-25","2002-01-28","2002-01-29","2002-01-30","2002-01-31","2002-02-01","2002-02-04","2002-02-05","2002-02-06","2002-02-07","2002-02-08","2002-02-11","2002-02-12","2002-02-13","2002-02-14","2002-02-15","2002-02-19","2002-02-20","2002-02-21","2002-02-22","2002-02-25","2002-02-26","2002-02-27","2002-02-28","2002-03-01","2002-03-04","2002-03-05","2002-03-06","2002-03-07","2002-03-08","2002-03-11","2002-03-12","2002-03-13","2002-03-14","2002-03-15","2002-03-18","2002-03-19","2002-03-20","2002-03-21","2002-03-22","2002-03-25","2002-03-26","2002-03-27","2002-03-28","2002-04-01","2002-04-02","2002-04-03","2002-04-04","2002-04-05","2002-04-08","2002-04-09","2002-04-10","2002-04-11","2002-04-12","2002-04-15","2002-04-16","2002-04-17","2002-04-18","2002-04-19","2002-04-22","2002-04-23","2002-04-24","2002-04-25","2002-04-26","2002-04-29","2002-04-30","2002-05-01","2002-05-02","2002-05-03","2002-05-06","2002-05-07","2002-05-08","2002-05-09","2002-05-10","2002-05-13","2002-05-14","2002-05-15","2002-05-16","2002-05-17","2002-05-20","2002-05-21","2002-05-22","2002-05-23","2002-05-24","2002-05-28","2002-05-29","2002-05-30","2002-05-31","2002-06-03","2002-06-04","2002-06-05","2002-06-06","2002-06-07","2002-06-10","2002-06-11","2002-06-12","2002-06-13","2002-06-14","2002-06-17","2002-06-18","2002-06-19","2002-06-20","2002-06-21","2002-06-24","2002-06-25","2002-06-26","2002-06-27","2002-06-28","2002-07-01","2002-07-02","2002-07-03","2002-07-05","2002-07-08","2002-07-09","2002-07-10","2002-07-11","2002-07-12","2002-07-15","2002-07-16","2002-07-17","2002-07-18","2002-07-19","2002-07-22","2002-07-23","2002-07-24","2002-07-25","2002-07-26","2002-07-29","2002-07-30","2002-07-31","2002-08-01","2002-08-02","2002-08-05","2002-08-06","2002-08-07","2002-08-08","2002-08-09","2002-08-12","2002-08-13","2002-08-14","2002-08-15","2002-08-16","2002-08-19","2002-08-20","2002-08-21","2002-08-22","2002-08-23","2002-08-26","2002-08-27","2002-08-28","2002-08-29","2002-08-30","2002-09-03","2002-09-04","2002-09-05","2002-09-06","2002-09-09","2002-09-10","2002-09-11","2002-09-12","2002-09-13","2002-09-16","2002-09-17","2002-09-18","2002-09-19","2002-09-20","2002-09-23","2002-09-24","2002-09-25","2002-09-26","2002-09-27","2002-09-30","2002-10-01","2002-10-02","2002-10-03","2002-10-04","2002-10-07","2002-10-08","2002-10-09","2002-10-10","2002-10-11","2002-10-14","2002-10-15","2002-10-16","2002-10-17","2002-10-18","2002-10-21","2002-10-22","2002-10-23","2002-10-24","2002-10-25","2002-10-28","2002-10-29","2002-10-30","2002-10-31","2002-11-01","2002-11-04","2002-11-05","2002-11-06","2002-11-07","2002-11-08","2002-11-11","2002-11-12","2002-11-13","2002-11-14","2002-11-15","2002-11-18","2002-11-19","2002-11-20","2002-11-21","2002-11-22","2002-11-25","2002-11-26","2002-11-27","2002-11-29","2002-12-02","2002-12-03","2002-12-04","2002-12-05","2002-12-06","2002-12-09","2002-12-10","2002-12-11","2002-12-12","2002-12-13","2002-12-16","2002-12-17","2002-12-18","2002-12-19","2002-12-20","2002-12-23","2002-12-24","2002-12-26","2002-12-27","2002-12-30","2002-12-31","2003-01-02","2003-01-03","2003-01-06","2003-01-07","2003-01-08","2003-01-09","2003-01-10","2003-01-13","2003-01-14","2003-01-15","2003-01-16","2003-01-17","2003-01-21","2003-01-22","2003-01-23","2003-01-24","2003-01-27","2003-01-28","2003-01-29","2003-01-30","2003-01-31","2003-02-03","2003-02-04","2003-02-05","2003-02-06","2003-02-07","2003-02-10","2003-02-11","2003-02-12","2003-02-13","2003-02-14","2003-02-18","2003-02-19","2003-02-20","2003-02-21","2003-02-24","2003-02-25","2003-02-26","2003-02-27","2003-02-28","2003-03-03","2003-03-04","2003-03-05","2003-03-06","2003-03-07","2003-03-10","2003-03-11","2003-03-12","2003-03-13","2003-03-14","2003-03-17","2003-03-18","2003-03-19","2003-03-20","2003-03-21","2003-03-24","2003-03-25","2003-03-26","2003-03-27","2003-03-28","2003-03-31","2003-04-01","2003-04-02","2003-04-03","2003-04-04","2003-04-07","2003-04-08","2003-04-09","2003-04-10","2003-04-11","2003-04-14","2003-04-15","2003-04-16","2003-04-17","2003-04-21","2003-04-22","2003-04-23","2003-04-24","2003-04-25","2003-04-28","2003-04-29","2003-04-30","2003-05-01","2003-05-02","2003-05-05","2003-05-06","2003-05-07","2003-05-08","2003-05-09","2003-05-12","2003-05-13","2003-05-14","2003-05-15","2003-05-16","2003-05-19","2003-05-20","2003-05-21","2003-05-22","2003-05-23","2003-05-27","2003-05-28","2003-05-29","2003-05-30","2003-06-02","2003-06-03","2003-06-04","2003-06-05","2003-06-06","2003-06-09","2003-06-10","2003-06-11","2003-06-12","2003-06-13","2003-06-16","2003-06-17","2003-06-18","2003-06-19","2003-06-20","2003-06-23","2003-06-24","2003-06-25","2003-06-26","2003-06-27","2003-06-30","2003-07-01","2003-07-02","2003-07-03","2003-07-07","2003-07-08","2003-07-09","2003-07-10","2003-07-11","2003-07-14","2003-07-15","2003-07-16","2003-07-17","2003-07-18","2003-07-21","2003-07-22","2003-07-23","2003-07-24","2003-07-25","2003-07-28","2003-07-29","2003-07-30","2003-07-31","2003-08-01","2003-08-04","2003-08-05","2003-08-06","2003-08-07","2003-08-08","2003-08-11","2003-08-12","2003-08-13","2003-08-14","2003-08-15","2003-08-18","2003-08-19","2003-08-20","2003-08-21","2003-08-22","2003-08-25","2003-08-26","2003-08-27","2003-08-28","2003-08-29","2003-09-02","2003-09-03","2003-09-04","2003-09-05","2003-09-08","2003-09-09","2003-09-10","2003-09-11","2003-09-12","2003-09-15","2003-09-16","2003-09-17","2003-09-18","2003-09-19","2003-09-22","2003-09-23","2003-09-24","2003-09-25","2003-09-26","2003-09-29","2003-09-30","2003-10-01","2003-10-02","2003-10-03","2003-10-06","2003-10-07","2003-10-08","2003-10-09","2003-10-10","2003-10-13","2003-10-14","2003-10-15","2003-10-16","2003-10-17","2003-10-20","2003-10-21","2003-10-22","2003-10-23","2003-10-24","2003-10-27","2003-10-28","2003-10-29","2003-10-30","2003-10-31","2003-11-03","2003-11-04","2003-11-05","2003-11-06","2003-11-07","2003-11-10","2003-11-11","2003-11-12","2003-11-13","2003-11-14","2003-11-17","2003-11-18","2003-11-19","2003-11-20","2003-11-21","2003-11-24","2003-11-25","2003-11-26","2003-11-28","2003-12-01","2003-12-02","2003-12-03","2003-12-04","2003-12-05","2003-12-08","2003-12-09","2003-12-10","2003-12-11","2003-12-12","2003-12-15","2003-12-16","2003-12-17","2003-12-18","2003-12-19","2003-12-22","2003-12-23","2003-12-24","2003-12-26","2003-12-29","2003-12-30","2003-12-31","2004-01-02","2004-01-05","2004-01-06","2004-01-07","2004-01-08","2004-01-09","2004-01-12","2004-01-13","2004-01-14","2004-01-15","2004-01-16","2004-01-20","2004-01-21","2004-01-22","2004-01-23","2004-01-26","2004-01-27","2004-01-28","2004-01-29","2004-01-30","2004-02-02","2004-02-03","2004-02-04","2004-02-05","2004-02-06","2004-02-09","2004-02-10","2004-02-11","2004-02-12","2004-02-13","2004-02-17","2004-02-18","2004-02-19","2004-02-20","2004-02-23","2004-02-24","2004-02-25","2004-02-26","2004-02-27","2004-03-01","2004-03-02","2004-03-03","2004-03-04","2004-03-05","2004-03-08","2004-03-09","2004-03-10","2004-03-11","2004-03-12","2004-03-15","2004-03-16","2004-03-17","2004-03-18","2004-03-19","2004-03-22","2004-03-23","2004-03-24","2004-03-25","2004-03-26","2004-03-29","2004-03-30","2004-03-31","2004-04-01","2004-04-02","2004-04-05","2004-04-06","2004-04-07","2004-04-08","2004-04-12","2004-04-13","2004-04-14","2004-04-15","2004-04-16","2004-04-19","2004-04-20","2004-04-21","2004-04-22","2004-04-23","2004-04-26","2004-04-27","2004-04-28","2004-04-29","2004-04-30","2004-05-03","2004-05-04","2004-05-05","2004-05-06","2004-05-07","2004-05-10","2004-05-11","2004-05-12","2004-05-13","2004-05-14","2004-05-17","2004-05-18","2004-05-19","2004-05-20","2004-05-21","2004-05-24","2004-05-25","2004-05-26","2004-05-27","2004-05-28","2004-06-01","2004-06-02","2004-06-03","2004-06-04","2004-06-07","2004-06-08","2004-06-09","2004-06-10","2004-06-14","2004-06-15","2004-06-16","2004-06-17","2004-06-18","2004-06-21","2004-06-22","2004-06-23","2004-06-24","2004-06-25","2004-06-28","2004-06-29","2004-06-30","2004-07-01","2004-07-02","2004-07-06","2004-07-07","2004-07-08","2004-07-09","2004-07-12","2004-07-13","2004-07-14","2004-07-15","2004-07-16","2004-07-19","2004-07-20","2004-07-21","2004-07-22","2004-07-23","2004-07-26","2004-07-27","2004-07-28","2004-07-29","2004-07-30","2004-08-02","2004-08-03","2004-08-04","2004-08-05","2004-08-06","2004-08-09","2004-08-10","2004-08-11","2004-08-12","2004-08-13","2004-08-16","2004-08-17","2004-08-18","2004-08-19","2004-08-20","2004-08-23","2004-08-24","2004-08-25","2004-08-26","2004-08-27","2004-08-30","2004-08-31","2004-09-01","2004-09-02","2004-09-03","2004-09-07","2004-09-08","2004-09-09","2004-09-10","2004-09-13","2004-09-14","2004-09-15","2004-09-16","2004-09-17","2004-09-20","2004-09-21","2004-09-22","2004-09-23","2004-09-24","2004-09-27","2004-09-28","2004-09-29","2004-09-30","2004-10-01","2004-10-04","2004-10-05","2004-10-06","2004-10-07","2004-10-08","2004-10-11","2004-10-12","2004-10-13","2004-10-14","2004-10-15","2004-10-18","2004-10-19","2004-10-20","2004-10-21","2004-10-22","2004-10-25","2004-10-26","2004-10-27","2004-10-28","2004-10-29","2004-11-01","2004-11-02","2004-11-03","2004-11-04","2004-11-05","2004-11-08","2004-11-09","2004-11-10","2004-11-11","2004-11-12","2004-11-15","2004-11-16","2004-11-17","2004-11-18","2004-11-19","2004-11-22","2004-11-23","2004-11-24","2004-11-26","2004-11-29","2004-11-30","2004-12-01","2004-12-02","2004-12-03","2004-12-06","2004-12-07","2004-12-08","2004-12-09","2004-12-10","2004-12-13","2004-12-14","2004-12-15","2004-12-16","2004-12-17","2004-12-20","2004-12-21","2004-12-22","2004-12-23","2004-12-27","2004-12-28","2004-12-29","2004-12-30","2004-12-31","2005-01-03","2005-01-04","2005-01-05","2005-01-06","2005-01-07","2005-01-10","2005-01-11","2005-01-12","2005-01-13","2005-01-14","2005-01-18","2005-01-19","2005-01-20","2005-01-21","2005-01-24","2005-01-25","2005-01-26","2005-01-27","2005-01-28","2005-01-31","2005-02-01","2005-02-02","2005-02-03","2005-02-04","2005-02-07","2005-02-08","2005-02-09","2005-02-10","2005-02-11","2005-02-14","2005-02-15","2005-02-16","2005-02-17","2005-02-18","2005-02-22","2005-02-23","2005-02-24","2005-02-25","2005-02-28","2005-03-01","2005-03-02","2005-03-03","2005-03-04","2005-03-07","2005-03-08","2005-03-09","2005-03-10","2005-03-11","2005-03-14","2005-03-15","2005-03-16","2005-03-17","2005-03-18","2005-03-21","2005-03-22","2005-03-23","2005-03-24","2005-03-28","2005-03-29","2005-03-30","2005-03-31","2005-04-01","2005-04-04","2005-04-05","2005-04-06","2005-04-07","2005-04-08","2005-04-11","2005-04-12","2005-04-13","2005-04-14","2005-04-15","2005-04-18","2005-04-19","2005-04-20","2005-04-21","2005-04-22","2005-04-25","2005-04-26","2005-04-27","2005-04-28","2005-04-29","2005-05-02","2005-05-03","2005-05-04","2005-05-05","2005-05-06","2005-05-09","2005-05-10","2005-05-11","2005-05-12","2005-05-13","2005-05-16","2005-05-17","2005-05-18","2005-05-19","2005-05-20","2005-05-23","2005-05-24","2005-05-25","2005-05-26","2005-05-27","2005-05-31","2005-06-01","2005-06-02","2005-06-03","2005-06-06","2005-06-07","2005-06-08","2005-06-09","2005-06-10","2005-06-13","2005-06-14","2005-06-15","2005-06-16","2005-06-17","2005-06-20","2005-06-21","2005-06-22","2005-06-23","2005-06-24","2005-06-27","2005-06-28","2005-06-29","2005-06-30","2005-07-01","2005-07-05","2005-07-06","2005-07-07","2005-07-08","2005-07-11","2005-07-12","2005-07-13","2005-07-14","2005-07-15","2005-07-18","2005-07-19","2005-07-20","2005-07-21","2005-07-22","2005-07-25","2005-07-26","2005-07-27","2005-07-28","2005-07-29","2005-08-01","2005-08-02","2005-08-03","2005-08-04","2005-08-05","2005-08-08","2005-08-09","2005-08-10","2005-08-11","2005-08-12","2005-08-15","2005-08-16","2005-08-17","2005-08-18","2005-08-19","2005-08-22","2005-08-23","2005-08-24","2005-08-25","2005-08-26","2005-08-29","2005-08-30","2005-08-31","2005-09-01","2005-09-02","2005-09-06","2005-09-07","2005-09-08","2005-09-09","2005-09-12","2005-09-13","2005-09-14","2005-09-15","2005-09-16","2005-09-19","2005-09-20","2005-09-21","2005-09-22","2005-09-23","2005-09-26","2005-09-27","2005-09-28","2005-09-29","2005-09-30","2005-10-03","2005-10-04","2005-10-05","2005-10-06","2005-10-07","2005-10-10","2005-10-11","2005-10-12","2005-10-13","2005-10-14","2005-10-17","2005-10-18","2005-10-19","2005-10-20","2005-10-21","2005-10-24","2005-10-25","2005-10-26","2005-10-27","2005-10-28","2005-10-31","2005-11-01","2005-11-02","2005-11-03","2005-11-04","2005-11-07","2005-11-08","2005-11-09","2005-11-10","2005-11-11","2005-11-14","2005-11-15","2005-11-16","2005-11-17","2005-11-18","2005-11-21","2005-11-22","2005-11-23","2005-11-25","2005-11-28","2005-11-29","2005-11-30","2005-12-01","2005-12-02","2005-12-05","2005-12-06","2005-12-07","2005-12-08","2005-12-09","2005-12-12","2005-12-13","2005-12-14","2005-12-15","2005-12-16","2005-12-19","2005-12-20","2005-12-21","2005-12-22","2005-12-23","2005-12-27","2005-12-28","2005-12-29","2005-12-30","2006-01-03","2006-01-04","2006-01-05","2006-01-06","2006-01-09","2006-01-10","2006-01-11","2006-01-12","2006-01-13","2006-01-17","2006-01-18","2006-01-19","2006-01-20","2006-01-23","2006-01-24","2006-01-25","2006-01-26","2006-01-27","2006-01-30","2006-01-31","2006-02-01","2006-02-02","2006-02-03","2006-02-06","2006-02-07","2006-02-08","2006-02-09","2006-02-10","2006-02-13","2006-02-14","2006-02-15","2006-02-16","2006-02-17","2006-02-21","2006-02-22","2006-02-23","2006-02-24","2006-02-27","2006-02-28","2006-03-01","2006-03-02","2006-03-03","2006-03-06","2006-03-07","2006-03-08","2006-03-09","2006-03-10","2006-03-13","2006-03-14","2006-03-15","2006-03-16","2006-03-17","2006-03-20","2006-03-21","2006-03-22","2006-03-23","2006-03-24","2006-03-27","2006-03-28","2006-03-29","2006-03-30","2006-03-31","2006-04-03","2006-04-04","2006-04-05","2006-04-06","2006-04-07","2006-04-10","2006-04-11","2006-04-12","2006-04-13","2006-04-17","2006-04-18","2006-04-19","2006-04-20","2006-04-21","2006-04-24","2006-04-25","2006-04-26","2006-04-27","2006-04-28","2006-05-01","2006-05-02","2006-05-03","2006-05-04","2006-05-05","2006-05-08","2006-05-09","2006-05-10","2006-05-11","2006-05-12","2006-05-15","2006-05-16","2006-05-17","2006-05-18","2006-05-19","2006-05-22","2006-05-23","2006-05-24","2006-05-25","2006-05-26","2006-05-30","2006-05-31","2006-06-01","2006-06-02","2006-06-05","2006-06-06","2006-06-07","2006-06-08","2006-06-09","2006-06-12","2006-06-13","2006-06-14","2006-06-15","2006-06-16","2006-06-19","2006-06-20","2006-06-21","2006-06-22","2006-06-23","2006-06-26","2006-06-27","2006-06-28","2006-06-29","2006-06-30","2006-07-03","2006-07-05","2006-07-06","2006-07-07","2006-07-10","2006-07-11","2006-07-12","2006-07-13","2006-07-14","2006-07-17","2006-07-18","2006-07-19","2006-07-20","2006-07-21","2006-07-24","2006-07-25","2006-07-26","2006-07-27","2006-07-28","2006-07-31","2006-08-01","2006-08-02","2006-08-03","2006-08-04","2006-08-07","2006-08-08","2006-08-09","2006-08-10","2006-08-11","2006-08-14","2006-08-15","2006-08-16","2006-08-17","2006-08-18","2006-08-21","2006-08-22","2006-08-23","2006-08-24","2006-08-25","2006-08-28","2006-08-29","2006-08-30","2006-08-31","2006-09-01","2006-09-05","2006-09-06","2006-09-07","2006-09-08","2006-09-11","2006-09-12","2006-09-13","2006-09-14","2006-09-15","2006-09-18","2006-09-19","2006-09-20","2006-09-21","2006-09-22","2006-09-25","2006-09-26","2006-09-27","2006-09-28","2006-09-29","2006-10-02","2006-10-03","2006-10-04","2006-10-05","2006-10-06","2006-10-09","2006-10-10","2006-10-11","2006-10-12","2006-10-13","2006-10-16","2006-10-17","2006-10-18","2006-10-19","2006-10-20","2006-10-23","2006-10-24","2006-10-25","2006-10-26","2006-10-27","2006-10-30","2006-10-31","2006-11-01","2006-11-02","2006-11-03","2006-11-06","2006-11-07","2006-11-08","2006-11-09","2006-11-10","2006-11-13","2006-11-14","2006-11-15","2006-11-16","2006-11-17","2006-11-20","2006-11-21","2006-11-22","2006-11-24","2006-11-27","2006-11-28","2006-11-29","2006-11-30","2006-12-01","2006-12-04","2006-12-05","2006-12-06","2006-12-07","2006-12-08","2006-12-11","2006-12-12","2006-12-13","2006-12-14","2006-12-15","2006-12-18","2006-12-19","2006-12-20","2006-12-21","2006-12-22","2006-12-26","2006-12-27","2006-12-28","2006-12-29","2007-01-03","2007-01-04","2007-01-05","2007-01-08","2007-01-09","2007-01-10","2007-01-11","2007-01-12","2007-01-16","2007-01-17","2007-01-18","2007-01-19","2007-01-22","2007-01-23","2007-01-24","2007-01-25","2007-01-26","2007-01-29","2007-01-30","2007-01-31","2007-02-01","2007-02-02","2007-02-05","2007-02-06","2007-02-07","2007-02-08","2007-02-09","2007-02-12","2007-02-13","2007-02-14","2007-02-15","2007-02-16","2007-02-20","2007-02-21","2007-02-22","2007-02-23","2007-02-26","2007-02-27","2007-02-28","2007-03-01","2007-03-02","2007-03-05","2007-03-06","2007-03-07","2007-03-08","2007-03-09","2007-03-12","2007-03-13","2007-03-14","2007-03-15","2007-03-16","2007-03-19","2007-03-20","2007-03-21","2007-03-22","2007-03-23","2007-03-26","2007-03-27","2007-03-28","2007-03-29","2007-03-30","2007-04-02","2007-04-03","2007-04-04","2007-04-05","2007-04-09","2007-04-10","2007-04-11","2007-04-12","2007-04-13","2007-04-16","2007-04-17","2007-04-18","2007-04-19","2007-04-20","2007-04-23","2007-04-24","2007-04-25","2007-04-26","2007-04-27","2007-04-30","2007-05-01","2007-05-02","2007-05-03","2007-05-04","2007-05-07","2007-05-08","2007-05-09","2007-05-10","2007-05-11","2007-05-14","2007-05-15","2007-05-16","2007-05-17","2007-05-18","2007-05-21","2007-05-22","2007-05-23","2007-05-24","2007-05-25","2007-05-29","2007-05-30","2007-05-31","2007-06-01","2007-06-04","2007-06-05","2007-06-06","2007-06-07","2007-06-08","2007-06-11","2007-06-12","2007-06-13","2007-06-14","2007-06-15","2007-06-18","2007-06-19","2007-06-20","2007-06-21","2007-06-22","2007-06-25","2007-06-26","2007-06-27","2007-06-28","2007-06-29","2007-07-02","2007-07-03","2007-07-05","2007-07-06","2007-07-09","2007-07-10","2007-07-11","2007-07-12","2007-07-13","2007-07-16","2007-07-17","2007-07-18","2007-07-19","2007-07-20","2007-07-23","2007-07-24","2007-07-25","2007-07-26","2007-07-27","2007-07-30","2007-07-31","2007-08-01","2007-08-02","2007-08-03","2007-08-06","2007-08-07","2007-08-08","2007-08-09","2007-08-10","2007-08-13","2007-08-14","2007-08-15","2007-08-16","2007-08-17","2007-08-20","2007-08-21","2007-08-22","2007-08-23","2007-08-24","2007-08-27","2007-08-28","2007-08-29","2007-08-30","2007-08-31","2007-09-04","2007-09-05","2007-09-06","2007-09-07","2007-09-10","2007-09-11","2007-09-12","2007-09-13","2007-09-14","2007-09-17","2007-09-18","2007-09-19","2007-09-20","2007-09-21","2007-09-24","2007-09-25","2007-09-26","2007-09-27","2007-09-28","2007-10-01","2007-10-02","2007-10-03","2007-10-04","2007-10-05","2007-10-08","2007-10-09","2007-10-10","2007-10-11","2007-10-12","2007-10-15","2007-10-16","2007-10-17","2007-10-18","2007-10-19","2007-10-22","2007-10-23","2007-10-24","2007-10-25","2007-10-26","2007-10-29","2007-10-30","2007-10-31","2007-11-01","2007-11-02","2007-11-05","2007-11-06","2007-11-07","2007-11-08","2007-11-09","2007-11-12","2007-11-13","2007-11-14","2007-11-15","2007-11-16","2007-11-19","2007-11-20","2007-11-21","2007-11-23","2007-11-26","2007-11-27","2007-11-28","2007-11-29","2007-11-30","2007-12-03","2007-12-04","2007-12-05","2007-12-06","2007-12-07","2007-12-10","2007-12-11","2007-12-12","2007-12-13","2007-12-14","2007-12-17","2007-12-18","2007-12-19","2007-12-20","2007-12-21","2007-12-24","2007-12-26","2007-12-27","2007-12-28","2007-12-31","2008-01-02","2008-01-03","2008-01-04","2008-01-07","2008-01-08","2008-01-09","2008-01-10","2008-01-11","2008-01-14","2008-01-15","2008-01-16","2008-01-17","2008-01-18","2008-01-22","2008-01-23","2008-01-24","2008-01-25","2008-01-28","2008-01-29","2008-01-30","2008-01-31","2008-02-01","2008-02-04","2008-02-05","2008-02-06","2008-02-07","2008-02-08","2008-02-11","2008-02-12","2008-02-13","2008-02-14","2008-02-15","2008-02-19","2008-02-20","2008-02-21","2008-02-22","2008-02-25","2008-02-26","2008-02-27","2008-02-28","2008-02-29","2008-03-03","2008-03-04","2008-03-05","2008-03-06","2008-03-07","2008-03-10","2008-03-11","2008-03-12","2008-03-13","2008-03-14","2008-03-17","2008-03-18","2008-03-19","2008-03-20","2008-03-24","2008-03-25","2008-03-26","2008-03-27","2008-03-28","2008-03-31","2008-04-01","2008-04-02","2008-04-03","2008-04-04","2008-04-07","2008-04-08","2008-04-09","2008-04-10","2008-04-11","2008-04-14","2008-04-15","2008-04-16","2008-04-17","2008-04-18","2008-04-21","2008-04-22","2008-04-23","2008-04-24","2008-04-25","2008-04-28","2008-04-29","2008-04-30","2008-05-01","2008-05-02","2008-05-05","2008-05-06","2008-05-07","2008-05-08","2008-05-09","2008-05-12","2008-05-13","2008-05-14","2008-05-15","2008-05-16","2008-05-19","2008-05-20","2008-05-21","2008-05-22","2008-05-23","2008-05-27","2008-05-28","2008-05-29","2008-05-30","2008-06-02","2008-06-03","2008-06-04","2008-06-05","2008-06-06","2008-06-09","2008-06-10","2008-06-11","2008-06-12","2008-06-13","2008-06-16","2008-06-17","2008-06-18","2008-06-19","2008-06-20","2008-06-23","2008-06-24","2008-06-25","2008-06-26","2008-06-27","2008-06-30","2008-07-01","2008-07-02","2008-07-03","2008-07-07","2008-07-08","2008-07-09","2008-07-10","2008-07-11","2008-07-14","2008-07-15","2008-07-16","2008-07-17","2008-07-18","2008-07-21","2008-07-22","2008-07-23","2008-07-24","2008-07-25","2008-07-28","2008-07-29","2008-07-30","2008-07-31","2008-08-01","2008-08-04","2008-08-05","2008-08-06","2008-08-07","2008-08-08","2008-08-11","2008-08-12","2008-08-13","2008-08-14","2008-08-15","2008-08-18","2008-08-19","2008-08-20","2008-08-21","2008-08-22","2008-08-25","2008-08-26","2008-08-27","2008-08-28","2008-08-29","2008-09-02","2008-09-03","2008-09-04","2008-09-05","2008-09-08","2008-09-09","2008-09-10","2008-09-11","2008-09-12","2008-09-15","2008-09-16","2008-09-17","2008-09-18","2008-09-19","2008-09-22","2008-09-23","2008-09-24","2008-09-25","2008-09-26","2008-09-29","2008-09-30","2008-10-01","2008-10-02","2008-10-03","2008-10-06","2008-10-07","2008-10-08","2008-10-09","2008-10-10","2008-10-13","2008-10-14","2008-10-15","2008-10-16","2008-10-17","2008-10-20","2008-10-21","2008-10-22","2008-10-23","2008-10-24","2008-10-27","2008-10-28","2008-10-29","2008-10-30","2008-10-31","2008-11-03","2008-11-04","2008-11-05","2008-11-06","2008-11-07","2008-11-10","2008-11-11","2008-11-12","2008-11-13","2008-11-14","2008-11-17","2008-11-18","2008-11-19","2008-11-20","2008-11-21","2008-11-24","2008-11-25","2008-11-26","2008-11-28","2008-12-01","2008-12-02","2008-12-03","2008-12-04","2008-12-05","2008-12-08","2008-12-09","2008-12-10","2008-12-11","2008-12-12","2008-12-15","2008-12-16","2008-12-17","2008-12-18","2008-12-19","2008-12-22","2008-12-23","2008-12-24","2008-12-26","2008-12-29","2008-12-30","2008-12-31","2009-01-02","2009-01-05","2009-01-06","2009-01-07","2009-01-08","2009-01-09","2009-01-12","2009-01-13","2009-01-14","2009-01-15","2009-01-16","2009-01-20","2009-01-21","2009-01-22","2009-01-23","2009-01-26","2009-01-27","2009-01-28","2009-01-29","2009-01-30","2009-02-02","2009-02-03","2009-02-04","2009-02-05","2009-02-06","2009-02-09","2009-02-10","2009-02-11","2009-02-12","2009-02-13","2009-02-17","2009-02-18","2009-02-19","2009-02-20","2009-02-23","2009-02-24","2009-02-25","2009-02-26","2009-02-27","2009-03-02","2009-03-03","2009-03-04","2009-03-05","2009-03-06","2009-03-09","2009-03-10","2009-03-11","2009-03-12","2009-03-13","2009-03-16","2009-03-17","2009-03-18","2009-03-19","2009-03-20","2009-03-23","2009-03-24","2009-03-25","2009-03-26","2009-03-27","2009-03-30","2009-03-31","2009-04-01","2009-04-02","2009-04-03","2009-04-06","2009-04-07","2009-04-08","2009-04-09","2009-04-13","2009-04-14","2009-04-15","2009-04-16","2009-04-17","2009-04-20","2009-04-21","2009-04-22","2009-04-23","2009-04-24","2009-04-27","2009-04-28","2009-04-29","2009-04-30","2009-05-01","2009-05-04","2009-05-05","2009-05-06","2009-05-07","2009-05-08","2009-05-11","2009-05-12","2009-05-13","2009-05-14","2009-05-15","2009-05-18","2009-05-19","2009-05-20","2009-05-21","2009-05-22","2009-05-26","2009-05-27","2009-05-28","2009-05-29","2009-06-01","2009-06-02","2009-06-03","2009-06-04","2009-06-05","2009-06-08","2009-06-09","2009-06-10","2009-06-11","2009-06-12","2009-06-15","2009-06-16","2009-06-17","2009-06-18","2009-06-19","2009-06-22","2009-06-23","2009-06-24","2009-06-25","2009-06-26","2009-06-29","2009-06-30","2009-07-01","2009-07-02","2009-07-06","2009-07-07","2009-07-08","2009-07-09","2009-07-10","2009-07-13","2009-07-14","2009-07-15","2009-07-16","2009-07-17","2009-07-20","2009-07-21","2009-07-22","2009-07-23","2009-07-24","2009-07-27","2009-07-28","2009-07-29","2009-07-30","2009-07-31","2009-08-03","2009-08-04","2009-08-05","2009-08-06","2009-08-07","2009-08-10","2009-08-11","2009-08-12","2009-08-13","2009-08-14","2009-08-17","2009-08-18","2009-08-19","2009-08-20","2009-08-21","2009-08-24","2009-08-25","2009-08-26","2009-08-27","2009-08-28","2009-08-31","2009-09-01","2009-09-02","2009-09-03","2009-09-04","2009-09-08","2009-09-09","2009-09-10","2009-09-11","2009-09-14","2009-09-15","2009-09-16","2009-09-17","2009-09-18","2009-09-21","2009-09-22","2009-09-23","2009-09-24","2009-09-25","2009-09-28","2009-09-29","2009-09-30","2009-10-01","2009-10-02","2009-10-05","2009-10-06","2009-10-07","2009-10-08","2009-10-09","2009-10-12","2009-10-13","2009-10-14","2009-10-15","2009-10-16","2009-10-19","2009-10-20","2009-10-21","2009-10-22","2009-10-23","2009-10-26","2009-10-27","2009-10-28","2009-10-29","2009-10-30","2009-11-02","2009-11-03","2009-11-04","2009-11-05","2009-11-06","2009-11-09","2009-11-10","2009-11-11","2009-11-12","2009-11-13","2009-11-16","2009-11-17","2009-11-18","2009-11-19","2009-11-20","2009-11-23","2009-11-24","2009-11-25","2009-11-27","2009-11-30","2009-12-01","2009-12-02","2009-12-03","2009-12-04","2009-12-07","2009-12-08","2009-12-09","2009-12-10","2009-12-11","2009-12-14","2009-12-15","2009-12-16","2009-12-17","2009-12-18","2009-12-21","2009-12-22","2009-12-23","2009-12-24","2009-12-28","2009-12-29","2009-12-30","2009-12-31","2010-01-04","2010-01-05","2010-01-06","2010-01-07","2010-01-08","2010-01-11","2010-01-12","2010-01-13","2010-01-14","2010-01-15","2010-01-19","2010-01-20","2010-01-21","2010-01-22","2010-01-25","2010-01-26","2010-01-27","2010-01-28","2010-01-29","2010-02-01","2010-02-02","2010-02-03","2010-02-04","2010-02-05","2010-02-08","2010-02-09","2010-02-10","2010-02-11","2010-02-12","2010-02-16","2010-02-17","2010-02-18","2010-02-19","2010-02-22","2010-02-23","2010-02-24","2010-02-25","2010-02-26","2010-03-01","2010-03-02","2010-03-03","2010-03-04","2010-03-05","2010-03-08","2010-03-09","2010-03-10","2010-03-11","2010-03-12","2010-03-15","2010-03-16","2010-03-17","2010-03-18","2010-03-19","2010-03-22","2010-03-23","2010-03-24","2010-03-25","2010-03-26","2010-03-29","2010-03-30","2010-03-31","2010-04-01","2010-04-05","2010-04-06","2010-04-07","2010-04-08","2010-04-09","2010-04-12","2010-04-13","2010-04-14","2010-04-15","2010-04-16","2010-04-19","2010-04-20","2010-04-21","2010-04-22","2010-04-23","2010-04-26","2010-04-27","2010-04-28","2010-04-29","2010-04-30","2010-05-03","2010-05-04","2010-05-05","2010-05-06","2010-05-07","2010-05-10","2010-05-11","2010-05-12","2010-05-13","2010-05-14","2010-05-17","2010-05-18","2010-05-19","2010-05-20","2010-05-21","2010-05-24","2010-05-25","2010-05-26","2010-05-27","2010-05-28","2010-06-01","2010-06-02","2010-06-03","2010-06-04","2010-06-07","2010-06-08","2010-06-09","2010-06-10","2010-06-11","2010-06-14","2010-06-15","2010-06-16","2010-06-17","2010-06-18","2010-06-21","2010-06-22","2010-06-23","2010-06-24","2010-06-25","2010-06-28","2010-06-29","2010-06-30","2010-07-01","2010-07-02","2010-07-06","2010-07-07","2010-07-08","2010-07-09","2010-07-12","2010-07-13","2010-07-14","2010-07-15","2010-07-16","2010-07-19","2010-07-20","2010-07-21","2010-07-22","2010-07-23","2010-07-26","2010-07-27","2010-07-28","2010-07-29","2010-07-30","2010-08-02","2010-08-03","2010-08-04","2010-08-05","2010-08-06","2010-08-09","2010-08-10","2010-08-11","2010-08-12","2010-08-13","2010-08-16","2010-08-17","2010-08-18","2010-08-19","2010-08-20","2010-08-23","2010-08-24","2010-08-25","2010-08-26","2010-08-27","2010-08-30","2010-08-31","2010-09-01","2010-09-02","2010-09-03","2010-09-07","2010-09-08","2010-09-09","2010-09-10","2010-09-13","2010-09-14","2010-09-15","2010-09-16","2010-09-17","2010-09-20","2010-09-21","2010-09-22","2010-09-23","2010-09-24","2010-09-27","2010-09-28","2010-09-29","2010-09-30","2010-10-01","2010-10-04","2010-10-05","2010-10-06","2010-10-07","2010-10-08","2010-10-11","2010-10-12","2010-10-13","2010-10-14","2010-10-15","2010-10-18","2010-10-19","2010-10-20","2010-10-21","2010-10-22","2010-10-25","2010-10-26","2010-10-27","2010-10-28","2010-10-29","2010-11-01","2010-11-02","2010-11-03","2010-11-04","2010-11-05","2010-11-08","2010-11-09","2010-11-10","2010-11-11","2010-11-12","2010-11-15","2010-11-16","2010-11-17","2010-11-18","2010-11-19","2010-11-22","2010-11-23","2010-11-24","2010-11-26","2010-11-29","2010-11-30","2010-12-01","2010-12-02","2010-12-03","2010-12-06","2010-12-07","2010-12-08","2010-12-09","2010-12-10","2010-12-13","2010-12-14","2010-12-15","2010-12-16","2010-12-17","2010-12-20","2010-12-21","2010-12-22","2010-12-23","2010-12-27","2010-12-28","2010-12-29","2010-12-30","2010-12-31","2011-01-03","2011-01-04","2011-01-05","2011-01-06","2011-01-07","2011-01-10","2011-01-11","2011-01-12","2011-01-13","2011-01-14","2011-01-18","2011-01-19","2011-01-20","2011-01-21","2011-01-24","2011-01-25","2011-01-26","2011-01-27","2011-01-28","2011-01-31","2011-02-01","2011-02-02","2011-02-03","2011-02-04","2011-02-07","2011-02-08","2011-02-09","2011-02-10","2011-02-11","2011-02-14","2011-02-15","2011-02-16","2011-02-17","2011-02-18","2011-02-22","2011-02-23","2011-02-24","2011-02-25","2011-02-28","2011-03-01","2011-03-02","2011-03-03","2011-03-04","2011-03-07","2011-03-08","2011-03-09","2011-03-10","2011-03-11","2011-03-14","2011-03-15","2011-03-16","2011-03-17","2011-03-18","2011-03-21","2011-03-22","2011-03-23","2011-03-24","2011-03-25","2011-03-28","2011-03-29","2011-03-30","2011-03-31","2011-04-01","2011-04-04","2011-04-05","2011-04-06","2011-04-07","2011-04-08","2011-04-11","2011-04-12","2011-04-13","2011-04-14","2011-04-15","2011-04-18","2011-04-19","2011-04-20","2011-04-21","2011-04-25","2011-04-26","2011-04-27","2011-04-28","2011-04-29","2011-05-02","2011-05-03","2011-05-04","2011-05-05","2011-05-06","2011-05-09","2011-05-10","2011-05-11","2011-05-12","2011-05-13","2011-05-16","2011-05-17","2011-05-18","2011-05-19","2011-05-20","2011-05-23","2011-05-24","2011-05-25","2011-05-26","2011-05-27","2011-05-31","2011-06-01","2011-06-02","2011-06-03","2011-06-06","2011-06-07","2011-06-08","2011-06-09","2011-06-10","2011-06-13","2011-06-14","2011-06-15","2011-06-16","2011-06-17","2011-06-20","2011-06-21","2011-06-22","2011-06-23","2011-06-24","2011-06-27","2011-06-28","2011-06-29","2011-06-30","2011-07-01","2011-07-05","2011-07-06","2011-07-07","2011-07-08","2011-07-11","2011-07-12","2011-07-13","2011-07-14","2011-07-15","2011-07-18","2011-07-19","2011-07-20","2011-07-21","2011-07-22","2011-07-25","2011-07-26","2011-07-27","2011-07-28","2011-07-29","2011-08-01","2011-08-02","2011-08-03","2011-08-04","2011-08-05","2011-08-08","2011-08-09","2011-08-10","2011-08-11","2011-08-12","2011-08-15","2011-08-16","2011-08-17","2011-08-18","2011-08-19","2011-08-22","2011-08-23","2011-08-24","2011-08-25","2011-08-26","2011-08-29","2011-08-30","2011-08-31","2011-09-01","2011-09-02","2011-09-06","2011-09-07","2011-09-08","2011-09-09","2011-09-12","2011-09-13","2011-09-14","2011-09-15","2011-09-16","2011-09-19","2011-09-20","2011-09-21","2011-09-22","2011-09-23","2011-09-26","2011-09-27","2011-09-28","2011-09-29","2011-09-30","2011-10-03","2011-10-04","2011-10-05","2011-10-06","2011-10-07","2011-10-10","2011-10-11","2011-10-12","2011-10-13","2011-10-14","2011-10-17","2011-10-18","2011-10-19","2011-10-20","2011-10-21","2011-10-24","2011-10-25","2011-10-26","2011-10-27","2011-10-28","2011-10-31","2011-11-01","2011-11-02","2011-11-03","2011-11-04","2011-11-07","2011-11-08","2011-11-09","2011-11-10","2011-11-11","2011-11-14","2011-11-15","2011-11-16","2011-11-17","2011-11-18","2011-11-21","2011-11-22","2011-11-23","2011-11-25","2011-11-28","2011-11-29","2011-11-30","2011-12-01","2011-12-02","2011-12-05","2011-12-06","2011-12-07","2011-12-08","2011-12-09","2011-12-12","2011-12-13","2011-12-14","2011-12-15","2011-12-16","2011-12-19","2011-12-20","2011-12-21","2011-12-22","2011-12-23","2011-12-27","2011-12-28","2011-12-29","2011-12-30","2012-01-03","2012-01-04","2012-01-05","2012-01-06","2012-01-09","2012-01-10","2012-01-11","2012-01-12","2012-01-13","2012-01-17","2012-01-18","2012-01-19","2012-01-20","2012-01-23","2012-01-24","2012-01-25","2012-01-26","2012-01-27","2012-01-30","2012-01-31","2012-02-01","2012-02-02","2012-02-03","2012-02-06","2012-02-07","2012-02-08","2012-02-09","2012-02-10","2012-02-13","2012-02-14","2012-02-15","2012-02-16","2012-02-17","2012-02-21","2012-02-22","2012-02-23","2012-02-24","2012-02-27","2012-02-28","2012-02-29","2012-03-01","2012-03-02","2012-03-05","2012-03-06","2012-03-07","2012-03-08","2012-03-09","2012-03-12","2012-03-13","2012-03-14","2012-03-15","2012-03-16","2012-03-19","2012-03-20","2012-03-21","2012-03-22","2012-03-23","2012-03-26","2012-03-27","2012-03-28","2012-03-29","2012-03-30","2012-04-02","2012-04-03","2012-04-04","2012-04-05","2012-04-09","2012-04-10","2012-04-11","2012-04-12","2012-04-13","2012-04-16","2012-04-17","2012-04-18","2012-04-19","2012-04-20","2012-04-23","2012-04-24","2012-04-25","2012-04-26","2012-04-27","2012-04-30","2012-05-01","2012-05-02","2012-05-03","2012-05-04","2012-05-07","2012-05-08","2012-05-09","2012-05-10","2012-05-11","2012-05-14","2012-05-15","2012-05-16","2012-05-17","2012-05-18","2012-05-21","2012-05-22","2012-05-23","2012-05-24","2012-05-25","2012-05-29","2012-05-30","2012-05-31","2012-06-01","2012-06-04","2012-06-05","2012-06-06","2012-06-07","2012-06-08","2012-06-11","2012-06-12","2012-06-13","2012-06-14","2012-06-15","2012-06-18","2012-06-19","2012-06-20","2012-06-21","2012-06-22","2012-06-25","2012-06-26","2012-06-27","2012-06-28","2012-06-29","2012-07-02","2012-07-03","2012-07-05","2012-07-06","2012-07-09","2012-07-10","2012-07-11","2012-07-12","2012-07-13","2012-07-16","2012-07-17","2012-07-18","2012-07-19","2012-07-20","2012-07-23","2012-07-24","2012-07-25","2012-07-26","2012-07-27","2012-07-30","2012-07-31","2012-08-01","2012-08-02","2012-08-03","2012-08-06","2012-08-07","2012-08-08","2012-08-09","2012-08-10","2012-08-13","2012-08-14","2012-08-15","2012-08-16","2012-08-17","2012-08-20","2012-08-21","2012-08-22","2012-08-23","2012-08-24","2012-08-27","2012-08-28","2012-08-29","2012-08-30","2012-08-31","2012-09-04","2012-09-05","2012-09-06","2012-09-07","2012-09-10","2012-09-11","2012-09-12","2012-09-13","2012-09-14","2012-09-17","2012-09-18","2012-09-19","2012-09-20","2012-09-21","2012-09-24","2012-09-25","2012-09-26","2012-09-27","2012-09-28","2012-10-01","2012-10-02","2012-10-03","2012-10-04","2012-10-05","2012-10-08","2012-10-09","2012-10-10","2012-10-11","2012-10-12","2012-10-15","2012-10-16","2012-10-17","2012-10-18","2012-10-19","2012-10-22","2012-10-23","2012-10-24","2012-10-25","2012-10-26","2012-10-31","2012-11-01","2012-11-02","2012-11-05","2012-11-06","2012-11-07","2012-11-08","2012-11-09","2012-11-12","2012-11-13","2012-11-14","2012-11-15","2012-11-16","2012-11-19","2012-11-20","2012-11-21","2012-11-23","2012-11-26","2012-11-27","2012-11-28","2012-11-29","2012-11-30","2012-12-03","2012-12-04","2012-12-05","2012-12-06","2012-12-07","2012-12-10","2012-12-11","2012-12-12","2012-12-13","2012-12-14","2012-12-17","2012-12-18","2012-12-19","2012-12-20","2012-12-21","2012-12-24","2012-12-26","2012-12-27","2012-12-28","2012-12-31","2013-01-02","2013-01-03","2013-01-04","2013-01-07","2013-01-08","2013-01-09","2013-01-10","2013-01-11","2013-01-14","2013-01-15","2013-01-16","2013-01-17","2013-01-18","2013-01-22","2013-01-23","2013-01-24","2013-01-25","2013-01-28","2013-01-29","2013-01-30","2013-01-31","2013-02-01","2013-02-04","2013-02-05","2013-02-06","2013-02-07","2013-02-08","2013-02-11","2013-02-12","2013-02-13","2013-02-14","2013-02-15","2013-02-19","2013-02-20","2013-02-21","2013-02-22","2013-02-25","2013-02-26","2013-02-27","2013-02-28","2013-03-01","2013-03-04","2013-03-05","2013-03-06","2013-03-07","2013-03-08","2013-03-11","2013-03-12","2013-03-13","2013-03-14","2013-03-15","2013-03-18","2013-03-19","2013-03-20","2013-03-21","2013-03-22","2013-03-25","2013-03-26","2013-03-27","2013-03-28","2013-04-01","2013-04-02","2013-04-03","2013-04-04","2013-04-05","2013-04-08","2013-04-09","2013-04-10","2013-04-11","2013-04-12","2013-04-15","2013-04-16","2013-04-17","2013-04-18","2013-04-19","2013-04-22","2013-04-23","2013-04-24","2013-04-25","2013-04-26","2013-04-29","2013-04-30","2013-05-01","2013-05-02","2013-05-03","2013-05-06","2013-05-07","2013-05-08","2013-05-09","2013-05-10","2013-05-13","2013-05-14","2013-05-15","2013-05-16","2013-05-17","2013-05-20","2013-05-21","2013-05-22","2013-05-23","2013-05-24","2013-05-28","2013-05-29","2013-05-30","2013-05-31","2013-06-03","2013-06-04","2013-06-05","2013-06-06","2013-06-07","2013-06-10","2013-06-11","2013-06-12","2013-06-13","2013-06-14","2013-06-17","2013-06-18","2013-06-19","2013-06-20","2013-06-21","2013-06-24","2013-06-25","2013-06-26","2013-06-27","2013-06-28","2013-07-01","2013-07-02","2013-07-03","2013-07-05","2013-07-08","2013-07-09","2013-07-10","2013-07-11","2013-07-12","2013-07-15","2013-07-16","2013-07-17","2013-07-18","2013-07-19","2013-07-22","2013-07-23","2013-07-24","2013-07-25","2013-07-26","2013-07-29","2013-07-30","2013-07-31","2013-08-01","2013-08-02","2013-08-05","2013-08-06","2013-08-07","2013-08-08","2013-08-09","2013-08-12","2013-08-13","2013-08-14","2013-08-15","2013-08-16","2013-08-19","2013-08-20","2013-08-21","2013-08-22","2013-08-23","2013-08-26","2013-08-27","2013-08-28","2013-08-29","2013-08-30","2013-09-03","2013-09-04","2013-09-05","2013-09-06","2013-09-09","2013-09-10","2013-09-11","2013-09-12","2013-09-13","2013-09-16","2013-09-17","2013-09-18","2013-09-19","2013-09-20","2013-09-23","2013-09-24","2013-09-25","2013-09-26","2013-09-27","2013-09-30","2013-10-01","2013-10-02","2013-10-03","2013-10-04","2013-10-07","2013-10-08","2013-10-09","2013-10-10","2013-10-11","2013-10-14","2013-10-15","2013-10-16","2013-10-17","2013-10-18","2013-10-21","2013-10-22","2013-10-23","2013-10-24","2013-10-25","2013-10-28","2013-10-29","2013-10-30","2013-10-31","2013-11-01","2013-11-04","2013-11-05","2013-11-06","2013-11-07","2013-11-08","2013-11-11","2013-11-12","2013-11-13","2013-11-14","2013-11-15","2013-11-18","2013-11-19","2013-11-20","2013-11-21","2013-11-22","2013-11-25","2013-11-26","2013-11-27","2013-11-29","2013-12-02","2013-12-03","2013-12-04","2013-12-05","2013-12-06","2013-12-09","2013-12-10","2013-12-11","2013-12-12","2013-12-13","2013-12-16","2013-12-17","2013-12-18","2013-12-19","2013-12-20","2013-12-23","2013-12-24","2013-12-26","2013-12-27","2013-12-30","2013-12-31","2014-01-02","2014-01-03","2014-01-06","2014-01-07","2014-01-08","2014-01-09","2014-01-10","2014-01-13","2014-01-14","2014-01-15","2014-01-16","2014-01-17","2014-01-21","2014-01-22","2014-01-23","2014-01-24","2014-01-27","2014-01-28","2014-01-29","2014-01-30","2014-01-31","2014-02-03","2014-02-04","2014-02-05","2014-02-06","2014-02-07","2014-02-10","2014-02-11","2014-02-12","2014-02-13","2014-02-14","2014-02-18","2014-02-19","2014-02-20","2014-02-21","2014-02-24","2014-02-25","2014-02-26","2014-02-27","2014-02-28","2014-03-03","2014-03-04","2014-03-05","2014-03-06","2014-03-07","2014-03-10","2014-03-11","2014-03-12","2014-03-13","2014-03-14","2014-03-17","2014-03-18","2014-03-19","2014-03-20","2014-03-21","2014-03-24","2014-03-25","2014-03-26","2014-03-27","2014-03-28","2014-03-31","2014-04-01","2014-04-02","2014-04-03","2014-04-04","2014-04-07","2014-04-08","2014-04-09","2014-04-10","2014-04-11","2014-04-14","2014-04-15","2014-04-16","2014-04-17","2014-04-21","2014-04-22","2014-04-23","2014-04-24","2014-04-25","2014-04-28","2014-04-29","2014-04-30","2014-05-01","2014-05-02","2014-05-05","2014-05-06","2014-05-07","2014-05-08","2014-05-09","2014-05-12","2014-05-13","2014-05-14","2014-05-15","2014-05-16","2014-05-19","2014-05-20","2014-05-21","2014-05-22","2014-05-23","2014-05-27","2014-05-28","2014-05-29","2014-05-30","2014-06-02","2014-06-03","2014-06-04","2014-06-05","2014-06-06","2014-06-09","2014-06-10","2014-06-11","2014-06-12","2014-06-13","2014-06-16","2014-06-17","2014-06-18","2014-06-19","2014-06-20","2014-06-23","2014-06-24","2014-06-25","2014-06-26","2014-06-27","2014-06-30","2014-07-01","2014-07-02","2014-07-03","2014-07-07","2014-07-08","2014-07-09","2014-07-10","2014-07-11","2014-07-14","2014-07-15","2014-07-16","2014-07-17","2014-07-18","2014-07-21","2014-07-22","2014-07-23","2014-07-24","2014-07-25","2014-07-28","2014-07-29","2014-07-30","2014-07-31","2014-08-01","2014-08-04","2014-08-05","2014-08-06","2014-08-07","2014-08-08","2014-08-11","2014-08-12","2014-08-13","2014-08-14","2014-08-15","2014-08-18","2014-08-19","2014-08-20","2014-08-21","2014-08-22","2014-08-25","2014-08-26","2014-08-27","2014-08-28","2014-08-29","2014-09-02","2014-09-03","2014-09-04","2014-09-05","2014-09-08","2014-09-09","2014-09-10","2014-09-11","2014-09-12","2014-09-15","2014-09-16","2014-09-17","2014-09-18","2014-09-19","2014-09-22","2014-09-23","2014-09-24","2014-09-25","2014-09-26","2014-09-29","2014-09-30","2014-10-01","2014-10-02","2014-10-03","2014-10-06","2014-10-07","2014-10-08","2014-10-09","2014-10-10","2014-10-13","2014-10-14","2014-10-15","2014-10-16","2014-10-17","2014-10-20","2014-10-21","2014-10-22","2014-10-23","2014-10-24","2014-10-27","2014-10-28","2014-10-29","2014-10-30","2014-10-31","2014-11-03","2014-11-04","2014-11-05","2014-11-06","2014-11-07","2014-11-10","2014-11-11","2014-11-12","2014-11-13","2014-11-14","2014-11-17","2014-11-18","2014-11-19","2014-11-20","2014-11-21","2014-11-24","2014-11-25","2014-11-26","2014-11-28","2014-12-01","2014-12-02","2014-12-03","2014-12-04","2014-12-05","2014-12-08","2014-12-09","2014-12-10","2014-12-11","2014-12-12","2014-12-15","2014-12-16","2014-12-17","2014-12-18","2014-12-19","2014-12-22","2014-12-23","2014-12-24","2014-12-26","2014-12-29","2014-12-30","2014-12-31","2015-01-02","2015-01-05","2015-01-06","2015-01-07","2015-01-08","2015-01-09","2015-01-12","2015-01-13","2015-01-14","2015-01-15","2015-01-16","2015-01-20","2015-01-21","2015-01-22","2015-01-23","2015-01-26","2015-01-27","2015-01-28","2015-01-29","2015-01-30","2015-02-02","2015-02-03","2015-02-04","2015-02-05","2015-02-06","2015-02-09","2015-02-10","2015-02-11","2015-02-12","2015-02-13","2015-02-17","2015-02-18","2015-02-19","2015-02-20","2015-02-23","2015-02-24","2015-02-25","2015-02-26","2015-02-27","2015-03-02","2015-03-03","2015-03-04","2015-03-05","2015-03-06","2015-03-09","2015-03-10","2015-03-11","2015-03-12","2015-03-13","2015-03-16","2015-03-17","2015-03-18","2015-03-19","2015-03-20","2015-03-23","2015-03-24","2015-03-25","2015-03-26","2015-03-27","2015-03-30","2015-03-31","2015-04-01","2015-04-02","2015-04-06","2015-04-07","2015-04-08","2015-04-09","2015-04-10","2015-04-13","2015-04-14","2015-04-15","2015-04-16","2015-04-17","2015-04-20","2015-04-21","2015-04-22","2015-04-23","2015-04-24","2015-04-27","2015-04-28","2015-04-29","2015-04-30","2015-05-01","2015-05-04","2015-05-05","2015-05-06","2015-05-07","2015-05-08","2015-05-11","2015-05-12","2015-05-13","2015-05-14","2015-05-15","2015-05-18","2015-05-19","2015-05-20","2015-05-21","2015-05-22","2015-05-26","2015-05-27","2015-05-28","2015-05-29","2015-06-01","2015-06-02","2015-06-03","2015-06-04","2015-06-05","2015-06-08","2015-06-09","2015-06-10","2015-06-11","2015-06-12","2015-06-15","2015-06-16","2015-06-17","2015-06-18","2015-06-19","2015-06-22","2015-06-23","2015-06-24","2015-06-25","2015-06-26","2015-06-29","2015-06-30","2015-07-01","2015-07-02","2015-07-06","2015-07-07","2015-07-08","2015-07-09","2015-07-10","2015-07-13","2015-07-14","2015-07-15","2015-07-16","2015-07-17","2015-07-20","2015-07-21","2015-07-22","2015-07-23","2015-07-24","2015-07-27","2015-07-28","2015-07-29","2015-07-30","2015-07-31","2015-08-03","2015-08-04","2015-08-05","2015-08-06","2015-08-07","2015-08-10","2015-08-11","2015-08-12","2015-08-13","2015-08-14","2015-08-17","2015-08-18","2015-08-19","2015-08-20","2015-08-21","2015-08-24","2015-08-25","2015-08-26","2015-08-27","2015-08-28","2015-08-31","2015-09-01","2015-09-02","2015-09-03","2015-09-04","2015-09-08","2015-09-09","2015-09-10","2015-09-11","2015-09-14","2015-09-15","2015-09-16","2015-09-17","2015-09-18","2015-09-21","2015-09-22","2015-09-23","2015-09-24","2015-09-25","2015-09-28","2015-09-29","2015-09-30","2015-10-01","2015-10-02","2015-10-05","2015-10-06","2015-10-07","2015-10-08","2015-10-09","2015-10-12","2015-10-13","2015-10-14","2015-10-15","2015-10-16","2015-10-19","2015-10-20","2015-10-21","2015-10-22","2015-10-23","2015-10-26","2015-10-27","2015-10-28","2015-10-29","2015-10-30","2015-11-02","2015-11-03","2015-11-04","2015-11-05","2015-11-06","2015-11-09","2015-11-10","2015-11-11","2015-11-12","2015-11-13","2015-11-16","2015-11-17","2015-11-18","2015-11-19","2015-11-20","2015-11-23","2015-11-24","2015-11-25","2015-11-27","2015-11-30","2015-12-01","2015-12-02","2015-12-03","2015-12-04","2015-12-07","2015-12-08","2015-12-09","2015-12-10","2015-12-11","2015-12-14","2015-12-15","2015-12-16","2015-12-17","2015-12-18","2015-12-21","2015-12-22","2015-12-23","2015-12-24","2015-12-28","2015-12-29","2015-12-30","2015-12-31","2016-01-04","2016-01-05","2016-01-06","2016-01-07","2016-01-08","2016-01-11","2016-01-12","2016-01-13","2016-01-14","2016-01-15","2016-01-19","2016-01-20","2016-01-21","2016-01-22","2016-01-25","2016-01-26","2016-01-27","2016-01-28","2016-01-29","2016-02-01","2016-02-02","2016-02-03","2016-02-04","2016-02-05","2016-02-08","2016-02-09","2016-02-10","2016-02-11","2016-02-12","2016-02-16","2016-02-17","2016-02-18","2016-02-19","2016-02-22","2016-02-23","2016-02-24","2016-02-25","2016-02-26","2016-02-29","2016-03-01","2016-03-02","2016-03-03","2016-03-04","2016-03-07","2016-03-08","2016-03-09","2016-03-10","2016-03-11","2016-03-14","2016-03-15","2016-03-16","2016-03-17","2016-03-18","2016-03-21","2016-03-22","2016-03-23","2016-03-24","2016-03-28","2016-03-29","2016-03-30","2016-03-31","2016-04-01","2016-04-04","2016-04-05","2016-04-06","2016-04-07","2016-04-08","2016-04-11","2016-04-12","2016-04-13","2016-04-14","2016-04-15","2016-04-18","2016-04-19","2016-04-20","2016-04-21","2016-04-22","2016-04-25","2016-04-26","2016-04-27","2016-04-28","2016-04-29","2016-05-02","2016-05-03","2016-05-04","2016-05-05","2016-05-06","2016-05-09","2016-05-10","2016-05-11","2016-05-12","2016-05-13","2016-05-16","2016-05-17","2016-05-18","2016-05-19","2016-05-20","2016-05-23","2016-05-24","2016-05-25","2016-05-26","2016-05-27","2016-05-31","2016-06-01","2016-06-02","2016-06-03","2016-06-06","2016-06-07","2016-06-08","2016-06-09","2016-06-10","2016-06-13","2016-06-14","2016-06-15","2016-06-16","2016-06-17","2016-06-20","2016-06-21","2016-06-22","2016-06-23","2016-06-24","2016-06-27","2016-06-28","2016-06-29","2016-06-30","2016-07-01","2016-07-05","2016-07-06","2016-07-07","2016-07-08","2016-07-11","2016-07-12","2016-07-13","2016-07-14","2016-07-15","2016-07-18","2016-07-19","2016-07-20","2016-07-21","2016-07-22","2016-07-25","2016-07-26","2016-07-27","2016-07-28","2016-07-29","2016-08-01","2016-08-02","2016-08-03","2016-08-04","2016-08-05","2016-08-08","2016-08-09","2016-08-10","2016-08-11","2016-08-12","2016-08-15","2016-08-16","2016-08-17","2016-08-18","2016-08-19","2016-08-22","2016-08-23","2016-08-24","2016-08-25","2016-08-26","2016-08-29","2016-08-30","2016-08-31","2016-09-01","2016-09-02","2016-09-06","2016-09-07","2016-09-08","2016-09-09","2016-09-12","2016-09-13","2016-09-14","2016-09-15","2016-09-16","2016-09-19","2016-09-20","2016-09-21","2016-09-22","2016-09-23","2016-09-26","2016-09-27","2016-09-28","2016-09-29","2016-09-30","2016-10-03","2016-10-04","2016-10-05","2016-10-06","2016-10-07","2016-10-10","2016-10-11","2016-10-12","2016-10-13","2016-10-14","2016-10-17","2016-10-18","2016-10-19","2016-10-20","2016-10-21","2016-10-24","2016-10-25","2016-10-26","2016-10-27","2016-10-28","2016-10-31","2016-11-01","2016-11-02","2016-11-03","2016-11-04","2016-11-07","2016-11-08","2016-11-09","2016-11-10","2016-11-11","2016-11-14","2016-11-15","2016-11-16","2016-11-17","2016-11-18","2016-11-21","2016-11-22","2016-11-23","2016-11-25","2016-11-28","2016-11-29","2016-11-30","2016-12-01","2016-12-02","2016-12-05","2016-12-06","2016-12-07","2016-12-08","2016-12-09","2016-12-12","2016-12-13","2016-12-14","2016-12-15","2016-12-16","2016-12-19","2016-12-20","2016-12-21","2016-12-22","2016-12-23","2016-12-27","2016-12-28","2016-12-29","2016-12-30","2017-01-03","2017-01-04","2017-01-05","2017-01-06","2017-01-09","2017-01-10","2017-01-11","2017-01-12","2017-01-13","2017-01-17","2017-01-18","2017-01-19","2017-01-20","2017-01-23","2017-01-24","2017-01-25","2017-01-26","2017-01-27","2017-01-30","2017-01-31","2017-02-01","2017-02-02","2017-02-03","2017-02-06","2017-02-07","2017-02-08","2017-02-09","2017-02-10","2017-02-13","2017-02-14","2017-02-15","2017-02-16","2017-02-17","2017-02-21","2017-02-22","2017-02-23","2017-02-24","2017-02-27","2017-02-28","2017-03-01","2017-03-02","2017-03-03","2017-03-06","2017-03-07","2017-03-08","2017-03-09","2017-03-10","2017-03-13","2017-03-14","2017-03-15","2017-03-16","2017-03-17","2017-03-20","2017-03-21","2017-03-22","2017-03-23","2017-03-24","2017-03-27","2017-03-28","2017-03-29","2017-03-30","2017-03-31","2017-04-03","2017-04-04","2017-04-05","2017-04-06","2017-04-07","2017-04-10","2017-04-11","2017-04-12","2017-04-13","2017-04-17","2017-04-18","2017-04-19","2017-04-20","2017-04-21","2017-04-24","2017-04-25","2017-04-26","2017-04-27","2017-04-28","2017-05-01","2017-05-02","2017-05-03","2017-05-04","2017-05-05","2017-05-08","2017-05-09","2017-05-10","2017-05-11","2017-05-12","2017-05-15","2017-05-16","2017-05-17","2017-05-18","2017-05-19","2017-05-22","2017-05-23","2017-05-24","2017-05-25","2017-05-26","2017-05-30","2017-05-31","2017-06-01","2017-06-02","2017-06-05","2017-06-06","2017-06-07","2017-06-08","2017-06-09","2017-06-12","2017-06-13","2017-06-14","2017-06-15","2017-06-16","2017-06-19","2017-06-20","2017-06-21","2017-06-22","2017-06-23","2017-06-26","2017-06-27","2017-06-28","2017-06-29","2017-06-30","2017-07-03","2017-07-05","2017-07-06","2017-07-07","2017-07-10","2017-07-11","2017-07-12","2017-07-13","2017-07-14","2017-07-17","2017-07-18","2017-07-19","2017-07-20","2017-07-21","2017-07-24","2017-07-25","2017-07-26","2017-07-27","2017-07-28","2017-07-31","2017-08-01","2017-08-02","2017-08-03","2017-08-04","2017-08-07","2017-08-08","2017-08-09","2017-08-10","2017-08-11","2017-08-14","2017-08-15","2017-08-16","2017-08-17","2017-08-18","2017-08-21","2017-08-22","2017-08-23","2017-08-24","2017-08-25","2017-08-28","2017-08-29","2017-08-30","2017-08-31","2017-09-01","2017-09-05","2017-09-06","2017-09-07","2017-09-08","2017-09-11","2017-09-12","2017-09-13","2017-09-14","2017-09-15","2017-09-18","2017-09-19","2017-09-20","2017-09-21","2017-09-22","2017-09-25","2017-09-26","2017-09-27","2017-09-28","2017-09-29","2017-10-02","2017-10-03","2017-10-04","2017-10-05","2017-10-06","2017-10-09","2017-10-10","2017-10-11","2017-10-12","2017-10-13","2017-10-16","2017-10-17","2017-10-18","2017-10-19","2017-10-20","2017-10-23","2017-10-24","2017-10-25","2017-10-26","2017-10-27","2017-10-30","2017-10-31","2017-11-01","2017-11-02","2017-11-03","2017-11-06","2017-11-07","2017-11-08","2017-11-09","2017-11-10","2017-11-13","2017-11-14","2017-11-15","2017-11-16","2017-11-17","2017-11-20","2017-11-21","2017-11-22","2017-11-24","2017-11-27","2017-11-28","2017-11-29","2017-11-30","2017-12-01","2017-12-04","2017-12-05","2017-12-06","2017-12-07","2017-12-08","2017-12-11","2017-12-12","2017-12-13","2017-12-14","2017-12-15","2017-12-18","2017-12-19","2017-12-20","2017-12-21","2017-12-22","2017-12-26","2017-12-27","2017-12-28","2017-12-29","2018-01-02","2018-01-03","2018-01-04","2018-01-05","2018-01-08","2018-01-09","2018-01-10","2018-01-11","2018-01-12","2018-01-16","2018-01-17","2018-01-18","2018-01-19","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-05","2018-02-06","2018-02-07","2018-02-08","2018-02-09","2018-02-12","2018-02-13","2018-02-14","2018-02-15","2018-02-16","2018-02-20","2018-02-21","2018-02-22","2018-02-23","2018-02-26","2018-02-27","2018-02-28","2018-03-01","2018-03-02","2018-03-05","2018-03-06","2018-03-07","2018-03-08","2018-03-09","2018-03-12","2018-03-13","2018-03-14","2018-03-15","2018-03-16","2018-03-19","2018-03-20","2018-03-21","2018-03-22","2018-03-23","2018-03-26","2018-03-27","2018-03-28","2018-03-29","2018-04-02","2018-04-03","2018-04-04","2018-04-05","2018-04-06","2018-04-09","2018-04-10","2018-04-11","2018-04-12","2018-04-13","2018-04-16","2018-04-17","2018-04-18","2018-04-19","2018-04-20","2018-04-23","2018-04-24","2018-04-25","2018-04-26","2018-04-27","2018-04-30","2018-05-01","2018-05-02","2018-05-03","2018-05-04","2018-05-07","2018-05-08","2018-05-09","2018-05-10","2018-05-11","2018-05-14","2018-05-15","2018-05-16","2018-05-17","2018-05-18","2018-05-21","2018-05-22","2018-05-23","2018-05-24","2018-05-25","2018-05-29","2018-05-30","2018-05-31","2018-06-01","2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-24","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-19","2018-11-20","2018-11-21","2018-11-23","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-03","2018-12-04","2018-12-06","2018-12-07","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-24","2018-12-26","2018-12-27","2018-12-28","2018-12-31","2019-01-02","2019-01-03","2019-01-04","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-11","2019-02-12","2019-02-13","2019-02-14","2019-02-15","2019-02-19","2019-02-20","2019-02-21","2019-02-22","2019-02-25","2019-02-26","2019-02-27","2019-02-28","2019-03-01","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-04-01","2019-04-02","2019-04-03","2019-04-04","2019-04-05","2019-04-08","2019-04-09","2019-04-10","2019-04-11","2019-04-12","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-22","2019-04-23","2019-04-24","2019-04-25","2019-04-26","2019-04-29","2019-04-30","2019-05-01","2019-05-02","2019-05-03","2019-05-06","2019-05-07","2019-05-08","2019-05-09","2019-05-10","2019-05-13","2019-05-14","2019-05-15","2019-05-16","2019-05-17","2019-05-20","2019-05-21","2019-05-22","2019-05-23","2019-05-24","2019-05-28","2019-05-29","2019-05-30","2019-05-31","2019-06-03","2019-06-04","2019-06-05","2019-06-06","2019-06-07"],"prices":[131.13,130.38,131.13,129.56,130.5,127,129.5,132.13,131.13,132.31,135.25,137.81,137,138.63,138.25,141.75,145.19,149,148.25,149.19,154.88,155.88,156.81,155.44,158.13,157.19,159.25,158.94,158.75,157.5,154.38,154.63,154.88,155.13,81.62,82.12,84.94,85.5,84.75,83.31,84.5,82.31,80.06,82.75,79.59,81.5,80.69,81.87,82.37,82,80.37,81.75,82,81.81,83.87,84.94,88.81,88.25,87.81,87.94,89.5,90.37,91.31,93,89.94,87.25,88.94,89,88.62,88.44,91.37,91.69,92.12,94.62,94.87,98.87,94.5,92.12,90.31,89.87,90.5,90.12,89.62,88.06,87.75,86.37,83.37,85.75,84.25,85.69,86.94,88.94,89.44,86.06,86.5,85.75,86.37,85.56,83.62,86,86.31,84.81,83.75,85.5,84.31,86.06,86.25,85.69,87.06,86,85.31,85.75,85.94,89.87,91.06,91.19,94.69,95.81,100.75,104.94,101.56,104.44,107.44,108.37,109.37,107.25,107.81,107.94,109.87,111,113.19,117.56,116.5,117.37,117.37,117.94,117,112.81,116.75,113,113.81,116.75,112.25,110.69,113.44,109.94,108.44,104.5,104.31,106.87,105.87,104.44,103.44,105.06,103.94,104.25,107.31,111.25,110.56,112.56,110.62,110.37,112.81,112.56,109.25,105.25,95.94,101.25,100.56,99.25,96.62,101.97,102.25,100.75,104.25,106,108.31,108.19,104.94,105.37,107.87,109.19,113.62,110.12,113.06,111.31,112.87,110.06,104.06,104.12,101.19,97.62,94.12,91.19,96.87,99.75,96.44,100.19,105.44,105.06,102.94,100.25,106.44,110,106.37,107.06,105.44,105.69,106.62,105.87,105.81,105.19,105.5,106.37,109.31,110.69,112.06,111.06,108.75,110,108.81,111.87,109.75,111.75,113.62,119.19,121.69,124.25,128.06,122,129.5,126.75,122.12,127.37,133.56,131.19,133.63,131.56,134,127.94,131.88,133.75,134.38,137.81,140.44,138.44,143.56,141.75,142.38,140.5,139,138.69,141,146.5,151.25,150.5,149.88,147.5,142.19,143.81,141.75,149.75,155.63,162.63,158.31,156.25,161.88,171.56,168.63,174,175,172.94,167.63,166.81,159.06,160,165.25,160.06,160.63,162.75,157.75,156.25,150,145.75,147.75,148.81,155.44,152.88,153.5,150.13,151.75,148.56,149.63,152.25,154.94,159,161.81,161.38,161.44,160.19,165.88,169.06,167.13,172.44,171.19,172.81,166.56,171.25,179.94,178.13,92.37,93,89.62,92.69,94.94,94.06,93.31,94.56,94.25,93,90.12,85.87,88.87,86.62,81,83.12,82,84.94,86,88,84,82.12,82.06,81.31,79.87,78.06,79.12,77.94,79.06,79.69,79.87,80.5,79.12,76.87,79.12,78.69,79.31,78.44,77.56,77.25,76.25,78.5,78.37,80.69,78.5,78.44,76.37,79.56,80.25,79.37,82.31,79.87,78.12,77.56,77.69,81,82.87,85,88.94,86.5,86,84.62,84.94,86.75,88,90.19,91.19,92,89.56,92.31,92.56,93.25,94.19,93.62,94.94,94.37,99.44,98.37,93.31,94.69,91.06,90.25,87.62,88.81,90,86.94,85.81,84.81,84.75,84.94,85.75,85.12,83.81,82.94,84.19,81.75,84.69,84.31,84.56,85,83.81,83.37,86.44,92.19,95.31,94.62,93.25,92.25,92.56,92.37,91.81,95.87,94.25,92.25,94.06,95,93.87,95.06,92.62,94,96.44,97.56,94.62,96.06,91.19,90.94,91.44,92.12,89.5,90.56,89.98,92.56,91.81,93.69,93.75,94.94,94.31,92.56,91.06,90.69,88.06,87.87,86.31,92.25,93.06,92.69,92.44,92.37,90.87,89.87,92.56,92.37,92.56,92,91.75,91.56,89.94,88.87,87.12,89.62,89.19,87,87.31,85,84.94,86,89.81,89.62,91.69,91.12,90.19,91.05,93.19,94.81,96.12,95.44,93,91.75,92.75,93.87,96.62,98.69,108.44,113.69,115.25,112.75,115.87,117.56,117.44,119.12,117.5,117.94,117.62,116.75,116.56,112.62,113.81,110,111.44,112.25,109.37,105.81,107.81,112.25,115.31,107,106,103.75,101.25,102.81,99.37,98.75,98.25,97.87,102.94,100.81,103.62,106.56,106.62,109.94,104,106,99.94,99.62,98.56,97.62,99.62,95.06,93.81,94.25,94.75,91.31,91.56,89.37,90.81,93.37,96.12,90.62,92.87,95.56,100,101,98,95.12,95.37,95.37,99.37,97.37,102.75,103.25,111.87,111.69,104.06,104.31,107.19,103.37,106.25,90.87,88.56,86.37,86,89.06,86.06,83.87,79.37,79.25,74.12,75.87,80.56,78.69,78.94,66.62,69.37,68,69.81,69.75,73.44,69.87,70.56,70.44,71.12,69.81,67.81,66.19,67.87,68.81,69.37,69.5,67.69,66.19,65.06,64.19,63.19,65.56,61.5,61.44,63.38,62.56,64.56,66.31,66.87,69.62,70.5,68.81,68.81,66.87,67.87,70.5,72.37,72.56,73.69,74.94,80.69,79.87,77.69,79.5,78.81,78.94,77.19,80,80,78.5,80.94,82,79.44,79.12,80.31,79.94,78.94,78.19,78.5,73.12,74.81,72.31,70.56,69,67.81,69.37,69.69,69.81,68.69,69.37,70.25,69.12,70,74.12,74.25,72.62,72.44,72.19,71.62,71,71.56,71,70.62,71.25,70.75,71.12,70.62,71.31,70.94,70,69.81,70.19,70.12,69.44,70.06,69.31,68.81,68.12,68.25,65.81,64.19,63,65,64.25,64.19,63.25,61.25,62.69,60.63,61.31,60.31,59.13,56.56,55.44,55.38,55.56,54.19,54.56,55.75,54.38,53.75,50.38,50.44,51.75,61.88,65.19,62.13,61.5,61.25,64.44,67.69,69.06,68.87,69.62,70.31,68.25,69.5,70.5,69.44,70.87,67.37,66.44,68.81,70.06,68.94,69.06,67.19,67.75,68.25,69.94,70.69,67,65.06,57.38,56.63,56.44,59.88,56.69,53.13,54.44,58.06,58.38,57.25,55.5,49.19,47.81,44.81,41.5,43.44,46.44,46.88,46.44,44.56,43.38,43.38,47.94,48.44,49.13,48.94,51.81,52.88,55,53.5,52.56,52.94,55.5,61,60.13,60.56,62.94,61.81,64,64.5,63.38,61.06,62.38,60.81,61.94,62.56,64.69,62.25,59.13,58.75,58.19,58.38,58.81,57.31,55.88,56.25,55.19,56.75,59.56,59.38,59,59.36,56.69,57.44,59.44,60.69,59.25,56.69,51.94,54.19,54,53.69,54.56,54.31,52.69,50.06,54,56.56,56.06,58.25,55.56,55.38,54.69,55.81,53.38,51.94,56.75,56.19,57.15,59.68,60.04,62.18,60.79,61.48,65.43,68.04,69,68.25,67.55,69.69,69.13,67.12,67.75,70.17,69.76,68.53,70.75,71.38,72.06,70.4,70,69.4,68.72,68.27,69.16,68.17,68.09,68.79,70.31,69.7,71.72,70.91,70.34,69.19,69.18,70.34,70.78,72.6,72.36,73.68,73.19,72.12,72.08,70.69,68.9,68.02,66.88,67.32,69.41,69.84,68.83,68.85,70.14,71.14,72.74,73,70.6,70.47,68.51,66.06,65.69,64.48,66.5,71.6,71.34,71.18,71.82,70.57,72.57,69.18,67.09,66.32,67.48,66.59,65.47,65.8,66.19,66.47,67.45,66.89,66.13,66.35,64.86,65.01,65.52,65.83,64.69,63.2,64.62,61.88,62.7,60.78,60.66,59.12,62.05,62.31,60.74,60.25,56.94,57.05,56.1,57.74,56.02,55.4,57.58,52.91,54.32,53.87,50.76,49.71,52.01,51.3,50.27,49.96,51.17,51.79,53.05,56.23,56.44,57.72,58.04,54.56,55.51,56.32,56.38,58.06,58.45,56.03,56.75,57.9,60.16,60.43,61.32,62.56,62.2,59.64,58.88,58.15,61.84,61.4,63.27,64.78,64.25,64.42,65.21,65.79,67.9,65.95,66.12,65.75,66.54,65.4,64.05,64.71,65.14,63.74,62.8,64.84,64.21,64.77,66,68.1,68.65,67.83,67.06,67.32,67.95,66.27,67.44,68.98,69.27,69.49,66.76,67.54,67.27,67.68,67.85,67.87,66.25,67.04,69.23,68.9,68.56,69.38,68.71,69.28,68.61,68.47,69.55,67.87,69.86,66.1,64.46,63.74,64.6,63.8,63.82,62.32,62.85,63.71,62.66,61.12,61.15,60.4,59.8,60.65,61.13,60.14,61.82,61.68,60.23,58.93,59.9,58.05,57.99,59.08,58.55,58.39,58.34,61.37,63.3,63.08,63.63,62.72,63.95,64.34,62.54,62.1,61.22,62.49,62.14,62.23,60.1,61.36,60.45,59.23,59.08,59.44,60.31,60.38,57.28,56.33,56.45,55.87,57.22,54.87,56.3,54.79,55.93,55.69,57.81,56.63,56.37,57.2,55.59,53.99,53.02,53.73,51.5,52.24,52.26,52.75,51.21,49.56,48.62,49.47,54.97,52.12,50.05,52.69,54.88,54.75,55.74,56.03,54.01,52.19,53.69,54.82,53.26,52.32,52.05,52.64,50.91,49.42,49.98,51.66,51.9,51.98,52.82,52.57,55.54,54.22,55.25,55.68,55.99,54.36,54.1,52.28,54.16,52.95,54.13,54.92,54.7,52.66,51.44,51.84,54.85,52.92,53.21,52.24,52.91,51.86,51.8,51.25,52,51.11,49.56,47.51,43.01,46.23,42.83,45.35,48.25,48.1,47.98,45.75,44.41,43.99,45.67,47.09,48.91,48.12,48.47,47.06,49.71,49.77,50,52,51.04,52.28,53.23,52.22,52.1,50.84,49.38,50.58,49.08,47.02,48.21,45.91,47.82,48.7,49.79,48.58,47.15,47.91,47.78,47.29,47.75,47.2,47.46,45.23,45.64,46.51,46.2,45.25,43.74,46.23,45.61,44.8,43.77,44.05,44.99,43.99,46.38,48.87,49.29,52.29,50.41,50.77,53.15,52.51,51.67,53.2,51.23,52.68,51.95,52.07,53.11,53.47,53,56.1,56.68,57.03,56.01,55.1,53.86,54.51,55.36,56.99,56.69,55.85,54.86,56.62,57.84,58.22,58.23,56.9,58.08,57.68,57.69,56.71,56.54,55.34,55.47,53.53,54.01,54.66,54.17,52.5,54.48,54.36,53.53,53.11,53.04,54,53.82,53.39,52.97,52.75,51.7,53.72,53.79,54.77,55.8,54.24,55.81,55.92,56.39,56.97,56.27,55.35,51.46,51.33,51,52.28,49.85,49.17,48.82,49.91,48.24,47.46,48.56,47.32,46.96,47.42,46.58,47.38,46.44,46.44,46.99,48.3,24.96,24.53,24.14,24.63,24.07,24.19,23.61,23.58,23.7,23.54,23.07,23.44,23.27,23.56,22.95,22.8,23.39,24.67,24.86,25.93,26.04,26.32,26.25,26.57,25.29,25.49,25.25,25.04,24.67,24.21,24.35,25.72,25.73,25.09,25.17,25.58,24.57,24.59,24.2,24.76,24.6,24.92,25.5,25.21,25.76,25.72,25.49,25.22,25.74,25.8,25.57,25.72,26.1,25.86,26.37,25.99,25.74,26.36,26.2,25.99,25.62,25.79,25.57,24.76,24.63,24.03,24.16,24.22,24.79,24.41,24.4,24.61,24.64,24.88,24.87,24.09,23.67,23.75,24.68,24.88,24.99,24.65,25.39,25.96,26.07,26.07,26.33,25.78,25.7,25.26,25.75,25.63,25.64,26.15,26.88,26.5,27.42,27.7,27.47,26.91,27.31,27.4,27.27,27.52,26.69,26.89,26.04,26.38,26.45,26,26.89,26.61,26.47,26.23,26.41,26.17,26.18,25.66,25.65,25.71,25.58,25.61,25.73,25.6,25.63,25.54,25.7,26.62,26.45,26.24,26.22,26.5,26.57,26.42,26.51,26.52,27.26,28.3,28.43,28.38,28.84,28.37,27.55,27.84,28.34,28.36,28.9,28.5,29.5,29.96,29.07,29.6,28.46,28.24,28.19,28.83,27.8,28.52,28.5,29.08,29.19,29.14,28.82,28.94,28.91,28.78,28.68,29.07,29.23,28.93,29.35,29.35,28.89,28.91,26.61,26.91,27.2,26.74,26.12,26.14,26.68,26.07,26.1,26.23,26.1,26,25.8,25.98,25.69,25.5,25.15,25.15,25.35,25.1,25.11,25.73,25.4,25.45,25.71,25.84,25.66,25.67,26.2,25.98,26.24,26.38,26.59,26.61,26.65,26.74,27.06,27.04,27.4,27.36,27.18,27.15,27.04,27.21,27.46,27.52,27.37,27.45,28.14,28.24,28.21,28.16,27.66,27.57,27.43,27.7,27.54,27.81,28.1,28.3,28.01,28.48,28.8,28.25,27.71,27.91,27.65,27.4,27.29,27.01,26.96,27.08,26.9,27.02,27.15,26.95,26.59,26.99,26.77,26.46,26.57,26.61,26.88,26.7,26.5,26.53,26.7,26.39,26.37,26.37,26.35,25.83,25.72,25.37,25.09,25.38,25.16,25.18,25.13,24.89,24.63,24.5,24.15,24.41,25.19,25.03,25.31,25.2,24.93,25.08,25.85,25.951,25.8,25.59,25.48,25.61,25.45,25.51,25.215,25.16,25.53,25.33,25.45,25.95,27.54,27.24,27.22,26.56,26.48,26.13,26.35,26.33,26.3,26.12,25.78,25.93,25.94,25.94,26.1,25.86,25.54,25.83,25.62,25.73,25.89,25.76,26.1,26.14,26.19,26.23,26.11,26.13,25.89,25.95,26.43,26.6,26.47,26.77,26.9,27.405,27.32,27.769,28.35,28.35,28.29,28.3,28.39,28.57,28.28,28.5,28.56,28.63,28.57,28.02,28.1,27.64,27.86,27.89,27.6,28.13,27.87,27.48,27.95,28.32,28.86,29,28.03,28.66,28.44,28.58,28.48,28.49,28.52,28.07,28.06,27.53,27.14,27.18,27.72,27.41,26.88,27.02,27.09,27.05,27.46,27.12,27.2,27.24,27.24,27.55,27.44,27.46,27.3,27.3,27.39,27.62,27.11,27.36,27.26,27.28,27.49,27.25,27.44,27.19,27.26,27.51,27.51,27.26,27.12,27.35,27.29,27.19,27.27,27.58,27.65,28.25,28.12,28.38,28.53,28.17,27.99,28.06,28.03,28.03,27.8,27.99,28.41,28.18,28.699,28.56,27.74,27.63,27.9,28.15,28.01,27.97,28.08,28.24,28.47,29,29.31,29.28,29.77,29.73,29.98,29.97,27.39,27.12,27.17,27.07,26.86,26.65,26.53,26.64,26.6,26.77,26.81,27.25,27.09,27.23,27.33,27.07,27.36,27.23,27.08,27.25,27.23,27.11,27.16,26.96,26.95,27.07,26.97,27.01,26.85,26.95,26.9,26.76,26.72,26.74,26.84,26.78,26.75,26.67,26.8,26.73,26.78,26.27,26.12,26.32,25.98,25.86,25.65,25.67,26.02,26.01,26.11,26.18,26.28,26.39,26.46,26.18,26.32,26.16,26.24,26.07,26.06,25.97,26.01,25.93,25.79,25.65,25.48,25.23,25.2,25.37,25.25,25.16,25.28,25.26,25.17,25.17,25.47,25.4,25.31,25.43,25.09,25.11,24.91,24.63,24.54,24.31,24.2,23.99,24.18,24.28,24.2,23.92,24.16,24.17,24.12,24.23,24.47,24.67,25.1,24.94,24.97,25.32,25.04,24.84,24.46,24.65,24.63,24.32,25.24,24.98,24.99,24.76,24.99,24.45,25.3,25.23,25.36,25.21,25.23,25.22,25.11,24.9,24.91,25,25.3,25.49,25.46,25.7,25.92,25.74,25.85,25.75,25.71,25.9,26.07,25.8,25.81,25.79,25.43,25.37,25.51,25.4,25.51,25.43,25.31,25.36,25.26,25.04,25.04,25.11,25.15,25.07,25.31,25.04,25.05,25.07,25.09,24.84,24.71,24.98,24.7,24.65,25.09,25.29,25.61,25.66,25.97,25.79,25.55,26.16,26.19,26.44,25.68,25.69,25.54,25.72,25.75,25.61,25.92,26.81,27.25,27.32,27.76,27.13,27.35,26.95,27.27,27.05,27.13,26.74,26.95,26.82,26.72,26.91,26.87,26.81,27.03,26.97,27.15,27.18,27.38,27.2,27.02,27,26.85,26.61,26.58,26.61,26.48,26.31,26.27,26.07,26,25.84,25.49,25.34,25.27,25.27,25.34,25.67,25.94,25.73,25.5,24.98,24.67,24.73,24.59,24.46,24.41,24.3,24.59,24.67,24.53,24.57,25.09,24.79,24.78,25.1,25.03,25.1101,24.85,25.53,25.7,25.96,26.46,26.44,26.66,27.01,27.0495,26.96,27.09,27.28,27.35,27.5,27.74,27.97,28.07,28.16,27.91,27.92,27.76,27.75,27.68,27.68,27.89,28.01,27.85,27.69,27.75,27.69,27.71,27.45,27.1301,27.09,26.92,26.9,26.83,26.86,26.73,26.59,26.64,26.46,26.39,26.27,26.15,26.84,26.97,26.99,26.91,26.86,27,27.29,27.14,27.19,26.99,26.83,27.02,26.41,26.35,26.28,26.4,26.5,27.79,28,28.15,28.04,27.68,27.54,27.17,26.94,26.91,26.66,26.69,26.39,26.65,26.88,26.81,26.7,26.54,26.72,26.66,26.63,27.05,26.87,27.14,26.97,26.93,26.91,27.06,27.25,27,27.17,27.11,27.23,27.36,27.27,27.5,27.89,27.74,27.15,26.85,27.01,27.01,26.9,27.02,27.23,27.21,27.56,27.64,27.74,27.56,27.25,27.29,27.13,27.2,27.07,26.84,27.22,27.03,27.03,27.15,27.11,27.11,27.1,27.25,24.15,24.29,24.01,23.17,23.44,23.8,23.73,23.62,23.77,23.22,23.17,23.15,23.01,22.73,22.83,22.56,22.88,22.79,23.5,23.74,23.72,23.15,22.65,22.82,22.76,22.5,22.13,22.04,22.11,22.03,21.71,21.51,21.88,22.07,22.1,22.55,22.56,23.08,22.88,22.5,22.82,22.86,23.16,23.4702,23.3,23.7,23.35,23.48,23.3,23.5,23.1,22.64,22.26,22.29,22.48,22.74,23.4,22.85,23.87,24,24.22,24.37,23.87,24.25,24.06,23.99,24.3,24.21,24.29,24.22,24.34,24.44,24.46,24.43,24.53,24.62,24.7,24.7,25.79,26.12,25.62,25.67,25.74,25.85,25.95,25.84,25.8,25.7,25.84,25.61,25.61,25.43,25.6,25.91,25.93,25.98,26.33,26.85,26.79,26.86,27.18,26.9,26.66,26.95,27.2,27.44,27.4,27.35,27.36,27.37,27.94,27.92,27.87,27.72,27.69,27.54,28.22,28.37,28.45,28.44,28.52,28.29,28.43,28.45,28.28,28.31,28.35,28.34,28.53,28.71,28.81,28.77,28.73,28.84,28.95,28.98,29.26,29.24,29.35,29.2285,29.12,29.47,29.4,29.89,29.92,29.92,29.76,29.48,29.39,29.57,29.36,29.12,29.33,29.13,28.99,28.85,29.4,29.54,29.43,29.55,30.07,30.19,29.89,29.99,30.09,29.98,29.64,29.99,30.02,29.98,29.86,29.86,29.81,29.64,29.93,29.96,29.66,30.7,31.21,31.16,31.1,31,31.11,30.72,30.74,31.09,30.45,30.6,30.53,30.48,30.86,30.56,30.19,29.61,29.51,29.37,29.26,28.98,28.94,29.01,29.4,29.46,28.74,28.83,29.35,29.39,28.9,29.07,27.87,28.17,28.09,27.76,27.5499,27.83,27.61,27.32,27.28,27.44,26.72,27.4,27.28,27.33,27.83,27.84,28.52,28.27,28.02,28.22,27.72,27.64,27.75,27.87,27.74,27.87,28.5,28.55,28.57,28.4,28.11,28.54,28.61,28.73,28.85,28.6,28.69,29.02,28.78,28.79,28.99,29.1,30.12,29.94,30.1925,30.61,30.97,30.56,30.71,30.75,30.7799,30.58,30.89,30.97,30.9,31.07,30.98,30.83,31.05,30.69,30.58,30.17,30.48,30.79,31.11,30.6901,30.59,30.715,30.58,30.29,29.62,30.05,30.02,29.85,30.39,30.52,30.49,30.51,30.46,30.01,30.22,29.49,29.49,29.52,29.87,29.83,29.47,29.74,30.02,29.99,29.97,29.87,29.33,29.49,30.07,29.82,30.03,30.7799,30.92,31.51,31.16,31.19,30.8,30.71,29.98,29.3901,29.4,28.99,29.3,29.52,28.9601,29.54,29.55,30,29.3,28.71,28.63,28.27,28.1,27.81,28.25,28.26,28.07,28.22,28.3,28.81,28.49,27.93,28.59,28.45,28.73,28.81,28.48,28.91,28.44,28.48,28.93,28.93,29.16,29.04,28.725,28.93,28.67,28.4201,28.6499,29.08,29.5599,29.5,29.49,29.46,29.7701,29.7,29.4525,29.71,29.84,29.84,30.0999,30.23,29.91,30.17,30.04,30.32,31.08,31.16,30.17,30.51,30.9,31.25,31.99,35.03,34.57,35.57,36.81,37.06,37.06,36.73,36.41,35.52,34.74,33.73,33.38,34.46,33.93,33.76,34.09,33.96,34.58,34.23,34.11,32.97,33.06,33.7,33.59,33.6,32.92,32.77,34.15,34.55,34.53,34.76,34.1,34.47,35.22,35.31,34.39,34.74,34.79,35.52,36.06,36.58,36.61,35.97,36.12,35.6,35.22,35.37,34.38,34.61,33.45,34.44,34.33,33.91,34.39,34,33.23,33.11,33.01,31.99,31.93,33.25,32.94,32.72,32.6,32.2,32.6,30.4498,30.19,29.07,28.52,28.12,28.56,28.21,28.34,28.96,28.5,28.42,28.17,28.22,28.1,27.68,27.84,28.38,28.26,27.93,27.1999,26.99,27.59,28.1199,27.57,27.87,28.05,29.28,28.63,28.62,27.96,28.3,29.42,28.62,29.18,29.17,29.14,28.56,28.05,27.91,28.38,29.4999,29.16,29,29.16,29.16,28.75,28.89,29.11,28.28,28.06,28.25,28.95,29.22,30,30.42,30.25,31.45,31.8,29.83,28.99,28.64,28.52,29.4,29.24,29.08,29.7,29.21,29.27,29.39,29.99,29.78,29.93,30.4501,29.99,29.46,28.76,28.25,28.47,28.05,28.44,28.18,28.31,28.32,27.8,27.31,27.54,28.3,27.49,27.71,27.89,27.12,28.24,29.07,28.93,28.8,28.46,28.93,28.23,27.97,27.73,28.35,27.75,27.63,27.51,26.87,25.88,25.98,26.03,25.85,25.23,25.45,25.25,25.15,26.15,27.26,27.52,25.86,25.64,25.8,26.43,25.44,26.16,25.5,26.11,26.23,25.72,25.44,25.28,26.21,27.02,27.39,28.13,27.9,28.12,27.91,27.91,27.81,27.69,27.32,27.29,27.18,27.84,27.66,27.27,27.56,27.94,27.29,27.1,26.9,26.35,25.65,26.12,26.1,26.44,27.34,27.62,26.82,25.99,24.57,25.26,25.16,25.4,25.44,25.72,26.61,27.4,25.01,26.69,26.48,26.25,26.32,24.91,23.23,23.01,22.3,21.5,25.5,24.1,22.66,24.19,23.93,24.72,23.36,21.53,22.32,21.96,21.18,23.1,23,22.63,22.33,22.62,23.53,22.08,20.88,21.5,21.3,21.2,20.3,21.25,20.06,19.32,19.62,18.29,17.53,19.68,20.69,19.99,20.49,20.22,18.61,19.15,19.87,19.11,19.87,21.01,20.6,20.61,19.45,19.36,19.04,20.11,19.66,19.3,19.12,19.18,19.28,19.17,19.13,18.96,19.34,19.44,20.33,20.52,20.76,19.51,20.12,19.52,19.47,19.82,19.09,19.24,19.71,18.48,19.38,17.11,17.2,17.63,17.66,18.04,17.59,17.1,17.83,18.5,18.63,19.04,19.66,19.44,18.8,19.21,19.26,19.09,18.09,18.12,17.91,18,17.21,17.17,16.96,16.42,16.15,15.79,15.88,16.12,15.27,15.28,15.15,16.48,17.11,17.01,16.65,16.25,16.9,16.96,17.14,17.06,18.33,17.87,17.88,18.83,18.13,17.48,18.37,19.31,19.29,18.75,18.76,18.76,19.19,19.67,19.59,19.35,18.83,19.76,19.2,18.61,18.97,18.78,18.92,20.91,20.4,19.93,20.25,20.26,20.24,20.19,19.79,19.79,19.32,19.42,19.32,19.89,19.75,20.06,20.22,20.6,20.31,20.38,19.82,19.75,20.34,20.13,20.45,20.89,21.4,21.4,21.73,21.83,22.14,22.05,22.08,22.55,22.83,23.33,23.42,23.45,23.68,23.5,24.07,23.28,23.34,23.47,23.79,23.35,23.86,23.77,24.04,23.37,23.2,22.53,22.56,22.44,22.39,23.23,23.11,24.12,24.44,24.29,24.53,24.83,24.8,25.56,23.45,23.11,23.47,23.8,23.81,23.52,23.83,23.77,23.81,23.46,23.56,23.42,23.13,23.53,23.62,23.692,23.25,23.58,23.65,23.67,24.41,24.64,24.64,24.55,24.69,24.68,24.65,24,23.86,24.11,24.62,24.82,24.78,25,24.86,25,25.2,25.2,25.3,25.26,25.3,25.77,25.71,25.94,25.55,25.83,25.75,25.72,24.88,24.96,24.64,25.11,25.1,25.67,25.55,25.72,25.81,25.96,26.71,26.5,26.36,26.37,26.58,26.59,28.02,28.68,28.59,28.02,28.22,27.73,27.88,27.53,28.06,28.47,28.52,28.99,29.01,29.12,29.36,29.63,29.54,30,30.11,29.78,29.62,29.94,29.91,29.79,29.22,29.41,30.01,29.78,29.83,29.98,29.79,29.57,29.71,29.87,29.85,30.11,30.02,30.1,29.6,30.36,30.52,30.82,30.92,31,31.17,31.39,30.96,30.48,30.95,30.96,30.77,30.452,30.66,30.27,30.07,30.35,30.96,30.86,31.1,30.585,30.01,28.96,29.32,29.5,29.67,29.16,28.18,28.41,28.46,28.63,27.84,28.02,27.72,28.01,27.99,28.12,27.93,28.35,28.59,28.969,28.77,28.73,28.33,28.63,28.6,28.67,29.02,28.46,28.46,28.63,28.5875,28.63,28.8,28.97,29.18,29.27,29.29,29.37,29.63,29.61,29.59,29.6,29.88,29.65,30.01,29.66,29.59,29.77,29.2875,29.16,29.27,29.32,29.35,29.92,30.34,30.32,30.45,30.82,30.87,30.67,31.039,31.36,31.332,31.39,30.96,31.11,30.845,30.91,31.003,30.535,30.86,30.13,29.85,28.98,28.21,28.94,28.88,29.44,29.24,28.93,28.94,28.5975,28.24,27.11,26.84,26.27,26.07,25.01,26,25.8,25.89,26.46,26.86,25.79,25.29,25.11,24.79,25,25.66,25.495,26.5825,26.32,26.37,26.44,25.95,25.77,25.308,25,24.5325,24.31,23.31,23.01,23.16,23.27,23.82,24.3,24.4095,24.27,24.83,25.13,25.44,25.51,24.89,25.23,25.48,25.12,25.84,25.81,26.1,26.16,25.95,26.03,25.81,26.33,26.16,25.73,25.37,25.55,25.61,25.07,24.86,24.49,24.4,24.5,24.71,24.82,24.44,24.23,24.28,24.04,24.1,23.82,23.93,23.64,23.465,23.9,23.94,24.29,23.96,23.93,24.01,23.85,25.11,25.03,25.115,25.33,25.22,25.43,25.15,24.61,24.43,24.775,24.7325,24.6775,24.5,24.49,24.38,23.91,24.35,24.43,24.53,24.57,24.59,24.83,25.34,25.23,25.54,25.82,25.1,25.31,25.42,25.3775,25.19,25.9,26.05,26.28,26.665,26.95,27.39,27.03,27.14,26.85,26.81,26.95,26.94,26.68,26.27,26.2,25.81,25.57,25.8375,25.69,25.73,25.12,25.37,25.25,25.31,25.2575,26.04,26.89,27.02,26.84,26.87,27.23,27.08,27.34,27.245,27.62,27.85,27.9875,27.9025,27.81,28.07,28.1875,28.3,28.07,28.01,27.97,27.85,27.91,27.98,28.0875,28,28.82,28.6,28.22,28.11,28.55,28.19,28.3,28.66,28.47,28.3525,28.02,28.38,28.45,28.78,28.87,27.751,27.725,27.9925,27.94,27.65,27.77,28.1975,28.2825,27.97,27.5,27.25,27.23,26.96,27.02,27.21,27.06,26.59,26.59,26.77,26.55,26.58,26.16,26.0775,26.2,25.9525,25.72,25.91,25.89,25.41,25.68,25.69,25.39,24.79,24.78,24.8,25.33,25.295,25.54,25.81,25.62,25.41,25.49,25.61,25.39,25.48,25.55,25.78,26.15,26.2,26.07,25.98,25.64,25.63,25.42,25.37,25.08,25.15,25.76,25.52,25.61,26.19,26.38,26.71,25.92,25.66,25.81,26.06,25.79,25.87,25.83,25.67,25.36,25.32,25.03,24.57,24.52,24.69,24.715,24.49,24.17,24.15,24.19,24.67,24.76,25.01,24.43,24.22,23.905,24.01,24.06,23.94,23.96,23.705,24.04,24.22,23.74,23.995,24.26,24.47,24.76,24.65,24.63,24.3,25.2,25.8,25.62,26,26.02,26.03,26.33,26.77,26.92,26.63,26.54,26.63,26.47,26.78,26.59,27.54,27.06,27.095,27.53,27.91,28.08,27.33,27.72,27.4,27.27,26.8,26.92,25.94,25.68,24.48,25.58,24.2,25.19,25.1,25.51,25.35,25.245,24.67,24.05,23.98,24.72,24.9,24.57,25.25,25.84,26.23,26.6,26.21,25.8,25.51,26,26.22,25.74,25.89,26.04,26.5,26.99,27.12,27.21,26.98,25.99,25.06,25.06,25.44,25.67,25.575,25.45,24.89,24.53,25.34,25.89,26.34,26.25,26.94,27,26.96,27.18,27.27,26.98,27.31,27.13,27.04,27.16,27.19,26.81,26.59,27.25,26.98,26.63,25.99,26.01,26.53,26.25,26.8,27.16,26.2,26.28,26.91,26.76,26.74,26.07,25.54,25.3,25,24.79,24.47,24.3,24.87,24.84,25.58,25.28,25.22,25.7,25.66,25.6,25.4,25.7,25.51,25.76,25.59,25.56,26,25.53,26.025,25.76,25.81,26.03,26.04,25.82,26.02,25.96,26.765,27.4,27.68,28.105,27.74,27.84,27.72,28,28.25,28.255,28.23,28.12,29.71,29.73,29.34,29.56,29.5,29.23,29.61,29.53,29.89,29.95,30.24,30.2,30.35,30.66,30.77,30.495,30.58,30.25,30.05,31.285,31.25,31.44,31.27,31.37,31.48,31.35,31.87,31.74,32.29,32.075,31.8,31.555,31.84,32.01,31.99,32.04,32.67,32.77,32.85,32.6,32.2,31.99,31.91,31.995,32.01,32.59,32.52,32.19,32.12,32.255,32.29,31.94,31.21,31.52,31.1,30.47,30.345,30.975,30.81,31.075,31.44,31.14,31.01,32.42,32.12,31.92,32.2,32.11,31.98,32.015,32.01,31.8,31.76,30.98,30.65,30.5,30.76,30.74,31.16,30.68,30.21,29.9,29.72,29.27,29.75,29.76,29.11,29.07,29.06,29.56,29.34,29.19,28.45,28.55,28.505,29.35,29.23,29.65,28.895,29.29,29.13,29.34,30.02,29.84,30.7,30.93,30.135,30.7,29.865,30.02,30.17,29.91,30.59,30.56,30.76,30.7,30.185,30,29.74,29.3,28.63,29.39,29.44,29.66,30.45,30.665,30.115,29.28,29.15,28.83,29.16,29.755,29.64,29.47,29.41,29.19,29.75,29.95,30.26,30.33,30.5,30.42,30.39,30.13,30.2,30.78,30.9,30.74,30.8,30.54,30.255,30.56,30.69,30.63,30.65,30.32,30.82,30.385,30.39,31.345,30.95,30.72,30.79,30.78,30.935,31.21,31.21,31.175,31.052,31.45,31.19,30.78,30.39,30.165,30.16,29.76,29.49,29.66,29.86,30.03,29.85,29.78,29.28,28.98,28.95,29.2,29.51,29.49,29.59,29.495,28.64,28,28.047,27.9019,27.88,28.21,28.54,29.515,29.4998,29.63,29.86,29.08,28.81,28.83,28.22,27.0895,26.84,26.6607,26.5209,26.7277,26.71,26.95,27.7,27.385,27.08,27.36,26.95,26.615,26.4294,26.37,26.67,26.725,26.455,26.94,27.32,27.24,27.11,26.81,27.095,27.56,27.31,27.68,27.45,27.06,26.86,26.96,26.55,26.7097,27.62,27.25,26.74,26.69,26.55,26.7,26.46,26.83,26.89,27.21,27.04,27.25,27.25,27.15,27.61,27.63,27.88,27.911,28.01,27.85,27.45,27.93,27.44,27.495,27.34,27.283,27.55,27.86,27.88,28.03,28.04,28.01,28.045,27.87,27.49,27.76,27.37,27.37,27.81,27.8,27.95,28.15,28.35,28.09,28.14,28,27.87,27.91,27.915,28.135,28.035,28.1,28.18,28.315,28.11,28.25,28.16,28.155,28.37,28.605,28.61,28.8,28.56,28.595,28.7,28.59,29.61,30.28,28.935,28.79,28.69,28.97,28.825,28.79,29.765,30.8,30.6,31.76,31.94,31.79,32.61,33.1,32.72,33.16,33.49,33.75,33.31,32.99,32.66,32.69,33.03,33.53,33.845,34.08,34.87,35.08,34.85,34.61,34.15,34.269,35.02,34.88,35.03,34.9,35.59,34.99,34.78,34.96,35.67,35.47,34.84,35,34.715,34.4,35,34.98,34.59,33.49,33.265,33.715,33.67,34.35,34.62,34.545,34.36,33.94,34.01,34.21,34.325,34.35,34.7,35.685,35.67,36.17,36.27,35.74,35.44,31.4,32.01,31.82,31.96,31.39,31.62,31.54,31.85,31.84,31.67,31.89,31.7,31.58,32.063,32.89,32.7,32.87,32.23,32.35,31.79,31.8,31.393,31.62,31.61,32.39,34.75,34.15,33.26,33.02,33.55,33.4,31.88,31.195,31.235,31.152,31.655,32.39,32.74,32.69,33.03,32.801,32.93,33.32,33.64,32.791,32.74,32.455,32.505,32.77,33.27,33.28,33.58,33.92,33.86,33.88,33.3,33.01,33.07,33.76,34.13,34.45,34.49,34.64,34.92,34.96,34.99,34.58,33.76,33.72,35.73,35.57,35.52,35.54,35.405,35.525,35.94,36.64,38.18,37.5,37.78,37.59,37.36,38.155,38.021,37.841,37.2,36.74,37.08,37.4,37.57,37.64,37.35,37.6,38.13,38.45,38.31,38.94,38,38.36,38.705,38.11,37.61,37.22,36.69,36.885,36.52,36.58,36.25,36.8,36.62,37.08,37.44,37.29,37.29,37.41,37.16,36.91,36.13,36.41,35.76,35.53,36.04,34.98,35.78,36.76,36.89,36.38,36.17,35.93,36.055,36.805,36.03,36.27,36.66,36.86,37.84,36.48,36.35,35.82,36.18,36.56,36.8,37.175,37.47,37.61,37.62,37.42,37.51,37.75,37.98,37.69,37.54,37.47,37.86,38.31,37.78,38.41,38.11,38.15,37.9,37.82,38.02,38.27,37.89,37.7,38.05,39.55,39.27,40.33,40.16,40.5,40.34,39.79,39.36,40.3,40.99,41.42,41.35,41.01,39.87,39.8,39.82,40.47,39.36,39.209,39.18,39.75,40.4,40.01,39.94,39.99,39.69,39.86,39.91,40.87,40.51,40.4,40,39.69,39.43,39.06,39.425,39.64,39.54,39.97,40.42,40.24,39.6,39.83,39.75,39.68,40.35,40.1,40.12,40.19,40.01,40.34,40.94,40.79,40.29,40.32,41.21,41.48,41.27,41.11,40.86,40.58,41.23,41.5,41.68,41.65,41.51,41.68,41.99,41.745,42.03,41.72,42.25,41.7,41.87,41.9,41.8,41.99,41.78,41.67,41.685,42.09,42.14,42.45,44.08,44.53,44.69,44.835,44.83,44.87,44.4,44.5,43.97,43.885,43.5785,43.16,42.86,43.37,43.08,42.74,43.23,43.2,43.2,43.52,44.08,44.27,44.79,45.11,45.33,44.95,45.22,45.15,45.17,45.005,44.87,44.88,45.43,45.09,44.96,45.26,45.91,46.47,46.76,46.84,47,46.695,46.24,46.76,46.52,46.68,47.52,47.06,46.56,47.08,46.04,46.41,46.44,46.36,45.9,45.76,46.09,46.09,45.53,46.78,45.85,44.03,43.65,43.73,43.22,42.74,43.63,44.08,44.88,44.38,45.02,46.13,45.91,46.49,46.62,46.05,46.95,47.44,47.57,47.86,48.7,48.68,48.89,48.87,48.78,49.61,49.58,49.46,48.74,48.22,48.7,47.98,47.59,47.47,47.75,47.81,48.62,48.46,48.08,48.84,48.42,47.695,47.59,46.9,47.17,46.95,46.67,45.16,45.74,47.52,47.66,47.98,48.45,48.14,47.88,47.45,47.02,46.45,46.76,46.325,45.65,46.23,47.59,47.19,46.6,46.355,45.955,45.48,46.24,46.39,45.92,47.13,47.18,47.01,42.66,41.19,42.01,40.4,41.28,41.6,41.84,42.45,42.41,42.36,42.6,42.38,43.09,43.87,43.58,43.53,43.5,43.855,44.15,44.09,43.99,44.055,43.85,43.88,43.28,43.055,43.11,42.36,42.85,42.03,41.98,41.02,41.38,41.56,41.695,42.5,42.285,42.88,42.855,42.9,41.46,41.21,40.97,40.96,40.655,40.72,40.29,41.545,41.53,41.42,41.48,41.72,41.76,41.65,42.255,42.16,41.615,42.905,42.635,42.985,43.34,47.87,48.03,49.155,49.06,48.64,48.655,48.24,47.6,46.28,46.7,47.75,47.37,47.35,47.625,48.72,48.295,48.01,47.58,47.58,47.42,46.9,46.59,47.61,47.45,46.86,47.23,46.92,46.85,46.36,46.14,45.73,45.65,46.61,46.44,45.97,45.475,45.83,45.97,46.72,46.1,46.23,45.91,45.635,45.65,45.26,44.37,44.15,44.445,44.4,44.39,44.3,44.24,44.52,44.61,45.54,45.62,45.76,46.66,46.62,46.92,47.28,45.54,46.11,45.94,45.35,45.34,46.29,46.88,46.7,46.81,47.54,47.58,46.62,46.74,47.33,46.41,46.74,46.73,47,47.32,47.27,46.61,45.66,43.07,41.68,40.47,42.71,43.9,43.93,43.52,41.82,43.36,43.5,42.61,43.89,43.07,43.29,43.48,43.04,43.98,44.3,44.25,43.48,44.11,43.9,43.87,43.91,43.94,43.29,43.44,44.26,44.61,45.57,46.63,46.75,46.8,47.45,47.11,47,46.89,46.68,47.01,47.51,47.62,47.77,47.2,48.03,52.87,54.25,53.69,53.98,53.36,52.64,53.24,54.15,54.4,54.38,54.92,54.16,53.51,53.65,53.32,52.84,53.765,52.97,53.85,53.94,54.19,54.19,54.25,53.69,53.93,54.35,55.22,55.21,54.2,55.91,55.81,55.79,54.98,55.27,54.06,55.14,55.2,56.13,55.7,54.13,54.83,55.35,55.82,55.67,55.95,56.55,56.31,55.48,54.8,55.05,54.05,52.17,52.33,52.3,52.78,51.64,53.11,50.99,50.56,50.79,50.48,52.29,51.79,52.17,51.22,52.055,55.09,54.71,53,52.16,52,50.16,49.41,49.28,49.71,49.69,50.5,51.09,52.42,52.19,51.82,52.65,51.18,51.36,52.1,51.3,50.88,52.58,52.95,52.35,52.03,51.03,51.65,52.84,52.05,53.07,53.17,53.59,54.35,54.66,53.49,53.86,54.07,53.97,54.21,53.54,54.71,55.05,55.23,55.57,55.43,54.56,55.12,54.46,54.42,54.31,54.65,55.35,55.36,55.65,56.46,56.39,55.59,55.78,51.78,52.11,51.44,50.94,49.9,49.87,50.61,49.78,49.87,49.94,50.39,50.07,51.02,51.05,51.51,51.08,51.83,50.51,50.81,50.32,50.62,50.03,51.59,52.12,51.89,52.32,53,52.85,52.48,51.79,52.13,52.1,52.04,51.62,51.48,50.14,49.83,49.69,50.39,50.13,50.07,51.19,50.99,51.91,49.83,48.43,49.44,50.54,51.17,51.16,51.17,51.38,51.38,52.3,52.59,53.21,53.51,53.74,53.7,53.96,53.09,55.91,55.8,56.57,56.73,56.76,56.19,56.21,56.68,56.58,56.58,56.97,57.39,57.96,58.06,58.2,58.02,58.3,57.94,58.12,57.44,57.56,57.6,57.62,57.67,57.89,57.95,58.17,58.03,58.1,57.89,57.46,57.59,57.67,57.61,57.66,57.43,56.21,57.05,56.53,56.26,57.19,57.25,56.93,56.81,57.76,57.82,57.43,56.9,57.95,58.03,57.4,57.6,57.42,57.24,57.64,57.74,57.8,58.04,57.19,57.11,56.92,57.42,57.22,57.66,57.53,57.25,59.66,61,60.99,60.63,60.1,59.87,59.92,59.8,59.43,59.21,58.71,60.42,60.47,60.17,58.7,59.02,58.12,58.87,59.65,60.64,60.35,60.86,61.12,60.4,60.53,60.61,61.09,60.26,59.2,59.25,60.22,59.95,61.37,61.01,61.97,62.17,62.98,62.68,62.58,62.3,63.62,63.54,63.54,63.55,63.24,63.28,62.99,62.9,62.14,62.58,62.3,62.3,62.84,62.64,62.62,63.19,62.61,62.7,62.53,62.5,62.3,62.74,62.96,63.52,63.68,64.27,65.78,65.13,64.65,63.58,63.17,63.68,63.64,63.43,63.34,64.06,64,64.72,64.57,64.53,64.52,64.62,64.49,64.36,64.62,64.62,64.23,63.98,64.94,64.01,64.25,64.27,64.4,64.99,64.73,64.93,64.71,64.41,64.75,64.64,64.87,64.93,64.21,65.03,64.87,64.98,65.1,65.29,65.47,65.71,65.86,65.55,65.73,65.56,65.73,65.68,65.53,65.48,65.23,64.95,65.48,65.39,65.04,65.5,66.4,67.53,67.92,67.83,68.27,68.46,69.41,69.3,69.08,68.81,69,68.94,69.04,69.31,68.46,68.38,68.43,69.41,67.48,67.71,67.69,68.45,68.68,68.77,69.62,69.96,70.41,69.84,70.1,71.76,72.28,72.52,72.39,71.95,70.32,69.78,70.65,70.27,69.9,70,70.87,69.91,70.27,70.26,71.21,70.53,69.21,69.8,68.49,68.93,68.17,69.08,68.57,69.46,69.98,69.99,71.15,71.77,72.78,73.35,73.3,73.86,74.22,73.79,73.6,74.19,74.05,73.16,73.04,72.7,72.58,72.26,72.15,72.68,72.4,72.79,72.47,71.41,72.5,73.59,73.22,73.65,72.4,72.49,72.15,73.16,72.72,72.69,72.82,72.83,73.05,74.01,74.77,73.94,73.61,73.4,74.34,73.98,74.76,74.68,75.21,74.77,75.31,75.16,75.44,74.94,74.21,74.41,73.26,73.26,73.85,73.87,74.49,74.61,74.26,74.69,75.97,76,76.29,76.29,76.42,77.12,77.49,77.65,77.59,77.61,77.91,78.81,78.83,78.86,78.63,78.76,83.81,83.89,83.18,83.18,84.05,84.14,84.47,84.27,84.56,84.09,83.87,83.93,84.05,82.98,83.2,82.4,82.53,83.72,83.11,83.26,83.87,84.88,83.34,84.17,84.26,81.08,81.59,82.78,82.49,84.16,85.23,85.58,85.35,84.69,86.85,86.38,85.83,85.52,85.5,85.51,85.4,85.71,85.72,85.54,85.95,86.35,87.11,88.19,88.28,88.22,87.82,88.08,89.6,88.35,90.14,90.1,90,91.61,91.9,91.82,92.33,94.06,93.92,92.74,95.01,94.26,91.78,88,91.33,89.61,85.01,88.18,89.13,89.83,90.81,92.66,92,92.72,91.49,91.73,94.06,95.42,94.2,93.77,92.85,93.05,93.64,93.32,93.86,94.43,96.54,96.77,94.41,93.85,94.18,94.6,92.89,93.13,92.48,89.79,87.18,93.78,89.47,89.39,91.27,88.52,89.71,92.33,92.38,90.23,90.77,92.88,91.86,93.58,93.08,94.17,96.07,96.44,96.11,95,95.35,93.12,92.31,94.26,95.82,93.52,95,93.51,94.07,95.16,96.22,95.81,96.94,97.91,97.7,98.03,97.32,97.15,96.18,96.36,97.6,97.5,98.66,98.31,98.36,98.01,98.95,98.84,100.79,101.67,102.19,102.49,100.88,101.63,101.05,101.31,100.85,101.42,100.13,100.86,100.86,101.87,101.14,100.41,98.39,99.08,97.54,98.63,98.61,100.01,99.05,99.76,101.16,101.85,102.12,101.98,104.19,105.43,104.91,105.95,105.12,104.4,106.27,107.97,107.66,110.83,109.62,107.68,105.37,106.08,106.28,107.57,108.04,108.13,108.88,109.49,109.67,109,108.21,109.56,107.66,107.64,107.58,106.87,105.98,107.06,107.56,108.4,109.6,110.26,112.02,111.95,112.33,111.71,108.49,108.74,108.21,109.38,111.24,111.71,112.91,113.37,112.14,113.21,111.7,113.57,114.26,114.67,114.45,113.98,114.41,114.37,115.61,115.15,115.17,112.79,112.13,110.85,112.26,106.16,105.91,109.57,107.6,111,110.71,108.5,108.66,109.63,108.1,102.32,108.3,106.96,103.85,103.73,106.81,105.92,106.16,107.51,107.72,111.96,111.75,109.57,106.87,106.94,104.97,107.28,108.29,104.62,101.71,103.11,103.07,106.47,107.14,111.12,110.19,110.89,112.09,108.52,109.19,104.82,107.59,108.59,109.08,109.45,106.03,102.89,103.97,103.69,101.51,98.23,94.13,100.56,101.18,100.39,101.57,101.12,97.4,101.93,102.06,102.8,104.27,103.6,102.8,102.05,105.01,105.38,106.12,107.71,105.68,106.71,106.2,107.17,105.08,102.94,106.38,104.43,102.78,105.74,107.22,106.03,105.27,105.67,105.25,106.89,106.81,106.9,108.22,108.17,107.15,109.41,110.97,111.59,112.36,112.17,112.03,112.53,112.26,111.7,111.75,110.39,110.51,112.83,113.62,114.5,114.59,115.91,117.57,117.65,117.52,120.22,117.05,117.66,117.91,116.77,116.93,117.94,119.02,119.19,119.97,119.36,119.89,119.93,119.28,120.19,120.33,120.95,121.05,120.77,121.77,123.37,123.76,125.44,125.01,129.15,129.89,129.77,130.6,127.88,126.21,128.9,128.15,125.52,125.51,125.5,127.13,123.35,124.73,126.02,128.93,128.07,126.22,126.9,127.67,126.18,126.24,126.16,124.94,125.73,123.68,119.84,123.16,125.83,127.82,131.4],"data_raw":[{"timestamp":"1998-01-02","price":131.13},{"timestamp":"1998-01-05","price":130.38},{"timestamp":"1998-01-06","price":131.13},{"timestamp":"1998-01-07","price":129.56},{"timestamp":"1998-01-08","price":130.5},{"timestamp":"1998-01-09","price":127},{"timestamp":"1998-01-12","price":129.5},{"timestamp":"1998-01-13","price":132.13},{"timestamp":"1998-01-14","price":131.13},{"timestamp":"1998-01-15","price":132.31},{"timestamp":"1998-01-16","price":135.25},{"timestamp":"1998-01-20","price":137.81},{"timestamp":"1998-01-21","price":137},{"timestamp":"1998-01-22","price":138.63},{"timestamp":"1998-01-23","price":138.25},{"timestamp":"1998-01-26","price":141.75},{"timestamp":"1998-01-27","price":145.19},{"timestamp":"1998-01-28","price":149},{"timestamp":"1998-01-29","price":148.25},{"timestamp":"1998-01-30","price":149.19},{"timestamp":"1998-02-02","price":154.88},{"timestamp":"1998-02-03","price":155.88},{"timestamp":"1998-02-04","price":156.81},{"timestamp":"1998-02-05","price":155.44},{"timestamp":"1998-02-06","price":158.13},{"timestamp":"1998-02-09","price":157.19},{"timestamp":"1998-02-10","price":159.25},{"timestamp":"1998-02-11","price":158.94},{"timestamp":"1998-02-12","price":158.75},{"timestamp":"1998-02-13","price":157.5},{"timestamp":"1998-02-17","price":154.38},{"timestamp":"1998-02-18","price":154.63},{"timestamp":"1998-02-19","price":154.88},{"timestamp":"1998-02-20","price":155.13},{"timestamp":"1998-02-23","price":81.62},{"timestamp":"1998-02-24","price":82.12},{"timestamp":"1998-02-25","price":84.94},{"timestamp":"1998-02-26","price":85.5},{"timestamp":"1998-02-27","price":84.75},{"timestamp":"1998-03-02","price":83.31},{"timestamp":"1998-03-03","price":84.5},{"timestamp":"1998-03-04","price":82.31},{"timestamp":"1998-03-05","price":80.06},{"timestamp":"1998-03-06","price":82.75},{"timestamp":"1998-03-09","price":79.59},{"timestamp":"1998-03-10","price":81.5},{"timestamp":"1998-03-11","price":80.69},{"timestamp":"1998-03-12","price":81.87},{"timestamp":"1998-03-13","price":82.37},{"timestamp":"1998-03-16","price":82},{"timestamp":"1998-03-17","price":80.37},{"timestamp":"1998-03-18","price":81.75},{"timestamp":"1998-03-19","price":82},{"timestamp":"1998-03-20","price":81.81},{"timestamp":"1998-03-23","price":83.87},{"timestamp":"1998-03-24","price":84.94},{"timestamp":"1998-03-25","price":88.81},{"timestamp":"1998-03-26","price":88.25},{"timestamp":"1998-03-27","price":87.81},{"timestamp":"1998-03-30","price":87.94},{"timestamp":"1998-03-31","price":89.5},{"timestamp":"1998-04-01","price":90.37},{"timestamp":"1998-04-02","price":91.31},{"timestamp":"1998-04-03","price":93},{"timestamp":"1998-04-06","price":89.94},{"timestamp":"1998-04-07","price":87.25},{"timestamp":"1998-04-08","price":88.94},{"timestamp":"1998-04-09","price":89},{"timestamp":"1998-04-13","price":88.62},{"timestamp":"1998-04-14","price":88.44},{"timestamp":"1998-04-15","price":91.37},{"timestamp":"1998-04-16","price":91.69},{"timestamp":"1998-04-17","price":92.12},{"timestamp":"1998-04-20","price":94.62},{"timestamp":"1998-04-21","price":94.87},{"timestamp":"1998-04-22","price":98.87},{"timestamp":"1998-04-23","price":94.5},{"timestamp":"1998-04-24","price":92.12},{"timestamp":"1998-04-27","price":90.31},{"timestamp":"1998-04-28","price":89.87},{"timestamp":"1998-04-29","price":90.5},{"timestamp":"1998-04-30","price":90.12},{"timestamp":"1998-05-01","price":89.62},{"timestamp":"1998-05-04","price":88.06},{"timestamp":"1998-05-05","price":87.75},{"timestamp":"1998-05-06","price":86.37},{"timestamp":"1998-05-07","price":83.37},{"timestamp":"1998-05-08","price":85.75},{"timestamp":"1998-05-11","price":84.25},{"timestamp":"1998-05-12","price":85.69},{"timestamp":"1998-05-13","price":86.94},{"timestamp":"1998-05-14","price":88.94},{"timestamp":"1998-05-15","price":89.44},{"timestamp":"1998-05-18","price":86.06},{"timestamp":"1998-05-19","price":86.5},{"timestamp":"1998-05-20","price":85.75},{"timestamp":"1998-05-21","price":86.37},{"timestamp":"1998-05-22","price":85.56},{"timestamp":"1998-05-26","price":83.62},{"timestamp":"1998-05-27","price":86},{"timestamp":"1998-05-28","price":86.31},{"timestamp":"1998-05-29","price":84.81},{"timestamp":"1998-06-01","price":83.75},{"timestamp":"1998-06-02","price":85.5},{"timestamp":"1998-06-03","price":84.31},{"timestamp":"1998-06-04","price":86.06},{"timestamp":"1998-06-05","price":86.25},{"timestamp":"1998-06-08","price":85.69},{"timestamp":"1998-06-09","price":87.06},{"timestamp":"1998-06-10","price":86},{"timestamp":"1998-06-11","price":85.31},{"timestamp":"1998-06-12","price":85.75},{"timestamp":"1998-06-15","price":85.94},{"timestamp":"1998-06-16","price":89.87},{"timestamp":"1998-06-17","price":91.06},{"timestamp":"1998-06-18","price":91.19},{"timestamp":"1998-06-19","price":94.69},{"timestamp":"1998-06-22","price":95.81},{"timestamp":"1998-06-23","price":100.75},{"timestamp":"1998-06-24","price":104.94},{"timestamp":"1998-06-25","price":101.56},{"timestamp":"1998-06-26","price":104.44},{"timestamp":"1998-06-29","price":107.44},{"timestamp":"1998-06-30","price":108.37},{"timestamp":"1998-07-01","price":109.37},{"timestamp":"1998-07-02","price":107.25},{"timestamp":"1998-07-06","price":107.81},{"timestamp":"1998-07-07","price":107.94},{"timestamp":"1998-07-08","price":109.87},{"timestamp":"1998-07-09","price":111},{"timestamp":"1998-07-10","price":113.19},{"timestamp":"1998-07-13","price":117.56},{"timestamp":"1998-07-14","price":116.5},{"timestamp":"1998-07-15","price":117.37},{"timestamp":"1998-07-16","price":117.37},{"timestamp":"1998-07-17","price":117.94},{"timestamp":"1998-07-20","price":117},{"timestamp":"1998-07-21","price":112.81},{"timestamp":"1998-07-22","price":116.75},{"timestamp":"1998-07-23","price":113},{"timestamp":"1998-07-24","price":113.81},{"timestamp":"1998-07-27","price":116.75},{"timestamp":"1998-07-28","price":112.25},{"timestamp":"1998-07-29","price":110.69},{"timestamp":"1998-07-30","price":113.44},{"timestamp":"1998-07-31","price":109.94},{"timestamp":"1998-08-03","price":108.44},{"timestamp":"1998-08-04","price":104.5},{"timestamp":"1998-08-05","price":104.31},{"timestamp":"1998-08-06","price":106.87},{"timestamp":"1998-08-07","price":105.87},{"timestamp":"1998-08-10","price":104.44},{"timestamp":"1998-08-11","price":103.44},{"timestamp":"1998-08-12","price":105.06},{"timestamp":"1998-08-13","price":103.94},{"timestamp":"1998-08-14","price":104.25},{"timestamp":"1998-08-17","price":107.31},{"timestamp":"1998-08-18","price":111.25},{"timestamp":"1998-08-19","price":110.56},{"timestamp":"1998-08-20","price":112.56},{"timestamp":"1998-08-21","price":110.62},{"timestamp":"1998-08-24","price":110.37},{"timestamp":"1998-08-25","price":112.81},{"timestamp":"1998-08-26","price":112.56},{"timestamp":"1998-08-27","price":109.25},{"timestamp":"1998-08-28","price":105.25},{"timestamp":"1998-08-31","price":95.94},{"timestamp":"1998-09-01","price":101.25},{"timestamp":"1998-09-02","price":100.56},{"timestamp":"1998-09-03","price":99.25},{"timestamp":"1998-09-04","price":96.62},{"timestamp":"1998-09-08","price":101.97},{"timestamp":"1998-09-09","price":102.25},{"timestamp":"1998-09-10","price":100.75},{"timestamp":"1998-09-11","price":104.25},{"timestamp":"1998-09-14","price":106},{"timestamp":"1998-09-15","price":108.31},{"timestamp":"1998-09-16","price":108.19},{"timestamp":"1998-09-17","price":104.94},{"timestamp":"1998-09-18","price":105.37},{"timestamp":"1998-09-21","price":107.87},{"timestamp":"1998-09-22","price":109.19},{"timestamp":"1998-09-23","price":113.62},{"timestamp":"1998-09-24","price":110.12},{"timestamp":"1998-09-25","price":113.06},{"timestamp":"1998-09-28","price":111.31},{"timestamp":"1998-09-29","price":112.87},{"timestamp":"1998-09-30","price":110.06},{"timestamp":"1998-10-01","price":104.06},{"timestamp":"1998-10-02","price":104.12},{"timestamp":"1998-10-05","price":101.19},{"timestamp":"1998-10-06","price":97.62},{"timestamp":"1998-10-07","price":94.12},{"timestamp":"1998-10-08","price":91.19},{"timestamp":"1998-10-09","price":96.87},{"timestamp":"1998-10-12","price":99.75},{"timestamp":"1998-10-13","price":96.44},{"timestamp":"1998-10-14","price":100.19},{"timestamp":"1998-10-15","price":105.44},{"timestamp":"1998-10-16","price":105.06},{"timestamp":"1998-10-19","price":102.94},{"timestamp":"1998-10-20","price":100.25},{"timestamp":"1998-10-21","price":106.44},{"timestamp":"1998-10-22","price":110},{"timestamp":"1998-10-23","price":106.37},{"timestamp":"1998-10-26","price":107.06},{"timestamp":"1998-10-27","price":105.44},{"timestamp":"1998-10-28","price":105.69},{"timestamp":"1998-10-29","price":106.62},{"timestamp":"1998-10-30","price":105.87},{"timestamp":"1998-11-02","price":105.81},{"timestamp":"1998-11-03","price":105.19},{"timestamp":"1998-11-04","price":105.5},{"timestamp":"1998-11-05","price":106.37},{"timestamp":"1998-11-06","price":109.31},{"timestamp":"1998-11-09","price":110.69},{"timestamp":"1998-11-10","price":112.06},{"timestamp":"1998-11-11","price":111.06},{"timestamp":"1998-11-12","price":108.75},{"timestamp":"1998-11-13","price":110},{"timestamp":"1998-11-16","price":108.81},{"timestamp":"1998-11-17","price":111.87},{"timestamp":"1998-11-18","price":109.75},{"timestamp":"1998-11-19","price":111.75},{"timestamp":"1998-11-20","price":113.62},{"timestamp":"1998-11-23","price":119.19},{"timestamp":"1998-11-24","price":121.69},{"timestamp":"1998-11-25","price":124.25},{"timestamp":"1998-11-27","price":128.06},{"timestamp":"1998-11-30","price":122},{"timestamp":"1998-12-01","price":129.5},{"timestamp":"1998-12-02","price":126.75},{"timestamp":"1998-12-03","price":122.12},{"timestamp":"1998-12-04","price":127.37},{"timestamp":"1998-12-07","price":133.56},{"timestamp":"1998-12-08","price":131.19},{"timestamp":"1998-12-09","price":133.63},{"timestamp":"1998-12-10","price":131.56},{"timestamp":"1998-12-11","price":134},{"timestamp":"1998-12-14","price":127.94},{"timestamp":"1998-12-15","price":131.88},{"timestamp":"1998-12-16","price":133.75},{"timestamp":"1998-12-17","price":134.38},{"timestamp":"1998-12-18","price":137.81},{"timestamp":"1998-12-21","price":140.44},{"timestamp":"1998-12-22","price":138.44},{"timestamp":"1998-12-23","price":143.56},{"timestamp":"1998-12-24","price":141.75},{"timestamp":"1998-12-28","price":142.38},{"timestamp":"1998-12-29","price":140.5},{"timestamp":"1998-12-30","price":139},{"timestamp":"1998-12-31","price":138.69},{"timestamp":"1999-01-04","price":141},{"timestamp":"1999-01-05","price":146.5},{"timestamp":"1999-01-06","price":151.25},{"timestamp":"1999-01-07","price":150.5},{"timestamp":"1999-01-08","price":149.88},{"timestamp":"1999-01-11","price":147.5},{"timestamp":"1999-01-12","price":142.19},{"timestamp":"1999-01-13","price":143.81},{"timestamp":"1999-01-14","price":141.75},{"timestamp":"1999-01-15","price":149.75},{"timestamp":"1999-01-19","price":155.63},{"timestamp":"1999-01-20","price":162.63},{"timestamp":"1999-01-21","price":158.31},{"timestamp":"1999-01-22","price":156.25},{"timestamp":"1999-01-25","price":161.88},{"timestamp":"1999-01-26","price":171.56},{"timestamp":"1999-01-27","price":168.63},{"timestamp":"1999-01-28","price":174},{"timestamp":"1999-01-29","price":175},{"timestamp":"1999-02-01","price":172.94},{"timestamp":"1999-02-02","price":167.63},{"timestamp":"1999-02-03","price":166.81},{"timestamp":"1999-02-04","price":159.06},{"timestamp":"1999-02-05","price":160},{"timestamp":"1999-02-08","price":165.25},{"timestamp":"1999-02-09","price":160.06},{"timestamp":"1999-02-10","price":160.63},{"timestamp":"1999-02-11","price":162.75},{"timestamp":"1999-02-12","price":157.75},{"timestamp":"1999-02-16","price":156.25},{"timestamp":"1999-02-17","price":150},{"timestamp":"1999-02-18","price":145.75},{"timestamp":"1999-02-19","price":147.75},{"timestamp":"1999-02-22","price":148.81},{"timestamp":"1999-02-23","price":155.44},{"timestamp":"1999-02-24","price":152.88},{"timestamp":"1999-02-25","price":153.5},{"timestamp":"1999-02-26","price":150.13},{"timestamp":"1999-03-01","price":151.75},{"timestamp":"1999-03-02","price":148.56},{"timestamp":"1999-03-03","price":149.63},{"timestamp":"1999-03-04","price":152.25},{"timestamp":"1999-03-05","price":154.94},{"timestamp":"1999-03-08","price":159},{"timestamp":"1999-03-09","price":161.81},{"timestamp":"1999-03-10","price":161.38},{"timestamp":"1999-03-11","price":161.44},{"timestamp":"1999-03-12","price":160.19},{"timestamp":"1999-03-15","price":165.88},{"timestamp":"1999-03-16","price":169.06},{"timestamp":"1999-03-17","price":167.13},{"timestamp":"1999-03-18","price":172.44},{"timestamp":"1999-03-19","price":171.19},{"timestamp":"1999-03-22","price":172.81},{"timestamp":"1999-03-23","price":166.56},{"timestamp":"1999-03-24","price":171.25},{"timestamp":"1999-03-25","price":179.94},{"timestamp":"1999-03-26","price":178.13},{"timestamp":"1999-03-29","price":92.37},{"timestamp":"1999-03-30","price":93},{"timestamp":"1999-03-31","price":89.62},{"timestamp":"1999-04-01","price":92.69},{"timestamp":"1999-04-05","price":94.94},{"timestamp":"1999-04-06","price":94.06},{"timestamp":"1999-04-07","price":93.31},{"timestamp":"1999-04-08","price":94.56},{"timestamp":"1999-04-09","price":94.25},{"timestamp":"1999-04-12","price":93},{"timestamp":"1999-04-13","price":90.12},{"timestamp":"1999-04-14","price":85.87},{"timestamp":"1999-04-15","price":88.87},{"timestamp":"1999-04-16","price":86.62},{"timestamp":"1999-04-19","price":81},{"timestamp":"1999-04-20","price":83.12},{"timestamp":"1999-04-21","price":82},{"timestamp":"1999-04-22","price":84.94},{"timestamp":"1999-04-23","price":86},{"timestamp":"1999-04-26","price":88},{"timestamp":"1999-04-27","price":84},{"timestamp":"1999-04-28","price":82.12},{"timestamp":"1999-04-29","price":82.06},{"timestamp":"1999-04-30","price":81.31},{"timestamp":"1999-05-03","price":79.87},{"timestamp":"1999-05-04","price":78.06},{"timestamp":"1999-05-05","price":79.12},{"timestamp":"1999-05-06","price":77.94},{"timestamp":"1999-05-07","price":79.06},{"timestamp":"1999-05-10","price":79.69},{"timestamp":"1999-05-11","price":79.87},{"timestamp":"1999-05-12","price":80.5},{"timestamp":"1999-05-13","price":79.12},{"timestamp":"1999-05-14","price":76.87},{"timestamp":"1999-05-17","price":79.12},{"timestamp":"1999-05-18","price":78.69},{"timestamp":"1999-05-19","price":79.31},{"timestamp":"1999-05-20","price":78.44},{"timestamp":"1999-05-21","price":77.56},{"timestamp":"1999-05-24","price":77.25},{"timestamp":"1999-05-25","price":76.25},{"timestamp":"1999-05-26","price":78.5},{"timestamp":"1999-05-27","price":78.37},{"timestamp":"1999-05-28","price":80.69},{"timestamp":"1999-06-01","price":78.5},{"timestamp":"1999-06-02","price":78.44},{"timestamp":"1999-06-03","price":76.37},{"timestamp":"1999-06-04","price":79.56},{"timestamp":"1999-06-07","price":80.25},{"timestamp":"1999-06-08","price":79.37},{"timestamp":"1999-06-09","price":82.31},{"timestamp":"1999-06-10","price":79.87},{"timestamp":"1999-06-11","price":78.12},{"timestamp":"1999-06-14","price":77.56},{"timestamp":"1999-06-15","price":77.69},{"timestamp":"1999-06-16","price":81},{"timestamp":"1999-06-17","price":82.87},{"timestamp":"1999-06-18","price":85},{"timestamp":"1999-06-21","price":88.94},{"timestamp":"1999-06-22","price":86.5},{"timestamp":"1999-06-23","price":86},{"timestamp":"1999-06-24","price":84.62},{"timestamp":"1999-06-25","price":84.94},{"timestamp":"1999-06-28","price":86.75},{"timestamp":"1999-06-29","price":88},{"timestamp":"1999-06-30","price":90.19},{"timestamp":"1999-07-01","price":91.19},{"timestamp":"1999-07-02","price":92},{"timestamp":"1999-07-06","price":89.56},{"timestamp":"1999-07-07","price":92.31},{"timestamp":"1999-07-08","price":92.56},{"timestamp":"1999-07-09","price":93.25},{"timestamp":"1999-07-12","price":94.19},{"timestamp":"1999-07-13","price":93.62},{"timestamp":"1999-07-14","price":94.94},{"timestamp":"1999-07-15","price":94.37},{"timestamp":"1999-07-16","price":99.44},{"timestamp":"1999-07-19","price":98.37},{"timestamp":"1999-07-20","price":93.31},{"timestamp":"1999-07-21","price":94.69},{"timestamp":"1999-07-22","price":91.06},{"timestamp":"1999-07-23","price":90.25},{"timestamp":"1999-07-26","price":87.62},{"timestamp":"1999-07-27","price":88.81},{"timestamp":"1999-07-28","price":90},{"timestamp":"1999-07-29","price":86.94},{"timestamp":"1999-07-30","price":85.81},{"timestamp":"1999-08-02","price":84.81},{"timestamp":"1999-08-03","price":84.75},{"timestamp":"1999-08-04","price":84.94},{"timestamp":"1999-08-05","price":85.75},{"timestamp":"1999-08-06","price":85.12},{"timestamp":"1999-08-09","price":83.81},{"timestamp":"1999-08-10","price":82.94},{"timestamp":"1999-08-11","price":84.19},{"timestamp":"1999-08-12","price":81.75},{"timestamp":"1999-08-13","price":84.69},{"timestamp":"1999-08-16","price":84.31},{"timestamp":"1999-08-17","price":84.56},{"timestamp":"1999-08-18","price":85},{"timestamp":"1999-08-19","price":83.81},{"timestamp":"1999-08-20","price":83.37},{"timestamp":"1999-08-23","price":86.44},{"timestamp":"1999-08-24","price":92.19},{"timestamp":"1999-08-25","price":95.31},{"timestamp":"1999-08-26","price":94.62},{"timestamp":"1999-08-27","price":93.25},{"timestamp":"1999-08-30","price":92.25},{"timestamp":"1999-08-31","price":92.56},{"timestamp":"1999-09-01","price":92.37},{"timestamp":"1999-09-02","price":91.81},{"timestamp":"1999-09-03","price":95.87},{"timestamp":"1999-09-07","price":94.25},{"timestamp":"1999-09-08","price":92.25},{"timestamp":"1999-09-09","price":94.06},{"timestamp":"1999-09-10","price":95},{"timestamp":"1999-09-13","price":93.87},{"timestamp":"1999-09-14","price":95.06},{"timestamp":"1999-09-15","price":92.62},{"timestamp":"1999-09-16","price":94},{"timestamp":"1999-09-17","price":96.44},{"timestamp":"1999-09-20","price":97.56},{"timestamp":"1999-09-21","price":94.62},{"timestamp":"1999-09-22","price":96.06},{"timestamp":"1999-09-23","price":91.19},{"timestamp":"1999-09-24","price":90.94},{"timestamp":"1999-09-27","price":91.44},{"timestamp":"1999-09-28","price":92.12},{"timestamp":"1999-09-29","price":89.5},{"timestamp":"1999-09-30","price":90.56},{"timestamp":"1999-10-01","price":89.98},{"timestamp":"1999-10-04","price":92.56},{"timestamp":"1999-10-05","price":91.81},{"timestamp":"1999-10-06","price":93.69},{"timestamp":"1999-10-07","price":93.75},{"timestamp":"1999-10-08","price":94.94},{"timestamp":"1999-10-11","price":94.31},{"timestamp":"1999-10-12","price":92.56},{"timestamp":"1999-10-13","price":91.06},{"timestamp":"1999-10-14","price":90.69},{"timestamp":"1999-10-15","price":88.06},{"timestamp":"1999-10-18","price":87.87},{"timestamp":"1999-10-19","price":86.31},{"timestamp":"1999-10-20","price":92.25},{"timestamp":"1999-10-21","price":93.06},{"timestamp":"1999-10-22","price":92.69},{"timestamp":"1999-10-25","price":92.44},{"timestamp":"1999-10-26","price":92.37},{"timestamp":"1999-10-27","price":90.87},{"timestamp":"1999-10-28","price":89.87},{"timestamp":"1999-10-29","price":92.56},{"timestamp":"1999-11-01","price":92.37},{"timestamp":"1999-11-02","price":92.56},{"timestamp":"1999-11-03","price":92},{"timestamp":"1999-11-04","price":91.75},{"timestamp":"1999-11-05","price":91.56},{"timestamp":"1999-11-08","price":89.94},{"timestamp":"1999-11-09","price":88.87},{"timestamp":"1999-11-10","price":87.12},{"timestamp":"1999-11-11","price":89.62},{"timestamp":"1999-11-12","price":89.19},{"timestamp":"1999-11-15","price":87},{"timestamp":"1999-11-16","price":87.31},{"timestamp":"1999-11-17","price":85},{"timestamp":"1999-11-18","price":84.94},{"timestamp":"1999-11-19","price":86},{"timestamp":"1999-11-22","price":89.81},{"timestamp":"1999-11-23","price":89.62},{"timestamp":"1999-11-24","price":91.69},{"timestamp":"1999-11-26","price":91.12},{"timestamp":"1999-11-29","price":90.19},{"timestamp":"1999-11-30","price":91.05},{"timestamp":"1999-12-01","price":93.19},{"timestamp":"1999-12-02","price":94.81},{"timestamp":"1999-12-03","price":96.12},{"timestamp":"1999-12-06","price":95.44},{"timestamp":"1999-12-07","price":93},{"timestamp":"1999-12-08","price":91.75},{"timestamp":"1999-12-09","price":92.75},{"timestamp":"1999-12-10","price":93.87},{"timestamp":"1999-12-13","price":96.62},{"timestamp":"1999-12-14","price":98.69},{"timestamp":"1999-12-15","price":108.44},{"timestamp":"1999-12-16","price":113.69},{"timestamp":"1999-12-17","price":115.25},{"timestamp":"1999-12-20","price":112.75},{"timestamp":"1999-12-21","price":115.87},{"timestamp":"1999-12-22","price":117.56},{"timestamp":"1999-12-23","price":117.44},{"timestamp":"1999-12-27","price":119.12},{"timestamp":"1999-12-28","price":117.5},{"timestamp":"1999-12-29","price":117.94},{"timestamp":"1999-12-30","price":117.62},{"timestamp":"1999-12-31","price":116.75},{"timestamp":"2000-01-03","price":116.56},{"timestamp":"2000-01-04","price":112.62},{"timestamp":"2000-01-05","price":113.81},{"timestamp":"2000-01-06","price":110},{"timestamp":"2000-01-07","price":111.44},{"timestamp":"2000-01-10","price":112.25},{"timestamp":"2000-01-11","price":109.37},{"timestamp":"2000-01-12","price":105.81},{"timestamp":"2000-01-13","price":107.81},{"timestamp":"2000-01-14","price":112.25},{"timestamp":"2000-01-18","price":115.31},{"timestamp":"2000-01-19","price":107},{"timestamp":"2000-01-20","price":106},{"timestamp":"2000-01-21","price":103.75},{"timestamp":"2000-01-24","price":101.25},{"timestamp":"2000-01-25","price":102.81},{"timestamp":"2000-01-26","price":99.37},{"timestamp":"2000-01-27","price":98.75},{"timestamp":"2000-01-28","price":98.25},{"timestamp":"2000-01-31","price":97.87},{"timestamp":"2000-02-01","price":102.94},{"timestamp":"2000-02-02","price":100.81},{"timestamp":"2000-02-03","price":103.62},{"timestamp":"2000-02-04","price":106.56},{"timestamp":"2000-02-07","price":106.62},{"timestamp":"2000-02-08","price":109.94},{"timestamp":"2000-02-09","price":104},{"timestamp":"2000-02-10","price":106},{"timestamp":"2000-02-11","price":99.94},{"timestamp":"2000-02-14","price":99.62},{"timestamp":"2000-02-15","price":98.56},{"timestamp":"2000-02-16","price":97.62},{"timestamp":"2000-02-17","price":99.62},{"timestamp":"2000-02-18","price":95.06},{"timestamp":"2000-02-22","price":93.81},{"timestamp":"2000-02-23","price":94.25},{"timestamp":"2000-02-24","price":94.75},{"timestamp":"2000-02-25","price":91.31},{"timestamp":"2000-02-28","price":91.56},{"timestamp":"2000-02-29","price":89.37},{"timestamp":"2000-03-01","price":90.81},{"timestamp":"2000-03-02","price":93.37},{"timestamp":"2000-03-03","price":96.12},{"timestamp":"2000-03-06","price":90.62},{"timestamp":"2000-03-07","price":92.87},{"timestamp":"2000-03-08","price":95.56},{"timestamp":"2000-03-09","price":100},{"timestamp":"2000-03-10","price":101},{"timestamp":"2000-03-13","price":98},{"timestamp":"2000-03-14","price":95.12},{"timestamp":"2000-03-15","price":95.37},{"timestamp":"2000-03-16","price":95.37},{"timestamp":"2000-03-17","price":99.37},{"timestamp":"2000-03-20","price":97.37},{"timestamp":"2000-03-21","price":102.75},{"timestamp":"2000-03-22","price":103.25},{"timestamp":"2000-03-23","price":111.87},{"timestamp":"2000-03-24","price":111.69},{"timestamp":"2000-03-27","price":104.06},{"timestamp":"2000-03-28","price":104.31},{"timestamp":"2000-03-29","price":107.19},{"timestamp":"2000-03-30","price":103.37},{"timestamp":"2000-03-31","price":106.25},{"timestamp":"2000-04-03","price":90.87},{"timestamp":"2000-04-04","price":88.56},{"timestamp":"2000-04-05","price":86.37},{"timestamp":"2000-04-06","price":86},{"timestamp":"2000-04-07","price":89.06},{"timestamp":"2000-04-10","price":86.06},{"timestamp":"2000-04-11","price":83.87},{"timestamp":"2000-04-12","price":79.37},{"timestamp":"2000-04-13","price":79.25},{"timestamp":"2000-04-14","price":74.12},{"timestamp":"2000-04-17","price":75.87},{"timestamp":"2000-04-18","price":80.56},{"timestamp":"2000-04-19","price":78.69},{"timestamp":"2000-04-20","price":78.94},{"timestamp":"2000-04-24","price":66.62},{"timestamp":"2000-04-25","price":69.37},{"timestamp":"2000-04-26","price":68},{"timestamp":"2000-04-27","price":69.81},{"timestamp":"2000-04-28","price":69.75},{"timestamp":"2000-05-01","price":73.44},{"timestamp":"2000-05-02","price":69.87},{"timestamp":"2000-05-03","price":70.56},{"timestamp":"2000-05-04","price":70.44},{"timestamp":"2000-05-05","price":71.12},{"timestamp":"2000-05-08","price":69.81},{"timestamp":"2000-05-09","price":67.81},{"timestamp":"2000-05-10","price":66.19},{"timestamp":"2000-05-11","price":67.87},{"timestamp":"2000-05-12","price":68.81},{"timestamp":"2000-05-15","price":69.37},{"timestamp":"2000-05-16","price":69.5},{"timestamp":"2000-05-17","price":67.69},{"timestamp":"2000-05-18","price":66.19},{"timestamp":"2000-05-19","price":65.06},{"timestamp":"2000-05-22","price":64.19},{"timestamp":"2000-05-23","price":63.19},{"timestamp":"2000-05-24","price":65.56},{"timestamp":"2000-05-25","price":61.5},{"timestamp":"2000-05-26","price":61.44},{"timestamp":"2000-05-30","price":63.38},{"timestamp":"2000-05-31","price":62.56},{"timestamp":"2000-06-01","price":64.56},{"timestamp":"2000-06-02","price":66.31},{"timestamp":"2000-06-05","price":66.87},{"timestamp":"2000-06-06","price":69.62},{"timestamp":"2000-06-07","price":70.5},{"timestamp":"2000-06-08","price":68.81},{"timestamp":"2000-06-09","price":68.81},{"timestamp":"2000-06-12","price":66.87},{"timestamp":"2000-06-13","price":67.87},{"timestamp":"2000-06-14","price":70.5},{"timestamp":"2000-06-15","price":72.37},{"timestamp":"2000-06-16","price":72.56},{"timestamp":"2000-06-19","price":73.69},{"timestamp":"2000-06-20","price":74.94},{"timestamp":"2000-06-21","price":80.69},{"timestamp":"2000-06-22","price":79.87},{"timestamp":"2000-06-23","price":77.69},{"timestamp":"2000-06-26","price":79.5},{"timestamp":"2000-06-27","price":78.81},{"timestamp":"2000-06-28","price":78.94},{"timestamp":"2000-06-29","price":77.19},{"timestamp":"2000-06-30","price":80},{"timestamp":"2000-07-03","price":80},{"timestamp":"2000-07-05","price":78.5},{"timestamp":"2000-07-06","price":80.94},{"timestamp":"2000-07-07","price":82},{"timestamp":"2000-07-10","price":79.44},{"timestamp":"2000-07-11","price":79.12},{"timestamp":"2000-07-12","price":80.31},{"timestamp":"2000-07-13","price":79.94},{"timestamp":"2000-07-14","price":78.94},{"timestamp":"2000-07-17","price":78.19},{"timestamp":"2000-07-18","price":78.5},{"timestamp":"2000-07-19","price":73.12},{"timestamp":"2000-07-20","price":74.81},{"timestamp":"2000-07-21","price":72.31},{"timestamp":"2000-07-24","price":70.56},{"timestamp":"2000-07-25","price":69},{"timestamp":"2000-07-26","price":67.81},{"timestamp":"2000-07-27","price":69.37},{"timestamp":"2000-07-28","price":69.69},{"timestamp":"2000-07-31","price":69.81},{"timestamp":"2000-08-01","price":68.69},{"timestamp":"2000-08-02","price":69.37},{"timestamp":"2000-08-03","price":70.25},{"timestamp":"2000-08-04","price":69.12},{"timestamp":"2000-08-07","price":70},{"timestamp":"2000-08-08","price":74.12},{"timestamp":"2000-08-09","price":74.25},{"timestamp":"2000-08-10","price":72.62},{"timestamp":"2000-08-11","price":72.44},{"timestamp":"2000-08-14","price":72.19},{"timestamp":"2000-08-15","price":71.62},{"timestamp":"2000-08-16","price":71},{"timestamp":"2000-08-17","price":71.56},{"timestamp":"2000-08-18","price":71},{"timestamp":"2000-08-21","price":70.62},{"timestamp":"2000-08-22","price":71.25},{"timestamp":"2000-08-23","price":70.75},{"timestamp":"2000-08-24","price":71.12},{"timestamp":"2000-08-25","price":70.62},{"timestamp":"2000-08-28","price":71.31},{"timestamp":"2000-08-29","price":70.94},{"timestamp":"2000-08-30","price":70},{"timestamp":"2000-08-31","price":69.81},{"timestamp":"2000-09-01","price":70.19},{"timestamp":"2000-09-05","price":70.12},{"timestamp":"2000-09-06","price":69.44},{"timestamp":"2000-09-07","price":70.06},{"timestamp":"2000-09-08","price":69.31},{"timestamp":"2000-09-11","price":68.81},{"timestamp":"2000-09-12","price":68.12},{"timestamp":"2000-09-13","price":68.25},{"timestamp":"2000-09-14","price":65.81},{"timestamp":"2000-09-15","price":64.19},{"timestamp":"2000-09-18","price":63},{"timestamp":"2000-09-19","price":65},{"timestamp":"2000-09-20","price":64.25},{"timestamp":"2000-09-21","price":64.19},{"timestamp":"2000-09-22","price":63.25},{"timestamp":"2000-09-25","price":61.25},{"timestamp":"2000-09-26","price":62.69},{"timestamp":"2000-09-27","price":60.63},{"timestamp":"2000-09-28","price":61.31},{"timestamp":"2000-09-29","price":60.31},{"timestamp":"2000-10-02","price":59.13},{"timestamp":"2000-10-03","price":56.56},{"timestamp":"2000-10-04","price":55.44},{"timestamp":"2000-10-05","price":55.38},{"timestamp":"2000-10-06","price":55.56},{"timestamp":"2000-10-09","price":54.19},{"timestamp":"2000-10-10","price":54.56},{"timestamp":"2000-10-11","price":55.75},{"timestamp":"2000-10-12","price":54.38},{"timestamp":"2000-10-13","price":53.75},{"timestamp":"2000-10-16","price":50.38},{"timestamp":"2000-10-17","price":50.44},{"timestamp":"2000-10-18","price":51.75},{"timestamp":"2000-10-19","price":61.88},{"timestamp":"2000-10-20","price":65.19},{"timestamp":"2000-10-23","price":62.13},{"timestamp":"2000-10-24","price":61.5},{"timestamp":"2000-10-25","price":61.25},{"timestamp":"2000-10-26","price":64.44},{"timestamp":"2000-10-27","price":67.69},{"timestamp":"2000-10-30","price":69.06},{"timestamp":"2000-10-31","price":68.87},{"timestamp":"2000-11-01","price":69.62},{"timestamp":"2000-11-02","price":70.31},{"timestamp":"2000-11-03","price":68.25},{"timestamp":"2000-11-06","price":69.5},{"timestamp":"2000-11-07","price":70.5},{"timestamp":"2000-11-08","price":69.44},{"timestamp":"2000-11-09","price":70.87},{"timestamp":"2000-11-10","price":67.37},{"timestamp":"2000-11-13","price":66.44},{"timestamp":"2000-11-14","price":68.81},{"timestamp":"2000-11-15","price":70.06},{"timestamp":"2000-11-16","price":68.94},{"timestamp":"2000-11-17","price":69.06},{"timestamp":"2000-11-20","price":67.19},{"timestamp":"2000-11-21","price":67.75},{"timestamp":"2000-11-22","price":68.25},{"timestamp":"2000-11-24","price":69.94},{"timestamp":"2000-11-27","price":70.69},{"timestamp":"2000-11-28","price":67},{"timestamp":"2000-11-29","price":65.06},{"timestamp":"2000-11-30","price":57.38},{"timestamp":"2000-12-01","price":56.63},{"timestamp":"2000-12-04","price":56.44},{"timestamp":"2000-12-05","price":59.88},{"timestamp":"2000-12-06","price":56.69},{"timestamp":"2000-12-07","price":53.13},{"timestamp":"2000-12-08","price":54.44},{"timestamp":"2000-12-11","price":58.06},{"timestamp":"2000-12-12","price":58.38},{"timestamp":"2000-12-13","price":57.25},{"timestamp":"2000-12-14","price":55.5},{"timestamp":"2000-12-15","price":49.19},{"timestamp":"2000-12-18","price":47.81},{"timestamp":"2000-12-19","price":44.81},{"timestamp":"2000-12-20","price":41.5},{"timestamp":"2000-12-21","price":43.44},{"timestamp":"2000-12-22","price":46.44},{"timestamp":"2000-12-26","price":46.88},{"timestamp":"2000-12-27","price":46.44},{"timestamp":"2000-12-28","price":44.56},{"timestamp":"2000-12-29","price":43.38},{"timestamp":"2001-01-02","price":43.38},{"timestamp":"2001-01-03","price":47.94},{"timestamp":"2001-01-04","price":48.44},{"timestamp":"2001-01-05","price":49.13},{"timestamp":"2001-01-08","price":48.94},{"timestamp":"2001-01-09","price":51.81},{"timestamp":"2001-01-10","price":52.88},{"timestamp":"2001-01-11","price":55},{"timestamp":"2001-01-12","price":53.5},{"timestamp":"2001-01-16","price":52.56},{"timestamp":"2001-01-17","price":52.94},{"timestamp":"2001-01-18","price":55.5},{"timestamp":"2001-01-19","price":61},{"timestamp":"2001-01-22","price":60.13},{"timestamp":"2001-01-23","price":60.56},{"timestamp":"2001-01-24","price":62.94},{"timestamp":"2001-01-25","price":61.81},{"timestamp":"2001-01-26","price":64},{"timestamp":"2001-01-29","price":64.5},{"timestamp":"2001-01-30","price":63.38},{"timestamp":"2001-01-31","price":61.06},{"timestamp":"2001-02-01","price":62.38},{"timestamp":"2001-02-02","price":60.81},{"timestamp":"2001-02-05","price":61.94},{"timestamp":"2001-02-06","price":62.56},{"timestamp":"2001-02-07","price":64.69},{"timestamp":"2001-02-08","price":62.25},{"timestamp":"2001-02-09","price":59.13},{"timestamp":"2001-02-12","price":58.75},{"timestamp":"2001-02-13","price":58.19},{"timestamp":"2001-02-14","price":58.38},{"timestamp":"2001-02-15","price":58.81},{"timestamp":"2001-02-16","price":57.31},{"timestamp":"2001-02-20","price":55.88},{"timestamp":"2001-02-21","price":56.25},{"timestamp":"2001-02-22","price":55.19},{"timestamp":"2001-02-23","price":56.75},{"timestamp":"2001-02-26","price":59.56},{"timestamp":"2001-02-27","price":59.38},{"timestamp":"2001-02-28","price":59},{"timestamp":"2001-03-01","price":59.36},{"timestamp":"2001-03-02","price":56.69},{"timestamp":"2001-03-05","price":57.44},{"timestamp":"2001-03-06","price":59.44},{"timestamp":"2001-03-07","price":60.69},{"timestamp":"2001-03-08","price":59.25},{"timestamp":"2001-03-09","price":56.69},{"timestamp":"2001-03-12","price":51.94},{"timestamp":"2001-03-13","price":54.19},{"timestamp":"2001-03-14","price":54},{"timestamp":"2001-03-15","price":53.69},{"timestamp":"2001-03-16","price":54.56},{"timestamp":"2001-03-19","price":54.31},{"timestamp":"2001-03-20","price":52.69},{"timestamp":"2001-03-21","price":50.06},{"timestamp":"2001-03-22","price":54},{"timestamp":"2001-03-23","price":56.56},{"timestamp":"2001-03-26","price":56.06},{"timestamp":"2001-03-27","price":58.25},{"timestamp":"2001-03-28","price":55.56},{"timestamp":"2001-03-29","price":55.38},{"timestamp":"2001-03-30","price":54.69},{"timestamp":"2001-04-02","price":55.81},{"timestamp":"2001-04-03","price":53.38},{"timestamp":"2001-04-04","price":51.94},{"timestamp":"2001-04-05","price":56.75},{"timestamp":"2001-04-06","price":56.19},{"timestamp":"2001-04-09","price":57.15},{"timestamp":"2001-04-10","price":59.68},{"timestamp":"2001-04-11","price":60.04},{"timestamp":"2001-04-12","price":62.18},{"timestamp":"2001-04-16","price":60.79},{"timestamp":"2001-04-17","price":61.48},{"timestamp":"2001-04-18","price":65.43},{"timestamp":"2001-04-19","price":68.04},{"timestamp":"2001-04-20","price":69},{"timestamp":"2001-04-23","price":68.25},{"timestamp":"2001-04-24","price":67.55},{"timestamp":"2001-04-25","price":69.69},{"timestamp":"2001-04-26","price":69.13},{"timestamp":"2001-04-27","price":67.12},{"timestamp":"2001-04-30","price":67.75},{"timestamp":"2001-05-01","price":70.17},{"timestamp":"2001-05-02","price":69.76},{"timestamp":"2001-05-03","price":68.53},{"timestamp":"2001-05-04","price":70.75},{"timestamp":"2001-05-07","price":71.38},{"timestamp":"2001-05-08","price":72.06},{"timestamp":"2001-05-09","price":70.4},{"timestamp":"2001-05-10","price":70},{"timestamp":"2001-05-11","price":69.4},{"timestamp":"2001-05-14","price":68.72},{"timestamp":"2001-05-15","price":68.27},{"timestamp":"2001-05-16","price":69.16},{"timestamp":"2001-05-17","price":68.17},{"timestamp":"2001-05-18","price":68.09},{"timestamp":"2001-05-21","price":68.79},{"timestamp":"2001-05-22","price":70.31},{"timestamp":"2001-05-23","price":69.7},{"timestamp":"2001-05-24","price":71.72},{"timestamp":"2001-05-25","price":70.91},{"timestamp":"2001-05-29","price":70.34},{"timestamp":"2001-05-30","price":69.19},{"timestamp":"2001-05-31","price":69.18},{"timestamp":"2001-06-01","price":70.34},{"timestamp":"2001-06-04","price":70.78},{"timestamp":"2001-06-05","price":72.6},{"timestamp":"2001-06-06","price":72.36},{"timestamp":"2001-06-07","price":73.68},{"timestamp":"2001-06-08","price":73.19},{"timestamp":"2001-06-11","price":72.12},{"timestamp":"2001-06-12","price":72.08},{"timestamp":"2001-06-13","price":70.69},{"timestamp":"2001-06-14","price":68.9},{"timestamp":"2001-06-15","price":68.02},{"timestamp":"2001-06-18","price":66.88},{"timestamp":"2001-06-19","price":67.32},{"timestamp":"2001-06-20","price":69.41},{"timestamp":"2001-06-21","price":69.84},{"timestamp":"2001-06-22","price":68.83},{"timestamp":"2001-06-25","price":68.85},{"timestamp":"2001-06-26","price":70.14},{"timestamp":"2001-06-27","price":71.14},{"timestamp":"2001-06-28","price":72.74},{"timestamp":"2001-06-29","price":73},{"timestamp":"2001-07-02","price":70.6},{"timestamp":"2001-07-03","price":70.47},{"timestamp":"2001-07-05","price":68.51},{"timestamp":"2001-07-06","price":66.06},{"timestamp":"2001-07-09","price":65.69},{"timestamp":"2001-07-10","price":64.48},{"timestamp":"2001-07-11","price":66.5},{"timestamp":"2001-07-12","price":71.6},{"timestamp":"2001-07-13","price":71.34},{"timestamp":"2001-07-16","price":71.18},{"timestamp":"2001-07-17","price":71.82},{"timestamp":"2001-07-18","price":70.57},{"timestamp":"2001-07-19","price":72.57},{"timestamp":"2001-07-20","price":69.18},{"timestamp":"2001-07-23","price":67.09},{"timestamp":"2001-07-24","price":66.32},{"timestamp":"2001-07-25","price":67.48},{"timestamp":"2001-07-26","price":66.59},{"timestamp":"2001-07-27","price":65.47},{"timestamp":"2001-07-30","price":65.8},{"timestamp":"2001-07-31","price":66.19},{"timestamp":"2001-08-01","price":66.47},{"timestamp":"2001-08-02","price":67.45},{"timestamp":"2001-08-03","price":66.89},{"timestamp":"2001-08-06","price":66.13},{"timestamp":"2001-08-07","price":66.35},{"timestamp":"2001-08-08","price":64.86},{"timestamp":"2001-08-09","price":65.01},{"timestamp":"2001-08-10","price":65.52},{"timestamp":"2001-08-13","price":65.83},{"timestamp":"2001-08-14","price":64.69},{"timestamp":"2001-08-15","price":63.2},{"timestamp":"2001-08-16","price":64.62},{"timestamp":"2001-08-17","price":61.88},{"timestamp":"2001-08-20","price":62.7},{"timestamp":"2001-08-21","price":60.78},{"timestamp":"2001-08-22","price":60.66},{"timestamp":"2001-08-23","price":59.12},{"timestamp":"2001-08-24","price":62.05},{"timestamp":"2001-08-27","price":62.31},{"timestamp":"2001-08-28","price":60.74},{"timestamp":"2001-08-29","price":60.25},{"timestamp":"2001-08-30","price":56.94},{"timestamp":"2001-08-31","price":57.05},{"timestamp":"2001-09-04","price":56.1},{"timestamp":"2001-09-05","price":57.74},{"timestamp":"2001-09-06","price":56.02},{"timestamp":"2001-09-07","price":55.4},{"timestamp":"2001-09-10","price":57.58},{"timestamp":"2001-09-17","price":52.91},{"timestamp":"2001-09-18","price":54.32},{"timestamp":"2001-09-19","price":53.87},{"timestamp":"2001-09-20","price":50.76},{"timestamp":"2001-09-21","price":49.71},{"timestamp":"2001-09-24","price":52.01},{"timestamp":"2001-09-25","price":51.3},{"timestamp":"2001-09-26","price":50.27},{"timestamp":"2001-09-27","price":49.96},{"timestamp":"2001-09-28","price":51.17},{"timestamp":"2001-10-01","price":51.79},{"timestamp":"2001-10-02","price":53.05},{"timestamp":"2001-10-03","price":56.23},{"timestamp":"2001-10-04","price":56.44},{"timestamp":"2001-10-05","price":57.72},{"timestamp":"2001-10-08","price":58.04},{"timestamp":"2001-10-09","price":54.56},{"timestamp":"2001-10-10","price":55.51},{"timestamp":"2001-10-11","price":56.32},{"timestamp":"2001-10-12","price":56.38},{"timestamp":"2001-10-15","price":58.06},{"timestamp":"2001-10-16","price":58.45},{"timestamp":"2001-10-17","price":56.03},{"timestamp":"2001-10-18","price":56.75},{"timestamp":"2001-10-19","price":57.9},{"timestamp":"2001-10-22","price":60.16},{"timestamp":"2001-10-23","price":60.43},{"timestamp":"2001-10-24","price":61.32},{"timestamp":"2001-10-25","price":62.56},{"timestamp":"2001-10-26","price":62.2},{"timestamp":"2001-10-29","price":59.64},{"timestamp":"2001-10-30","price":58.88},{"timestamp":"2001-10-31","price":58.15},{"timestamp":"2001-11-01","price":61.84},{"timestamp":"2001-11-02","price":61.4},{"timestamp":"2001-11-05","price":63.27},{"timestamp":"2001-11-06","price":64.78},{"timestamp":"2001-11-07","price":64.25},{"timestamp":"2001-11-08","price":64.42},{"timestamp":"2001-11-09","price":65.21},{"timestamp":"2001-11-12","price":65.79},{"timestamp":"2001-11-13","price":67.9},{"timestamp":"2001-11-14","price":65.95},{"timestamp":"2001-11-15","price":66.12},{"timestamp":"2001-11-16","price":65.75},{"timestamp":"2001-11-19","price":66.54},{"timestamp":"2001-11-20","price":65.4},{"timestamp":"2001-11-21","price":64.05},{"timestamp":"2001-11-23","price":64.71},{"timestamp":"2001-11-26","price":65.14},{"timestamp":"2001-11-27","price":63.74},{"timestamp":"2001-11-28","price":62.8},{"timestamp":"2001-11-29","price":64.84},{"timestamp":"2001-11-30","price":64.21},{"timestamp":"2001-12-03","price":64.77},{"timestamp":"2001-12-04","price":66},{"timestamp":"2001-12-05","price":68.1},{"timestamp":"2001-12-06","price":68.65},{"timestamp":"2001-12-07","price":67.83},{"timestamp":"2001-12-10","price":67.06},{"timestamp":"2001-12-11","price":67.32},{"timestamp":"2001-12-12","price":67.95},{"timestamp":"2001-12-13","price":66.27},{"timestamp":"2001-12-14","price":67.44},{"timestamp":"2001-12-17","price":68.98},{"timestamp":"2001-12-18","price":69.27},{"timestamp":"2001-12-19","price":69.49},{"timestamp":"2001-12-20","price":66.76},{"timestamp":"2001-12-21","price":67.54},{"timestamp":"2001-12-24","price":67.27},{"timestamp":"2001-12-26","price":67.68},{"timestamp":"2001-12-27","price":67.85},{"timestamp":"2001-12-28","price":67.87},{"timestamp":"2001-12-31","price":66.25},{"timestamp":"2002-01-02","price":67.04},{"timestamp":"2002-01-03","price":69.23},{"timestamp":"2002-01-04","price":68.9},{"timestamp":"2002-01-07","price":68.56},{"timestamp":"2002-01-08","price":69.38},{"timestamp":"2002-01-09","price":68.71},{"timestamp":"2002-01-10","price":69.28},{"timestamp":"2002-01-11","price":68.61},{"timestamp":"2002-01-14","price":68.47},{"timestamp":"2002-01-15","price":69.55},{"timestamp":"2002-01-16","price":67.87},{"timestamp":"2002-01-17","price":69.86},{"timestamp":"2002-01-18","price":66.1},{"timestamp":"2002-01-22","price":64.46},{"timestamp":"2002-01-23","price":63.74},{"timestamp":"2002-01-24","price":64.6},{"timestamp":"2002-01-25","price":63.8},{"timestamp":"2002-01-28","price":63.82},{"timestamp":"2002-01-29","price":62.32},{"timestamp":"2002-01-30","price":62.85},{"timestamp":"2002-01-31","price":63.71},{"timestamp":"2002-02-01","price":62.66},{"timestamp":"2002-02-04","price":61.12},{"timestamp":"2002-02-05","price":61.15},{"timestamp":"2002-02-06","price":60.4},{"timestamp":"2002-02-07","price":59.8},{"timestamp":"2002-02-08","price":60.65},{"timestamp":"2002-02-11","price":61.13},{"timestamp":"2002-02-12","price":60.14},{"timestamp":"2002-02-13","price":61.82},{"timestamp":"2002-02-14","price":61.68},{"timestamp":"2002-02-15","price":60.23},{"timestamp":"2002-02-19","price":58.93},{"timestamp":"2002-02-20","price":59.9},{"timestamp":"2002-02-21","price":58.05},{"timestamp":"2002-02-22","price":57.99},{"timestamp":"2002-02-25","price":59.08},{"timestamp":"2002-02-26","price":58.55},{"timestamp":"2002-02-27","price":58.39},{"timestamp":"2002-02-28","price":58.34},{"timestamp":"2002-03-01","price":61.37},{"timestamp":"2002-03-04","price":63.3},{"timestamp":"2002-03-05","price":63.08},{"timestamp":"2002-03-06","price":63.63},{"timestamp":"2002-03-07","price":62.72},{"timestamp":"2002-03-08","price":63.95},{"timestamp":"2002-03-11","price":64.34},{"timestamp":"2002-03-12","price":62.54},{"timestamp":"2002-03-13","price":62.1},{"timestamp":"2002-03-14","price":61.22},{"timestamp":"2002-03-15","price":62.49},{"timestamp":"2002-03-18","price":62.14},{"timestamp":"2002-03-19","price":62.23},{"timestamp":"2002-03-20","price":60.1},{"timestamp":"2002-03-21","price":61.36},{"timestamp":"2002-03-22","price":60.45},{"timestamp":"2002-03-25","price":59.23},{"timestamp":"2002-03-26","price":59.08},{"timestamp":"2002-03-27","price":59.44},{"timestamp":"2002-03-28","price":60.31},{"timestamp":"2002-04-01","price":60.38},{"timestamp":"2002-04-02","price":57.28},{"timestamp":"2002-04-03","price":56.33},{"timestamp":"2002-04-04","price":56.45},{"timestamp":"2002-04-05","price":55.87},{"timestamp":"2002-04-08","price":57.22},{"timestamp":"2002-04-09","price":54.87},{"timestamp":"2002-04-10","price":56.3},{"timestamp":"2002-04-11","price":54.79},{"timestamp":"2002-04-12","price":55.93},{"timestamp":"2002-04-15","price":55.69},{"timestamp":"2002-04-16","price":57.81},{"timestamp":"2002-04-17","price":56.63},{"timestamp":"2002-04-18","price":56.37},{"timestamp":"2002-04-19","price":57.2},{"timestamp":"2002-04-22","price":55.59},{"timestamp":"2002-04-23","price":53.99},{"timestamp":"2002-04-24","price":53.02},{"timestamp":"2002-04-25","price":53.73},{"timestamp":"2002-04-26","price":51.5},{"timestamp":"2002-04-29","price":52.24},{"timestamp":"2002-04-30","price":52.26},{"timestamp":"2002-05-01","price":52.75},{"timestamp":"2002-05-02","price":51.21},{"timestamp":"2002-05-03","price":49.56},{"timestamp":"2002-05-06","price":48.62},{"timestamp":"2002-05-07","price":49.47},{"timestamp":"2002-05-08","price":54.97},{"timestamp":"2002-05-09","price":52.12},{"timestamp":"2002-05-10","price":50.05},{"timestamp":"2002-05-13","price":52.69},{"timestamp":"2002-05-14","price":54.88},{"timestamp":"2002-05-15","price":54.75},{"timestamp":"2002-05-16","price":55.74},{"timestamp":"2002-05-17","price":56.03},{"timestamp":"2002-05-20","price":54.01},{"timestamp":"2002-05-21","price":52.19},{"timestamp":"2002-05-22","price":53.69},{"timestamp":"2002-05-23","price":54.82},{"timestamp":"2002-05-24","price":53.26},{"timestamp":"2002-05-28","price":52.32},{"timestamp":"2002-05-29","price":52.05},{"timestamp":"2002-05-30","price":52.64},{"timestamp":"2002-05-31","price":50.91},{"timestamp":"2002-06-03","price":49.42},{"timestamp":"2002-06-04","price":49.98},{"timestamp":"2002-06-05","price":51.66},{"timestamp":"2002-06-06","price":51.9},{"timestamp":"2002-06-07","price":51.98},{"timestamp":"2002-06-10","price":52.82},{"timestamp":"2002-06-11","price":52.57},{"timestamp":"2002-06-12","price":55.54},{"timestamp":"2002-06-13","price":54.22},{"timestamp":"2002-06-14","price":55.25},{"timestamp":"2002-06-17","price":55.68},{"timestamp":"2002-06-18","price":55.99},{"timestamp":"2002-06-19","price":54.36},{"timestamp":"2002-06-20","price":54.1},{"timestamp":"2002-06-21","price":52.28},{"timestamp":"2002-06-24","price":54.16},{"timestamp":"2002-06-25","price":52.95},{"timestamp":"2002-06-26","price":54.13},{"timestamp":"2002-06-27","price":54.92},{"timestamp":"2002-06-28","price":54.7},{"timestamp":"2002-07-01","price":52.66},{"timestamp":"2002-07-02","price":51.44},{"timestamp":"2002-07-03","price":51.84},{"timestamp":"2002-07-05","price":54.85},{"timestamp":"2002-07-08","price":52.92},{"timestamp":"2002-07-09","price":53.21},{"timestamp":"2002-07-10","price":52.24},{"timestamp":"2002-07-11","price":52.91},{"timestamp":"2002-07-12","price":51.86},{"timestamp":"2002-07-15","price":51.8},{"timestamp":"2002-07-16","price":51.25},{"timestamp":"2002-07-17","price":52},{"timestamp":"2002-07-18","price":51.11},{"timestamp":"2002-07-19","price":49.56},{"timestamp":"2002-07-22","price":47.51},{"timestamp":"2002-07-23","price":43.01},{"timestamp":"2002-07-24","price":46.23},{"timestamp":"2002-07-25","price":42.83},{"timestamp":"2002-07-26","price":45.35},{"timestamp":"2002-07-29","price":48.25},{"timestamp":"2002-07-30","price":48.1},{"timestamp":"2002-07-31","price":47.98},{"timestamp":"2002-08-01","price":45.75},{"timestamp":"2002-08-02","price":44.41},{"timestamp":"2002-08-05","price":43.99},{"timestamp":"2002-08-06","price":45.67},{"timestamp":"2002-08-07","price":47.09},{"timestamp":"2002-08-08","price":48.91},{"timestamp":"2002-08-09","price":48.12},{"timestamp":"2002-08-12","price":48.47},{"timestamp":"2002-08-13","price":47.06},{"timestamp":"2002-08-14","price":49.71},{"timestamp":"2002-08-15","price":49.77},{"timestamp":"2002-08-16","price":50},{"timestamp":"2002-08-19","price":52},{"timestamp":"2002-08-20","price":51.04},{"timestamp":"2002-08-21","price":52.28},{"timestamp":"2002-08-22","price":53.23},{"timestamp":"2002-08-23","price":52.22},{"timestamp":"2002-08-26","price":52.1},{"timestamp":"2002-08-27","price":50.84},{"timestamp":"2002-08-28","price":49.38},{"timestamp":"2002-08-29","price":50.58},{"timestamp":"2002-08-30","price":49.08},{"timestamp":"2002-09-03","price":47.02},{"timestamp":"2002-09-04","price":48.21},{"timestamp":"2002-09-05","price":45.91},{"timestamp":"2002-09-06","price":47.82},{"timestamp":"2002-09-09","price":48.7},{"timestamp":"2002-09-10","price":49.79},{"timestamp":"2002-09-11","price":48.58},{"timestamp":"2002-09-12","price":47.15},{"timestamp":"2002-09-13","price":47.91},{"timestamp":"2002-09-16","price":47.78},{"timestamp":"2002-09-17","price":47.29},{"timestamp":"2002-09-18","price":47.75},{"timestamp":"2002-09-19","price":47.2},{"timestamp":"2002-09-20","price":47.46},{"timestamp":"2002-09-23","price":45.23},{"timestamp":"2002-09-24","price":45.64},{"timestamp":"2002-09-25","price":46.51},{"timestamp":"2002-09-26","price":46.2},{"timestamp":"2002-09-27","price":45.25},{"timestamp":"2002-09-30","price":43.74},{"timestamp":"2002-10-01","price":46.23},{"timestamp":"2002-10-02","price":45.61},{"timestamp":"2002-10-03","price":44.8},{"timestamp":"2002-10-04","price":43.77},{"timestamp":"2002-10-07","price":44.05},{"timestamp":"2002-10-08","price":44.99},{"timestamp":"2002-10-09","price":43.99},{"timestamp":"2002-10-10","price":46.38},{"timestamp":"2002-10-11","price":48.87},{"timestamp":"2002-10-14","price":49.29},{"timestamp":"2002-10-15","price":52.29},{"timestamp":"2002-10-16","price":50.41},{"timestamp":"2002-10-17","price":50.77},{"timestamp":"2002-10-18","price":53.15},{"timestamp":"2002-10-21","price":52.51},{"timestamp":"2002-10-22","price":51.67},{"timestamp":"2002-10-23","price":53.2},{"timestamp":"2002-10-24","price":51.23},{"timestamp":"2002-10-25","price":52.68},{"timestamp":"2002-10-28","price":51.95},{"timestamp":"2002-10-29","price":52.07},{"timestamp":"2002-10-30","price":53.11},{"timestamp":"2002-10-31","price":53.47},{"timestamp":"2002-11-01","price":53},{"timestamp":"2002-11-04","price":56.1},{"timestamp":"2002-11-05","price":56.68},{"timestamp":"2002-11-06","price":57.03},{"timestamp":"2002-11-07","price":56.01},{"timestamp":"2002-11-08","price":55.1},{"timestamp":"2002-11-11","price":53.86},{"timestamp":"2002-11-12","price":54.51},{"timestamp":"2002-11-13","price":55.36},{"timestamp":"2002-11-14","price":56.99},{"timestamp":"2002-11-15","price":56.69},{"timestamp":"2002-11-18","price":55.85},{"timestamp":"2002-11-19","price":54.86},{"timestamp":"2002-11-20","price":56.62},{"timestamp":"2002-11-21","price":57.84},{"timestamp":"2002-11-22","price":58.22},{"timestamp":"2002-11-25","price":58.23},{"timestamp":"2002-11-26","price":56.9},{"timestamp":"2002-11-27","price":58.08},{"timestamp":"2002-11-29","price":57.68},{"timestamp":"2002-12-02","price":57.69},{"timestamp":"2002-12-03","price":56.71},{"timestamp":"2002-12-04","price":56.54},{"timestamp":"2002-12-05","price":55.34},{"timestamp":"2002-12-06","price":55.47},{"timestamp":"2002-12-09","price":53.53},{"timestamp":"2002-12-10","price":54.01},{"timestamp":"2002-12-11","price":54.66},{"timestamp":"2002-12-12","price":54.17},{"timestamp":"2002-12-13","price":52.5},{"timestamp":"2002-12-16","price":54.48},{"timestamp":"2002-12-17","price":54.36},{"timestamp":"2002-12-18","price":53.53},{"timestamp":"2002-12-19","price":53.11},{"timestamp":"2002-12-20","price":53.04},{"timestamp":"2002-12-23","price":54},{"timestamp":"2002-12-24","price":53.82},{"timestamp":"2002-12-26","price":53.39},{"timestamp":"2002-12-27","price":52.97},{"timestamp":"2002-12-30","price":52.75},{"timestamp":"2002-12-31","price":51.7},{"timestamp":"2003-01-02","price":53.72},{"timestamp":"2003-01-03","price":53.79},{"timestamp":"2003-01-06","price":54.77},{"timestamp":"2003-01-07","price":55.8},{"timestamp":"2003-01-08","price":54.24},{"timestamp":"2003-01-09","price":55.81},{"timestamp":"2003-01-10","price":55.92},{"timestamp":"2003-01-13","price":56.39},{"timestamp":"2003-01-14","price":56.97},{"timestamp":"2003-01-15","price":56.27},{"timestamp":"2003-01-16","price":55.35},{"timestamp":"2003-01-17","price":51.46},{"timestamp":"2003-01-21","price":51.33},{"timestamp":"2003-01-22","price":51},{"timestamp":"2003-01-23","price":52.28},{"timestamp":"2003-01-24","price":49.85},{"timestamp":"2003-01-27","price":49.17},{"timestamp":"2003-01-28","price":48.82},{"timestamp":"2003-01-29","price":49.91},{"timestamp":"2003-01-30","price":48.24},{"timestamp":"2003-01-31","price":47.46},{"timestamp":"2003-02-03","price":48.56},{"timestamp":"2003-02-04","price":47.32},{"timestamp":"2003-02-05","price":46.96},{"timestamp":"2003-02-06","price":47.42},{"timestamp":"2003-02-07","price":46.58},{"timestamp":"2003-02-10","price":47.38},{"timestamp":"2003-02-11","price":46.44},{"timestamp":"2003-02-12","price":46.44},{"timestamp":"2003-02-13","price":46.99},{"timestamp":"2003-02-14","price":48.3},{"timestamp":"2003-02-18","price":24.96},{"timestamp":"2003-02-19","price":24.53},{"timestamp":"2003-02-20","price":24.14},{"timestamp":"2003-02-21","price":24.63},{"timestamp":"2003-02-24","price":24.07},{"timestamp":"2003-02-25","price":24.19},{"timestamp":"2003-02-26","price":23.61},{"timestamp":"2003-02-27","price":23.58},{"timestamp":"2003-02-28","price":23.7},{"timestamp":"2003-03-03","price":23.54},{"timestamp":"2003-03-04","price":23.07},{"timestamp":"2003-03-05","price":23.44},{"timestamp":"2003-03-06","price":23.27},{"timestamp":"2003-03-07","price":23.56},{"timestamp":"2003-03-10","price":22.95},{"timestamp":"2003-03-11","price":22.8},{"timestamp":"2003-03-12","price":23.39},{"timestamp":"2003-03-13","price":24.67},{"timestamp":"2003-03-14","price":24.86},{"timestamp":"2003-03-17","price":25.93},{"timestamp":"2003-03-18","price":26.04},{"timestamp":"2003-03-19","price":26.32},{"timestamp":"2003-03-20","price":26.25},{"timestamp":"2003-03-21","price":26.57},{"timestamp":"2003-03-24","price":25.29},{"timestamp":"2003-03-25","price":25.49},{"timestamp":"2003-03-26","price":25.25},{"timestamp":"2003-03-27","price":25.04},{"timestamp":"2003-03-28","price":24.67},{"timestamp":"2003-03-31","price":24.21},{"timestamp":"2003-04-01","price":24.35},{"timestamp":"2003-04-02","price":25.72},{"timestamp":"2003-04-03","price":25.73},{"timestamp":"2003-04-04","price":25.09},{"timestamp":"2003-04-07","price":25.17},{"timestamp":"2003-04-08","price":25.58},{"timestamp":"2003-04-09","price":24.57},{"timestamp":"2003-04-10","price":24.59},{"timestamp":"2003-04-11","price":24.2},{"timestamp":"2003-04-14","price":24.76},{"timestamp":"2003-04-15","price":24.6},{"timestamp":"2003-04-16","price":24.92},{"timestamp":"2003-04-17","price":25.5},{"timestamp":"2003-04-21","price":25.21},{"timestamp":"2003-04-22","price":25.76},{"timestamp":"2003-04-23","price":25.72},{"timestamp":"2003-04-24","price":25.49},{"timestamp":"2003-04-25","price":25.22},{"timestamp":"2003-04-28","price":25.74},{"timestamp":"2003-04-29","price":25.8},{"timestamp":"2003-04-30","price":25.57},{"timestamp":"2003-05-01","price":25.72},{"timestamp":"2003-05-02","price":26.1},{"timestamp":"2003-05-05","price":25.86},{"timestamp":"2003-05-06","price":26.37},{"timestamp":"2003-05-07","price":25.99},{"timestamp":"2003-05-08","price":25.74},{"timestamp":"2003-05-09","price":26.36},{"timestamp":"2003-05-12","price":26.2},{"timestamp":"2003-05-13","price":25.99},{"timestamp":"2003-05-14","price":25.62},{"timestamp":"2003-05-15","price":25.79},{"timestamp":"2003-05-16","price":25.57},{"timestamp":"2003-05-19","price":24.76},{"timestamp":"2003-05-20","price":24.63},{"timestamp":"2003-05-21","price":24.03},{"timestamp":"2003-05-22","price":24.16},{"timestamp":"2003-05-23","price":24.22},{"timestamp":"2003-05-27","price":24.79},{"timestamp":"2003-05-28","price":24.41},{"timestamp":"2003-05-29","price":24.4},{"timestamp":"2003-05-30","price":24.61},{"timestamp":"2003-06-02","price":24.64},{"timestamp":"2003-06-03","price":24.88},{"timestamp":"2003-06-04","price":24.87},{"timestamp":"2003-06-05","price":24.09},{"timestamp":"2003-06-06","price":23.67},{"timestamp":"2003-06-09","price":23.75},{"timestamp":"2003-06-10","price":24.68},{"timestamp":"2003-06-11","price":24.88},{"timestamp":"2003-06-12","price":24.99},{"timestamp":"2003-06-13","price":24.65},{"timestamp":"2003-06-16","price":25.39},{"timestamp":"2003-06-17","price":25.96},{"timestamp":"2003-06-18","price":26.07},{"timestamp":"2003-06-19","price":26.07},{"timestamp":"2003-06-20","price":26.33},{"timestamp":"2003-06-23","price":25.78},{"timestamp":"2003-06-24","price":25.7},{"timestamp":"2003-06-25","price":25.26},{"timestamp":"2003-06-26","price":25.75},{"timestamp":"2003-06-27","price":25.63},{"timestamp":"2003-06-30","price":25.64},{"timestamp":"2003-07-01","price":26.15},{"timestamp":"2003-07-02","price":26.88},{"timestamp":"2003-07-03","price":26.5},{"timestamp":"2003-07-07","price":27.42},{"timestamp":"2003-07-08","price":27.7},{"timestamp":"2003-07-09","price":27.47},{"timestamp":"2003-07-10","price":26.91},{"timestamp":"2003-07-11","price":27.31},{"timestamp":"2003-07-14","price":27.4},{"timestamp":"2003-07-15","price":27.27},{"timestamp":"2003-07-16","price":27.52},{"timestamp":"2003-07-17","price":26.69},{"timestamp":"2003-07-18","price":26.89},{"timestamp":"2003-07-21","price":26.04},{"timestamp":"2003-07-22","price":26.38},{"timestamp":"2003-07-23","price":26.45},{"timestamp":"2003-07-24","price":26},{"timestamp":"2003-07-25","price":26.89},{"timestamp":"2003-07-28","price":26.61},{"timestamp":"2003-07-29","price":26.47},{"timestamp":"2003-07-30","price":26.23},{"timestamp":"2003-07-31","price":26.41},{"timestamp":"2003-08-01","price":26.17},{"timestamp":"2003-08-04","price":26.18},{"timestamp":"2003-08-05","price":25.66},{"timestamp":"2003-08-06","price":25.65},{"timestamp":"2003-08-07","price":25.71},{"timestamp":"2003-08-08","price":25.58},{"timestamp":"2003-08-11","price":25.61},{"timestamp":"2003-08-12","price":25.73},{"timestamp":"2003-08-13","price":25.6},{"timestamp":"2003-08-14","price":25.63},{"timestamp":"2003-08-15","price":25.54},{"timestamp":"2003-08-18","price":25.7},{"timestamp":"2003-08-19","price":26.62},{"timestamp":"2003-08-20","price":26.45},{"timestamp":"2003-08-21","price":26.24},{"timestamp":"2003-08-22","price":26.22},{"timestamp":"2003-08-25","price":26.5},{"timestamp":"2003-08-26","price":26.57},{"timestamp":"2003-08-27","price":26.42},{"timestamp":"2003-08-28","price":26.51},{"timestamp":"2003-08-29","price":26.52},{"timestamp":"2003-09-02","price":27.26},{"timestamp":"2003-09-03","price":28.3},{"timestamp":"2003-09-04","price":28.43},{"timestamp":"2003-09-05","price":28.38},{"timestamp":"2003-09-08","price":28.84},{"timestamp":"2003-09-09","price":28.37},{"timestamp":"2003-09-10","price":27.55},{"timestamp":"2003-09-11","price":27.84},{"timestamp":"2003-09-12","price":28.34},{"timestamp":"2003-09-15","price":28.36},{"timestamp":"2003-09-16","price":28.9},{"timestamp":"2003-09-17","price":28.5},{"timestamp":"2003-09-18","price":29.5},{"timestamp":"2003-09-19","price":29.96},{"timestamp":"2003-09-22","price":29.07},{"timestamp":"2003-09-23","price":29.6},{"timestamp":"2003-09-24","price":28.46},{"timestamp":"2003-09-25","price":28.24},{"timestamp":"2003-09-26","price":28.19},{"timestamp":"2003-09-29","price":28.83},{"timestamp":"2003-09-30","price":27.8},{"timestamp":"2003-10-01","price":28.52},{"timestamp":"2003-10-02","price":28.5},{"timestamp":"2003-10-03","price":29.08},{"timestamp":"2003-10-06","price":29.19},{"timestamp":"2003-10-07","price":29.14},{"timestamp":"2003-10-08","price":28.82},{"timestamp":"2003-10-09","price":28.94},{"timestamp":"2003-10-10","price":28.91},{"timestamp":"2003-10-13","price":28.78},{"timestamp":"2003-10-14","price":28.68},{"timestamp":"2003-10-15","price":29.07},{"timestamp":"2003-10-16","price":29.23},{"timestamp":"2003-10-17","price":28.93},{"timestamp":"2003-10-20","price":29.35},{"timestamp":"2003-10-21","price":29.35},{"timestamp":"2003-10-22","price":28.89},{"timestamp":"2003-10-23","price":28.91},{"timestamp":"2003-10-24","price":26.61},{"timestamp":"2003-10-27","price":26.91},{"timestamp":"2003-10-28","price":27.2},{"timestamp":"2003-10-29","price":26.74},{"timestamp":"2003-10-30","price":26.12},{"timestamp":"2003-10-31","price":26.14},{"timestamp":"2003-11-03","price":26.68},{"timestamp":"2003-11-04","price":26.07},{"timestamp":"2003-11-05","price":26.1},{"timestamp":"2003-11-06","price":26.23},{"timestamp":"2003-11-07","price":26.1},{"timestamp":"2003-11-10","price":26},{"timestamp":"2003-11-11","price":25.8},{"timestamp":"2003-11-12","price":25.98},{"timestamp":"2003-11-13","price":25.69},{"timestamp":"2003-11-14","price":25.5},{"timestamp":"2003-11-17","price":25.15},{"timestamp":"2003-11-18","price":25.15},{"timestamp":"2003-11-19","price":25.35},{"timestamp":"2003-11-20","price":25.1},{"timestamp":"2003-11-21","price":25.11},{"timestamp":"2003-11-24","price":25.73},{"timestamp":"2003-11-25","price":25.4},{"timestamp":"2003-11-26","price":25.45},{"timestamp":"2003-11-28","price":25.71},{"timestamp":"2003-12-01","price":25.84},{"timestamp":"2003-12-02","price":25.66},{"timestamp":"2003-12-03","price":25.67},{"timestamp":"2003-12-04","price":26.2},{"timestamp":"2003-12-05","price":25.98},{"timestamp":"2003-12-08","price":26.24},{"timestamp":"2003-12-09","price":26.38},{"timestamp":"2003-12-10","price":26.59},{"timestamp":"2003-12-11","price":26.61},{"timestamp":"2003-12-12","price":26.65},{"timestamp":"2003-12-15","price":26.74},{"timestamp":"2003-12-16","price":27.06},{"timestamp":"2003-12-17","price":27.04},{"timestamp":"2003-12-18","price":27.4},{"timestamp":"2003-12-19","price":27.36},{"timestamp":"2003-12-22","price":27.18},{"timestamp":"2003-12-23","price":27.15},{"timestamp":"2003-12-24","price":27.04},{"timestamp":"2003-12-26","price":27.21},{"timestamp":"2003-12-29","price":27.46},{"timestamp":"2003-12-30","price":27.52},{"timestamp":"2003-12-31","price":27.37},{"timestamp":"2004-01-02","price":27.45},{"timestamp":"2004-01-05","price":28.14},{"timestamp":"2004-01-06","price":28.24},{"timestamp":"2004-01-07","price":28.21},{"timestamp":"2004-01-08","price":28.16},{"timestamp":"2004-01-09","price":27.66},{"timestamp":"2004-01-12","price":27.57},{"timestamp":"2004-01-13","price":27.43},{"timestamp":"2004-01-14","price":27.7},{"timestamp":"2004-01-15","price":27.54},{"timestamp":"2004-01-16","price":27.81},{"timestamp":"2004-01-20","price":28.1},{"timestamp":"2004-01-21","price":28.3},{"timestamp":"2004-01-22","price":28.01},{"timestamp":"2004-01-23","price":28.48},{"timestamp":"2004-01-26","price":28.8},{"timestamp":"2004-01-27","price":28.25},{"timestamp":"2004-01-28","price":27.71},{"timestamp":"2004-01-29","price":27.91},{"timestamp":"2004-01-30","price":27.65},{"timestamp":"2004-02-02","price":27.4},{"timestamp":"2004-02-03","price":27.29},{"timestamp":"2004-02-04","price":27.01},{"timestamp":"2004-02-05","price":26.96},{"timestamp":"2004-02-06","price":27.08},{"timestamp":"2004-02-09","price":26.9},{"timestamp":"2004-02-10","price":27.02},{"timestamp":"2004-02-11","price":27.15},{"timestamp":"2004-02-12","price":26.95},{"timestamp":"2004-02-13","price":26.59},{"timestamp":"2004-02-17","price":26.99},{"timestamp":"2004-02-18","price":26.77},{"timestamp":"2004-02-19","price":26.46},{"timestamp":"2004-02-20","price":26.57},{"timestamp":"2004-02-23","price":26.61},{"timestamp":"2004-02-24","price":26.88},{"timestamp":"2004-02-25","price":26.7},{"timestamp":"2004-02-26","price":26.5},{"timestamp":"2004-02-27","price":26.53},{"timestamp":"2004-03-01","price":26.7},{"timestamp":"2004-03-02","price":26.39},{"timestamp":"2004-03-03","price":26.37},{"timestamp":"2004-03-04","price":26.37},{"timestamp":"2004-03-05","price":26.35},{"timestamp":"2004-03-08","price":25.83},{"timestamp":"2004-03-09","price":25.72},{"timestamp":"2004-03-10","price":25.37},{"timestamp":"2004-03-11","price":25.09},{"timestamp":"2004-03-12","price":25.38},{"timestamp":"2004-03-15","price":25.16},{"timestamp":"2004-03-16","price":25.18},{"timestamp":"2004-03-17","price":25.13},{"timestamp":"2004-03-18","price":24.89},{"timestamp":"2004-03-19","price":24.63},{"timestamp":"2004-03-22","price":24.5},{"timestamp":"2004-03-23","price":24.15},{"timestamp":"2004-03-24","price":24.41},{"timestamp":"2004-03-25","price":25.19},{"timestamp":"2004-03-26","price":25.03},{"timestamp":"2004-03-29","price":25.31},{"timestamp":"2004-03-30","price":25.2},{"timestamp":"2004-03-31","price":24.93},{"timestamp":"2004-04-01","price":25.08},{"timestamp":"2004-04-02","price":25.85},{"timestamp":"2004-04-05","price":25.951},{"timestamp":"2004-04-06","price":25.8},{"timestamp":"2004-04-07","price":25.59},{"timestamp":"2004-04-08","price":25.48},{"timestamp":"2004-04-12","price":25.61},{"timestamp":"2004-04-13","price":25.45},{"timestamp":"2004-04-14","price":25.51},{"timestamp":"2004-04-15","price":25.215},{"timestamp":"2004-04-16","price":25.16},{"timestamp":"2004-04-19","price":25.53},{"timestamp":"2004-04-20","price":25.33},{"timestamp":"2004-04-21","price":25.45},{"timestamp":"2004-04-22","price":25.95},{"timestamp":"2004-04-23","price":27.54},{"timestamp":"2004-04-26","price":27.24},{"timestamp":"2004-04-27","price":27.22},{"timestamp":"2004-04-28","price":26.56},{"timestamp":"2004-04-29","price":26.48},{"timestamp":"2004-04-30","price":26.13},{"timestamp":"2004-05-03","price":26.35},{"timestamp":"2004-05-04","price":26.33},{"timestamp":"2004-05-05","price":26.3},{"timestamp":"2004-05-06","price":26.12},{"timestamp":"2004-05-07","price":25.78},{"timestamp":"2004-05-10","price":25.93},{"timestamp":"2004-05-11","price":25.94},{"timestamp":"2004-05-12","price":25.94},{"timestamp":"2004-05-13","price":26.1},{"timestamp":"2004-05-14","price":25.86},{"timestamp":"2004-05-17","price":25.54},{"timestamp":"2004-05-18","price":25.83},{"timestamp":"2004-05-19","price":25.62},{"timestamp":"2004-05-20","price":25.73},{"timestamp":"2004-05-21","price":25.89},{"timestamp":"2004-05-24","price":25.76},{"timestamp":"2004-05-25","price":26.1},{"timestamp":"2004-05-26","price":26.14},{"timestamp":"2004-05-27","price":26.19},{"timestamp":"2004-05-28","price":26.23},{"timestamp":"2004-06-01","price":26.11},{"timestamp":"2004-06-02","price":26.13},{"timestamp":"2004-06-03","price":25.89},{"timestamp":"2004-06-04","price":25.95},{"timestamp":"2004-06-07","price":26.43},{"timestamp":"2004-06-08","price":26.6},{"timestamp":"2004-06-09","price":26.47},{"timestamp":"2004-06-10","price":26.77},{"timestamp":"2004-06-14","price":26.9},{"timestamp":"2004-06-15","price":27.405},{"timestamp":"2004-06-16","price":27.32},{"timestamp":"2004-06-17","price":27.769},{"timestamp":"2004-06-18","price":28.35},{"timestamp":"2004-06-21","price":28.35},{"timestamp":"2004-06-22","price":28.29},{"timestamp":"2004-06-23","price":28.3},{"timestamp":"2004-06-24","price":28.39},{"timestamp":"2004-06-25","price":28.57},{"timestamp":"2004-06-28","price":28.28},{"timestamp":"2004-06-29","price":28.5},{"timestamp":"2004-06-30","price":28.56},{"timestamp":"2004-07-01","price":28.63},{"timestamp":"2004-07-02","price":28.57},{"timestamp":"2004-07-06","price":28.02},{"timestamp":"2004-07-07","price":28.1},{"timestamp":"2004-07-08","price":27.64},{"timestamp":"2004-07-09","price":27.86},{"timestamp":"2004-07-12","price":27.89},{"timestamp":"2004-07-13","price":27.6},{"timestamp":"2004-07-14","price":28.13},{"timestamp":"2004-07-15","price":27.87},{"timestamp":"2004-07-16","price":27.48},{"timestamp":"2004-07-19","price":27.95},{"timestamp":"2004-07-20","price":28.32},{"timestamp":"2004-07-21","price":28.86},{"timestamp":"2004-07-22","price":29},{"timestamp":"2004-07-23","price":28.03},{"timestamp":"2004-07-26","price":28.66},{"timestamp":"2004-07-27","price":28.44},{"timestamp":"2004-07-28","price":28.58},{"timestamp":"2004-07-29","price":28.48},{"timestamp":"2004-07-30","price":28.49},{"timestamp":"2004-08-02","price":28.52},{"timestamp":"2004-08-03","price":28.07},{"timestamp":"2004-08-04","price":28.06},{"timestamp":"2004-08-05","price":27.53},{"timestamp":"2004-08-06","price":27.14},{"timestamp":"2004-08-09","price":27.18},{"timestamp":"2004-08-10","price":27.72},{"timestamp":"2004-08-11","price":27.41},{"timestamp":"2004-08-12","price":26.88},{"timestamp":"2004-08-13","price":27.02},{"timestamp":"2004-08-16","price":27.09},{"timestamp":"2004-08-17","price":27.05},{"timestamp":"2004-08-18","price":27.46},{"timestamp":"2004-08-19","price":27.12},{"timestamp":"2004-08-20","price":27.2},{"timestamp":"2004-08-23","price":27.24},{"timestamp":"2004-08-24","price":27.24},{"timestamp":"2004-08-25","price":27.55},{"timestamp":"2004-08-26","price":27.44},{"timestamp":"2004-08-27","price":27.46},{"timestamp":"2004-08-30","price":27.3},{"timestamp":"2004-08-31","price":27.3},{"timestamp":"2004-09-01","price":27.39},{"timestamp":"2004-09-02","price":27.62},{"timestamp":"2004-09-03","price":27.11},{"timestamp":"2004-09-07","price":27.36},{"timestamp":"2004-09-08","price":27.26},{"timestamp":"2004-09-09","price":27.28},{"timestamp":"2004-09-10","price":27.49},{"timestamp":"2004-09-13","price":27.25},{"timestamp":"2004-09-14","price":27.44},{"timestamp":"2004-09-15","price":27.19},{"timestamp":"2004-09-16","price":27.26},{"timestamp":"2004-09-17","price":27.51},{"timestamp":"2004-09-20","price":27.51},{"timestamp":"2004-09-21","price":27.26},{"timestamp":"2004-09-22","price":27.12},{"timestamp":"2004-09-23","price":27.35},{"timestamp":"2004-09-24","price":27.29},{"timestamp":"2004-09-27","price":27.19},{"timestamp":"2004-09-28","price":27.27},{"timestamp":"2004-09-29","price":27.58},{"timestamp":"2004-09-30","price":27.65},{"timestamp":"2004-10-01","price":28.25},{"timestamp":"2004-10-04","price":28.12},{"timestamp":"2004-10-05","price":28.38},{"timestamp":"2004-10-06","price":28.53},{"timestamp":"2004-10-07","price":28.17},{"timestamp":"2004-10-08","price":27.99},{"timestamp":"2004-10-11","price":28.06},{"timestamp":"2004-10-12","price":28.03},{"timestamp":"2004-10-13","price":28.03},{"timestamp":"2004-10-14","price":27.8},{"timestamp":"2004-10-15","price":27.99},{"timestamp":"2004-10-18","price":28.41},{"timestamp":"2004-10-19","price":28.18},{"timestamp":"2004-10-20","price":28.699},{"timestamp":"2004-10-21","price":28.56},{"timestamp":"2004-10-22","price":27.74},{"timestamp":"2004-10-25","price":27.63},{"timestamp":"2004-10-26","price":27.9},{"timestamp":"2004-10-27","price":28.15},{"timestamp":"2004-10-28","price":28.01},{"timestamp":"2004-10-29","price":27.97},{"timestamp":"2004-11-01","price":28.08},{"timestamp":"2004-11-02","price":28.24},{"timestamp":"2004-11-03","price":28.47},{"timestamp":"2004-11-04","price":29},{"timestamp":"2004-11-05","price":29.31},{"timestamp":"2004-11-08","price":29.28},{"timestamp":"2004-11-09","price":29.77},{"timestamp":"2004-11-10","price":29.73},{"timestamp":"2004-11-11","price":29.98},{"timestamp":"2004-11-12","price":29.97},{"timestamp":"2004-11-15","price":27.39},{"timestamp":"2004-11-16","price":27.12},{"timestamp":"2004-11-17","price":27.17},{"timestamp":"2004-11-18","price":27.07},{"timestamp":"2004-11-19","price":26.86},{"timestamp":"2004-11-22","price":26.65},{"timestamp":"2004-11-23","price":26.53},{"timestamp":"2004-11-24","price":26.64},{"timestamp":"2004-11-26","price":26.6},{"timestamp":"2004-11-29","price":26.77},{"timestamp":"2004-11-30","price":26.81},{"timestamp":"2004-12-01","price":27.25},{"timestamp":"2004-12-02","price":27.09},{"timestamp":"2004-12-03","price":27.23},{"timestamp":"2004-12-06","price":27.33},{"timestamp":"2004-12-07","price":27.07},{"timestamp":"2004-12-08","price":27.36},{"timestamp":"2004-12-09","price":27.23},{"timestamp":"2004-12-10","price":27.08},{"timestamp":"2004-12-13","price":27.25},{"timestamp":"2004-12-14","price":27.23},{"timestamp":"2004-12-15","price":27.11},{"timestamp":"2004-12-16","price":27.16},{"timestamp":"2004-12-17","price":26.96},{"timestamp":"2004-12-20","price":26.95},{"timestamp":"2004-12-21","price":27.07},{"timestamp":"2004-12-22","price":26.97},{"timestamp":"2004-12-23","price":27.01},{"timestamp":"2004-12-27","price":26.85},{"timestamp":"2004-12-28","price":26.95},{"timestamp":"2004-12-29","price":26.9},{"timestamp":"2004-12-30","price":26.76},{"timestamp":"2004-12-31","price":26.72},{"timestamp":"2005-01-03","price":26.74},{"timestamp":"2005-01-04","price":26.84},{"timestamp":"2005-01-05","price":26.78},{"timestamp":"2005-01-06","price":26.75},{"timestamp":"2005-01-07","price":26.67},{"timestamp":"2005-01-10","price":26.8},{"timestamp":"2005-01-11","price":26.73},{"timestamp":"2005-01-12","price":26.78},{"timestamp":"2005-01-13","price":26.27},{"timestamp":"2005-01-14","price":26.12},{"timestamp":"2005-01-18","price":26.32},{"timestamp":"2005-01-19","price":25.98},{"timestamp":"2005-01-20","price":25.86},{"timestamp":"2005-01-21","price":25.65},{"timestamp":"2005-01-24","price":25.67},{"timestamp":"2005-01-25","price":26.02},{"timestamp":"2005-01-26","price":26.01},{"timestamp":"2005-01-27","price":26.11},{"timestamp":"2005-01-28","price":26.18},{"timestamp":"2005-01-31","price":26.28},{"timestamp":"2005-02-01","price":26.39},{"timestamp":"2005-02-02","price":26.46},{"timestamp":"2005-02-03","price":26.18},{"timestamp":"2005-02-04","price":26.32},{"timestamp":"2005-02-07","price":26.16},{"timestamp":"2005-02-08","price":26.24},{"timestamp":"2005-02-09","price":26.07},{"timestamp":"2005-02-10","price":26.06},{"timestamp":"2005-02-11","price":25.97},{"timestamp":"2005-02-14","price":26.01},{"timestamp":"2005-02-15","price":25.93},{"timestamp":"2005-02-16","price":25.79},{"timestamp":"2005-02-17","price":25.65},{"timestamp":"2005-02-18","price":25.48},{"timestamp":"2005-02-22","price":25.23},{"timestamp":"2005-02-23","price":25.2},{"timestamp":"2005-02-24","price":25.37},{"timestamp":"2005-02-25","price":25.25},{"timestamp":"2005-02-28","price":25.16},{"timestamp":"2005-03-01","price":25.28},{"timestamp":"2005-03-02","price":25.26},{"timestamp":"2005-03-03","price":25.17},{"timestamp":"2005-03-04","price":25.17},{"timestamp":"2005-03-07","price":25.47},{"timestamp":"2005-03-08","price":25.4},{"timestamp":"2005-03-09","price":25.31},{"timestamp":"2005-03-10","price":25.43},{"timestamp":"2005-03-11","price":25.09},{"timestamp":"2005-03-14","price":25.11},{"timestamp":"2005-03-15","price":24.91},{"timestamp":"2005-03-16","price":24.63},{"timestamp":"2005-03-17","price":24.54},{"timestamp":"2005-03-18","price":24.31},{"timestamp":"2005-03-21","price":24.2},{"timestamp":"2005-03-22","price":23.99},{"timestamp":"2005-03-23","price":24.18},{"timestamp":"2005-03-24","price":24.28},{"timestamp":"2005-03-28","price":24.2},{"timestamp":"2005-03-29","price":23.92},{"timestamp":"2005-03-30","price":24.16},{"timestamp":"2005-03-31","price":24.17},{"timestamp":"2005-04-01","price":24.12},{"timestamp":"2005-04-04","price":24.23},{"timestamp":"2005-04-05","price":24.47},{"timestamp":"2005-04-06","price":24.67},{"timestamp":"2005-04-07","price":25.1},{"timestamp":"2005-04-08","price":24.94},{"timestamp":"2005-04-11","price":24.97},{"timestamp":"2005-04-12","price":25.32},{"timestamp":"2005-04-13","price":25.04},{"timestamp":"2005-04-14","price":24.84},{"timestamp":"2005-04-15","price":24.46},{"timestamp":"2005-04-18","price":24.65},{"timestamp":"2005-04-19","price":24.63},{"timestamp":"2005-04-20","price":24.32},{"timestamp":"2005-04-21","price":25.24},{"timestamp":"2005-04-22","price":24.98},{"timestamp":"2005-04-25","price":24.99},{"timestamp":"2005-04-26","price":24.76},{"timestamp":"2005-04-27","price":24.99},{"timestamp":"2005-04-28","price":24.45},{"timestamp":"2005-04-29","price":25.3},{"timestamp":"2005-05-02","price":25.23},{"timestamp":"2005-05-03","price":25.36},{"timestamp":"2005-05-04","price":25.21},{"timestamp":"2005-05-05","price":25.23},{"timestamp":"2005-05-06","price":25.22},{"timestamp":"2005-05-09","price":25.11},{"timestamp":"2005-05-10","price":24.9},{"timestamp":"2005-05-11","price":24.91},{"timestamp":"2005-05-12","price":25},{"timestamp":"2005-05-13","price":25.3},{"timestamp":"2005-05-16","price":25.49},{"timestamp":"2005-05-17","price":25.46},{"timestamp":"2005-05-18","price":25.7},{"timestamp":"2005-05-19","price":25.92},{"timestamp":"2005-05-20","price":25.74},{"timestamp":"2005-05-23","price":25.85},{"timestamp":"2005-05-24","price":25.75},{"timestamp":"2005-05-25","price":25.71},{"timestamp":"2005-05-26","price":25.9},{"timestamp":"2005-05-27","price":26.07},{"timestamp":"2005-05-31","price":25.8},{"timestamp":"2005-06-01","price":25.81},{"timestamp":"2005-06-02","price":25.79},{"timestamp":"2005-06-03","price":25.43},{"timestamp":"2005-06-06","price":25.37},{"timestamp":"2005-06-07","price":25.51},{"timestamp":"2005-06-08","price":25.4},{"timestamp":"2005-06-09","price":25.51},{"timestamp":"2005-06-10","price":25.43},{"timestamp":"2005-06-13","price":25.31},{"timestamp":"2005-06-14","price":25.36},{"timestamp":"2005-06-15","price":25.26},{"timestamp":"2005-06-16","price":25.04},{"timestamp":"2005-06-17","price":25.04},{"timestamp":"2005-06-20","price":25.11},{"timestamp":"2005-06-21","price":25.15},{"timestamp":"2005-06-22","price":25.07},{"timestamp":"2005-06-23","price":25.31},{"timestamp":"2005-06-24","price":25.04},{"timestamp":"2005-06-27","price":25.05},{"timestamp":"2005-06-28","price":25.07},{"timestamp":"2005-06-29","price":25.09},{"timestamp":"2005-06-30","price":24.84},{"timestamp":"2005-07-01","price":24.71},{"timestamp":"2005-07-05","price":24.98},{"timestamp":"2005-07-06","price":24.7},{"timestamp":"2005-07-07","price":24.65},{"timestamp":"2005-07-08","price":25.09},{"timestamp":"2005-07-11","price":25.29},{"timestamp":"2005-07-12","price":25.61},{"timestamp":"2005-07-13","price":25.66},{"timestamp":"2005-07-14","price":25.97},{"timestamp":"2005-07-15","price":25.79},{"timestamp":"2005-07-18","price":25.55},{"timestamp":"2005-07-19","price":26.16},{"timestamp":"2005-07-20","price":26.19},{"timestamp":"2005-07-21","price":26.44},{"timestamp":"2005-07-22","price":25.68},{"timestamp":"2005-07-25","price":25.69},{"timestamp":"2005-07-26","price":25.54},{"timestamp":"2005-07-27","price":25.72},{"timestamp":"2005-07-28","price":25.75},{"timestamp":"2005-07-29","price":25.61},{"timestamp":"2005-08-01","price":25.92},{"timestamp":"2005-08-02","price":26.81},{"timestamp":"2005-08-03","price":27.25},{"timestamp":"2005-08-04","price":27.32},{"timestamp":"2005-08-05","price":27.76},{"timestamp":"2005-08-08","price":27.13},{"timestamp":"2005-08-09","price":27.35},{"timestamp":"2005-08-10","price":26.95},{"timestamp":"2005-08-11","price":27.27},{"timestamp":"2005-08-12","price":27.05},{"timestamp":"2005-08-15","price":27.13},{"timestamp":"2005-08-16","price":26.74},{"timestamp":"2005-08-17","price":26.95},{"timestamp":"2005-08-18","price":26.82},{"timestamp":"2005-08-19","price":26.72},{"timestamp":"2005-08-22","price":26.91},{"timestamp":"2005-08-23","price":26.87},{"timestamp":"2005-08-24","price":26.81},{"timestamp":"2005-08-25","price":27.03},{"timestamp":"2005-08-26","price":26.97},{"timestamp":"2005-08-29","price":27.15},{"timestamp":"2005-08-30","price":27.18},{"timestamp":"2005-08-31","price":27.38},{"timestamp":"2005-09-01","price":27.2},{"timestamp":"2005-09-02","price":27.02},{"timestamp":"2005-09-06","price":27},{"timestamp":"2005-09-07","price":26.85},{"timestamp":"2005-09-08","price":26.61},{"timestamp":"2005-09-09","price":26.58},{"timestamp":"2005-09-12","price":26.61},{"timestamp":"2005-09-13","price":26.48},{"timestamp":"2005-09-14","price":26.31},{"timestamp":"2005-09-15","price":26.27},{"timestamp":"2005-09-16","price":26.07},{"timestamp":"2005-09-19","price":26},{"timestamp":"2005-09-20","price":25.84},{"timestamp":"2005-09-21","price":25.49},{"timestamp":"2005-09-22","price":25.34},{"timestamp":"2005-09-23","price":25.27},{"timestamp":"2005-09-26","price":25.27},{"timestamp":"2005-09-27","price":25.34},{"timestamp":"2005-09-28","price":25.67},{"timestamp":"2005-09-29","price":25.94},{"timestamp":"2005-09-30","price":25.73},{"timestamp":"2005-10-03","price":25.5},{"timestamp":"2005-10-04","price":24.98},{"timestamp":"2005-10-05","price":24.67},{"timestamp":"2005-10-06","price":24.73},{"timestamp":"2005-10-07","price":24.59},{"timestamp":"2005-10-10","price":24.46},{"timestamp":"2005-10-11","price":24.41},{"timestamp":"2005-10-12","price":24.3},{"timestamp":"2005-10-13","price":24.59},{"timestamp":"2005-10-14","price":24.67},{"timestamp":"2005-10-17","price":24.53},{"timestamp":"2005-10-18","price":24.57},{"timestamp":"2005-10-19","price":25.09},{"timestamp":"2005-10-20","price":24.79},{"timestamp":"2005-10-21","price":24.78},{"timestamp":"2005-10-24","price":25.1},{"timestamp":"2005-10-25","price":25.03},{"timestamp":"2005-10-26","price":25.1101},{"timestamp":"2005-10-27","price":24.85},{"timestamp":"2005-10-28","price":25.53},{"timestamp":"2005-10-31","price":25.7},{"timestamp":"2005-11-01","price":25.96},{"timestamp":"2005-11-02","price":26.46},{"timestamp":"2005-11-03","price":26.44},{"timestamp":"2005-11-04","price":26.66},{"timestamp":"2005-11-07","price":27.01},{"timestamp":"2005-11-08","price":27.0495},{"timestamp":"2005-11-09","price":26.96},{"timestamp":"2005-11-10","price":27.09},{"timestamp":"2005-11-11","price":27.28},{"timestamp":"2005-11-14","price":27.35},{"timestamp":"2005-11-15","price":27.5},{"timestamp":"2005-11-16","price":27.74},{"timestamp":"2005-11-17","price":27.97},{"timestamp":"2005-11-18","price":28.07},{"timestamp":"2005-11-21","price":28.16},{"timestamp":"2005-11-22","price":27.91},{"timestamp":"2005-11-23","price":27.92},{"timestamp":"2005-11-25","price":27.76},{"timestamp":"2005-11-28","price":27.75},{"timestamp":"2005-11-29","price":27.68},{"timestamp":"2005-11-30","price":27.68},{"timestamp":"2005-12-01","price":27.89},{"timestamp":"2005-12-02","price":28.01},{"timestamp":"2005-12-05","price":27.85},{"timestamp":"2005-12-06","price":27.69},{"timestamp":"2005-12-07","price":27.75},{"timestamp":"2005-12-08","price":27.69},{"timestamp":"2005-12-09","price":27.71},{"timestamp":"2005-12-12","price":27.45},{"timestamp":"2005-12-13","price":27.1301},{"timestamp":"2005-12-14","price":27.09},{"timestamp":"2005-12-15","price":26.92},{"timestamp":"2005-12-16","price":26.9},{"timestamp":"2005-12-19","price":26.83},{"timestamp":"2005-12-20","price":26.86},{"timestamp":"2005-12-21","price":26.73},{"timestamp":"2005-12-22","price":26.59},{"timestamp":"2005-12-23","price":26.64},{"timestamp":"2005-12-27","price":26.46},{"timestamp":"2005-12-28","price":26.39},{"timestamp":"2005-12-29","price":26.27},{"timestamp":"2005-12-30","price":26.15},{"timestamp":"2006-01-03","price":26.84},{"timestamp":"2006-01-04","price":26.97},{"timestamp":"2006-01-05","price":26.99},{"timestamp":"2006-01-06","price":26.91},{"timestamp":"2006-01-09","price":26.86},{"timestamp":"2006-01-10","price":27},{"timestamp":"2006-01-11","price":27.29},{"timestamp":"2006-01-12","price":27.14},{"timestamp":"2006-01-13","price":27.19},{"timestamp":"2006-01-17","price":26.99},{"timestamp":"2006-01-18","price":26.83},{"timestamp":"2006-01-19","price":27.02},{"timestamp":"2006-01-20","price":26.41},{"timestamp":"2006-01-23","price":26.35},{"timestamp":"2006-01-24","price":26.28},{"timestamp":"2006-01-25","price":26.4},{"timestamp":"2006-01-26","price":26.5},{"timestamp":"2006-01-27","price":27.79},{"timestamp":"2006-01-30","price":28},{"timestamp":"2006-01-31","price":28.15},{"timestamp":"2006-02-01","price":28.04},{"timestamp":"2006-02-02","price":27.68},{"timestamp":"2006-02-03","price":27.54},{"timestamp":"2006-02-06","price":27.17},{"timestamp":"2006-02-07","price":26.94},{"timestamp":"2006-02-08","price":26.91},{"timestamp":"2006-02-09","price":26.66},{"timestamp":"2006-02-10","price":26.69},{"timestamp":"2006-02-13","price":26.39},{"timestamp":"2006-02-14","price":26.65},{"timestamp":"2006-02-15","price":26.88},{"timestamp":"2006-02-16","price":26.81},{"timestamp":"2006-02-17","price":26.7},{"timestamp":"2006-02-21","price":26.54},{"timestamp":"2006-02-22","price":26.72},{"timestamp":"2006-02-23","price":26.66},{"timestamp":"2006-02-24","price":26.63},{"timestamp":"2006-02-27","price":27.05},{"timestamp":"2006-02-28","price":26.87},{"timestamp":"2006-03-01","price":27.14},{"timestamp":"2006-03-02","price":26.97},{"timestamp":"2006-03-03","price":26.93},{"timestamp":"2006-03-06","price":26.91},{"timestamp":"2006-03-07","price":27.06},{"timestamp":"2006-03-08","price":27.25},{"timestamp":"2006-03-09","price":27},{"timestamp":"2006-03-10","price":27.17},{"timestamp":"2006-03-13","price":27.11},{"timestamp":"2006-03-14","price":27.23},{"timestamp":"2006-03-15","price":27.36},{"timestamp":"2006-03-16","price":27.27},{"timestamp":"2006-03-17","price":27.5},{"timestamp":"2006-03-20","price":27.89},{"timestamp":"2006-03-21","price":27.74},{"timestamp":"2006-03-22","price":27.15},{"timestamp":"2006-03-23","price":26.85},{"timestamp":"2006-03-24","price":27.01},{"timestamp":"2006-03-27","price":27.01},{"timestamp":"2006-03-28","price":26.9},{"timestamp":"2006-03-29","price":27.02},{"timestamp":"2006-03-30","price":27.23},{"timestamp":"2006-03-31","price":27.21},{"timestamp":"2006-04-03","price":27.56},{"timestamp":"2006-04-04","price":27.64},{"timestamp":"2006-04-05","price":27.74},{"timestamp":"2006-04-06","price":27.56},{"timestamp":"2006-04-07","price":27.25},{"timestamp":"2006-04-10","price":27.29},{"timestamp":"2006-04-11","price":27.13},{"timestamp":"2006-04-12","price":27.2},{"timestamp":"2006-04-13","price":27.07},{"timestamp":"2006-04-17","price":26.84},{"timestamp":"2006-04-18","price":27.22},{"timestamp":"2006-04-19","price":27.03},{"timestamp":"2006-04-20","price":27.03},{"timestamp":"2006-04-21","price":27.15},{"timestamp":"2006-04-24","price":27.11},{"timestamp":"2006-04-25","price":27.11},{"timestamp":"2006-04-26","price":27.1},{"timestamp":"2006-04-27","price":27.25},{"timestamp":"2006-04-28","price":24.15},{"timestamp":"2006-05-01","price":24.29},{"timestamp":"2006-05-02","price":24.01},{"timestamp":"2006-05-03","price":23.17},{"timestamp":"2006-05-04","price":23.44},{"timestamp":"2006-05-05","price":23.8},{"timestamp":"2006-05-08","price":23.73},{"timestamp":"2006-05-09","price":23.62},{"timestamp":"2006-05-10","price":23.77},{"timestamp":"2006-05-11","price":23.22},{"timestamp":"2006-05-12","price":23.17},{"timestamp":"2006-05-15","price":23.15},{"timestamp":"2006-05-16","price":23.01},{"timestamp":"2006-05-17","price":22.73},{"timestamp":"2006-05-18","price":22.83},{"timestamp":"2006-05-19","price":22.56},{"timestamp":"2006-05-22","price":22.88},{"timestamp":"2006-05-23","price":22.79},{"timestamp":"2006-05-24","price":23.5},{"timestamp":"2006-05-25","price":23.74},{"timestamp":"2006-05-26","price":23.72},{"timestamp":"2006-05-30","price":23.15},{"timestamp":"2006-05-31","price":22.65},{"timestamp":"2006-06-01","price":22.82},{"timestamp":"2006-06-02","price":22.76},{"timestamp":"2006-06-05","price":22.5},{"timestamp":"2006-06-06","price":22.13},{"timestamp":"2006-06-07","price":22.04},{"timestamp":"2006-06-08","price":22.11},{"timestamp":"2006-06-09","price":22.03},{"timestamp":"2006-06-12","price":21.71},{"timestamp":"2006-06-13","price":21.51},{"timestamp":"2006-06-14","price":21.88},{"timestamp":"2006-06-15","price":22.07},{"timestamp":"2006-06-16","price":22.1},{"timestamp":"2006-06-19","price":22.55},{"timestamp":"2006-06-20","price":22.56},{"timestamp":"2006-06-21","price":23.08},{"timestamp":"2006-06-22","price":22.88},{"timestamp":"2006-06-23","price":22.5},{"timestamp":"2006-06-26","price":22.82},{"timestamp":"2006-06-27","price":22.86},{"timestamp":"2006-06-28","price":23.16},{"timestamp":"2006-06-29","price":23.4702},{"timestamp":"2006-06-30","price":23.3},{"timestamp":"2006-07-03","price":23.7},{"timestamp":"2006-07-05","price":23.35},{"timestamp":"2006-07-06","price":23.48},{"timestamp":"2006-07-07","price":23.3},{"timestamp":"2006-07-10","price":23.5},{"timestamp":"2006-07-11","price":23.1},{"timestamp":"2006-07-12","price":22.64},{"timestamp":"2006-07-13","price":22.26},{"timestamp":"2006-07-14","price":22.29},{"timestamp":"2006-07-17","price":22.48},{"timestamp":"2006-07-18","price":22.74},{"timestamp":"2006-07-19","price":23.4},{"timestamp":"2006-07-20","price":22.85},{"timestamp":"2006-07-21","price":23.87},{"timestamp":"2006-07-24","price":24},{"timestamp":"2006-07-25","price":24.22},{"timestamp":"2006-07-26","price":24.37},{"timestamp":"2006-07-27","price":23.87},{"timestamp":"2006-07-28","price":24.25},{"timestamp":"2006-07-31","price":24.06},{"timestamp":"2006-08-01","price":23.99},{"timestamp":"2006-08-02","price":24.3},{"timestamp":"2006-08-03","price":24.21},{"timestamp":"2006-08-04","price":24.29},{"timestamp":"2006-08-07","price":24.22},{"timestamp":"2006-08-08","price":24.34},{"timestamp":"2006-08-09","price":24.44},{"timestamp":"2006-08-10","price":24.46},{"timestamp":"2006-08-11","price":24.43},{"timestamp":"2006-08-14","price":24.53},{"timestamp":"2006-08-15","price":24.62},{"timestamp":"2006-08-16","price":24.7},{"timestamp":"2006-08-17","price":24.7},{"timestamp":"2006-08-18","price":25.79},{"timestamp":"2006-08-21","price":26.12},{"timestamp":"2006-08-22","price":25.62},{"timestamp":"2006-08-23","price":25.67},{"timestamp":"2006-08-24","price":25.74},{"timestamp":"2006-08-25","price":25.85},{"timestamp":"2006-08-28","price":25.95},{"timestamp":"2006-08-29","price":25.84},{"timestamp":"2006-08-30","price":25.8},{"timestamp":"2006-08-31","price":25.7},{"timestamp":"2006-09-01","price":25.84},{"timestamp":"2006-09-05","price":25.61},{"timestamp":"2006-09-06","price":25.61},{"timestamp":"2006-09-07","price":25.43},{"timestamp":"2006-09-08","price":25.6},{"timestamp":"2006-09-11","price":25.91},{"timestamp":"2006-09-12","price":25.93},{"timestamp":"2006-09-13","price":25.98},{"timestamp":"2006-09-14","price":26.33},{"timestamp":"2006-09-15","price":26.85},{"timestamp":"2006-09-18","price":26.79},{"timestamp":"2006-09-19","price":26.86},{"timestamp":"2006-09-20","price":27.18},{"timestamp":"2006-09-21","price":26.9},{"timestamp":"2006-09-22","price":26.66},{"timestamp":"2006-09-25","price":26.95},{"timestamp":"2006-09-26","price":27.2},{"timestamp":"2006-09-27","price":27.44},{"timestamp":"2006-09-28","price":27.4},{"timestamp":"2006-09-29","price":27.35},{"timestamp":"2006-10-02","price":27.36},{"timestamp":"2006-10-03","price":27.37},{"timestamp":"2006-10-04","price":27.94},{"timestamp":"2006-10-05","price":27.92},{"timestamp":"2006-10-06","price":27.87},{"timestamp":"2006-10-09","price":27.72},{"timestamp":"2006-10-10","price":27.69},{"timestamp":"2006-10-11","price":27.54},{"timestamp":"2006-10-12","price":28.22},{"timestamp":"2006-10-13","price":28.37},{"timestamp":"2006-10-16","price":28.45},{"timestamp":"2006-10-17","price":28.44},{"timestamp":"2006-10-18","price":28.52},{"timestamp":"2006-10-19","price":28.29},{"timestamp":"2006-10-20","price":28.43},{"timestamp":"2006-10-23","price":28.45},{"timestamp":"2006-10-24","price":28.28},{"timestamp":"2006-10-25","price":28.31},{"timestamp":"2006-10-26","price":28.35},{"timestamp":"2006-10-27","price":28.34},{"timestamp":"2006-10-30","price":28.53},{"timestamp":"2006-10-31","price":28.71},{"timestamp":"2006-11-01","price":28.81},{"timestamp":"2006-11-02","price":28.77},{"timestamp":"2006-11-03","price":28.73},{"timestamp":"2006-11-06","price":28.84},{"timestamp":"2006-11-07","price":28.95},{"timestamp":"2006-11-08","price":28.98},{"timestamp":"2006-11-09","price":29.26},{"timestamp":"2006-11-10","price":29.24},{"timestamp":"2006-11-13","price":29.35},{"timestamp":"2006-11-14","price":29.2285},{"timestamp":"2006-11-15","price":29.12},{"timestamp":"2006-11-16","price":29.47},{"timestamp":"2006-11-17","price":29.4},{"timestamp":"2006-11-20","price":29.89},{"timestamp":"2006-11-21","price":29.92},{"timestamp":"2006-11-22","price":29.92},{"timestamp":"2006-11-24","price":29.76},{"timestamp":"2006-11-27","price":29.48},{"timestamp":"2006-11-28","price":29.39},{"timestamp":"2006-11-29","price":29.57},{"timestamp":"2006-11-30","price":29.36},{"timestamp":"2006-12-01","price":29.12},{"timestamp":"2006-12-04","price":29.33},{"timestamp":"2006-12-05","price":29.13},{"timestamp":"2006-12-06","price":28.99},{"timestamp":"2006-12-07","price":28.85},{"timestamp":"2006-12-08","price":29.4},{"timestamp":"2006-12-11","price":29.54},{"timestamp":"2006-12-12","price":29.43},{"timestamp":"2006-12-13","price":29.55},{"timestamp":"2006-12-14","price":30.07},{"timestamp":"2006-12-15","price":30.19},{"timestamp":"2006-12-18","price":29.89},{"timestamp":"2006-12-19","price":29.99},{"timestamp":"2006-12-20","price":30.09},{"timestamp":"2006-12-21","price":29.98},{"timestamp":"2006-12-22","price":29.64},{"timestamp":"2006-12-26","price":29.99},{"timestamp":"2006-12-27","price":30.02},{"timestamp":"2006-12-28","price":29.98},{"timestamp":"2006-12-29","price":29.86},{"timestamp":"2007-01-03","price":29.86},{"timestamp":"2007-01-04","price":29.81},{"timestamp":"2007-01-05","price":29.64},{"timestamp":"2007-01-08","price":29.93},{"timestamp":"2007-01-09","price":29.96},{"timestamp":"2007-01-10","price":29.66},{"timestamp":"2007-01-11","price":30.7},{"timestamp":"2007-01-12","price":31.21},{"timestamp":"2007-01-16","price":31.16},{"timestamp":"2007-01-17","price":31.1},{"timestamp":"2007-01-18","price":31},{"timestamp":"2007-01-19","price":31.11},{"timestamp":"2007-01-22","price":30.72},{"timestamp":"2007-01-23","price":30.74},{"timestamp":"2007-01-24","price":31.09},{"timestamp":"2007-01-25","price":30.45},{"timestamp":"2007-01-26","price":30.6},{"timestamp":"2007-01-29","price":30.53},{"timestamp":"2007-01-30","price":30.48},{"timestamp":"2007-01-31","price":30.86},{"timestamp":"2007-02-01","price":30.56},{"timestamp":"2007-02-02","price":30.19},{"timestamp":"2007-02-05","price":29.61},{"timestamp":"2007-02-06","price":29.51},{"timestamp":"2007-02-07","price":29.37},{"timestamp":"2007-02-08","price":29.26},{"timestamp":"2007-02-09","price":28.98},{"timestamp":"2007-02-12","price":28.94},{"timestamp":"2007-02-13","price":29.01},{"timestamp":"2007-02-14","price":29.4},{"timestamp":"2007-02-15","price":29.46},{"timestamp":"2007-02-16","price":28.74},{"timestamp":"2007-02-20","price":28.83},{"timestamp":"2007-02-21","price":29.35},{"timestamp":"2007-02-22","price":29.39},{"timestamp":"2007-02-23","price":28.9},{"timestamp":"2007-02-26","price":29.07},{"timestamp":"2007-02-27","price":27.87},{"timestamp":"2007-02-28","price":28.17},{"timestamp":"2007-03-01","price":28.09},{"timestamp":"2007-03-02","price":27.76},{"timestamp":"2007-03-05","price":27.5499},{"timestamp":"2007-03-06","price":27.83},{"timestamp":"2007-03-07","price":27.61},{"timestamp":"2007-03-08","price":27.32},{"timestamp":"2007-03-09","price":27.28},{"timestamp":"2007-03-12","price":27.44},{"timestamp":"2007-03-13","price":26.72},{"timestamp":"2007-03-14","price":27.4},{"timestamp":"2007-03-15","price":27.28},{"timestamp":"2007-03-16","price":27.33},{"timestamp":"2007-03-19","price":27.83},{"timestamp":"2007-03-20","price":27.84},{"timestamp":"2007-03-21","price":28.52},{"timestamp":"2007-03-22","price":28.27},{"timestamp":"2007-03-23","price":28.02},{"timestamp":"2007-03-26","price":28.22},{"timestamp":"2007-03-27","price":27.72},{"timestamp":"2007-03-28","price":27.64},{"timestamp":"2007-03-29","price":27.75},{"timestamp":"2007-03-30","price":27.87},{"timestamp":"2007-04-02","price":27.74},{"timestamp":"2007-04-03","price":27.87},{"timestamp":"2007-04-04","price":28.5},{"timestamp":"2007-04-05","price":28.55},{"timestamp":"2007-04-09","price":28.57},{"timestamp":"2007-04-10","price":28.4},{"timestamp":"2007-04-11","price":28.11},{"timestamp":"2007-04-12","price":28.54},{"timestamp":"2007-04-13","price":28.61},{"timestamp":"2007-04-16","price":28.73},{"timestamp":"2007-04-17","price":28.85},{"timestamp":"2007-04-18","price":28.6},{"timestamp":"2007-04-19","price":28.69},{"timestamp":"2007-04-20","price":29.02},{"timestamp":"2007-04-23","price":28.78},{"timestamp":"2007-04-24","price":28.79},{"timestamp":"2007-04-25","price":28.99},{"timestamp":"2007-04-26","price":29.1},{"timestamp":"2007-04-27","price":30.12},{"timestamp":"2007-04-30","price":29.94},{"timestamp":"2007-05-01","price":30.1925},{"timestamp":"2007-05-02","price":30.61},{"timestamp":"2007-05-03","price":30.97},{"timestamp":"2007-05-04","price":30.56},{"timestamp":"2007-05-07","price":30.71},{"timestamp":"2007-05-08","price":30.75},{"timestamp":"2007-05-09","price":30.7799},{"timestamp":"2007-05-10","price":30.58},{"timestamp":"2007-05-11","price":30.89},{"timestamp":"2007-05-14","price":30.97},{"timestamp":"2007-05-15","price":30.9},{"timestamp":"2007-05-16","price":31.07},{"timestamp":"2007-05-17","price":30.98},{"timestamp":"2007-05-18","price":30.83},{"timestamp":"2007-05-21","price":31.05},{"timestamp":"2007-05-22","price":30.69},{"timestamp":"2007-05-23","price":30.58},{"timestamp":"2007-05-24","price":30.17},{"timestamp":"2007-05-25","price":30.48},{"timestamp":"2007-05-29","price":30.79},{"timestamp":"2007-05-30","price":31.11},{"timestamp":"2007-05-31","price":30.6901},{"timestamp":"2007-06-01","price":30.59},{"timestamp":"2007-06-04","price":30.715},{"timestamp":"2007-06-05","price":30.58},{"timestamp":"2007-06-06","price":30.29},{"timestamp":"2007-06-07","price":29.62},{"timestamp":"2007-06-08","price":30.05},{"timestamp":"2007-06-11","price":30.02},{"timestamp":"2007-06-12","price":29.85},{"timestamp":"2007-06-13","price":30.39},{"timestamp":"2007-06-14","price":30.52},{"timestamp":"2007-06-15","price":30.49},{"timestamp":"2007-06-18","price":30.51},{"timestamp":"2007-06-19","price":30.46},{"timestamp":"2007-06-20","price":30.01},{"timestamp":"2007-06-21","price":30.22},{"timestamp":"2007-06-22","price":29.49},{"timestamp":"2007-06-25","price":29.49},{"timestamp":"2007-06-26","price":29.52},{"timestamp":"2007-06-27","price":29.87},{"timestamp":"2007-06-28","price":29.83},{"timestamp":"2007-06-29","price":29.47},{"timestamp":"2007-07-02","price":29.74},{"timestamp":"2007-07-03","price":30.02},{"timestamp":"2007-07-05","price":29.99},{"timestamp":"2007-07-06","price":29.97},{"timestamp":"2007-07-09","price":29.87},{"timestamp":"2007-07-10","price":29.33},{"timestamp":"2007-07-11","price":29.49},{"timestamp":"2007-07-12","price":30.07},{"timestamp":"2007-07-13","price":29.82},{"timestamp":"2007-07-16","price":30.03},{"timestamp":"2007-07-17","price":30.7799},{"timestamp":"2007-07-18","price":30.92},{"timestamp":"2007-07-19","price":31.51},{"timestamp":"2007-07-20","price":31.16},{"timestamp":"2007-07-23","price":31.19},{"timestamp":"2007-07-24","price":30.8},{"timestamp":"2007-07-25","price":30.71},{"timestamp":"2007-07-26","price":29.98},{"timestamp":"2007-07-27","price":29.3901},{"timestamp":"2007-07-30","price":29.4},{"timestamp":"2007-07-31","price":28.99},{"timestamp":"2007-08-01","price":29.3},{"timestamp":"2007-08-02","price":29.52},{"timestamp":"2007-08-03","price":28.9601},{"timestamp":"2007-08-06","price":29.54},{"timestamp":"2007-08-07","price":29.55},{"timestamp":"2007-08-08","price":30},{"timestamp":"2007-08-09","price":29.3},{"timestamp":"2007-08-10","price":28.71},{"timestamp":"2007-08-13","price":28.63},{"timestamp":"2007-08-14","price":28.27},{"timestamp":"2007-08-15","price":28.1},{"timestamp":"2007-08-16","price":27.81},{"timestamp":"2007-08-17","price":28.25},{"timestamp":"2007-08-20","price":28.26},{"timestamp":"2007-08-21","price":28.07},{"timestamp":"2007-08-22","price":28.22},{"timestamp":"2007-08-23","price":28.3},{"timestamp":"2007-08-24","price":28.81},{"timestamp":"2007-08-27","price":28.49},{"timestamp":"2007-08-28","price":27.93},{"timestamp":"2007-08-29","price":28.59},{"timestamp":"2007-08-30","price":28.45},{"timestamp":"2007-08-31","price":28.73},{"timestamp":"2007-09-04","price":28.81},{"timestamp":"2007-09-05","price":28.48},{"timestamp":"2007-09-06","price":28.91},{"timestamp":"2007-09-07","price":28.44},{"timestamp":"2007-09-10","price":28.48},{"timestamp":"2007-09-11","price":28.93},{"timestamp":"2007-09-12","price":28.93},{"timestamp":"2007-09-13","price":29.16},{"timestamp":"2007-09-14","price":29.04},{"timestamp":"2007-09-17","price":28.725},{"timestamp":"2007-09-18","price":28.93},{"timestamp":"2007-09-19","price":28.67},{"timestamp":"2007-09-20","price":28.4201},{"timestamp":"2007-09-21","price":28.6499},{"timestamp":"2007-09-24","price":29.08},{"timestamp":"2007-09-25","price":29.5599},{"timestamp":"2007-09-26","price":29.5},{"timestamp":"2007-09-27","price":29.49},{"timestamp":"2007-09-28","price":29.46},{"timestamp":"2007-10-01","price":29.7701},{"timestamp":"2007-10-02","price":29.7},{"timestamp":"2007-10-03","price":29.4525},{"timestamp":"2007-10-04","price":29.71},{"timestamp":"2007-10-05","price":29.84},{"timestamp":"2007-10-08","price":29.84},{"timestamp":"2007-10-09","price":30.0999},{"timestamp":"2007-10-10","price":30.23},{"timestamp":"2007-10-11","price":29.91},{"timestamp":"2007-10-12","price":30.17},{"timestamp":"2007-10-15","price":30.04},{"timestamp":"2007-10-16","price":30.32},{"timestamp":"2007-10-17","price":31.08},{"timestamp":"2007-10-18","price":31.16},{"timestamp":"2007-10-19","price":30.17},{"timestamp":"2007-10-22","price":30.51},{"timestamp":"2007-10-23","price":30.9},{"timestamp":"2007-10-24","price":31.25},{"timestamp":"2007-10-25","price":31.99},{"timestamp":"2007-10-26","price":35.03},{"timestamp":"2007-10-29","price":34.57},{"timestamp":"2007-10-30","price":35.57},{"timestamp":"2007-10-31","price":36.81},{"timestamp":"2007-11-01","price":37.06},{"timestamp":"2007-11-02","price":37.06},{"timestamp":"2007-11-05","price":36.73},{"timestamp":"2007-11-06","price":36.41},{"timestamp":"2007-11-07","price":35.52},{"timestamp":"2007-11-08","price":34.74},{"timestamp":"2007-11-09","price":33.73},{"timestamp":"2007-11-12","price":33.38},{"timestamp":"2007-11-13","price":34.46},{"timestamp":"2007-11-14","price":33.93},{"timestamp":"2007-11-15","price":33.76},{"timestamp":"2007-11-16","price":34.09},{"timestamp":"2007-11-19","price":33.96},{"timestamp":"2007-11-20","price":34.58},{"timestamp":"2007-11-21","price":34.23},{"timestamp":"2007-11-23","price":34.11},{"timestamp":"2007-11-26","price":32.97},{"timestamp":"2007-11-27","price":33.06},{"timestamp":"2007-11-28","price":33.7},{"timestamp":"2007-11-29","price":33.59},{"timestamp":"2007-11-30","price":33.6},{"timestamp":"2007-12-03","price":32.92},{"timestamp":"2007-12-04","price":32.77},{"timestamp":"2007-12-05","price":34.15},{"timestamp":"2007-12-06","price":34.55},{"timestamp":"2007-12-07","price":34.53},{"timestamp":"2007-12-10","price":34.76},{"timestamp":"2007-12-11","price":34.1},{"timestamp":"2007-12-12","price":34.47},{"timestamp":"2007-12-13","price":35.22},{"timestamp":"2007-12-14","price":35.31},{"timestamp":"2007-12-17","price":34.39},{"timestamp":"2007-12-18","price":34.74},{"timestamp":"2007-12-19","price":34.79},{"timestamp":"2007-12-20","price":35.52},{"timestamp":"2007-12-21","price":36.06},{"timestamp":"2007-12-24","price":36.58},{"timestamp":"2007-12-26","price":36.61},{"timestamp":"2007-12-27","price":35.97},{"timestamp":"2007-12-28","price":36.12},{"timestamp":"2007-12-31","price":35.6},{"timestamp":"2008-01-02","price":35.22},{"timestamp":"2008-01-03","price":35.37},{"timestamp":"2008-01-04","price":34.38},{"timestamp":"2008-01-07","price":34.61},{"timestamp":"2008-01-08","price":33.45},{"timestamp":"2008-01-09","price":34.44},{"timestamp":"2008-01-10","price":34.33},{"timestamp":"2008-01-11","price":33.91},{"timestamp":"2008-01-14","price":34.39},{"timestamp":"2008-01-15","price":34},{"timestamp":"2008-01-16","price":33.23},{"timestamp":"2008-01-17","price":33.11},{"timestamp":"2008-01-18","price":33.01},{"timestamp":"2008-01-22","price":31.99},{"timestamp":"2008-01-23","price":31.93},{"timestamp":"2008-01-24","price":33.25},{"timestamp":"2008-01-25","price":32.94},{"timestamp":"2008-01-28","price":32.72},{"timestamp":"2008-01-29","price":32.6},{"timestamp":"2008-01-30","price":32.2},{"timestamp":"2008-01-31","price":32.6},{"timestamp":"2008-02-01","price":30.4498},{"timestamp":"2008-02-04","price":30.19},{"timestamp":"2008-02-05","price":29.07},{"timestamp":"2008-02-06","price":28.52},{"timestamp":"2008-02-07","price":28.12},{"timestamp":"2008-02-08","price":28.56},{"timestamp":"2008-02-11","price":28.21},{"timestamp":"2008-02-12","price":28.34},{"timestamp":"2008-02-13","price":28.96},{"timestamp":"2008-02-14","price":28.5},{"timestamp":"2008-02-15","price":28.42},{"timestamp":"2008-02-19","price":28.17},{"timestamp":"2008-02-20","price":28.22},{"timestamp":"2008-02-21","price":28.1},{"timestamp":"2008-02-22","price":27.68},{"timestamp":"2008-02-25","price":27.84},{"timestamp":"2008-02-26","price":28.38},{"timestamp":"2008-02-27","price":28.26},{"timestamp":"2008-02-28","price":27.93},{"timestamp":"2008-02-29","price":27.1999},{"timestamp":"2008-03-03","price":26.99},{"timestamp":"2008-03-04","price":27.59},{"timestamp":"2008-03-05","price":28.1199},{"timestamp":"2008-03-06","price":27.57},{"timestamp":"2008-03-07","price":27.87},{"timestamp":"2008-03-10","price":28.05},{"timestamp":"2008-03-11","price":29.28},{"timestamp":"2008-03-12","price":28.63},{"timestamp":"2008-03-13","price":28.62},{"timestamp":"2008-03-14","price":27.96},{"timestamp":"2008-03-17","price":28.3},{"timestamp":"2008-03-18","price":29.42},{"timestamp":"2008-03-19","price":28.62},{"timestamp":"2008-03-20","price":29.18},{"timestamp":"2008-03-24","price":29.17},{"timestamp":"2008-03-25","price":29.14},{"timestamp":"2008-03-26","price":28.56},{"timestamp":"2008-03-27","price":28.05},{"timestamp":"2008-03-28","price":27.91},{"timestamp":"2008-03-31","price":28.38},{"timestamp":"2008-04-01","price":29.4999},{"timestamp":"2008-04-02","price":29.16},{"timestamp":"2008-04-03","price":29},{"timestamp":"2008-04-04","price":29.16},{"timestamp":"2008-04-07","price":29.16},{"timestamp":"2008-04-08","price":28.75},{"timestamp":"2008-04-09","price":28.89},{"timestamp":"2008-04-10","price":29.11},{"timestamp":"2008-04-11","price":28.28},{"timestamp":"2008-04-14","price":28.06},{"timestamp":"2008-04-15","price":28.25},{"timestamp":"2008-04-16","price":28.95},{"timestamp":"2008-04-17","price":29.22},{"timestamp":"2008-04-18","price":30},{"timestamp":"2008-04-21","price":30.42},{"timestamp":"2008-04-22","price":30.25},{"timestamp":"2008-04-23","price":31.45},{"timestamp":"2008-04-24","price":31.8},{"timestamp":"2008-04-25","price":29.83},{"timestamp":"2008-04-28","price":28.99},{"timestamp":"2008-04-29","price":28.64},{"timestamp":"2008-04-30","price":28.52},{"timestamp":"2008-05-01","price":29.4},{"timestamp":"2008-05-02","price":29.24},{"timestamp":"2008-05-05","price":29.08},{"timestamp":"2008-05-06","price":29.7},{"timestamp":"2008-05-07","price":29.21},{"timestamp":"2008-05-08","price":29.27},{"timestamp":"2008-05-09","price":29.39},{"timestamp":"2008-05-12","price":29.99},{"timestamp":"2008-05-13","price":29.78},{"timestamp":"2008-05-14","price":29.93},{"timestamp":"2008-05-15","price":30.4501},{"timestamp":"2008-05-16","price":29.99},{"timestamp":"2008-05-19","price":29.46},{"timestamp":"2008-05-20","price":28.76},{"timestamp":"2008-05-21","price":28.25},{"timestamp":"2008-05-22","price":28.47},{"timestamp":"2008-05-23","price":28.05},{"timestamp":"2008-05-27","price":28.44},{"timestamp":"2008-05-28","price":28.18},{"timestamp":"2008-05-29","price":28.31},{"timestamp":"2008-05-30","price":28.32},{"timestamp":"2008-06-02","price":27.8},{"timestamp":"2008-06-03","price":27.31},{"timestamp":"2008-06-04","price":27.54},{"timestamp":"2008-06-05","price":28.3},{"timestamp":"2008-06-06","price":27.49},{"timestamp":"2008-06-09","price":27.71},{"timestamp":"2008-06-10","price":27.89},{"timestamp":"2008-06-11","price":27.12},{"timestamp":"2008-06-12","price":28.24},{"timestamp":"2008-06-13","price":29.07},{"timestamp":"2008-06-16","price":28.93},{"timestamp":"2008-06-17","price":28.8},{"timestamp":"2008-06-18","price":28.46},{"timestamp":"2008-06-19","price":28.93},{"timestamp":"2008-06-20","price":28.23},{"timestamp":"2008-06-23","price":27.97},{"timestamp":"2008-06-24","price":27.73},{"timestamp":"2008-06-25","price":28.35},{"timestamp":"2008-06-26","price":27.75},{"timestamp":"2008-06-27","price":27.63},{"timestamp":"2008-06-30","price":27.51},{"timestamp":"2008-07-01","price":26.87},{"timestamp":"2008-07-02","price":25.88},{"timestamp":"2008-07-03","price":25.98},{"timestamp":"2008-07-07","price":26.03},{"timestamp":"2008-07-08","price":25.85},{"timestamp":"2008-07-09","price":25.23},{"timestamp":"2008-07-10","price":25.45},{"timestamp":"2008-07-11","price":25.25},{"timestamp":"2008-07-14","price":25.15},{"timestamp":"2008-07-15","price":26.15},{"timestamp":"2008-07-16","price":27.26},{"timestamp":"2008-07-17","price":27.52},{"timestamp":"2008-07-18","price":25.86},{"timestamp":"2008-07-21","price":25.64},{"timestamp":"2008-07-22","price":25.8},{"timestamp":"2008-07-23","price":26.43},{"timestamp":"2008-07-24","price":25.44},{"timestamp":"2008-07-25","price":26.16},{"timestamp":"2008-07-28","price":25.5},{"timestamp":"2008-07-29","price":26.11},{"timestamp":"2008-07-30","price":26.23},{"timestamp":"2008-07-31","price":25.72},{"timestamp":"2008-08-01","price":25.44},{"timestamp":"2008-08-04","price":25.28},{"timestamp":"2008-08-05","price":26.21},{"timestamp":"2008-08-06","price":27.02},{"timestamp":"2008-08-07","price":27.39},{"timestamp":"2008-08-08","price":28.13},{"timestamp":"2008-08-11","price":27.9},{"timestamp":"2008-08-12","price":28.12},{"timestamp":"2008-08-13","price":27.91},{"timestamp":"2008-08-14","price":27.91},{"timestamp":"2008-08-15","price":27.81},{"timestamp":"2008-08-18","price":27.69},{"timestamp":"2008-08-19","price":27.32},{"timestamp":"2008-08-20","price":27.29},{"timestamp":"2008-08-21","price":27.18},{"timestamp":"2008-08-22","price":27.84},{"timestamp":"2008-08-25","price":27.66},{"timestamp":"2008-08-26","price":27.27},{"timestamp":"2008-08-27","price":27.56},{"timestamp":"2008-08-28","price":27.94},{"timestamp":"2008-08-29","price":27.29},{"timestamp":"2008-09-02","price":27.1},{"timestamp":"2008-09-03","price":26.9},{"timestamp":"2008-09-04","price":26.35},{"timestamp":"2008-09-05","price":25.65},{"timestamp":"2008-09-08","price":26.12},{"timestamp":"2008-09-09","price":26.1},{"timestamp":"2008-09-10","price":26.44},{"timestamp":"2008-09-11","price":27.34},{"timestamp":"2008-09-12","price":27.62},{"timestamp":"2008-09-15","price":26.82},{"timestamp":"2008-09-16","price":25.99},{"timestamp":"2008-09-17","price":24.57},{"timestamp":"2008-09-18","price":25.26},{"timestamp":"2008-09-19","price":25.16},{"timestamp":"2008-09-22","price":25.4},{"timestamp":"2008-09-23","price":25.44},{"timestamp":"2008-09-24","price":25.72},{"timestamp":"2008-09-25","price":26.61},{"timestamp":"2008-09-26","price":27.4},{"timestamp":"2008-09-29","price":25.01},{"timestamp":"2008-09-30","price":26.69},{"timestamp":"2008-10-01","price":26.48},{"timestamp":"2008-10-02","price":26.25},{"timestamp":"2008-10-03","price":26.32},{"timestamp":"2008-10-06","price":24.91},{"timestamp":"2008-10-07","price":23.23},{"timestamp":"2008-10-08","price":23.01},{"timestamp":"2008-10-09","price":22.3},{"timestamp":"2008-10-10","price":21.5},{"timestamp":"2008-10-13","price":25.5},{"timestamp":"2008-10-14","price":24.1},{"timestamp":"2008-10-15","price":22.66},{"timestamp":"2008-10-16","price":24.19},{"timestamp":"2008-10-17","price":23.93},{"timestamp":"2008-10-20","price":24.72},{"timestamp":"2008-10-21","price":23.36},{"timestamp":"2008-10-22","price":21.53},{"timestamp":"2008-10-23","price":22.32},{"timestamp":"2008-10-24","price":21.96},{"timestamp":"2008-10-27","price":21.18},{"timestamp":"2008-10-28","price":23.1},{"timestamp":"2008-10-29","price":23},{"timestamp":"2008-10-30","price":22.63},{"timestamp":"2008-10-31","price":22.33},{"timestamp":"2008-11-03","price":22.62},{"timestamp":"2008-11-04","price":23.53},{"timestamp":"2008-11-05","price":22.08},{"timestamp":"2008-11-06","price":20.88},{"timestamp":"2008-11-07","price":21.5},{"timestamp":"2008-11-10","price":21.3},{"timestamp":"2008-11-11","price":21.2},{"timestamp":"2008-11-12","price":20.3},{"timestamp":"2008-11-13","price":21.25},{"timestamp":"2008-11-14","price":20.06},{"timestamp":"2008-11-17","price":19.32},{"timestamp":"2008-11-18","price":19.62},{"timestamp":"2008-11-19","price":18.29},{"timestamp":"2008-11-20","price":17.53},{"timestamp":"2008-11-21","price":19.68},{"timestamp":"2008-11-24","price":20.69},{"timestamp":"2008-11-25","price":19.99},{"timestamp":"2008-11-26","price":20.49},{"timestamp":"2008-11-28","price":20.22},{"timestamp":"2008-12-01","price":18.61},{"timestamp":"2008-12-02","price":19.15},{"timestamp":"2008-12-03","price":19.87},{"timestamp":"2008-12-04","price":19.11},{"timestamp":"2008-12-05","price":19.87},{"timestamp":"2008-12-08","price":21.01},{"timestamp":"2008-12-09","price":20.6},{"timestamp":"2008-12-10","price":20.61},{"timestamp":"2008-12-11","price":19.45},{"timestamp":"2008-12-12","price":19.36},{"timestamp":"2008-12-15","price":19.04},{"timestamp":"2008-12-16","price":20.11},{"timestamp":"2008-12-17","price":19.66},{"timestamp":"2008-12-18","price":19.3},{"timestamp":"2008-12-19","price":19.12},{"timestamp":"2008-12-22","price":19.18},{"timestamp":"2008-12-23","price":19.28},{"timestamp":"2008-12-24","price":19.17},{"timestamp":"2008-12-26","price":19.13},{"timestamp":"2008-12-29","price":18.96},{"timestamp":"2008-12-30","price":19.34},{"timestamp":"2008-12-31","price":19.44},{"timestamp":"2009-01-02","price":20.33},{"timestamp":"2009-01-05","price":20.52},{"timestamp":"2009-01-06","price":20.76},{"timestamp":"2009-01-07","price":19.51},{"timestamp":"2009-01-08","price":20.12},{"timestamp":"2009-01-09","price":19.52},{"timestamp":"2009-01-12","price":19.47},{"timestamp":"2009-01-13","price":19.82},{"timestamp":"2009-01-14","price":19.09},{"timestamp":"2009-01-15","price":19.24},{"timestamp":"2009-01-16","price":19.71},{"timestamp":"2009-01-20","price":18.48},{"timestamp":"2009-01-21","price":19.38},{"timestamp":"2009-01-22","price":17.11},{"timestamp":"2009-01-23","price":17.2},{"timestamp":"2009-01-26","price":17.63},{"timestamp":"2009-01-27","price":17.66},{"timestamp":"2009-01-28","price":18.04},{"timestamp":"2009-01-29","price":17.59},{"timestamp":"2009-01-30","price":17.1},{"timestamp":"2009-02-02","price":17.83},{"timestamp":"2009-02-03","price":18.5},{"timestamp":"2009-02-04","price":18.63},{"timestamp":"2009-02-05","price":19.04},{"timestamp":"2009-02-06","price":19.66},{"timestamp":"2009-02-09","price":19.44},{"timestamp":"2009-02-10","price":18.8},{"timestamp":"2009-02-11","price":19.21},{"timestamp":"2009-02-12","price":19.26},{"timestamp":"2009-02-13","price":19.09},{"timestamp":"2009-02-17","price":18.09},{"timestamp":"2009-02-18","price":18.12},{"timestamp":"2009-02-19","price":17.91},{"timestamp":"2009-02-20","price":18},{"timestamp":"2009-02-23","price":17.21},{"timestamp":"2009-02-24","price":17.17},{"timestamp":"2009-02-25","price":16.96},{"timestamp":"2009-02-26","price":16.42},{"timestamp":"2009-02-27","price":16.15},{"timestamp":"2009-03-02","price":15.79},{"timestamp":"2009-03-03","price":15.88},{"timestamp":"2009-03-04","price":16.12},{"timestamp":"2009-03-05","price":15.27},{"timestamp":"2009-03-06","price":15.28},{"timestamp":"2009-03-09","price":15.15},{"timestamp":"2009-03-10","price":16.48},{"timestamp":"2009-03-11","price":17.11},{"timestamp":"2009-03-12","price":17.01},{"timestamp":"2009-03-13","price":16.65},{"timestamp":"2009-03-16","price":16.25},{"timestamp":"2009-03-17","price":16.9},{"timestamp":"2009-03-18","price":16.96},{"timestamp":"2009-03-19","price":17.14},{"timestamp":"2009-03-20","price":17.06},{"timestamp":"2009-03-23","price":18.33},{"timestamp":"2009-03-24","price":17.87},{"timestamp":"2009-03-25","price":17.88},{"timestamp":"2009-03-26","price":18.83},{"timestamp":"2009-03-27","price":18.13},{"timestamp":"2009-03-30","price":17.48},{"timestamp":"2009-03-31","price":18.37},{"timestamp":"2009-04-01","price":19.31},{"timestamp":"2009-04-02","price":19.29},{"timestamp":"2009-04-03","price":18.75},{"timestamp":"2009-04-06","price":18.76},{"timestamp":"2009-04-07","price":18.76},{"timestamp":"2009-04-08","price":19.19},{"timestamp":"2009-04-09","price":19.67},{"timestamp":"2009-04-13","price":19.59},{"timestamp":"2009-04-14","price":19.35},{"timestamp":"2009-04-15","price":18.83},{"timestamp":"2009-04-16","price":19.76},{"timestamp":"2009-04-17","price":19.2},{"timestamp":"2009-04-20","price":18.61},{"timestamp":"2009-04-21","price":18.97},{"timestamp":"2009-04-22","price":18.78},{"timestamp":"2009-04-23","price":18.92},{"timestamp":"2009-04-24","price":20.91},{"timestamp":"2009-04-27","price":20.4},{"timestamp":"2009-04-28","price":19.93},{"timestamp":"2009-04-29","price":20.25},{"timestamp":"2009-04-30","price":20.26},{"timestamp":"2009-05-01","price":20.24},{"timestamp":"2009-05-04","price":20.19},{"timestamp":"2009-05-05","price":19.79},{"timestamp":"2009-05-06","price":19.79},{"timestamp":"2009-05-07","price":19.32},{"timestamp":"2009-05-08","price":19.42},{"timestamp":"2009-05-11","price":19.32},{"timestamp":"2009-05-12","price":19.89},{"timestamp":"2009-05-13","price":19.75},{"timestamp":"2009-05-14","price":20.06},{"timestamp":"2009-05-15","price":20.22},{"timestamp":"2009-05-18","price":20.6},{"timestamp":"2009-05-19","price":20.31},{"timestamp":"2009-05-20","price":20.38},{"timestamp":"2009-05-21","price":19.82},{"timestamp":"2009-05-22","price":19.75},{"timestamp":"2009-05-26","price":20.34},{"timestamp":"2009-05-27","price":20.13},{"timestamp":"2009-05-28","price":20.45},{"timestamp":"2009-05-29","price":20.89},{"timestamp":"2009-06-01","price":21.4},{"timestamp":"2009-06-02","price":21.4},{"timestamp":"2009-06-03","price":21.73},{"timestamp":"2009-06-04","price":21.83},{"timestamp":"2009-06-05","price":22.14},{"timestamp":"2009-06-08","price":22.05},{"timestamp":"2009-06-09","price":22.08},{"timestamp":"2009-06-10","price":22.55},{"timestamp":"2009-06-11","price":22.83},{"timestamp":"2009-06-12","price":23.33},{"timestamp":"2009-06-15","price":23.42},{"timestamp":"2009-06-16","price":23.45},{"timestamp":"2009-06-17","price":23.68},{"timestamp":"2009-06-18","price":23.5},{"timestamp":"2009-06-19","price":24.07},{"timestamp":"2009-06-22","price":23.28},{"timestamp":"2009-06-23","price":23.34},{"timestamp":"2009-06-24","price":23.47},{"timestamp":"2009-06-25","price":23.79},{"timestamp":"2009-06-26","price":23.35},{"timestamp":"2009-06-29","price":23.86},{"timestamp":"2009-06-30","price":23.77},{"timestamp":"2009-07-01","price":24.04},{"timestamp":"2009-07-02","price":23.37},{"timestamp":"2009-07-06","price":23.2},{"timestamp":"2009-07-07","price":22.53},{"timestamp":"2009-07-08","price":22.56},{"timestamp":"2009-07-09","price":22.44},{"timestamp":"2009-07-10","price":22.39},{"timestamp":"2009-07-13","price":23.23},{"timestamp":"2009-07-14","price":23.11},{"timestamp":"2009-07-15","price":24.12},{"timestamp":"2009-07-16","price":24.44},{"timestamp":"2009-07-17","price":24.29},{"timestamp":"2009-07-20","price":24.53},{"timestamp":"2009-07-21","price":24.83},{"timestamp":"2009-07-22","price":24.8},{"timestamp":"2009-07-23","price":25.56},{"timestamp":"2009-07-24","price":23.45},{"timestamp":"2009-07-27","price":23.11},{"timestamp":"2009-07-28","price":23.47},{"timestamp":"2009-07-29","price":23.8},{"timestamp":"2009-07-30","price":23.81},{"timestamp":"2009-07-31","price":23.52},{"timestamp":"2009-08-03","price":23.83},{"timestamp":"2009-08-04","price":23.77},{"timestamp":"2009-08-05","price":23.81},{"timestamp":"2009-08-06","price":23.46},{"timestamp":"2009-08-07","price":23.56},{"timestamp":"2009-08-10","price":23.42},{"timestamp":"2009-08-11","price":23.13},{"timestamp":"2009-08-12","price":23.53},{"timestamp":"2009-08-13","price":23.62},{"timestamp":"2009-08-14","price":23.692},{"timestamp":"2009-08-17","price":23.25},{"timestamp":"2009-08-18","price":23.58},{"timestamp":"2009-08-19","price":23.65},{"timestamp":"2009-08-20","price":23.67},{"timestamp":"2009-08-21","price":24.41},{"timestamp":"2009-08-24","price":24.64},{"timestamp":"2009-08-25","price":24.64},{"timestamp":"2009-08-26","price":24.55},{"timestamp":"2009-08-27","price":24.69},{"timestamp":"2009-08-28","price":24.68},{"timestamp":"2009-08-31","price":24.65},{"timestamp":"2009-09-01","price":24},{"timestamp":"2009-09-02","price":23.86},{"timestamp":"2009-09-03","price":24.11},{"timestamp":"2009-09-04","price":24.62},{"timestamp":"2009-09-08","price":24.82},{"timestamp":"2009-09-09","price":24.78},{"timestamp":"2009-09-10","price":25},{"timestamp":"2009-09-11","price":24.86},{"timestamp":"2009-09-14","price":25},{"timestamp":"2009-09-15","price":25.2},{"timestamp":"2009-09-16","price":25.2},{"timestamp":"2009-09-17","price":25.3},{"timestamp":"2009-09-18","price":25.26},{"timestamp":"2009-09-21","price":25.3},{"timestamp":"2009-09-22","price":25.77},{"timestamp":"2009-09-23","price":25.71},{"timestamp":"2009-09-24","price":25.94},{"timestamp":"2009-09-25","price":25.55},{"timestamp":"2009-09-28","price":25.83},{"timestamp":"2009-09-29","price":25.75},{"timestamp":"2009-09-30","price":25.72},{"timestamp":"2009-10-01","price":24.88},{"timestamp":"2009-10-02","price":24.96},{"timestamp":"2009-10-05","price":24.64},{"timestamp":"2009-10-06","price":25.11},{"timestamp":"2009-10-07","price":25.1},{"timestamp":"2009-10-08","price":25.67},{"timestamp":"2009-10-09","price":25.55},{"timestamp":"2009-10-12","price":25.72},{"timestamp":"2009-10-13","price":25.81},{"timestamp":"2009-10-14","price":25.96},{"timestamp":"2009-10-15","price":26.71},{"timestamp":"2009-10-16","price":26.5},{"timestamp":"2009-10-19","price":26.36},{"timestamp":"2009-10-20","price":26.37},{"timestamp":"2009-10-21","price":26.58},{"timestamp":"2009-10-22","price":26.59},{"timestamp":"2009-10-23","price":28.02},{"timestamp":"2009-10-26","price":28.68},{"timestamp":"2009-10-27","price":28.59},{"timestamp":"2009-10-28","price":28.02},{"timestamp":"2009-10-29","price":28.22},{"timestamp":"2009-10-30","price":27.73},{"timestamp":"2009-11-02","price":27.88},{"timestamp":"2009-11-03","price":27.53},{"timestamp":"2009-11-04","price":28.06},{"timestamp":"2009-11-05","price":28.47},{"timestamp":"2009-11-06","price":28.52},{"timestamp":"2009-11-09","price":28.99},{"timestamp":"2009-11-10","price":29.01},{"timestamp":"2009-11-11","price":29.12},{"timestamp":"2009-11-12","price":29.36},{"timestamp":"2009-11-13","price":29.63},{"timestamp":"2009-11-16","price":29.54},{"timestamp":"2009-11-17","price":30},{"timestamp":"2009-11-18","price":30.11},{"timestamp":"2009-11-19","price":29.78},{"timestamp":"2009-11-20","price":29.62},{"timestamp":"2009-11-23","price":29.94},{"timestamp":"2009-11-24","price":29.91},{"timestamp":"2009-11-25","price":29.79},{"timestamp":"2009-11-27","price":29.22},{"timestamp":"2009-11-30","price":29.41},{"timestamp":"2009-12-01","price":30.01},{"timestamp":"2009-12-02","price":29.78},{"timestamp":"2009-12-03","price":29.83},{"timestamp":"2009-12-04","price":29.98},{"timestamp":"2009-12-07","price":29.79},{"timestamp":"2009-12-08","price":29.57},{"timestamp":"2009-12-09","price":29.71},{"timestamp":"2009-12-10","price":29.87},{"timestamp":"2009-12-11","price":29.85},{"timestamp":"2009-12-14","price":30.11},{"timestamp":"2009-12-15","price":30.02},{"timestamp":"2009-12-16","price":30.1},{"timestamp":"2009-12-17","price":29.6},{"timestamp":"2009-12-18","price":30.36},{"timestamp":"2009-12-21","price":30.52},{"timestamp":"2009-12-22","price":30.82},{"timestamp":"2009-12-23","price":30.92},{"timestamp":"2009-12-24","price":31},{"timestamp":"2009-12-28","price":31.17},{"timestamp":"2009-12-29","price":31.39},{"timestamp":"2009-12-30","price":30.96},{"timestamp":"2009-12-31","price":30.48},{"timestamp":"2010-01-04","price":30.95},{"timestamp":"2010-01-05","price":30.96},{"timestamp":"2010-01-06","price":30.77},{"timestamp":"2010-01-07","price":30.452},{"timestamp":"2010-01-08","price":30.66},{"timestamp":"2010-01-11","price":30.27},{"timestamp":"2010-01-12","price":30.07},{"timestamp":"2010-01-13","price":30.35},{"timestamp":"2010-01-14","price":30.96},{"timestamp":"2010-01-15","price":30.86},{"timestamp":"2010-01-19","price":31.1},{"timestamp":"2010-01-20","price":30.585},{"timestamp":"2010-01-21","price":30.01},{"timestamp":"2010-01-22","price":28.96},{"timestamp":"2010-01-25","price":29.32},{"timestamp":"2010-01-26","price":29.5},{"timestamp":"2010-01-27","price":29.67},{"timestamp":"2010-01-28","price":29.16},{"timestamp":"2010-01-29","price":28.18},{"timestamp":"2010-02-01","price":28.41},{"timestamp":"2010-02-02","price":28.46},{"timestamp":"2010-02-03","price":28.63},{"timestamp":"2010-02-04","price":27.84},{"timestamp":"2010-02-05","price":28.02},{"timestamp":"2010-02-08","price":27.72},{"timestamp":"2010-02-09","price":28.01},{"timestamp":"2010-02-10","price":27.99},{"timestamp":"2010-02-11","price":28.12},{"timestamp":"2010-02-12","price":27.93},{"timestamp":"2010-02-16","price":28.35},{"timestamp":"2010-02-17","price":28.59},{"timestamp":"2010-02-18","price":28.969},{"timestamp":"2010-02-19","price":28.77},{"timestamp":"2010-02-22","price":28.73},{"timestamp":"2010-02-23","price":28.33},{"timestamp":"2010-02-24","price":28.63},{"timestamp":"2010-02-25","price":28.6},{"timestamp":"2010-02-26","price":28.67},{"timestamp":"2010-03-01","price":29.02},{"timestamp":"2010-03-02","price":28.46},{"timestamp":"2010-03-03","price":28.46},{"timestamp":"2010-03-04","price":28.63},{"timestamp":"2010-03-05","price":28.5875},{"timestamp":"2010-03-08","price":28.63},{"timestamp":"2010-03-09","price":28.8},{"timestamp":"2010-03-10","price":28.97},{"timestamp":"2010-03-11","price":29.18},{"timestamp":"2010-03-12","price":29.27},{"timestamp":"2010-03-15","price":29.29},{"timestamp":"2010-03-16","price":29.37},{"timestamp":"2010-03-17","price":29.63},{"timestamp":"2010-03-18","price":29.61},{"timestamp":"2010-03-19","price":29.59},{"timestamp":"2010-03-22","price":29.6},{"timestamp":"2010-03-23","price":29.88},{"timestamp":"2010-03-24","price":29.65},{"timestamp":"2010-03-25","price":30.01},{"timestamp":"2010-03-26","price":29.66},{"timestamp":"2010-03-29","price":29.59},{"timestamp":"2010-03-30","price":29.77},{"timestamp":"2010-03-31","price":29.2875},{"timestamp":"2010-04-01","price":29.16},{"timestamp":"2010-04-05","price":29.27},{"timestamp":"2010-04-06","price":29.32},{"timestamp":"2010-04-07","price":29.35},{"timestamp":"2010-04-08","price":29.92},{"timestamp":"2010-04-09","price":30.34},{"timestamp":"2010-04-12","price":30.32},{"timestamp":"2010-04-13","price":30.45},{"timestamp":"2010-04-14","price":30.82},{"timestamp":"2010-04-15","price":30.87},{"timestamp":"2010-04-16","price":30.67},{"timestamp":"2010-04-19","price":31.039},{"timestamp":"2010-04-20","price":31.36},{"timestamp":"2010-04-21","price":31.332},{"timestamp":"2010-04-22","price":31.39},{"timestamp":"2010-04-23","price":30.96},{"timestamp":"2010-04-26","price":31.11},{"timestamp":"2010-04-27","price":30.845},{"timestamp":"2010-04-28","price":30.91},{"timestamp":"2010-04-29","price":31.003},{"timestamp":"2010-04-30","price":30.535},{"timestamp":"2010-05-03","price":30.86},{"timestamp":"2010-05-04","price":30.13},{"timestamp":"2010-05-05","price":29.85},{"timestamp":"2010-05-06","price":28.98},{"timestamp":"2010-05-07","price":28.21},{"timestamp":"2010-05-10","price":28.94},{"timestamp":"2010-05-11","price":28.88},{"timestamp":"2010-05-12","price":29.44},{"timestamp":"2010-05-13","price":29.24},{"timestamp":"2010-05-14","price":28.93},{"timestamp":"2010-05-17","price":28.94},{"timestamp":"2010-05-18","price":28.5975},{"timestamp":"2010-05-19","price":28.24},{"timestamp":"2010-05-20","price":27.11},{"timestamp":"2010-05-21","price":26.84},{"timestamp":"2010-05-24","price":26.27},{"timestamp":"2010-05-25","price":26.07},{"timestamp":"2010-05-26","price":25.01},{"timestamp":"2010-05-27","price":26},{"timestamp":"2010-05-28","price":25.8},{"timestamp":"2010-06-01","price":25.89},{"timestamp":"2010-06-02","price":26.46},{"timestamp":"2010-06-03","price":26.86},{"timestamp":"2010-06-04","price":25.79},{"timestamp":"2010-06-07","price":25.29},{"timestamp":"2010-06-08","price":25.11},{"timestamp":"2010-06-09","price":24.79},{"timestamp":"2010-06-10","price":25},{"timestamp":"2010-06-11","price":25.66},{"timestamp":"2010-06-14","price":25.495},{"timestamp":"2010-06-15","price":26.5825},{"timestamp":"2010-06-16","price":26.32},{"timestamp":"2010-06-17","price":26.37},{"timestamp":"2010-06-18","price":26.44},{"timestamp":"2010-06-21","price":25.95},{"timestamp":"2010-06-22","price":25.77},{"timestamp":"2010-06-23","price":25.308},{"timestamp":"2010-06-24","price":25},{"timestamp":"2010-06-25","price":24.5325},{"timestamp":"2010-06-28","price":24.31},{"timestamp":"2010-06-29","price":23.31},{"timestamp":"2010-06-30","price":23.01},{"timestamp":"2010-07-01","price":23.16},{"timestamp":"2010-07-02","price":23.27},{"timestamp":"2010-07-06","price":23.82},{"timestamp":"2010-07-07","price":24.3},{"timestamp":"2010-07-08","price":24.4095},{"timestamp":"2010-07-09","price":24.27},{"timestamp":"2010-07-12","price":24.83},{"timestamp":"2010-07-13","price":25.13},{"timestamp":"2010-07-14","price":25.44},{"timestamp":"2010-07-15","price":25.51},{"timestamp":"2010-07-16","price":24.89},{"timestamp":"2010-07-19","price":25.23},{"timestamp":"2010-07-20","price":25.48},{"timestamp":"2010-07-21","price":25.12},{"timestamp":"2010-07-22","price":25.84},{"timestamp":"2010-07-23","price":25.81},{"timestamp":"2010-07-26","price":26.1},{"timestamp":"2010-07-27","price":26.16},{"timestamp":"2010-07-28","price":25.95},{"timestamp":"2010-07-29","price":26.03},{"timestamp":"2010-07-30","price":25.81},{"timestamp":"2010-08-02","price":26.33},{"timestamp":"2010-08-03","price":26.16},{"timestamp":"2010-08-04","price":25.73},{"timestamp":"2010-08-05","price":25.37},{"timestamp":"2010-08-06","price":25.55},{"timestamp":"2010-08-09","price":25.61},{"timestamp":"2010-08-10","price":25.07},{"timestamp":"2010-08-11","price":24.86},{"timestamp":"2010-08-12","price":24.49},{"timestamp":"2010-08-13","price":24.4},{"timestamp":"2010-08-16","price":24.5},{"timestamp":"2010-08-17","price":24.71},{"timestamp":"2010-08-18","price":24.82},{"timestamp":"2010-08-19","price":24.44},{"timestamp":"2010-08-20","price":24.23},{"timestamp":"2010-08-23","price":24.28},{"timestamp":"2010-08-24","price":24.04},{"timestamp":"2010-08-25","price":24.1},{"timestamp":"2010-08-26","price":23.82},{"timestamp":"2010-08-27","price":23.93},{"timestamp":"2010-08-30","price":23.64},{"timestamp":"2010-08-31","price":23.465},{"timestamp":"2010-09-01","price":23.9},{"timestamp":"2010-09-02","price":23.94},{"timestamp":"2010-09-03","price":24.29},{"timestamp":"2010-09-07","price":23.96},{"timestamp":"2010-09-08","price":23.93},{"timestamp":"2010-09-09","price":24.01},{"timestamp":"2010-09-10","price":23.85},{"timestamp":"2010-09-13","price":25.11},{"timestamp":"2010-09-14","price":25.03},{"timestamp":"2010-09-15","price":25.115},{"timestamp":"2010-09-16","price":25.33},{"timestamp":"2010-09-17","price":25.22},{"timestamp":"2010-09-20","price":25.43},{"timestamp":"2010-09-21","price":25.15},{"timestamp":"2010-09-22","price":24.61},{"timestamp":"2010-09-23","price":24.43},{"timestamp":"2010-09-24","price":24.775},{"timestamp":"2010-09-27","price":24.7325},{"timestamp":"2010-09-28","price":24.6775},{"timestamp":"2010-09-29","price":24.5},{"timestamp":"2010-09-30","price":24.49},{"timestamp":"2010-10-01","price":24.38},{"timestamp":"2010-10-04","price":23.91},{"timestamp":"2010-10-05","price":24.35},{"timestamp":"2010-10-06","price":24.43},{"timestamp":"2010-10-07","price":24.53},{"timestamp":"2010-10-08","price":24.57},{"timestamp":"2010-10-11","price":24.59},{"timestamp":"2010-10-12","price":24.83},{"timestamp":"2010-10-13","price":25.34},{"timestamp":"2010-10-14","price":25.23},{"timestamp":"2010-10-15","price":25.54},{"timestamp":"2010-10-18","price":25.82},{"timestamp":"2010-10-19","price":25.1},{"timestamp":"2010-10-20","price":25.31},{"timestamp":"2010-10-21","price":25.42},{"timestamp":"2010-10-22","price":25.3775},{"timestamp":"2010-10-25","price":25.19},{"timestamp":"2010-10-26","price":25.9},{"timestamp":"2010-10-27","price":26.05},{"timestamp":"2010-10-28","price":26.28},{"timestamp":"2010-10-29","price":26.665},{"timestamp":"2010-11-01","price":26.95},{"timestamp":"2010-11-02","price":27.39},{"timestamp":"2010-11-03","price":27.03},{"timestamp":"2010-11-04","price":27.14},{"timestamp":"2010-11-05","price":26.85},{"timestamp":"2010-11-08","price":26.81},{"timestamp":"2010-11-09","price":26.95},{"timestamp":"2010-11-10","price":26.94},{"timestamp":"2010-11-11","price":26.68},{"timestamp":"2010-11-12","price":26.27},{"timestamp":"2010-11-15","price":26.2},{"timestamp":"2010-11-16","price":25.81},{"timestamp":"2010-11-17","price":25.57},{"timestamp":"2010-11-18","price":25.8375},{"timestamp":"2010-11-19","price":25.69},{"timestamp":"2010-11-22","price":25.73},{"timestamp":"2010-11-23","price":25.12},{"timestamp":"2010-11-24","price":25.37},{"timestamp":"2010-11-26","price":25.25},{"timestamp":"2010-11-29","price":25.31},{"timestamp":"2010-11-30","price":25.2575},{"timestamp":"2010-12-01","price":26.04},{"timestamp":"2010-12-02","price":26.89},{"timestamp":"2010-12-03","price":27.02},{"timestamp":"2010-12-06","price":26.84},{"timestamp":"2010-12-07","price":26.87},{"timestamp":"2010-12-08","price":27.23},{"timestamp":"2010-12-09","price":27.08},{"timestamp":"2010-12-10","price":27.34},{"timestamp":"2010-12-13","price":27.245},{"timestamp":"2010-12-14","price":27.62},{"timestamp":"2010-12-15","price":27.85},{"timestamp":"2010-12-16","price":27.9875},{"timestamp":"2010-12-17","price":27.9025},{"timestamp":"2010-12-20","price":27.81},{"timestamp":"2010-12-21","price":28.07},{"timestamp":"2010-12-22","price":28.1875},{"timestamp":"2010-12-23","price":28.3},{"timestamp":"2010-12-27","price":28.07},{"timestamp":"2010-12-28","price":28.01},{"timestamp":"2010-12-29","price":27.97},{"timestamp":"2010-12-30","price":27.85},{"timestamp":"2010-12-31","price":27.91},{"timestamp":"2011-01-03","price":27.98},{"timestamp":"2011-01-04","price":28.0875},{"timestamp":"2011-01-05","price":28},{"timestamp":"2011-01-06","price":28.82},{"timestamp":"2011-01-07","price":28.6},{"timestamp":"2011-01-10","price":28.22},{"timestamp":"2011-01-11","price":28.11},{"timestamp":"2011-01-12","price":28.55},{"timestamp":"2011-01-13","price":28.19},{"timestamp":"2011-01-14","price":28.3},{"timestamp":"2011-01-18","price":28.66},{"timestamp":"2011-01-19","price":28.47},{"timestamp":"2011-01-20","price":28.3525},{"timestamp":"2011-01-21","price":28.02},{"timestamp":"2011-01-24","price":28.38},{"timestamp":"2011-01-25","price":28.45},{"timestamp":"2011-01-26","price":28.78},{"timestamp":"2011-01-27","price":28.87},{"timestamp":"2011-01-28","price":27.751},{"timestamp":"2011-01-31","price":27.725},{"timestamp":"2011-02-01","price":27.9925},{"timestamp":"2011-02-02","price":27.94},{"timestamp":"2011-02-03","price":27.65},{"timestamp":"2011-02-04","price":27.77},{"timestamp":"2011-02-07","price":28.1975},{"timestamp":"2011-02-08","price":28.2825},{"timestamp":"2011-02-09","price":27.97},{"timestamp":"2011-02-10","price":27.5},{"timestamp":"2011-02-11","price":27.25},{"timestamp":"2011-02-14","price":27.23},{"timestamp":"2011-02-15","price":26.96},{"timestamp":"2011-02-16","price":27.02},{"timestamp":"2011-02-17","price":27.21},{"timestamp":"2011-02-18","price":27.06},{"timestamp":"2011-02-22","price":26.59},{"timestamp":"2011-02-23","price":26.59},{"timestamp":"2011-02-24","price":26.77},{"timestamp":"2011-02-25","price":26.55},{"timestamp":"2011-02-28","price":26.58},{"timestamp":"2011-03-01","price":26.16},{"timestamp":"2011-03-02","price":26.0775},{"timestamp":"2011-03-03","price":26.2},{"timestamp":"2011-03-04","price":25.9525},{"timestamp":"2011-03-07","price":25.72},{"timestamp":"2011-03-08","price":25.91},{"timestamp":"2011-03-09","price":25.89},{"timestamp":"2011-03-10","price":25.41},{"timestamp":"2011-03-11","price":25.68},{"timestamp":"2011-03-14","price":25.69},{"timestamp":"2011-03-15","price":25.39},{"timestamp":"2011-03-16","price":24.79},{"timestamp":"2011-03-17","price":24.78},{"timestamp":"2011-03-18","price":24.8},{"timestamp":"2011-03-21","price":25.33},{"timestamp":"2011-03-22","price":25.295},{"timestamp":"2011-03-23","price":25.54},{"timestamp":"2011-03-24","price":25.81},{"timestamp":"2011-03-25","price":25.62},{"timestamp":"2011-03-28","price":25.41},{"timestamp":"2011-03-29","price":25.49},{"timestamp":"2011-03-30","price":25.61},{"timestamp":"2011-03-31","price":25.39},{"timestamp":"2011-04-01","price":25.48},{"timestamp":"2011-04-04","price":25.55},{"timestamp":"2011-04-05","price":25.78},{"timestamp":"2011-04-06","price":26.15},{"timestamp":"2011-04-07","price":26.2},{"timestamp":"2011-04-08","price":26.07},{"timestamp":"2011-04-11","price":25.98},{"timestamp":"2011-04-12","price":25.64},{"timestamp":"2011-04-13","price":25.63},{"timestamp":"2011-04-14","price":25.42},{"timestamp":"2011-04-15","price":25.37},{"timestamp":"2011-04-18","price":25.08},{"timestamp":"2011-04-19","price":25.15},{"timestamp":"2011-04-20","price":25.76},{"timestamp":"2011-04-21","price":25.52},{"timestamp":"2011-04-25","price":25.61},{"timestamp":"2011-04-26","price":26.19},{"timestamp":"2011-04-27","price":26.38},{"timestamp":"2011-04-28","price":26.71},{"timestamp":"2011-04-29","price":25.92},{"timestamp":"2011-05-02","price":25.66},{"timestamp":"2011-05-03","price":25.81},{"timestamp":"2011-05-04","price":26.06},{"timestamp":"2011-05-05","price":25.79},{"timestamp":"2011-05-06","price":25.87},{"timestamp":"2011-05-09","price":25.83},{"timestamp":"2011-05-10","price":25.67},{"timestamp":"2011-05-11","price":25.36},{"timestamp":"2011-05-12","price":25.32},{"timestamp":"2011-05-13","price":25.03},{"timestamp":"2011-05-16","price":24.57},{"timestamp":"2011-05-17","price":24.52},{"timestamp":"2011-05-18","price":24.69},{"timestamp":"2011-05-19","price":24.715},{"timestamp":"2011-05-20","price":24.49},{"timestamp":"2011-05-23","price":24.17},{"timestamp":"2011-05-24","price":24.15},{"timestamp":"2011-05-25","price":24.19},{"timestamp":"2011-05-26","price":24.67},{"timestamp":"2011-05-27","price":24.76},{"timestamp":"2011-05-31","price":25.01},{"timestamp":"2011-06-01","price":24.43},{"timestamp":"2011-06-02","price":24.22},{"timestamp":"2011-06-03","price":23.905},{"timestamp":"2011-06-06","price":24.01},{"timestamp":"2011-06-07","price":24.06},{"timestamp":"2011-06-08","price":23.94},{"timestamp":"2011-06-09","price":23.96},{"timestamp":"2011-06-10","price":23.705},{"timestamp":"2011-06-13","price":24.04},{"timestamp":"2011-06-14","price":24.22},{"timestamp":"2011-06-15","price":23.74},{"timestamp":"2011-06-16","price":23.995},{"timestamp":"2011-06-17","price":24.26},{"timestamp":"2011-06-20","price":24.47},{"timestamp":"2011-06-21","price":24.76},{"timestamp":"2011-06-22","price":24.65},{"timestamp":"2011-06-23","price":24.63},{"timestamp":"2011-06-24","price":24.3},{"timestamp":"2011-06-27","price":25.2},{"timestamp":"2011-06-28","price":25.8},{"timestamp":"2011-06-29","price":25.62},{"timestamp":"2011-06-30","price":26},{"timestamp":"2011-07-01","price":26.02},{"timestamp":"2011-07-05","price":26.03},{"timestamp":"2011-07-06","price":26.33},{"timestamp":"2011-07-07","price":26.77},{"timestamp":"2011-07-08","price":26.92},{"timestamp":"2011-07-11","price":26.63},{"timestamp":"2011-07-12","price":26.54},{"timestamp":"2011-07-13","price":26.63},{"timestamp":"2011-07-14","price":26.47},{"timestamp":"2011-07-15","price":26.78},{"timestamp":"2011-07-18","price":26.59},{"timestamp":"2011-07-19","price":27.54},{"timestamp":"2011-07-20","price":27.06},{"timestamp":"2011-07-21","price":27.095},{"timestamp":"2011-07-22","price":27.53},{"timestamp":"2011-07-25","price":27.91},{"timestamp":"2011-07-26","price":28.08},{"timestamp":"2011-07-27","price":27.33},{"timestamp":"2011-07-28","price":27.72},{"timestamp":"2011-07-29","price":27.4},{"timestamp":"2011-08-01","price":27.27},{"timestamp":"2011-08-02","price":26.8},{"timestamp":"2011-08-03","price":26.92},{"timestamp":"2011-08-04","price":25.94},{"timestamp":"2011-08-05","price":25.68},{"timestamp":"2011-08-08","price":24.48},{"timestamp":"2011-08-09","price":25.58},{"timestamp":"2011-08-10","price":24.2},{"timestamp":"2011-08-11","price":25.19},{"timestamp":"2011-08-12","price":25.1},{"timestamp":"2011-08-15","price":25.51},{"timestamp":"2011-08-16","price":25.35},{"timestamp":"2011-08-17","price":25.245},{"timestamp":"2011-08-18","price":24.67},{"timestamp":"2011-08-19","price":24.05},{"timestamp":"2011-08-22","price":23.98},{"timestamp":"2011-08-23","price":24.72},{"timestamp":"2011-08-24","price":24.9},{"timestamp":"2011-08-25","price":24.57},{"timestamp":"2011-08-26","price":25.25},{"timestamp":"2011-08-29","price":25.84},{"timestamp":"2011-08-30","price":26.23},{"timestamp":"2011-08-31","price":26.6},{"timestamp":"2011-09-01","price":26.21},{"timestamp":"2011-09-02","price":25.8},{"timestamp":"2011-09-06","price":25.51},{"timestamp":"2011-09-07","price":26},{"timestamp":"2011-09-08","price":26.22},{"timestamp":"2011-09-09","price":25.74},{"timestamp":"2011-09-12","price":25.89},{"timestamp":"2011-09-13","price":26.04},{"timestamp":"2011-09-14","price":26.5},{"timestamp":"2011-09-15","price":26.99},{"timestamp":"2011-09-16","price":27.12},{"timestamp":"2011-09-19","price":27.21},{"timestamp":"2011-09-20","price":26.98},{"timestamp":"2011-09-21","price":25.99},{"timestamp":"2011-09-22","price":25.06},{"timestamp":"2011-09-23","price":25.06},{"timestamp":"2011-09-26","price":25.44},{"timestamp":"2011-09-27","price":25.67},{"timestamp":"2011-09-28","price":25.575},{"timestamp":"2011-09-29","price":25.45},{"timestamp":"2011-09-30","price":24.89},{"timestamp":"2011-10-03","price":24.53},{"timestamp":"2011-10-04","price":25.34},{"timestamp":"2011-10-05","price":25.89},{"timestamp":"2011-10-06","price":26.34},{"timestamp":"2011-10-07","price":26.25},{"timestamp":"2011-10-10","price":26.94},{"timestamp":"2011-10-11","price":27},{"timestamp":"2011-10-12","price":26.96},{"timestamp":"2011-10-13","price":27.18},{"timestamp":"2011-10-14","price":27.27},{"timestamp":"2011-10-17","price":26.98},{"timestamp":"2011-10-18","price":27.31},{"timestamp":"2011-10-19","price":27.13},{"timestamp":"2011-10-20","price":27.04},{"timestamp":"2011-10-21","price":27.16},{"timestamp":"2011-10-24","price":27.19},{"timestamp":"2011-10-25","price":26.81},{"timestamp":"2011-10-26","price":26.59},{"timestamp":"2011-10-27","price":27.25},{"timestamp":"2011-10-28","price":26.98},{"timestamp":"2011-10-31","price":26.63},{"timestamp":"2011-11-01","price":25.99},{"timestamp":"2011-11-02","price":26.01},{"timestamp":"2011-11-03","price":26.53},{"timestamp":"2011-11-04","price":26.25},{"timestamp":"2011-11-07","price":26.8},{"timestamp":"2011-11-08","price":27.16},{"timestamp":"2011-11-09","price":26.2},{"timestamp":"2011-11-10","price":26.28},{"timestamp":"2011-11-11","price":26.91},{"timestamp":"2011-11-14","price":26.76},{"timestamp":"2011-11-15","price":26.74},{"timestamp":"2011-11-16","price":26.07},{"timestamp":"2011-11-17","price":25.54},{"timestamp":"2011-11-18","price":25.3},{"timestamp":"2011-11-21","price":25},{"timestamp":"2011-11-22","price":24.79},{"timestamp":"2011-11-23","price":24.47},{"timestamp":"2011-11-25","price":24.3},{"timestamp":"2011-11-28","price":24.87},{"timestamp":"2011-11-29","price":24.84},{"timestamp":"2011-11-30","price":25.58},{"timestamp":"2011-12-01","price":25.28},{"timestamp":"2011-12-02","price":25.22},{"timestamp":"2011-12-05","price":25.7},{"timestamp":"2011-12-06","price":25.66},{"timestamp":"2011-12-07","price":25.6},{"timestamp":"2011-12-08","price":25.4},{"timestamp":"2011-12-09","price":25.7},{"timestamp":"2011-12-12","price":25.51},{"timestamp":"2011-12-13","price":25.76},{"timestamp":"2011-12-14","price":25.59},{"timestamp":"2011-12-15","price":25.56},{"timestamp":"2011-12-16","price":26},{"timestamp":"2011-12-19","price":25.53},{"timestamp":"2011-12-20","price":26.025},{"timestamp":"2011-12-21","price":25.76},{"timestamp":"2011-12-22","price":25.81},{"timestamp":"2011-12-23","price":26.03},{"timestamp":"2011-12-27","price":26.04},{"timestamp":"2011-12-28","price":25.82},{"timestamp":"2011-12-29","price":26.02},{"timestamp":"2011-12-30","price":25.96},{"timestamp":"2012-01-03","price":26.765},{"timestamp":"2012-01-04","price":27.4},{"timestamp":"2012-01-05","price":27.68},{"timestamp":"2012-01-06","price":28.105},{"timestamp":"2012-01-09","price":27.74},{"timestamp":"2012-01-10","price":27.84},{"timestamp":"2012-01-11","price":27.72},{"timestamp":"2012-01-12","price":28},{"timestamp":"2012-01-13","price":28.25},{"timestamp":"2012-01-17","price":28.255},{"timestamp":"2012-01-18","price":28.23},{"timestamp":"2012-01-19","price":28.12},{"timestamp":"2012-01-20","price":29.71},{"timestamp":"2012-01-23","price":29.73},{"timestamp":"2012-01-24","price":29.34},{"timestamp":"2012-01-25","price":29.56},{"timestamp":"2012-01-26","price":29.5},{"timestamp":"2012-01-27","price":29.23},{"timestamp":"2012-01-30","price":29.61},{"timestamp":"2012-01-31","price":29.53},{"timestamp":"2012-02-01","price":29.89},{"timestamp":"2012-02-02","price":29.95},{"timestamp":"2012-02-03","price":30.24},{"timestamp":"2012-02-06","price":30.2},{"timestamp":"2012-02-07","price":30.35},{"timestamp":"2012-02-08","price":30.66},{"timestamp":"2012-02-09","price":30.77},{"timestamp":"2012-02-10","price":30.495},{"timestamp":"2012-02-13","price":30.58},{"timestamp":"2012-02-14","price":30.25},{"timestamp":"2012-02-15","price":30.05},{"timestamp":"2012-02-16","price":31.285},{"timestamp":"2012-02-17","price":31.25},{"timestamp":"2012-02-21","price":31.44},{"timestamp":"2012-02-22","price":31.27},{"timestamp":"2012-02-23","price":31.37},{"timestamp":"2012-02-24","price":31.48},{"timestamp":"2012-02-27","price":31.35},{"timestamp":"2012-02-28","price":31.87},{"timestamp":"2012-02-29","price":31.74},{"timestamp":"2012-03-01","price":32.29},{"timestamp":"2012-03-02","price":32.075},{"timestamp":"2012-03-05","price":31.8},{"timestamp":"2012-03-06","price":31.555},{"timestamp":"2012-03-07","price":31.84},{"timestamp":"2012-03-08","price":32.01},{"timestamp":"2012-03-09","price":31.99},{"timestamp":"2012-03-12","price":32.04},{"timestamp":"2012-03-13","price":32.67},{"timestamp":"2012-03-14","price":32.77},{"timestamp":"2012-03-15","price":32.85},{"timestamp":"2012-03-16","price":32.6},{"timestamp":"2012-03-19","price":32.2},{"timestamp":"2012-03-20","price":31.99},{"timestamp":"2012-03-21","price":31.91},{"timestamp":"2012-03-22","price":31.995},{"timestamp":"2012-03-23","price":32.01},{"timestamp":"2012-03-26","price":32.59},{"timestamp":"2012-03-27","price":32.52},{"timestamp":"2012-03-28","price":32.19},{"timestamp":"2012-03-29","price":32.12},{"timestamp":"2012-03-30","price":32.255},{"timestamp":"2012-04-02","price":32.29},{"timestamp":"2012-04-03","price":31.94},{"timestamp":"2012-04-04","price":31.21},{"timestamp":"2012-04-05","price":31.52},{"timestamp":"2012-04-09","price":31.1},{"timestamp":"2012-04-10","price":30.47},{"timestamp":"2012-04-11","price":30.345},{"timestamp":"2012-04-12","price":30.975},{"timestamp":"2012-04-13","price":30.81},{"timestamp":"2012-04-16","price":31.075},{"timestamp":"2012-04-17","price":31.44},{"timestamp":"2012-04-18","price":31.14},{"timestamp":"2012-04-19","price":31.01},{"timestamp":"2012-04-20","price":32.42},{"timestamp":"2012-04-23","price":32.12},{"timestamp":"2012-04-24","price":31.92},{"timestamp":"2012-04-25","price":32.2},{"timestamp":"2012-04-26","price":32.11},{"timestamp":"2012-04-27","price":31.98},{"timestamp":"2012-04-30","price":32.015},{"timestamp":"2012-05-01","price":32.01},{"timestamp":"2012-05-02","price":31.8},{"timestamp":"2012-05-03","price":31.76},{"timestamp":"2012-05-04","price":30.98},{"timestamp":"2012-05-07","price":30.65},{"timestamp":"2012-05-08","price":30.5},{"timestamp":"2012-05-09","price":30.76},{"timestamp":"2012-05-10","price":30.74},{"timestamp":"2012-05-11","price":31.16},{"timestamp":"2012-05-14","price":30.68},{"timestamp":"2012-05-15","price":30.21},{"timestamp":"2012-05-16","price":29.9},{"timestamp":"2012-05-17","price":29.72},{"timestamp":"2012-05-18","price":29.27},{"timestamp":"2012-05-21","price":29.75},{"timestamp":"2012-05-22","price":29.76},{"timestamp":"2012-05-23","price":29.11},{"timestamp":"2012-05-24","price":29.07},{"timestamp":"2012-05-25","price":29.06},{"timestamp":"2012-05-29","price":29.56},{"timestamp":"2012-05-30","price":29.34},{"timestamp":"2012-05-31","price":29.19},{"timestamp":"2012-06-01","price":28.45},{"timestamp":"2012-06-04","price":28.55},{"timestamp":"2012-06-05","price":28.505},{"timestamp":"2012-06-06","price":29.35},{"timestamp":"2012-06-07","price":29.23},{"timestamp":"2012-06-08","price":29.65},{"timestamp":"2012-06-11","price":28.895},{"timestamp":"2012-06-12","price":29.29},{"timestamp":"2012-06-13","price":29.13},{"timestamp":"2012-06-14","price":29.34},{"timestamp":"2012-06-15","price":30.02},{"timestamp":"2012-06-18","price":29.84},{"timestamp":"2012-06-19","price":30.7},{"timestamp":"2012-06-20","price":30.93},{"timestamp":"2012-06-21","price":30.135},{"timestamp":"2012-06-22","price":30.7},{"timestamp":"2012-06-25","price":29.865},{"timestamp":"2012-06-26","price":30.02},{"timestamp":"2012-06-27","price":30.17},{"timestamp":"2012-06-28","price":29.91},{"timestamp":"2012-06-29","price":30.59},{"timestamp":"2012-07-02","price":30.56},{"timestamp":"2012-07-03","price":30.76},{"timestamp":"2012-07-05","price":30.7},{"timestamp":"2012-07-06","price":30.185},{"timestamp":"2012-07-09","price":30},{"timestamp":"2012-07-10","price":29.74},{"timestamp":"2012-07-11","price":29.3},{"timestamp":"2012-07-12","price":28.63},{"timestamp":"2012-07-13","price":29.39},{"timestamp":"2012-07-16","price":29.44},{"timestamp":"2012-07-17","price":29.66},{"timestamp":"2012-07-18","price":30.45},{"timestamp":"2012-07-19","price":30.665},{"timestamp":"2012-07-20","price":30.115},{"timestamp":"2012-07-23","price":29.28},{"timestamp":"2012-07-24","price":29.15},{"timestamp":"2012-07-25","price":28.83},{"timestamp":"2012-07-26","price":29.16},{"timestamp":"2012-07-27","price":29.755},{"timestamp":"2012-07-30","price":29.64},{"timestamp":"2012-07-31","price":29.47},{"timestamp":"2012-08-01","price":29.41},{"timestamp":"2012-08-02","price":29.19},{"timestamp":"2012-08-03","price":29.75},{"timestamp":"2012-08-06","price":29.95},{"timestamp":"2012-08-07","price":30.26},{"timestamp":"2012-08-08","price":30.33},{"timestamp":"2012-08-09","price":30.5},{"timestamp":"2012-08-10","price":30.42},{"timestamp":"2012-08-13","price":30.39},{"timestamp":"2012-08-14","price":30.13},{"timestamp":"2012-08-15","price":30.2},{"timestamp":"2012-08-16","price":30.78},{"timestamp":"2012-08-17","price":30.9},{"timestamp":"2012-08-20","price":30.74},{"timestamp":"2012-08-21","price":30.8},{"timestamp":"2012-08-22","price":30.54},{"timestamp":"2012-08-23","price":30.255},{"timestamp":"2012-08-24","price":30.56},{"timestamp":"2012-08-27","price":30.69},{"timestamp":"2012-08-28","price":30.63},{"timestamp":"2012-08-29","price":30.65},{"timestamp":"2012-08-30","price":30.32},{"timestamp":"2012-08-31","price":30.82},{"timestamp":"2012-09-04","price":30.385},{"timestamp":"2012-09-05","price":30.39},{"timestamp":"2012-09-06","price":31.345},{"timestamp":"2012-09-07","price":30.95},{"timestamp":"2012-09-10","price":30.72},{"timestamp":"2012-09-11","price":30.79},{"timestamp":"2012-09-12","price":30.78},{"timestamp":"2012-09-13","price":30.935},{"timestamp":"2012-09-14","price":31.21},{"timestamp":"2012-09-17","price":31.21},{"timestamp":"2012-09-18","price":31.175},{"timestamp":"2012-09-19","price":31.052},{"timestamp":"2012-09-20","price":31.45},{"timestamp":"2012-09-21","price":31.19},{"timestamp":"2012-09-24","price":30.78},{"timestamp":"2012-09-25","price":30.39},{"timestamp":"2012-09-26","price":30.165},{"timestamp":"2012-09-27","price":30.16},{"timestamp":"2012-09-28","price":29.76},{"timestamp":"2012-10-01","price":29.49},{"timestamp":"2012-10-02","price":29.66},{"timestamp":"2012-10-03","price":29.86},{"timestamp":"2012-10-04","price":30.03},{"timestamp":"2012-10-05","price":29.85},{"timestamp":"2012-10-08","price":29.78},{"timestamp":"2012-10-09","price":29.28},{"timestamp":"2012-10-10","price":28.98},{"timestamp":"2012-10-11","price":28.95},{"timestamp":"2012-10-12","price":29.2},{"timestamp":"2012-10-15","price":29.51},{"timestamp":"2012-10-16","price":29.49},{"timestamp":"2012-10-17","price":29.59},{"timestamp":"2012-10-18","price":29.495},{"timestamp":"2012-10-19","price":28.64},{"timestamp":"2012-10-22","price":28},{"timestamp":"2012-10-23","price":28.047},{"timestamp":"2012-10-24","price":27.9019},{"timestamp":"2012-10-25","price":27.88},{"timestamp":"2012-10-26","price":28.21},{"timestamp":"2012-10-31","price":28.54},{"timestamp":"2012-11-01","price":29.515},{"timestamp":"2012-11-02","price":29.4998},{"timestamp":"2012-11-05","price":29.63},{"timestamp":"2012-11-06","price":29.86},{"timestamp":"2012-11-07","price":29.08},{"timestamp":"2012-11-08","price":28.81},{"timestamp":"2012-11-09","price":28.83},{"timestamp":"2012-11-12","price":28.22},{"timestamp":"2012-11-13","price":27.0895},{"timestamp":"2012-11-14","price":26.84},{"timestamp":"2012-11-15","price":26.6607},{"timestamp":"2012-11-16","price":26.5209},{"timestamp":"2012-11-19","price":26.7277},{"timestamp":"2012-11-20","price":26.71},{"timestamp":"2012-11-21","price":26.95},{"timestamp":"2012-11-23","price":27.7},{"timestamp":"2012-11-26","price":27.385},{"timestamp":"2012-11-27","price":27.08},{"timestamp":"2012-11-28","price":27.36},{"timestamp":"2012-11-29","price":26.95},{"timestamp":"2012-11-30","price":26.615},{"timestamp":"2012-12-03","price":26.4294},{"timestamp":"2012-12-04","price":26.37},{"timestamp":"2012-12-05","price":26.67},{"timestamp":"2012-12-06","price":26.725},{"timestamp":"2012-12-07","price":26.455},{"timestamp":"2012-12-10","price":26.94},{"timestamp":"2012-12-11","price":27.32},{"timestamp":"2012-12-12","price":27.24},{"timestamp":"2012-12-13","price":27.11},{"timestamp":"2012-12-14","price":26.81},{"timestamp":"2012-12-17","price":27.095},{"timestamp":"2012-12-18","price":27.56},{"timestamp":"2012-12-19","price":27.31},{"timestamp":"2012-12-20","price":27.68},{"timestamp":"2012-12-21","price":27.45},{"timestamp":"2012-12-24","price":27.06},{"timestamp":"2012-12-26","price":26.86},{"timestamp":"2012-12-27","price":26.96},{"timestamp":"2012-12-28","price":26.55},{"timestamp":"2012-12-31","price":26.7097},{"timestamp":"2013-01-02","price":27.62},{"timestamp":"2013-01-03","price":27.25},{"timestamp":"2013-01-04","price":26.74},{"timestamp":"2013-01-07","price":26.69},{"timestamp":"2013-01-08","price":26.55},{"timestamp":"2013-01-09","price":26.7},{"timestamp":"2013-01-10","price":26.46},{"timestamp":"2013-01-11","price":26.83},{"timestamp":"2013-01-14","price":26.89},{"timestamp":"2013-01-15","price":27.21},{"timestamp":"2013-01-16","price":27.04},{"timestamp":"2013-01-17","price":27.25},{"timestamp":"2013-01-18","price":27.25},{"timestamp":"2013-01-22","price":27.15},{"timestamp":"2013-01-23","price":27.61},{"timestamp":"2013-01-24","price":27.63},{"timestamp":"2013-01-25","price":27.88},{"timestamp":"2013-01-28","price":27.911},{"timestamp":"2013-01-29","price":28.01},{"timestamp":"2013-01-30","price":27.85},{"timestamp":"2013-01-31","price":27.45},{"timestamp":"2013-02-01","price":27.93},{"timestamp":"2013-02-04","price":27.44},{"timestamp":"2013-02-05","price":27.495},{"timestamp":"2013-02-06","price":27.34},{"timestamp":"2013-02-07","price":27.283},{"timestamp":"2013-02-08","price":27.55},{"timestamp":"2013-02-11","price":27.86},{"timestamp":"2013-02-12","price":27.88},{"timestamp":"2013-02-13","price":28.03},{"timestamp":"2013-02-14","price":28.04},{"timestamp":"2013-02-15","price":28.01},{"timestamp":"2013-02-19","price":28.045},{"timestamp":"2013-02-20","price":27.87},{"timestamp":"2013-02-21","price":27.49},{"timestamp":"2013-02-22","price":27.76},{"timestamp":"2013-02-25","price":27.37},{"timestamp":"2013-02-26","price":27.37},{"timestamp":"2013-02-27","price":27.81},{"timestamp":"2013-02-28","price":27.8},{"timestamp":"2013-03-01","price":27.95},{"timestamp":"2013-03-04","price":28.15},{"timestamp":"2013-03-05","price":28.35},{"timestamp":"2013-03-06","price":28.09},{"timestamp":"2013-03-07","price":28.14},{"timestamp":"2013-03-08","price":28},{"timestamp":"2013-03-11","price":27.87},{"timestamp":"2013-03-12","price":27.91},{"timestamp":"2013-03-13","price":27.915},{"timestamp":"2013-03-14","price":28.135},{"timestamp":"2013-03-15","price":28.035},{"timestamp":"2013-03-18","price":28.1},{"timestamp":"2013-03-19","price":28.18},{"timestamp":"2013-03-20","price":28.315},{"timestamp":"2013-03-21","price":28.11},{"timestamp":"2013-03-22","price":28.25},{"timestamp":"2013-03-25","price":28.16},{"timestamp":"2013-03-26","price":28.155},{"timestamp":"2013-03-27","price":28.37},{"timestamp":"2013-03-28","price":28.605},{"timestamp":"2013-04-01","price":28.61},{"timestamp":"2013-04-02","price":28.8},{"timestamp":"2013-04-03","price":28.56},{"timestamp":"2013-04-04","price":28.595},{"timestamp":"2013-04-05","price":28.7},{"timestamp":"2013-04-08","price":28.59},{"timestamp":"2013-04-09","price":29.61},{"timestamp":"2013-04-10","price":30.28},{"timestamp":"2013-04-11","price":28.935},{"timestamp":"2013-04-12","price":28.79},{"timestamp":"2013-04-15","price":28.69},{"timestamp":"2013-04-16","price":28.97},{"timestamp":"2013-04-17","price":28.825},{"timestamp":"2013-04-18","price":28.79},{"timestamp":"2013-04-19","price":29.765},{"timestamp":"2013-04-22","price":30.8},{"timestamp":"2013-04-23","price":30.6},{"timestamp":"2013-04-24","price":31.76},{"timestamp":"2013-04-25","price":31.94},{"timestamp":"2013-04-26","price":31.79},{"timestamp":"2013-04-29","price":32.61},{"timestamp":"2013-04-30","price":33.1},{"timestamp":"2013-05-01","price":32.72},{"timestamp":"2013-05-02","price":33.16},{"timestamp":"2013-05-03","price":33.49},{"timestamp":"2013-05-06","price":33.75},{"timestamp":"2013-05-07","price":33.31},{"timestamp":"2013-05-08","price":32.99},{"timestamp":"2013-05-09","price":32.66},{"timestamp":"2013-05-10","price":32.69},{"timestamp":"2013-05-13","price":33.03},{"timestamp":"2013-05-14","price":33.53},{"timestamp":"2013-05-15","price":33.845},{"timestamp":"2013-05-16","price":34.08},{"timestamp":"2013-05-17","price":34.87},{"timestamp":"2013-05-20","price":35.08},{"timestamp":"2013-05-21","price":34.85},{"timestamp":"2013-05-22","price":34.61},{"timestamp":"2013-05-23","price":34.15},{"timestamp":"2013-05-24","price":34.269},{"timestamp":"2013-05-28","price":35.02},{"timestamp":"2013-05-29","price":34.88},{"timestamp":"2013-05-30","price":35.03},{"timestamp":"2013-05-31","price":34.9},{"timestamp":"2013-06-03","price":35.59},{"timestamp":"2013-06-04","price":34.99},{"timestamp":"2013-06-05","price":34.78},{"timestamp":"2013-06-06","price":34.96},{"timestamp":"2013-06-07","price":35.67},{"timestamp":"2013-06-10","price":35.47},{"timestamp":"2013-06-11","price":34.84},{"timestamp":"2013-06-12","price":35},{"timestamp":"2013-06-13","price":34.715},{"timestamp":"2013-06-14","price":34.4},{"timestamp":"2013-06-17","price":35},{"timestamp":"2013-06-18","price":34.98},{"timestamp":"2013-06-19","price":34.59},{"timestamp":"2013-06-20","price":33.49},{"timestamp":"2013-06-21","price":33.265},{"timestamp":"2013-06-24","price":33.715},{"timestamp":"2013-06-25","price":33.67},{"timestamp":"2013-06-26","price":34.35},{"timestamp":"2013-06-27","price":34.62},{"timestamp":"2013-06-28","price":34.545},{"timestamp":"2013-07-01","price":34.36},{"timestamp":"2013-07-02","price":33.94},{"timestamp":"2013-07-03","price":34.01},{"timestamp":"2013-07-05","price":34.21},{"timestamp":"2013-07-08","price":34.325},{"timestamp":"2013-07-09","price":34.35},{"timestamp":"2013-07-10","price":34.7},{"timestamp":"2013-07-11","price":35.685},{"timestamp":"2013-07-12","price":35.67},{"timestamp":"2013-07-15","price":36.17},{"timestamp":"2013-07-16","price":36.27},{"timestamp":"2013-07-17","price":35.74},{"timestamp":"2013-07-18","price":35.44},{"timestamp":"2013-07-19","price":31.4},{"timestamp":"2013-07-22","price":32.01},{"timestamp":"2013-07-23","price":31.82},{"timestamp":"2013-07-24","price":31.96},{"timestamp":"2013-07-25","price":31.39},{"timestamp":"2013-07-26","price":31.62},{"timestamp":"2013-07-29","price":31.54},{"timestamp":"2013-07-30","price":31.85},{"timestamp":"2013-07-31","price":31.84},{"timestamp":"2013-08-01","price":31.67},{"timestamp":"2013-08-02","price":31.89},{"timestamp":"2013-08-05","price":31.7},{"timestamp":"2013-08-06","price":31.58},{"timestamp":"2013-08-07","price":32.063},{"timestamp":"2013-08-08","price":32.89},{"timestamp":"2013-08-09","price":32.7},{"timestamp":"2013-08-12","price":32.87},{"timestamp":"2013-08-13","price":32.23},{"timestamp":"2013-08-14","price":32.35},{"timestamp":"2013-08-15","price":31.79},{"timestamp":"2013-08-16","price":31.8},{"timestamp":"2013-08-19","price":31.393},{"timestamp":"2013-08-20","price":31.62},{"timestamp":"2013-08-21","price":31.61},{"timestamp":"2013-08-22","price":32.39},{"timestamp":"2013-08-23","price":34.75},{"timestamp":"2013-08-26","price":34.15},{"timestamp":"2013-08-27","price":33.26},{"timestamp":"2013-08-28","price":33.02},{"timestamp":"2013-08-29","price":33.55},{"timestamp":"2013-08-30","price":33.4},{"timestamp":"2013-09-03","price":31.88},{"timestamp":"2013-09-04","price":31.195},{"timestamp":"2013-09-05","price":31.235},{"timestamp":"2013-09-06","price":31.152},{"timestamp":"2013-09-09","price":31.655},{"timestamp":"2013-09-10","price":32.39},{"timestamp":"2013-09-11","price":32.74},{"timestamp":"2013-09-12","price":32.69},{"timestamp":"2013-09-13","price":33.03},{"timestamp":"2013-09-16","price":32.801},{"timestamp":"2013-09-17","price":32.93},{"timestamp":"2013-09-18","price":33.32},{"timestamp":"2013-09-19","price":33.64},{"timestamp":"2013-09-20","price":32.791},{"timestamp":"2013-09-23","price":32.74},{"timestamp":"2013-09-24","price":32.455},{"timestamp":"2013-09-25","price":32.505},{"timestamp":"2013-09-26","price":32.77},{"timestamp":"2013-09-27","price":33.27},{"timestamp":"2013-09-30","price":33.28},{"timestamp":"2013-10-01","price":33.58},{"timestamp":"2013-10-02","price":33.92},{"timestamp":"2013-10-03","price":33.86},{"timestamp":"2013-10-04","price":33.88},{"timestamp":"2013-10-07","price":33.3},{"timestamp":"2013-10-08","price":33.01},{"timestamp":"2013-10-09","price":33.07},{"timestamp":"2013-10-10","price":33.76},{"timestamp":"2013-10-11","price":34.13},{"timestamp":"2013-10-14","price":34.45},{"timestamp":"2013-10-15","price":34.49},{"timestamp":"2013-10-16","price":34.64},{"timestamp":"2013-10-17","price":34.92},{"timestamp":"2013-10-18","price":34.96},{"timestamp":"2013-10-21","price":34.99},{"timestamp":"2013-10-22","price":34.58},{"timestamp":"2013-10-23","price":33.76},{"timestamp":"2013-10-24","price":33.72},{"timestamp":"2013-10-25","price":35.73},{"timestamp":"2013-10-28","price":35.57},{"timestamp":"2013-10-29","price":35.52},{"timestamp":"2013-10-30","price":35.54},{"timestamp":"2013-10-31","price":35.405},{"timestamp":"2013-11-01","price":35.525},{"timestamp":"2013-11-04","price":35.94},{"timestamp":"2013-11-05","price":36.64},{"timestamp":"2013-11-06","price":38.18},{"timestamp":"2013-11-07","price":37.5},{"timestamp":"2013-11-08","price":37.78},{"timestamp":"2013-11-11","price":37.59},{"timestamp":"2013-11-12","price":37.36},{"timestamp":"2013-11-13","price":38.155},{"timestamp":"2013-11-14","price":38.021},{"timestamp":"2013-11-15","price":37.841},{"timestamp":"2013-11-18","price":37.2},{"timestamp":"2013-11-19","price":36.74},{"timestamp":"2013-11-20","price":37.08},{"timestamp":"2013-11-21","price":37.4},{"timestamp":"2013-11-22","price":37.57},{"timestamp":"2013-11-25","price":37.64},{"timestamp":"2013-11-26","price":37.35},{"timestamp":"2013-11-27","price":37.6},{"timestamp":"2013-11-29","price":38.13},{"timestamp":"2013-12-02","price":38.45},{"timestamp":"2013-12-03","price":38.31},{"timestamp":"2013-12-04","price":38.94},{"timestamp":"2013-12-05","price":38},{"timestamp":"2013-12-06","price":38.36},{"timestamp":"2013-12-09","price":38.705},{"timestamp":"2013-12-10","price":38.11},{"timestamp":"2013-12-11","price":37.61},{"timestamp":"2013-12-12","price":37.22},{"timestamp":"2013-12-13","price":36.69},{"timestamp":"2013-12-16","price":36.885},{"timestamp":"2013-12-17","price":36.52},{"timestamp":"2013-12-18","price":36.58},{"timestamp":"2013-12-19","price":36.25},{"timestamp":"2013-12-20","price":36.8},{"timestamp":"2013-12-23","price":36.62},{"timestamp":"2013-12-24","price":37.08},{"timestamp":"2013-12-26","price":37.44},{"timestamp":"2013-12-27","price":37.29},{"timestamp":"2013-12-30","price":37.29},{"timestamp":"2013-12-31","price":37.41},{"timestamp":"2014-01-02","price":37.16},{"timestamp":"2014-01-03","price":36.91},{"timestamp":"2014-01-06","price":36.13},{"timestamp":"2014-01-07","price":36.41},{"timestamp":"2014-01-08","price":35.76},{"timestamp":"2014-01-09","price":35.53},{"timestamp":"2014-01-10","price":36.04},{"timestamp":"2014-01-13","price":34.98},{"timestamp":"2014-01-14","price":35.78},{"timestamp":"2014-01-15","price":36.76},{"timestamp":"2014-01-16","price":36.89},{"timestamp":"2014-01-17","price":36.38},{"timestamp":"2014-01-21","price":36.17},{"timestamp":"2014-01-22","price":35.93},{"timestamp":"2014-01-23","price":36.055},{"timestamp":"2014-01-24","price":36.805},{"timestamp":"2014-01-27","price":36.03},{"timestamp":"2014-01-28","price":36.27},{"timestamp":"2014-01-29","price":36.66},{"timestamp":"2014-01-30","price":36.86},{"timestamp":"2014-01-31","price":37.84},{"timestamp":"2014-02-03","price":36.48},{"timestamp":"2014-02-04","price":36.35},{"timestamp":"2014-02-05","price":35.82},{"timestamp":"2014-02-06","price":36.18},{"timestamp":"2014-02-07","price":36.56},{"timestamp":"2014-02-10","price":36.8},{"timestamp":"2014-02-11","price":37.175},{"timestamp":"2014-02-12","price":37.47},{"timestamp":"2014-02-13","price":37.61},{"timestamp":"2014-02-14","price":37.62},{"timestamp":"2014-02-18","price":37.42},{"timestamp":"2014-02-19","price":37.51},{"timestamp":"2014-02-20","price":37.75},{"timestamp":"2014-02-21","price":37.98},{"timestamp":"2014-02-24","price":37.69},{"timestamp":"2014-02-25","price":37.54},{"timestamp":"2014-02-26","price":37.47},{"timestamp":"2014-02-27","price":37.86},{"timestamp":"2014-02-28","price":38.31},{"timestamp":"2014-03-03","price":37.78},{"timestamp":"2014-03-04","price":38.41},{"timestamp":"2014-03-05","price":38.11},{"timestamp":"2014-03-06","price":38.15},{"timestamp":"2014-03-07","price":37.9},{"timestamp":"2014-03-10","price":37.82},{"timestamp":"2014-03-11","price":38.02},{"timestamp":"2014-03-12","price":38.27},{"timestamp":"2014-03-13","price":37.89},{"timestamp":"2014-03-14","price":37.7},{"timestamp":"2014-03-17","price":38.05},{"timestamp":"2014-03-18","price":39.55},{"timestamp":"2014-03-19","price":39.27},{"timestamp":"2014-03-20","price":40.33},{"timestamp":"2014-03-21","price":40.16},{"timestamp":"2014-03-24","price":40.5},{"timestamp":"2014-03-25","price":40.34},{"timestamp":"2014-03-26","price":39.79},{"timestamp":"2014-03-27","price":39.36},{"timestamp":"2014-03-28","price":40.3},{"timestamp":"2014-03-31","price":40.99},{"timestamp":"2014-04-01","price":41.42},{"timestamp":"2014-04-02","price":41.35},{"timestamp":"2014-04-03","price":41.01},{"timestamp":"2014-04-04","price":39.87},{"timestamp":"2014-04-07","price":39.8},{"timestamp":"2014-04-08","price":39.82},{"timestamp":"2014-04-09","price":40.47},{"timestamp":"2014-04-10","price":39.36},{"timestamp":"2014-04-11","price":39.209},{"timestamp":"2014-04-14","price":39.18},{"timestamp":"2014-04-15","price":39.75},{"timestamp":"2014-04-16","price":40.4},{"timestamp":"2014-04-17","price":40.01},{"timestamp":"2014-04-21","price":39.94},{"timestamp":"2014-04-22","price":39.99},{"timestamp":"2014-04-23","price":39.69},{"timestamp":"2014-04-24","price":39.86},{"timestamp":"2014-04-25","price":39.91},{"timestamp":"2014-04-28","price":40.87},{"timestamp":"2014-04-29","price":40.51},{"timestamp":"2014-04-30","price":40.4},{"timestamp":"2014-05-01","price":40},{"timestamp":"2014-05-02","price":39.69},{"timestamp":"2014-05-05","price":39.43},{"timestamp":"2014-05-06","price":39.06},{"timestamp":"2014-05-07","price":39.425},{"timestamp":"2014-05-08","price":39.64},{"timestamp":"2014-05-09","price":39.54},{"timestamp":"2014-05-12","price":39.97},{"timestamp":"2014-05-13","price":40.42},{"timestamp":"2014-05-14","price":40.24},{"timestamp":"2014-05-15","price":39.6},{"timestamp":"2014-05-16","price":39.83},{"timestamp":"2014-05-19","price":39.75},{"timestamp":"2014-05-20","price":39.68},{"timestamp":"2014-05-21","price":40.35},{"timestamp":"2014-05-22","price":40.1},{"timestamp":"2014-05-23","price":40.12},{"timestamp":"2014-05-27","price":40.19},{"timestamp":"2014-05-28","price":40.01},{"timestamp":"2014-05-29","price":40.34},{"timestamp":"2014-05-30","price":40.94},{"timestamp":"2014-06-02","price":40.79},{"timestamp":"2014-06-03","price":40.29},{"timestamp":"2014-06-04","price":40.32},{"timestamp":"2014-06-05","price":41.21},{"timestamp":"2014-06-06","price":41.48},{"timestamp":"2014-06-09","price":41.27},{"timestamp":"2014-06-10","price":41.11},{"timestamp":"2014-06-11","price":40.86},{"timestamp":"2014-06-12","price":40.58},{"timestamp":"2014-06-13","price":41.23},{"timestamp":"2014-06-16","price":41.5},{"timestamp":"2014-06-17","price":41.68},{"timestamp":"2014-06-18","price":41.65},{"timestamp":"2014-06-19","price":41.51},{"timestamp":"2014-06-20","price":41.68},{"timestamp":"2014-06-23","price":41.99},{"timestamp":"2014-06-24","price":41.745},{"timestamp":"2014-06-25","price":42.03},{"timestamp":"2014-06-26","price":41.72},{"timestamp":"2014-06-27","price":42.25},{"timestamp":"2014-06-30","price":41.7},{"timestamp":"2014-07-01","price":41.87},{"timestamp":"2014-07-02","price":41.9},{"timestamp":"2014-07-03","price":41.8},{"timestamp":"2014-07-07","price":41.99},{"timestamp":"2014-07-08","price":41.78},{"timestamp":"2014-07-09","price":41.67},{"timestamp":"2014-07-10","price":41.685},{"timestamp":"2014-07-11","price":42.09},{"timestamp":"2014-07-14","price":42.14},{"timestamp":"2014-07-15","price":42.45},{"timestamp":"2014-07-16","price":44.08},{"timestamp":"2014-07-17","price":44.53},{"timestamp":"2014-07-18","price":44.69},{"timestamp":"2014-07-21","price":44.835},{"timestamp":"2014-07-22","price":44.83},{"timestamp":"2014-07-23","price":44.87},{"timestamp":"2014-07-24","price":44.4},{"timestamp":"2014-07-25","price":44.5},{"timestamp":"2014-07-28","price":43.97},{"timestamp":"2014-07-29","price":43.885},{"timestamp":"2014-07-30","price":43.5785},{"timestamp":"2014-07-31","price":43.16},{"timestamp":"2014-08-01","price":42.86},{"timestamp":"2014-08-04","price":43.37},{"timestamp":"2014-08-05","price":43.08},{"timestamp":"2014-08-06","price":42.74},{"timestamp":"2014-08-07","price":43.23},{"timestamp":"2014-08-08","price":43.2},{"timestamp":"2014-08-11","price":43.2},{"timestamp":"2014-08-12","price":43.52},{"timestamp":"2014-08-13","price":44.08},{"timestamp":"2014-08-14","price":44.27},{"timestamp":"2014-08-15","price":44.79},{"timestamp":"2014-08-18","price":45.11},{"timestamp":"2014-08-19","price":45.33},{"timestamp":"2014-08-20","price":44.95},{"timestamp":"2014-08-21","price":45.22},{"timestamp":"2014-08-22","price":45.15},{"timestamp":"2014-08-25","price":45.17},{"timestamp":"2014-08-26","price":45.005},{"timestamp":"2014-08-27","price":44.87},{"timestamp":"2014-08-28","price":44.88},{"timestamp":"2014-08-29","price":45.43},{"timestamp":"2014-09-02","price":45.09},{"timestamp":"2014-09-03","price":44.96},{"timestamp":"2014-09-04","price":45.26},{"timestamp":"2014-09-05","price":45.91},{"timestamp":"2014-09-08","price":46.47},{"timestamp":"2014-09-09","price":46.76},{"timestamp":"2014-09-10","price":46.84},{"timestamp":"2014-09-11","price":47},{"timestamp":"2014-09-12","price":46.695},{"timestamp":"2014-09-15","price":46.24},{"timestamp":"2014-09-16","price":46.76},{"timestamp":"2014-09-17","price":46.52},{"timestamp":"2014-09-18","price":46.68},{"timestamp":"2014-09-19","price":47.52},{"timestamp":"2014-09-22","price":47.06},{"timestamp":"2014-09-23","price":46.56},{"timestamp":"2014-09-24","price":47.08},{"timestamp":"2014-09-25","price":46.04},{"timestamp":"2014-09-26","price":46.41},{"timestamp":"2014-09-29","price":46.44},{"timestamp":"2014-09-30","price":46.36},{"timestamp":"2014-10-01","price":45.9},{"timestamp":"2014-10-02","price":45.76},{"timestamp":"2014-10-03","price":46.09},{"timestamp":"2014-10-06","price":46.09},{"timestamp":"2014-10-07","price":45.53},{"timestamp":"2014-10-08","price":46.78},{"timestamp":"2014-10-09","price":45.85},{"timestamp":"2014-10-10","price":44.03},{"timestamp":"2014-10-13","price":43.65},{"timestamp":"2014-10-14","price":43.73},{"timestamp":"2014-10-15","price":43.22},{"timestamp":"2014-10-16","price":42.74},{"timestamp":"2014-10-17","price":43.63},{"timestamp":"2014-10-20","price":44.08},{"timestamp":"2014-10-21","price":44.88},{"timestamp":"2014-10-22","price":44.38},{"timestamp":"2014-10-23","price":45.02},{"timestamp":"2014-10-24","price":46.13},{"timestamp":"2014-10-27","price":45.91},{"timestamp":"2014-10-28","price":46.49},{"timestamp":"2014-10-29","price":46.62},{"timestamp":"2014-10-30","price":46.05},{"timestamp":"2014-10-31","price":46.95},{"timestamp":"2014-11-03","price":47.44},{"timestamp":"2014-11-04","price":47.57},{"timestamp":"2014-11-05","price":47.86},{"timestamp":"2014-11-06","price":48.7},{"timestamp":"2014-11-07","price":48.68},{"timestamp":"2014-11-10","price":48.89},{"timestamp":"2014-11-11","price":48.87},{"timestamp":"2014-11-12","price":48.78},{"timestamp":"2014-11-13","price":49.61},{"timestamp":"2014-11-14","price":49.58},{"timestamp":"2014-11-17","price":49.46},{"timestamp":"2014-11-18","price":48.74},{"timestamp":"2014-11-19","price":48.22},{"timestamp":"2014-11-20","price":48.7},{"timestamp":"2014-11-21","price":47.98},{"timestamp":"2014-11-24","price":47.59},{"timestamp":"2014-11-25","price":47.47},{"timestamp":"2014-11-26","price":47.75},{"timestamp":"2014-11-28","price":47.81},{"timestamp":"2014-12-01","price":48.62},{"timestamp":"2014-12-02","price":48.46},{"timestamp":"2014-12-03","price":48.08},{"timestamp":"2014-12-04","price":48.84},{"timestamp":"2014-12-05","price":48.42},{"timestamp":"2014-12-08","price":47.695},{"timestamp":"2014-12-09","price":47.59},{"timestamp":"2014-12-10","price":46.9},{"timestamp":"2014-12-11","price":47.17},{"timestamp":"2014-12-12","price":46.95},{"timestamp":"2014-12-15","price":46.67},{"timestamp":"2014-12-16","price":45.16},{"timestamp":"2014-12-17","price":45.74},{"timestamp":"2014-12-18","price":47.52},{"timestamp":"2014-12-19","price":47.66},{"timestamp":"2014-12-22","price":47.98},{"timestamp":"2014-12-23","price":48.45},{"timestamp":"2014-12-24","price":48.14},{"timestamp":"2014-12-26","price":47.88},{"timestamp":"2014-12-29","price":47.45},{"timestamp":"2014-12-30","price":47.02},{"timestamp":"2014-12-31","price":46.45},{"timestamp":"2015-01-02","price":46.76},{"timestamp":"2015-01-05","price":46.325},{"timestamp":"2015-01-06","price":45.65},{"timestamp":"2015-01-07","price":46.23},{"timestamp":"2015-01-08","price":47.59},{"timestamp":"2015-01-09","price":47.19},{"timestamp":"2015-01-12","price":46.6},{"timestamp":"2015-01-13","price":46.355},{"timestamp":"2015-01-14","price":45.955},{"timestamp":"2015-01-15","price":45.48},{"timestamp":"2015-01-16","price":46.24},{"timestamp":"2015-01-20","price":46.39},{"timestamp":"2015-01-21","price":45.92},{"timestamp":"2015-01-22","price":47.13},{"timestamp":"2015-01-23","price":47.18},{"timestamp":"2015-01-26","price":47.01},{"timestamp":"2015-01-27","price":42.66},{"timestamp":"2015-01-28","price":41.19},{"timestamp":"2015-01-29","price":42.01},{"timestamp":"2015-01-30","price":40.4},{"timestamp":"2015-02-02","price":41.28},{"timestamp":"2015-02-03","price":41.6},{"timestamp":"2015-02-04","price":41.84},{"timestamp":"2015-02-05","price":42.45},{"timestamp":"2015-02-06","price":42.41},{"timestamp":"2015-02-09","price":42.36},{"timestamp":"2015-02-10","price":42.6},{"timestamp":"2015-02-11","price":42.38},{"timestamp":"2015-02-12","price":43.09},{"timestamp":"2015-02-13","price":43.87},{"timestamp":"2015-02-17","price":43.58},{"timestamp":"2015-02-18","price":43.53},{"timestamp":"2015-02-19","price":43.5},{"timestamp":"2015-02-20","price":43.855},{"timestamp":"2015-02-23","price":44.15},{"timestamp":"2015-02-24","price":44.09},{"timestamp":"2015-02-25","price":43.99},{"timestamp":"2015-02-26","price":44.055},{"timestamp":"2015-02-27","price":43.85},{"timestamp":"2015-03-02","price":43.88},{"timestamp":"2015-03-03","price":43.28},{"timestamp":"2015-03-04","price":43.055},{"timestamp":"2015-03-05","price":43.11},{"timestamp":"2015-03-06","price":42.36},{"timestamp":"2015-03-09","price":42.85},{"timestamp":"2015-03-10","price":42.03},{"timestamp":"2015-03-11","price":41.98},{"timestamp":"2015-03-12","price":41.02},{"timestamp":"2015-03-13","price":41.38},{"timestamp":"2015-03-16","price":41.56},{"timestamp":"2015-03-17","price":41.695},{"timestamp":"2015-03-18","price":42.5},{"timestamp":"2015-03-19","price":42.285},{"timestamp":"2015-03-20","price":42.88},{"timestamp":"2015-03-23","price":42.855},{"timestamp":"2015-03-24","price":42.9},{"timestamp":"2015-03-25","price":41.46},{"timestamp":"2015-03-26","price":41.21},{"timestamp":"2015-03-27","price":40.97},{"timestamp":"2015-03-30","price":40.96},{"timestamp":"2015-03-31","price":40.655},{"timestamp":"2015-04-01","price":40.72},{"timestamp":"2015-04-02","price":40.29},{"timestamp":"2015-04-06","price":41.545},{"timestamp":"2015-04-07","price":41.53},{"timestamp":"2015-04-08","price":41.42},{"timestamp":"2015-04-09","price":41.48},{"timestamp":"2015-04-10","price":41.72},{"timestamp":"2015-04-13","price":41.76},{"timestamp":"2015-04-14","price":41.65},{"timestamp":"2015-04-15","price":42.255},{"timestamp":"2015-04-16","price":42.16},{"timestamp":"2015-04-17","price":41.615},{"timestamp":"2015-04-20","price":42.905},{"timestamp":"2015-04-21","price":42.635},{"timestamp":"2015-04-22","price":42.985},{"timestamp":"2015-04-23","price":43.34},{"timestamp":"2015-04-24","price":47.87},{"timestamp":"2015-04-27","price":48.03},{"timestamp":"2015-04-28","price":49.155},{"timestamp":"2015-04-29","price":49.06},{"timestamp":"2015-04-30","price":48.64},{"timestamp":"2015-05-01","price":48.655},{"timestamp":"2015-05-04","price":48.24},{"timestamp":"2015-05-05","price":47.6},{"timestamp":"2015-05-06","price":46.28},{"timestamp":"2015-05-07","price":46.7},{"timestamp":"2015-05-08","price":47.75},{"timestamp":"2015-05-11","price":47.37},{"timestamp":"2015-05-12","price":47.35},{"timestamp":"2015-05-13","price":47.625},{"timestamp":"2015-05-14","price":48.72},{"timestamp":"2015-05-15","price":48.295},{"timestamp":"2015-05-18","price":48.01},{"timestamp":"2015-05-19","price":47.58},{"timestamp":"2015-05-20","price":47.58},{"timestamp":"2015-05-21","price":47.42},{"timestamp":"2015-05-22","price":46.9},{"timestamp":"2015-05-26","price":46.59},{"timestamp":"2015-05-27","price":47.61},{"timestamp":"2015-05-28","price":47.45},{"timestamp":"2015-05-29","price":46.86},{"timestamp":"2015-06-01","price":47.23},{"timestamp":"2015-06-02","price":46.92},{"timestamp":"2015-06-03","price":46.85},{"timestamp":"2015-06-04","price":46.36},{"timestamp":"2015-06-05","price":46.14},{"timestamp":"2015-06-08","price":45.73},{"timestamp":"2015-06-09","price":45.65},{"timestamp":"2015-06-10","price":46.61},{"timestamp":"2015-06-11","price":46.44},{"timestamp":"2015-06-12","price":45.97},{"timestamp":"2015-06-15","price":45.475},{"timestamp":"2015-06-16","price":45.83},{"timestamp":"2015-06-17","price":45.97},{"timestamp":"2015-06-18","price":46.72},{"timestamp":"2015-06-19","price":46.1},{"timestamp":"2015-06-22","price":46.23},{"timestamp":"2015-06-23","price":45.91},{"timestamp":"2015-06-24","price":45.635},{"timestamp":"2015-06-25","price":45.65},{"timestamp":"2015-06-26","price":45.26},{"timestamp":"2015-06-29","price":44.37},{"timestamp":"2015-06-30","price":44.15},{"timestamp":"2015-07-01","price":44.445},{"timestamp":"2015-07-02","price":44.4},{"timestamp":"2015-07-06","price":44.39},{"timestamp":"2015-07-07","price":44.3},{"timestamp":"2015-07-08","price":44.24},{"timestamp":"2015-07-09","price":44.52},{"timestamp":"2015-07-10","price":44.61},{"timestamp":"2015-07-13","price":45.54},{"timestamp":"2015-07-14","price":45.62},{"timestamp":"2015-07-15","price":45.76},{"timestamp":"2015-07-16","price":46.66},{"timestamp":"2015-07-17","price":46.62},{"timestamp":"2015-07-20","price":46.92},{"timestamp":"2015-07-21","price":47.28},{"timestamp":"2015-07-22","price":45.54},{"timestamp":"2015-07-23","price":46.11},{"timestamp":"2015-07-24","price":45.94},{"timestamp":"2015-07-27","price":45.35},{"timestamp":"2015-07-28","price":45.34},{"timestamp":"2015-07-29","price":46.29},{"timestamp":"2015-07-30","price":46.88},{"timestamp":"2015-07-31","price":46.7},{"timestamp":"2015-08-03","price":46.81},{"timestamp":"2015-08-04","price":47.54},{"timestamp":"2015-08-05","price":47.58},{"timestamp":"2015-08-06","price":46.62},{"timestamp":"2015-08-07","price":46.74},{"timestamp":"2015-08-10","price":47.33},{"timestamp":"2015-08-11","price":46.41},{"timestamp":"2015-08-12","price":46.74},{"timestamp":"2015-08-13","price":46.73},{"timestamp":"2015-08-14","price":47},{"timestamp":"2015-08-17","price":47.32},{"timestamp":"2015-08-18","price":47.27},{"timestamp":"2015-08-19","price":46.61},{"timestamp":"2015-08-20","price":45.66},{"timestamp":"2015-08-21","price":43.07},{"timestamp":"2015-08-24","price":41.68},{"timestamp":"2015-08-25","price":40.47},{"timestamp":"2015-08-26","price":42.71},{"timestamp":"2015-08-27","price":43.9},{"timestamp":"2015-08-28","price":43.93},{"timestamp":"2015-08-31","price":43.52},{"timestamp":"2015-09-01","price":41.82},{"timestamp":"2015-09-02","price":43.36},{"timestamp":"2015-09-03","price":43.5},{"timestamp":"2015-09-04","price":42.61},{"timestamp":"2015-09-08","price":43.89},{"timestamp":"2015-09-09","price":43.07},{"timestamp":"2015-09-10","price":43.29},{"timestamp":"2015-09-11","price":43.48},{"timestamp":"2015-09-14","price":43.04},{"timestamp":"2015-09-15","price":43.98},{"timestamp":"2015-09-16","price":44.3},{"timestamp":"2015-09-17","price":44.25},{"timestamp":"2015-09-18","price":43.48},{"timestamp":"2015-09-21","price":44.11},{"timestamp":"2015-09-22","price":43.9},{"timestamp":"2015-09-23","price":43.87},{"timestamp":"2015-09-24","price":43.91},{"timestamp":"2015-09-25","price":43.94},{"timestamp":"2015-09-28","price":43.29},{"timestamp":"2015-09-29","price":43.44},{"timestamp":"2015-09-30","price":44.26},{"timestamp":"2015-10-01","price":44.61},{"timestamp":"2015-10-02","price":45.57},{"timestamp":"2015-10-05","price":46.63},{"timestamp":"2015-10-06","price":46.75},{"timestamp":"2015-10-07","price":46.8},{"timestamp":"2015-10-08","price":47.45},{"timestamp":"2015-10-09","price":47.11},{"timestamp":"2015-10-12","price":47},{"timestamp":"2015-10-13","price":46.89},{"timestamp":"2015-10-14","price":46.68},{"timestamp":"2015-10-15","price":47.01},{"timestamp":"2015-10-16","price":47.51},{"timestamp":"2015-10-19","price":47.62},{"timestamp":"2015-10-20","price":47.77},{"timestamp":"2015-10-21","price":47.2},{"timestamp":"2015-10-22","price":48.03},{"timestamp":"2015-10-23","price":52.87},{"timestamp":"2015-10-26","price":54.25},{"timestamp":"2015-10-27","price":53.69},{"timestamp":"2015-10-28","price":53.98},{"timestamp":"2015-10-29","price":53.36},{"timestamp":"2015-10-30","price":52.64},{"timestamp":"2015-11-02","price":53.24},{"timestamp":"2015-11-03","price":54.15},{"timestamp":"2015-11-04","price":54.4},{"timestamp":"2015-11-05","price":54.38},{"timestamp":"2015-11-06","price":54.92},{"timestamp":"2015-11-09","price":54.16},{"timestamp":"2015-11-10","price":53.51},{"timestamp":"2015-11-11","price":53.65},{"timestamp":"2015-11-12","price":53.32},{"timestamp":"2015-11-13","price":52.84},{"timestamp":"2015-11-16","price":53.765},{"timestamp":"2015-11-17","price":52.97},{"timestamp":"2015-11-18","price":53.85},{"timestamp":"2015-11-19","price":53.94},{"timestamp":"2015-11-20","price":54.19},{"timestamp":"2015-11-23","price":54.19},{"timestamp":"2015-11-24","price":54.25},{"timestamp":"2015-11-25","price":53.69},{"timestamp":"2015-11-27","price":53.93},{"timestamp":"2015-11-30","price":54.35},{"timestamp":"2015-12-01","price":55.22},{"timestamp":"2015-12-02","price":55.21},{"timestamp":"2015-12-03","price":54.2},{"timestamp":"2015-12-04","price":55.91},{"timestamp":"2015-12-07","price":55.81},{"timestamp":"2015-12-08","price":55.79},{"timestamp":"2015-12-09","price":54.98},{"timestamp":"2015-12-10","price":55.27},{"timestamp":"2015-12-11","price":54.06},{"timestamp":"2015-12-14","price":55.14},{"timestamp":"2015-12-15","price":55.2},{"timestamp":"2015-12-16","price":56.13},{"timestamp":"2015-12-17","price":55.7},{"timestamp":"2015-12-18","price":54.13},{"timestamp":"2015-12-21","price":54.83},{"timestamp":"2015-12-22","price":55.35},{"timestamp":"2015-12-23","price":55.82},{"timestamp":"2015-12-24","price":55.67},{"timestamp":"2015-12-28","price":55.95},{"timestamp":"2015-12-29","price":56.55},{"timestamp":"2015-12-30","price":56.31},{"timestamp":"2015-12-31","price":55.48},{"timestamp":"2016-01-04","price":54.8},{"timestamp":"2016-01-05","price":55.05},{"timestamp":"2016-01-06","price":54.05},{"timestamp":"2016-01-07","price":52.17},{"timestamp":"2016-01-08","price":52.33},{"timestamp":"2016-01-11","price":52.3},{"timestamp":"2016-01-12","price":52.78},{"timestamp":"2016-01-13","price":51.64},{"timestamp":"2016-01-14","price":53.11},{"timestamp":"2016-01-15","price":50.99},{"timestamp":"2016-01-19","price":50.56},{"timestamp":"2016-01-20","price":50.79},{"timestamp":"2016-01-21","price":50.48},{"timestamp":"2016-01-22","price":52.29},{"timestamp":"2016-01-25","price":51.79},{"timestamp":"2016-01-26","price":52.17},{"timestamp":"2016-01-27","price":51.22},{"timestamp":"2016-01-28","price":52.055},{"timestamp":"2016-01-29","price":55.09},{"timestamp":"2016-02-01","price":54.71},{"timestamp":"2016-02-02","price":53},{"timestamp":"2016-02-03","price":52.16},{"timestamp":"2016-02-04","price":52},{"timestamp":"2016-02-05","price":50.16},{"timestamp":"2016-02-08","price":49.41},{"timestamp":"2016-02-09","price":49.28},{"timestamp":"2016-02-10","price":49.71},{"timestamp":"2016-02-11","price":49.69},{"timestamp":"2016-02-12","price":50.5},{"timestamp":"2016-02-16","price":51.09},{"timestamp":"2016-02-17","price":52.42},{"timestamp":"2016-02-18","price":52.19},{"timestamp":"2016-02-19","price":51.82},{"timestamp":"2016-02-22","price":52.65},{"timestamp":"2016-02-23","price":51.18},{"timestamp":"2016-02-24","price":51.36},{"timestamp":"2016-02-25","price":52.1},{"timestamp":"2016-02-26","price":51.3},{"timestamp":"2016-02-29","price":50.88},{"timestamp":"2016-03-01","price":52.58},{"timestamp":"2016-03-02","price":52.95},{"timestamp":"2016-03-03","price":52.35},{"timestamp":"2016-03-04","price":52.03},{"timestamp":"2016-03-07","price":51.03},{"timestamp":"2016-03-08","price":51.65},{"timestamp":"2016-03-09","price":52.84},{"timestamp":"2016-03-10","price":52.05},{"timestamp":"2016-03-11","price":53.07},{"timestamp":"2016-03-14","price":53.17},{"timestamp":"2016-03-15","price":53.59},{"timestamp":"2016-03-16","price":54.35},{"timestamp":"2016-03-17","price":54.66},{"timestamp":"2016-03-18","price":53.49},{"timestamp":"2016-03-21","price":53.86},{"timestamp":"2016-03-22","price":54.07},{"timestamp":"2016-03-23","price":53.97},{"timestamp":"2016-03-24","price":54.21},{"timestamp":"2016-03-28","price":53.54},{"timestamp":"2016-03-29","price":54.71},{"timestamp":"2016-03-30","price":55.05},{"timestamp":"2016-03-31","price":55.23},{"timestamp":"2016-04-01","price":55.57},{"timestamp":"2016-04-04","price":55.43},{"timestamp":"2016-04-05","price":54.56},{"timestamp":"2016-04-06","price":55.12},{"timestamp":"2016-04-07","price":54.46},{"timestamp":"2016-04-08","price":54.42},{"timestamp":"2016-04-11","price":54.31},{"timestamp":"2016-04-12","price":54.65},{"timestamp":"2016-04-13","price":55.35},{"timestamp":"2016-04-14","price":55.36},{"timestamp":"2016-04-15","price":55.65},{"timestamp":"2016-04-18","price":56.46},{"timestamp":"2016-04-19","price":56.39},{"timestamp":"2016-04-20","price":55.59},{"timestamp":"2016-04-21","price":55.78},{"timestamp":"2016-04-22","price":51.78},{"timestamp":"2016-04-25","price":52.11},{"timestamp":"2016-04-26","price":51.44},{"timestamp":"2016-04-27","price":50.94},{"timestamp":"2016-04-28","price":49.9},{"timestamp":"2016-04-29","price":49.87},{"timestamp":"2016-05-02","price":50.61},{"timestamp":"2016-05-03","price":49.78},{"timestamp":"2016-05-04","price":49.87},{"timestamp":"2016-05-05","price":49.94},{"timestamp":"2016-05-06","price":50.39},{"timestamp":"2016-05-09","price":50.07},{"timestamp":"2016-05-10","price":51.02},{"timestamp":"2016-05-11","price":51.05},{"timestamp":"2016-05-12","price":51.51},{"timestamp":"2016-05-13","price":51.08},{"timestamp":"2016-05-16","price":51.83},{"timestamp":"2016-05-17","price":50.51},{"timestamp":"2016-05-18","price":50.81},{"timestamp":"2016-05-19","price":50.32},{"timestamp":"2016-05-20","price":50.62},{"timestamp":"2016-05-23","price":50.03},{"timestamp":"2016-05-24","price":51.59},{"timestamp":"2016-05-25","price":52.12},{"timestamp":"2016-05-26","price":51.89},{"timestamp":"2016-05-27","price":52.32},{"timestamp":"2016-05-31","price":53},{"timestamp":"2016-06-01","price":52.85},{"timestamp":"2016-06-02","price":52.48},{"timestamp":"2016-06-03","price":51.79},{"timestamp":"2016-06-06","price":52.13},{"timestamp":"2016-06-07","price":52.1},{"timestamp":"2016-06-08","price":52.04},{"timestamp":"2016-06-09","price":51.62},{"timestamp":"2016-06-10","price":51.48},{"timestamp":"2016-06-13","price":50.14},{"timestamp":"2016-06-14","price":49.83},{"timestamp":"2016-06-15","price":49.69},{"timestamp":"2016-06-16","price":50.39},{"timestamp":"2016-06-17","price":50.13},{"timestamp":"2016-06-20","price":50.07},{"timestamp":"2016-06-21","price":51.19},{"timestamp":"2016-06-22","price":50.99},{"timestamp":"2016-06-23","price":51.91},{"timestamp":"2016-06-24","price":49.83},{"timestamp":"2016-06-27","price":48.43},{"timestamp":"2016-06-28","price":49.44},{"timestamp":"2016-06-29","price":50.54},{"timestamp":"2016-06-30","price":51.17},{"timestamp":"2016-07-01","price":51.16},{"timestamp":"2016-07-05","price":51.17},{"timestamp":"2016-07-06","price":51.38},{"timestamp":"2016-07-07","price":51.38},{"timestamp":"2016-07-08","price":52.3},{"timestamp":"2016-07-11","price":52.59},{"timestamp":"2016-07-12","price":53.21},{"timestamp":"2016-07-13","price":53.51},{"timestamp":"2016-07-14","price":53.74},{"timestamp":"2016-07-15","price":53.7},{"timestamp":"2016-07-18","price":53.96},{"timestamp":"2016-07-19","price":53.09},{"timestamp":"2016-07-20","price":55.91},{"timestamp":"2016-07-21","price":55.8},{"timestamp":"2016-07-22","price":56.57},{"timestamp":"2016-07-25","price":56.73},{"timestamp":"2016-07-26","price":56.76},{"timestamp":"2016-07-27","price":56.19},{"timestamp":"2016-07-28","price":56.21},{"timestamp":"2016-07-29","price":56.68},{"timestamp":"2016-08-01","price":56.58},{"timestamp":"2016-08-02","price":56.58},{"timestamp":"2016-08-03","price":56.97},{"timestamp":"2016-08-04","price":57.39},{"timestamp":"2016-08-05","price":57.96},{"timestamp":"2016-08-08","price":58.06},{"timestamp":"2016-08-09","price":58.2},{"timestamp":"2016-08-10","price":58.02},{"timestamp":"2016-08-11","price":58.3},{"timestamp":"2016-08-12","price":57.94},{"timestamp":"2016-08-15","price":58.12},{"timestamp":"2016-08-16","price":57.44},{"timestamp":"2016-08-17","price":57.56},{"timestamp":"2016-08-18","price":57.6},{"timestamp":"2016-08-19","price":57.62},{"timestamp":"2016-08-22","price":57.67},{"timestamp":"2016-08-23","price":57.89},{"timestamp":"2016-08-24","price":57.95},{"timestamp":"2016-08-25","price":58.17},{"timestamp":"2016-08-26","price":58.03},{"timestamp":"2016-08-29","price":58.1},{"timestamp":"2016-08-30","price":57.89},{"timestamp":"2016-08-31","price":57.46},{"timestamp":"2016-09-01","price":57.59},{"timestamp":"2016-09-02","price":57.67},{"timestamp":"2016-09-06","price":57.61},{"timestamp":"2016-09-07","price":57.66},{"timestamp":"2016-09-08","price":57.43},{"timestamp":"2016-09-09","price":56.21},{"timestamp":"2016-09-12","price":57.05},{"timestamp":"2016-09-13","price":56.53},{"timestamp":"2016-09-14","price":56.26},{"timestamp":"2016-09-15","price":57.19},{"timestamp":"2016-09-16","price":57.25},{"timestamp":"2016-09-19","price":56.93},{"timestamp":"2016-09-20","price":56.81},{"timestamp":"2016-09-21","price":57.76},{"timestamp":"2016-09-22","price":57.82},{"timestamp":"2016-09-23","price":57.43},{"timestamp":"2016-09-26","price":56.9},{"timestamp":"2016-09-27","price":57.95},{"timestamp":"2016-09-28","price":58.03},{"timestamp":"2016-09-29","price":57.4},{"timestamp":"2016-09-30","price":57.6},{"timestamp":"2016-10-03","price":57.42},{"timestamp":"2016-10-04","price":57.24},{"timestamp":"2016-10-05","price":57.64},{"timestamp":"2016-10-06","price":57.74},{"timestamp":"2016-10-07","price":57.8},{"timestamp":"2016-10-10","price":58.04},{"timestamp":"2016-10-11","price":57.19},{"timestamp":"2016-10-12","price":57.11},{"timestamp":"2016-10-13","price":56.92},{"timestamp":"2016-10-14","price":57.42},{"timestamp":"2016-10-17","price":57.22},{"timestamp":"2016-10-18","price":57.66},{"timestamp":"2016-10-19","price":57.53},{"timestamp":"2016-10-20","price":57.25},{"timestamp":"2016-10-21","price":59.66},{"timestamp":"2016-10-24","price":61},{"timestamp":"2016-10-25","price":60.99},{"timestamp":"2016-10-26","price":60.63},{"timestamp":"2016-10-27","price":60.1},{"timestamp":"2016-10-28","price":59.87},{"timestamp":"2016-10-31","price":59.92},{"timestamp":"2016-11-01","price":59.8},{"timestamp":"2016-11-02","price":59.43},{"timestamp":"2016-11-03","price":59.21},{"timestamp":"2016-11-04","price":58.71},{"timestamp":"2016-11-07","price":60.42},{"timestamp":"2016-11-08","price":60.47},{"timestamp":"2016-11-09","price":60.17},{"timestamp":"2016-11-10","price":58.7},{"timestamp":"2016-11-11","price":59.02},{"timestamp":"2016-11-14","price":58.12},{"timestamp":"2016-11-15","price":58.87},{"timestamp":"2016-11-16","price":59.65},{"timestamp":"2016-11-17","price":60.64},{"timestamp":"2016-11-18","price":60.35},{"timestamp":"2016-11-21","price":60.86},{"timestamp":"2016-11-22","price":61.12},{"timestamp":"2016-11-23","price":60.4},{"timestamp":"2016-11-25","price":60.53},{"timestamp":"2016-11-28","price":60.61},{"timestamp":"2016-11-29","price":61.09},{"timestamp":"2016-11-30","price":60.26},{"timestamp":"2016-12-01","price":59.2},{"timestamp":"2016-12-02","price":59.25},{"timestamp":"2016-12-05","price":60.22},{"timestamp":"2016-12-06","price":59.95},{"timestamp":"2016-12-07","price":61.37},{"timestamp":"2016-12-08","price":61.01},{"timestamp":"2016-12-09","price":61.97},{"timestamp":"2016-12-12","price":62.17},{"timestamp":"2016-12-13","price":62.98},{"timestamp":"2016-12-14","price":62.68},{"timestamp":"2016-12-15","price":62.58},{"timestamp":"2016-12-16","price":62.3},{"timestamp":"2016-12-19","price":63.62},{"timestamp":"2016-12-20","price":63.54},{"timestamp":"2016-12-21","price":63.54},{"timestamp":"2016-12-22","price":63.55},{"timestamp":"2016-12-23","price":63.24},{"timestamp":"2016-12-27","price":63.28},{"timestamp":"2016-12-28","price":62.99},{"timestamp":"2016-12-29","price":62.9},{"timestamp":"2016-12-30","price":62.14},{"timestamp":"2017-01-03","price":62.58},{"timestamp":"2017-01-04","price":62.3},{"timestamp":"2017-01-05","price":62.3},{"timestamp":"2017-01-06","price":62.84},{"timestamp":"2017-01-09","price":62.64},{"timestamp":"2017-01-10","price":62.62},{"timestamp":"2017-01-11","price":63.19},{"timestamp":"2017-01-12","price":62.61},{"timestamp":"2017-01-13","price":62.7},{"timestamp":"2017-01-17","price":62.53},{"timestamp":"2017-01-18","price":62.5},{"timestamp":"2017-01-19","price":62.3},{"timestamp":"2017-01-20","price":62.74},{"timestamp":"2017-01-23","price":62.96},{"timestamp":"2017-01-24","price":63.52},{"timestamp":"2017-01-25","price":63.68},{"timestamp":"2017-01-26","price":64.27},{"timestamp":"2017-01-27","price":65.78},{"timestamp":"2017-01-30","price":65.13},{"timestamp":"2017-01-31","price":64.65},{"timestamp":"2017-02-01","price":63.58},{"timestamp":"2017-02-02","price":63.17},{"timestamp":"2017-02-03","price":63.68},{"timestamp":"2017-02-06","price":63.64},{"timestamp":"2017-02-07","price":63.43},{"timestamp":"2017-02-08","price":63.34},{"timestamp":"2017-02-09","price":64.06},{"timestamp":"2017-02-10","price":64},{"timestamp":"2017-02-13","price":64.72},{"timestamp":"2017-02-14","price":64.57},{"timestamp":"2017-02-15","price":64.53},{"timestamp":"2017-02-16","price":64.52},{"timestamp":"2017-02-17","price":64.62},{"timestamp":"2017-02-21","price":64.49},{"timestamp":"2017-02-22","price":64.36},{"timestamp":"2017-02-23","price":64.62},{"timestamp":"2017-02-24","price":64.62},{"timestamp":"2017-02-27","price":64.23},{"timestamp":"2017-02-28","price":63.98},{"timestamp":"2017-03-01","price":64.94},{"timestamp":"2017-03-02","price":64.01},{"timestamp":"2017-03-03","price":64.25},{"timestamp":"2017-03-06","price":64.27},{"timestamp":"2017-03-07","price":64.4},{"timestamp":"2017-03-08","price":64.99},{"timestamp":"2017-03-09","price":64.73},{"timestamp":"2017-03-10","price":64.93},{"timestamp":"2017-03-13","price":64.71},{"timestamp":"2017-03-14","price":64.41},{"timestamp":"2017-03-15","price":64.75},{"timestamp":"2017-03-16","price":64.64},{"timestamp":"2017-03-17","price":64.87},{"timestamp":"2017-03-20","price":64.93},{"timestamp":"2017-03-21","price":64.21},{"timestamp":"2017-03-22","price":65.03},{"timestamp":"2017-03-23","price":64.87},{"timestamp":"2017-03-24","price":64.98},{"timestamp":"2017-03-27","price":65.1},{"timestamp":"2017-03-28","price":65.29},{"timestamp":"2017-03-29","price":65.47},{"timestamp":"2017-03-30","price":65.71},{"timestamp":"2017-03-31","price":65.86},{"timestamp":"2017-04-03","price":65.55},{"timestamp":"2017-04-04","price":65.73},{"timestamp":"2017-04-05","price":65.56},{"timestamp":"2017-04-06","price":65.73},{"timestamp":"2017-04-07","price":65.68},{"timestamp":"2017-04-10","price":65.53},{"timestamp":"2017-04-11","price":65.48},{"timestamp":"2017-04-12","price":65.23},{"timestamp":"2017-04-13","price":64.95},{"timestamp":"2017-04-17","price":65.48},{"timestamp":"2017-04-18","price":65.39},{"timestamp":"2017-04-19","price":65.04},{"timestamp":"2017-04-20","price":65.5},{"timestamp":"2017-04-21","price":66.4},{"timestamp":"2017-04-24","price":67.53},{"timestamp":"2017-04-25","price":67.92},{"timestamp":"2017-04-26","price":67.83},{"timestamp":"2017-04-27","price":68.27},{"timestamp":"2017-04-28","price":68.46},{"timestamp":"2017-05-01","price":69.41},{"timestamp":"2017-05-02","price":69.3},{"timestamp":"2017-05-03","price":69.08},{"timestamp":"2017-05-04","price":68.81},{"timestamp":"2017-05-05","price":69},{"timestamp":"2017-05-08","price":68.94},{"timestamp":"2017-05-09","price":69.04},{"timestamp":"2017-05-10","price":69.31},{"timestamp":"2017-05-11","price":68.46},{"timestamp":"2017-05-12","price":68.38},{"timestamp":"2017-05-15","price":68.43},{"timestamp":"2017-05-16","price":69.41},{"timestamp":"2017-05-17","price":67.48},{"timestamp":"2017-05-18","price":67.71},{"timestamp":"2017-05-19","price":67.69},{"timestamp":"2017-05-22","price":68.45},{"timestamp":"2017-05-23","price":68.68},{"timestamp":"2017-05-24","price":68.77},{"timestamp":"2017-05-25","price":69.62},{"timestamp":"2017-05-26","price":69.96},{"timestamp":"2017-05-30","price":70.41},{"timestamp":"2017-05-31","price":69.84},{"timestamp":"2017-06-01","price":70.1},{"timestamp":"2017-06-02","price":71.76},{"timestamp":"2017-06-05","price":72.28},{"timestamp":"2017-06-06","price":72.52},{"timestamp":"2017-06-07","price":72.39},{"timestamp":"2017-06-08","price":71.95},{"timestamp":"2017-06-09","price":70.32},{"timestamp":"2017-06-12","price":69.78},{"timestamp":"2017-06-13","price":70.65},{"timestamp":"2017-06-14","price":70.27},{"timestamp":"2017-06-15","price":69.9},{"timestamp":"2017-06-16","price":70},{"timestamp":"2017-06-19","price":70.87},{"timestamp":"2017-06-20","price":69.91},{"timestamp":"2017-06-21","price":70.27},{"timestamp":"2017-06-22","price":70.26},{"timestamp":"2017-06-23","price":71.21},{"timestamp":"2017-06-26","price":70.53},{"timestamp":"2017-06-27","price":69.21},{"timestamp":"2017-06-28","price":69.8},{"timestamp":"2017-06-29","price":68.49},{"timestamp":"2017-06-30","price":68.93},{"timestamp":"2017-07-03","price":68.17},{"timestamp":"2017-07-05","price":69.08},{"timestamp":"2017-07-06","price":68.57},{"timestamp":"2017-07-07","price":69.46},{"timestamp":"2017-07-10","price":69.98},{"timestamp":"2017-07-11","price":69.99},{"timestamp":"2017-07-12","price":71.15},{"timestamp":"2017-07-13","price":71.77},{"timestamp":"2017-07-14","price":72.78},{"timestamp":"2017-07-17","price":73.35},{"timestamp":"2017-07-18","price":73.3},{"timestamp":"2017-07-19","price":73.86},{"timestamp":"2017-07-20","price":74.22},{"timestamp":"2017-07-21","price":73.79},{"timestamp":"2017-07-24","price":73.6},{"timestamp":"2017-07-25","price":74.19},{"timestamp":"2017-07-26","price":74.05},{"timestamp":"2017-07-27","price":73.16},{"timestamp":"2017-07-28","price":73.04},{"timestamp":"2017-07-31","price":72.7},{"timestamp":"2017-08-01","price":72.58},{"timestamp":"2017-08-02","price":72.26},{"timestamp":"2017-08-03","price":72.15},{"timestamp":"2017-08-04","price":72.68},{"timestamp":"2017-08-07","price":72.4},{"timestamp":"2017-08-08","price":72.79},{"timestamp":"2017-08-09","price":72.47},{"timestamp":"2017-08-10","price":71.41},{"timestamp":"2017-08-11","price":72.5},{"timestamp":"2017-08-14","price":73.59},{"timestamp":"2017-08-15","price":73.22},{"timestamp":"2017-08-16","price":73.65},{"timestamp":"2017-08-17","price":72.4},{"timestamp":"2017-08-18","price":72.49},{"timestamp":"2017-08-21","price":72.15},{"timestamp":"2017-08-22","price":73.16},{"timestamp":"2017-08-23","price":72.72},{"timestamp":"2017-08-24","price":72.69},{"timestamp":"2017-08-25","price":72.82},{"timestamp":"2017-08-28","price":72.83},{"timestamp":"2017-08-29","price":73.05},{"timestamp":"2017-08-30","price":74.01},{"timestamp":"2017-08-31","price":74.77},{"timestamp":"2017-09-01","price":73.94},{"timestamp":"2017-09-05","price":73.61},{"timestamp":"2017-09-06","price":73.4},{"timestamp":"2017-09-07","price":74.34},{"timestamp":"2017-09-08","price":73.98},{"timestamp":"2017-09-11","price":74.76},{"timestamp":"2017-09-12","price":74.68},{"timestamp":"2017-09-13","price":75.21},{"timestamp":"2017-09-14","price":74.77},{"timestamp":"2017-09-15","price":75.31},{"timestamp":"2017-09-18","price":75.16},{"timestamp":"2017-09-19","price":75.44},{"timestamp":"2017-09-20","price":74.94},{"timestamp":"2017-09-21","price":74.21},{"timestamp":"2017-09-22","price":74.41},{"timestamp":"2017-09-25","price":73.26},{"timestamp":"2017-09-26","price":73.26},{"timestamp":"2017-09-27","price":73.85},{"timestamp":"2017-09-28","price":73.87},{"timestamp":"2017-09-29","price":74.49},{"timestamp":"2017-10-02","price":74.61},{"timestamp":"2017-10-03","price":74.26},{"timestamp":"2017-10-04","price":74.69},{"timestamp":"2017-10-05","price":75.97},{"timestamp":"2017-10-06","price":76},{"timestamp":"2017-10-09","price":76.29},{"timestamp":"2017-10-10","price":76.29},{"timestamp":"2017-10-11","price":76.42},{"timestamp":"2017-10-12","price":77.12},{"timestamp":"2017-10-13","price":77.49},{"timestamp":"2017-10-16","price":77.65},{"timestamp":"2017-10-17","price":77.59},{"timestamp":"2017-10-18","price":77.61},{"timestamp":"2017-10-19","price":77.91},{"timestamp":"2017-10-20","price":78.81},{"timestamp":"2017-10-23","price":78.83},{"timestamp":"2017-10-24","price":78.86},{"timestamp":"2017-10-25","price":78.63},{"timestamp":"2017-10-26","price":78.76},{"timestamp":"2017-10-27","price":83.81},{"timestamp":"2017-10-30","price":83.89},{"timestamp":"2017-10-31","price":83.18},{"timestamp":"2017-11-01","price":83.18},{"timestamp":"2017-11-02","price":84.05},{"timestamp":"2017-11-03","price":84.14},{"timestamp":"2017-11-06","price":84.47},{"timestamp":"2017-11-07","price":84.27},{"timestamp":"2017-11-08","price":84.56},{"timestamp":"2017-11-09","price":84.09},{"timestamp":"2017-11-10","price":83.87},{"timestamp":"2017-11-13","price":83.93},{"timestamp":"2017-11-14","price":84.05},{"timestamp":"2017-11-15","price":82.98},{"timestamp":"2017-11-16","price":83.2},{"timestamp":"2017-11-17","price":82.4},{"timestamp":"2017-11-20","price":82.53},{"timestamp":"2017-11-21","price":83.72},{"timestamp":"2017-11-22","price":83.11},{"timestamp":"2017-11-24","price":83.26},{"timestamp":"2017-11-27","price":83.87},{"timestamp":"2017-11-28","price":84.88},{"timestamp":"2017-11-29","price":83.34},{"timestamp":"2017-11-30","price":84.17},{"timestamp":"2017-12-01","price":84.26},{"timestamp":"2017-12-04","price":81.08},{"timestamp":"2017-12-05","price":81.59},{"timestamp":"2017-12-06","price":82.78},{"timestamp":"2017-12-07","price":82.49},{"timestamp":"2017-12-08","price":84.16},{"timestamp":"2017-12-11","price":85.23},{"timestamp":"2017-12-12","price":85.58},{"timestamp":"2017-12-13","price":85.35},{"timestamp":"2017-12-14","price":84.69},{"timestamp":"2017-12-15","price":86.85},{"timestamp":"2017-12-18","price":86.38},{"timestamp":"2017-12-19","price":85.83},{"timestamp":"2017-12-20","price":85.52},{"timestamp":"2017-12-21","price":85.5},{"timestamp":"2017-12-22","price":85.51},{"timestamp":"2017-12-26","price":85.4},{"timestamp":"2017-12-27","price":85.71},{"timestamp":"2017-12-28","price":85.72},{"timestamp":"2017-12-29","price":85.54},{"timestamp":"2018-01-02","price":85.95},{"timestamp":"2018-01-03","price":86.35},{"timestamp":"2018-01-04","price":87.11},{"timestamp":"2018-01-05","price":88.19},{"timestamp":"2018-01-08","price":88.28},{"timestamp":"2018-01-09","price":88.22},{"timestamp":"2018-01-10","price":87.82},{"timestamp":"2018-01-11","price":88.08},{"timestamp":"2018-01-12","price":89.6},{"timestamp":"2018-01-16","price":88.35},{"timestamp":"2018-01-17","price":90.14},{"timestamp":"2018-01-18","price":90.1},{"timestamp":"2018-01-19","price":90},{"timestamp":"2018-01-22","price":91.61},{"timestamp":"2018-01-23","price":91.9},{"timestamp":"2018-01-24","price":91.82},{"timestamp":"2018-01-25","price":92.33},{"timestamp":"2018-01-26","price":94.06},{"timestamp":"2018-01-29","price":93.92},{"timestamp":"2018-01-30","price":92.74},{"timestamp":"2018-01-31","price":95.01},{"timestamp":"2018-02-01","price":94.26},{"timestamp":"2018-02-02","price":91.78},{"timestamp":"2018-02-05","price":88},{"timestamp":"2018-02-06","price":91.33},{"timestamp":"2018-02-07","price":89.61},{"timestamp":"2018-02-08","price":85.01},{"timestamp":"2018-02-09","price":88.18},{"timestamp":"2018-02-12","price":89.13},{"timestamp":"2018-02-13","price":89.83},{"timestamp":"2018-02-14","price":90.81},{"timestamp":"2018-02-15","price":92.66},{"timestamp":"2018-02-16","price":92},{"timestamp":"2018-02-20","price":92.72},{"timestamp":"2018-02-21","price":91.49},{"timestamp":"2018-02-22","price":91.73},{"timestamp":"2018-02-23","price":94.06},{"timestamp":"2018-02-26","price":95.42},{"timestamp":"2018-02-27","price":94.2},{"timestamp":"2018-02-28","price":93.77},{"timestamp":"2018-03-01","price":92.85},{"timestamp":"2018-03-02","price":93.05},{"timestamp":"2018-03-05","price":93.64},{"timestamp":"2018-03-06","price":93.32},{"timestamp":"2018-03-07","price":93.86},{"timestamp":"2018-03-08","price":94.43},{"timestamp":"2018-03-09","price":96.54},{"timestamp":"2018-03-12","price":96.77},{"timestamp":"2018-03-13","price":94.41},{"timestamp":"2018-03-14","price":93.85},{"timestamp":"2018-03-15","price":94.18},{"timestamp":"2018-03-16","price":94.6},{"timestamp":"2018-03-19","price":92.89},{"timestamp":"2018-03-20","price":93.13},{"timestamp":"2018-03-21","price":92.48},{"timestamp":"2018-03-22","price":89.79},{"timestamp":"2018-03-23","price":87.18},{"timestamp":"2018-03-26","price":93.78},{"timestamp":"2018-03-27","price":89.47},{"timestamp":"2018-03-28","price":89.39},{"timestamp":"2018-03-29","price":91.27},{"timestamp":"2018-04-02","price":88.52},{"timestamp":"2018-04-03","price":89.71},{"timestamp":"2018-04-04","price":92.33},{"timestamp":"2018-04-05","price":92.38},{"timestamp":"2018-04-06","price":90.23},{"timestamp":"2018-04-09","price":90.77},{"timestamp":"2018-04-10","price":92.88},{"timestamp":"2018-04-11","price":91.86},{"timestamp":"2018-04-12","price":93.58},{"timestamp":"2018-04-13","price":93.08},{"timestamp":"2018-04-16","price":94.17},{"timestamp":"2018-04-17","price":96.07},{"timestamp":"2018-04-18","price":96.44},{"timestamp":"2018-04-19","price":96.11},{"timestamp":"2018-04-20","price":95},{"timestamp":"2018-04-23","price":95.35},{"timestamp":"2018-04-24","price":93.12},{"timestamp":"2018-04-25","price":92.31},{"timestamp":"2018-04-26","price":94.26},{"timestamp":"2018-04-27","price":95.82},{"timestamp":"2018-04-30","price":93.52},{"timestamp":"2018-05-01","price":95},{"timestamp":"2018-05-02","price":93.51},{"timestamp":"2018-05-03","price":94.07},{"timestamp":"2018-05-04","price":95.16},{"timestamp":"2018-05-07","price":96.22},{"timestamp":"2018-05-08","price":95.81},{"timestamp":"2018-05-09","price":96.94},{"timestamp":"2018-05-10","price":97.91},{"timestamp":"2018-05-11","price":97.7},{"timestamp":"2018-05-14","price":98.03},{"timestamp":"2018-05-15","price":97.32},{"timestamp":"2018-05-16","price":97.15},{"timestamp":"2018-05-17","price":96.18},{"timestamp":"2018-05-18","price":96.36},{"timestamp":"2018-05-21","price":97.6},{"timestamp":"2018-05-22","price":97.5},{"timestamp":"2018-05-23","price":98.66},{"timestamp":"2018-05-24","price":98.31},{"timestamp":"2018-05-25","price":98.36},{"timestamp":"2018-05-29","price":98.01},{"timestamp":"2018-05-30","price":98.95},{"timestamp":"2018-05-31","price":98.84},{"timestamp":"2018-06-01","price":100.79},{"timestamp":"2018-06-04","price":101.67},{"timestamp":"2018-06-05","price":102.19},{"timestamp":"2018-06-06","price":102.49},{"timestamp":"2018-06-07","price":100.88},{"timestamp":"2018-06-08","price":101.63},{"timestamp":"2018-06-11","price":101.05},{"timestamp":"2018-06-12","price":101.31},{"timestamp":"2018-06-13","price":100.85},{"timestamp":"2018-06-14","price":101.42},{"timestamp":"2018-06-15","price":100.13},{"timestamp":"2018-06-18","price":100.86},{"timestamp":"2018-06-19","price":100.86},{"timestamp":"2018-06-20","price":101.87},{"timestamp":"2018-06-21","price":101.14},{"timestamp":"2018-06-22","price":100.41},{"timestamp":"2018-06-25","price":98.39},{"timestamp":"2018-06-26","price":99.08},{"timestamp":"2018-06-27","price":97.54},{"timestamp":"2018-06-28","price":98.63},{"timestamp":"2018-06-29","price":98.61},{"timestamp":"2018-07-02","price":100.01},{"timestamp":"2018-07-03","price":99.05},{"timestamp":"2018-07-05","price":99.76},{"timestamp":"2018-07-06","price":101.16},{"timestamp":"2018-07-09","price":101.85},{"timestamp":"2018-07-10","price":102.12},{"timestamp":"2018-07-11","price":101.98},{"timestamp":"2018-07-12","price":104.19},{"timestamp":"2018-07-13","price":105.43},{"timestamp":"2018-07-16","price":104.91},{"timestamp":"2018-07-17","price":105.95},{"timestamp":"2018-07-18","price":105.12},{"timestamp":"2018-07-19","price":104.4},{"timestamp":"2018-07-20","price":106.27},{"timestamp":"2018-07-23","price":107.97},{"timestamp":"2018-07-24","price":107.66},{"timestamp":"2018-07-25","price":110.83},{"timestamp":"2018-07-26","price":109.62},{"timestamp":"2018-07-27","price":107.68},{"timestamp":"2018-07-30","price":105.37},{"timestamp":"2018-07-31","price":106.08},{"timestamp":"2018-08-01","price":106.28},{"timestamp":"2018-08-02","price":107.57},{"timestamp":"2018-08-03","price":108.04},{"timestamp":"2018-08-06","price":108.13},{"timestamp":"2018-08-07","price":108.88},{"timestamp":"2018-08-08","price":109.49},{"timestamp":"2018-08-09","price":109.67},{"timestamp":"2018-08-10","price":109},{"timestamp":"2018-08-13","price":108.21},{"timestamp":"2018-08-14","price":109.56},{"timestamp":"2018-08-15","price":107.66},{"timestamp":"2018-08-16","price":107.64},{"timestamp":"2018-08-17","price":107.58},{"timestamp":"2018-08-20","price":106.87},{"timestamp":"2018-08-21","price":105.98},{"timestamp":"2018-08-22","price":107.06},{"timestamp":"2018-08-23","price":107.56},{"timestamp":"2018-08-24","price":108.4},{"timestamp":"2018-08-27","price":109.6},{"timestamp":"2018-08-28","price":110.26},{"timestamp":"2018-08-29","price":112.02},{"timestamp":"2018-08-30","price":111.95},{"timestamp":"2018-08-31","price":112.33},{"timestamp":"2018-09-04","price":111.71},{"timestamp":"2018-09-05","price":108.49},{"timestamp":"2018-09-06","price":108.74},{"timestamp":"2018-09-07","price":108.21},{"timestamp":"2018-09-10","price":109.38},{"timestamp":"2018-09-11","price":111.24},{"timestamp":"2018-09-12","price":111.71},{"timestamp":"2018-09-13","price":112.91},{"timestamp":"2018-09-14","price":113.37},{"timestamp":"2018-09-17","price":112.14},{"timestamp":"2018-09-18","price":113.21},{"timestamp":"2018-09-19","price":111.7},{"timestamp":"2018-09-20","price":113.57},{"timestamp":"2018-09-21","price":114.26},{"timestamp":"2018-09-24","price":114.67},{"timestamp":"2018-09-25","price":114.45},{"timestamp":"2018-09-26","price":113.98},{"timestamp":"2018-09-27","price":114.41},{"timestamp":"2018-09-28","price":114.37},{"timestamp":"2018-10-01","price":115.61},{"timestamp":"2018-10-02","price":115.15},{"timestamp":"2018-10-03","price":115.17},{"timestamp":"2018-10-04","price":112.79},{"timestamp":"2018-10-05","price":112.13},{"timestamp":"2018-10-08","price":110.85},{"timestamp":"2018-10-09","price":112.26},{"timestamp":"2018-10-10","price":106.16},{"timestamp":"2018-10-11","price":105.91},{"timestamp":"2018-10-12","price":109.57},{"timestamp":"2018-10-15","price":107.6},{"timestamp":"2018-10-16","price":111},{"timestamp":"2018-10-17","price":110.71},{"timestamp":"2018-10-18","price":108.5},{"timestamp":"2018-10-19","price":108.66},{"timestamp":"2018-10-22","price":109.63},{"timestamp":"2018-10-23","price":108.1},{"timestamp":"2018-10-24","price":102.32},{"timestamp":"2018-10-25","price":108.3},{"timestamp":"2018-10-26","price":106.96},{"timestamp":"2018-10-29","price":103.85},{"timestamp":"2018-10-30","price":103.73},{"timestamp":"2018-10-31","price":106.81},{"timestamp":"2018-11-01","price":105.92},{"timestamp":"2018-11-02","price":106.16},{"timestamp":"2018-11-05","price":107.51},{"timestamp":"2018-11-06","price":107.72},{"timestamp":"2018-11-07","price":111.96},{"timestamp":"2018-11-08","price":111.75},{"timestamp":"2018-11-09","price":109.57},{"timestamp":"2018-11-12","price":106.87},{"timestamp":"2018-11-13","price":106.94},{"timestamp":"2018-11-14","price":104.97},{"timestamp":"2018-11-15","price":107.28},{"timestamp":"2018-11-16","price":108.29},{"timestamp":"2018-11-19","price":104.62},{"timestamp":"2018-11-20","price":101.71},{"timestamp":"2018-11-21","price":103.11},{"timestamp":"2018-11-23","price":103.07},{"timestamp":"2018-11-26","price":106.47},{"timestamp":"2018-11-27","price":107.14},{"timestamp":"2018-11-28","price":111.12},{"timestamp":"2018-11-29","price":110.19},{"timestamp":"2018-11-30","price":110.89},{"timestamp":"2018-12-03","price":112.09},{"timestamp":"2018-12-04","price":108.52},{"timestamp":"2018-12-06","price":109.19},{"timestamp":"2018-12-07","price":104.82},{"timestamp":"2018-12-10","price":107.59},{"timestamp":"2018-12-11","price":108.59},{"timestamp":"2018-12-12","price":109.08},{"timestamp":"2018-12-13","price":109.45},{"timestamp":"2018-12-14","price":106.03},{"timestamp":"2018-12-17","price":102.89},{"timestamp":"2018-12-18","price":103.97},{"timestamp":"2018-12-19","price":103.69},{"timestamp":"2018-12-20","price":101.51},{"timestamp":"2018-12-21","price":98.23},{"timestamp":"2018-12-24","price":94.13},{"timestamp":"2018-12-26","price":100.56},{"timestamp":"2018-12-27","price":101.18},{"timestamp":"2018-12-28","price":100.39},{"timestamp":"2018-12-31","price":101.57},{"timestamp":"2019-01-02","price":101.12},{"timestamp":"2019-01-03","price":97.4},{"timestamp":"2019-01-04","price":101.93},{"timestamp":"2019-01-07","price":102.06},{"timestamp":"2019-01-08","price":102.8},{"timestamp":"2019-01-09","price":104.27},{"timestamp":"2019-01-10","price":103.6},{"timestamp":"2019-01-11","price":102.8},{"timestamp":"2019-01-14","price":102.05},{"timestamp":"2019-01-15","price":105.01},{"timestamp":"2019-01-16","price":105.38},{"timestamp":"2019-01-17","price":106.12},{"timestamp":"2019-01-18","price":107.71},{"timestamp":"2019-01-22","price":105.68},{"timestamp":"2019-01-23","price":106.71},{"timestamp":"2019-01-24","price":106.2},{"timestamp":"2019-01-25","price":107.17},{"timestamp":"2019-01-28","price":105.08},{"timestamp":"2019-01-29","price":102.94},{"timestamp":"2019-01-30","price":106.38},{"timestamp":"2019-01-31","price":104.43},{"timestamp":"2019-02-01","price":102.78},{"timestamp":"2019-02-04","price":105.74},{"timestamp":"2019-02-05","price":107.22},{"timestamp":"2019-02-06","price":106.03},{"timestamp":"2019-02-07","price":105.27},{"timestamp":"2019-02-08","price":105.67},{"timestamp":"2019-02-11","price":105.25},{"timestamp":"2019-02-12","price":106.89},{"timestamp":"2019-02-13","price":106.81},{"timestamp":"2019-02-14","price":106.9},{"timestamp":"2019-02-15","price":108.22},{"timestamp":"2019-02-19","price":108.17},{"timestamp":"2019-02-20","price":107.15},{"timestamp":"2019-02-21","price":109.41},{"timestamp":"2019-02-22","price":110.97},{"timestamp":"2019-02-25","price":111.59},{"timestamp":"2019-02-26","price":112.36},{"timestamp":"2019-02-27","price":112.17},{"timestamp":"2019-02-28","price":112.03},{"timestamp":"2019-03-01","price":112.53},{"timestamp":"2019-03-04","price":112.26},{"timestamp":"2019-03-05","price":111.7},{"timestamp":"2019-03-06","price":111.75},{"timestamp":"2019-03-07","price":110.39},{"timestamp":"2019-03-08","price":110.51},{"timestamp":"2019-03-11","price":112.83},{"timestamp":"2019-03-12","price":113.62},{"timestamp":"2019-03-13","price":114.5},{"timestamp":"2019-03-14","price":114.59},{"timestamp":"2019-03-15","price":115.91},{"timestamp":"2019-03-18","price":117.57},{"timestamp":"2019-03-19","price":117.65},{"timestamp":"2019-03-20","price":117.52},{"timestamp":"2019-03-21","price":120.22},{"timestamp":"2019-03-22","price":117.05},{"timestamp":"2019-03-25","price":117.66},{"timestamp":"2019-03-26","price":117.91},{"timestamp":"2019-03-27","price":116.77},{"timestamp":"2019-03-28","price":116.93},{"timestamp":"2019-03-29","price":117.94},{"timestamp":"2019-04-01","price":119.02},{"timestamp":"2019-04-02","price":119.19},{"timestamp":"2019-04-03","price":119.97},{"timestamp":"2019-04-04","price":119.36},{"timestamp":"2019-04-05","price":119.89},{"timestamp":"2019-04-08","price":119.93},{"timestamp":"2019-04-09","price":119.28},{"timestamp":"2019-04-10","price":120.19},{"timestamp":"2019-04-11","price":120.33},{"timestamp":"2019-04-12","price":120.95},{"timestamp":"2019-04-15","price":121.05},{"timestamp":"2019-04-16","price":120.77},{"timestamp":"2019-04-17","price":121.77},{"timestamp":"2019-04-18","price":123.37},{"timestamp":"2019-04-22","price":123.76},{"timestamp":"2019-04-23","price":125.44},{"timestamp":"2019-04-24","price":125.01},{"timestamp":"2019-04-25","price":129.15},{"timestamp":"2019-04-26","price":129.89},{"timestamp":"2019-04-29","price":129.77},{"timestamp":"2019-04-30","price":130.6},{"timestamp":"2019-05-01","price":127.88},{"timestamp":"2019-05-02","price":126.21},{"timestamp":"2019-05-03","price":128.9},{"timestamp":"2019-05-06","price":128.15},{"timestamp":"2019-05-07","price":125.52},{"timestamp":"2019-05-08","price":125.51},{"timestamp":"2019-05-09","price":125.5},{"timestamp":"2019-05-10","price":127.13},{"timestamp":"2019-05-13","price":123.35},{"timestamp":"2019-05-14","price":124.73},{"timestamp":"2019-05-15","price":126.02},{"timestamp":"2019-05-16","price":128.93},{"timestamp":"2019-05-17","price":128.07},{"timestamp":"2019-05-20","price":126.22},{"timestamp":"2019-05-21","price":126.9},{"timestamp":"2019-05-22","price":127.67},{"timestamp":"2019-05-23","price":126.18},{"timestamp":"2019-05-24","price":126.24},{"timestamp":"2019-05-28","price":126.16},{"timestamp":"2019-05-29","price":124.94},{"timestamp":"2019-05-30","price":125.73},{"timestamp":"2019-05-31","price":123.68},{"timestamp":"2019-06-03","price":119.84},{"timestamp":"2019-06-04","price":123.16},{"timestamp":"2019-06-05","price":125.83},{"timestamp":"2019-06-06","price":127.82},{"timestamp":"2019-06-07","price":131.4}],"success":true}')}}var XE=Xn({encapsulation:0,styles:[["\n/*# sourceMappingURL=tfjs-timeseries-stocks.component.css.map*/"]],data:{}});function QE(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(-1,null,["Time Series Forecasting with TensorFlow.js"])),(t()(),Ua(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,["Pull stock prices from online API and perform predictions using Recurrent Neural Network and Long Short-Term Memory (LSTM) with TensorFlow.js framework"])),(t()(),Ua(4,0,null,null,25,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(5,49152,null,0,bm,[],null,null),(t()(),Ua(6,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(7,49152,null,0,_m,[],null,null),(t()(),Ua(8,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(9,16384,null,0,gm,[],null,null),(t()(),Ua(10,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(-1,null,["Introduction"])),(t()(),Ua(12,0,null,0,17,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(13,16384,null,0,fm,[],null,null),(t()(),Ua(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Machine learning is becoming increasingly popular these days and a growing number of the world\u2019s population see it is as a magic crystal ball: predicting when and what will happen in the future. This experiment uses artificial neural networks to reveal stock market trends and demonstrates the ability of time series forecasting to predict future stock prices based on past historical data. "])),(t()(),Ua(16,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Ua(17,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),ts(-1,null,["Disclaimer"])),(t()(),ts(-1,null,[": As stock markets fluctuation are dynamic and unpredictable owing to multiple factors, this experiment is 100% educational and by no means a trading prediction tool. "])),(t()(),Ua(20,0,null,null,9,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" There are 4 parts to this experiment: "])),(t()(),Ua(22,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["get historical stocks prices data"])),(t()(),Ua(24,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["prepare training data for our neural network model"])),(t()(),Ua(26,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["training the neural network"])),(t()(),Ua(28,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["do some prediction"])),(t()(),Ua(30,0,null,null,155,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(31,49152,null,0,bm,[],null,null),(t()(),Ua(32,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(33,49152,null,0,_m,[],null,null),(t()(),Ua(34,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(35,16384,null,0,gm,[],null,null),(t()(),Ua(36,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(-1,null,["Get Stocks Data"])),(t()(),Ua(38,0,null,0,147,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(39,16384,null,0,fm,[],null,null),(t()(),Ua(40,0,null,null,135,"div",[["fxLayout","row"],["fxLayout.md","row"],["fxLayout.sm","column"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(41,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"],"fxLayout.sm":[2,"fxLayout.sm"],"fxLayout.md":[3,"fxLayout.md"]},null),li(42,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(43,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(44,0,null,null,20,"div",[["fxFlex","60%"]],null,null,null,null,null)),li(45,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(46,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Before we can train our neural network and make any predictions, we will first require data. The type of data we are looking for is time series: a sequence of numbers in chronological order. A good starting place to fetch these data is from "])),(t()(),Ua(48,0,null,null,1,"a",[["href","https://www.alphavantage.co"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["alphavantage.co"])),(t()(),ts(-1,null,[". This API allows us to retrieve chronological data on specific company stocks prices from the last 20 years. "])),(t()(),Ua(51,0,null,null,11,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" The API yields the following fields: "])),(t()(),Ua(53,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["open price"])),(t()(),Ua(55,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["highest price of that day"])),(t()(),Ua(57,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["lowest price of that day"])),(t()(),Ua(59,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["closing price"])),(t()(),Ua(61,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["volume"])),(t()(),Ua(63,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" To prepare training dataset for our neural network, we will be using closing stocks price; which also means that we will be aiming to predict future closing price. "])),(t()(),Ua(65,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(66,49152,null,0,Lx,[],{vertical:[0,"vertical"]},null),(t()(),Ua(67,0,null,null,108,"div",[["fxFlex",""]],null,null,null,null,null)),li(68,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(69,0,null,null,106,"div",[["fxLayout","column"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),li(70,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"]},null),li(71,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(72,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(73,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Try It"])),(t()(),Ua(75,0,null,null,10,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Use "])),(t()(),Ua(77,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),ts(-1,null,["demo"])),(t()(),ts(-1,null,[" API key to fetch "])),(t()(),Ua(80,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),ts(-1,null,["Microsoft Corporation"])),(t()(),ts(-1,null,[" prices or "])),(t()(),Ua(83,0,null,null,1,"a",[["href","https://www.alphavantage.co/support/#api-key"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["get your own API key"])),(t()(),ts(-1,null,[" for other stocks. "])),(t()(),Ua(86,0,null,null,24,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(87,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,1,{_controlNonStatic:0}),$a(335544320,2,{_controlStatic:0}),$a(603979776,3,{_labelChildNonStatic:0}),$a(335544320,4,{_labelChildStatic:0}),$a(603979776,5,{_placeholderChild:0}),$a(603979776,6,{_errorChildren:1}),$a(603979776,7,{_hintChildren:1}),$a(603979776,8,{_prefixChildren:1}),$a(603979776,9,{_suffixChildren:1}),(t()(),Ua(97,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(98,16384,[[3,4],[4,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Ticker Symbol"])),(t()(),Ua(100,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","example: MSFT"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,101)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,101).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,101)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,101)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,105)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,105)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,105)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_ticker=n)&&r),r},null,null)),li(101,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),ui(1024,null,ky,function(t){return[t]},[Ty]),li(103,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(105,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"]},null),li(106,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[1,4],[2,4]],Pv,null,[fx]),(t()(),Ua(108,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),li(109,16384,[[7,4]],0,Vv,[],null,null),(t()(),ts(-1,null,["Demo API key only allows 'MSFT'"])),(t()(),Ua(111,0,null,null,26,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(112,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,10,{_controlNonStatic:0}),$a(335544320,11,{_controlStatic:0}),$a(603979776,12,{_labelChildNonStatic:0}),$a(335544320,13,{_labelChildStatic:0}),$a(603979776,14,{_placeholderChild:0}),$a(603979776,15,{_errorChildren:1}),$a(603979776,16,{_hintChildren:1}),$a(603979776,17,{_prefixChildren:1}),$a(603979776,18,{_suffixChildren:1}),(t()(),Ua(122,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(123,16384,[[12,4],[13,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Alpha Vantage API Key"])),(t()(),Ua(125,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Input your API key or use 'demo'"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,126)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,126).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,126)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,126)._compositionEnd(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,130)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,130)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,130)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_apikey=n)&&r),r},null,null)),li(126,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),ui(1024,null,ky,function(t){return[t]},[Ty]),li(128,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(130,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"]},null),li(131,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[10,4],[11,4]],Pv,null,[fx]),(t()(),Ua(133,0,null,6,4,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),li(134,16384,[[16,4]],0,Vv,[],null,null),(t()(),ts(-1,null,["You can claim your API key from "])),(t()(),Ua(136,0,null,null,1,"a",[["href","https://www.alphavantage.co/support/#api-key"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["alphavantage.co"])),(t()(),Ua(138,0,null,null,29,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(139,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,19,{_controlNonStatic:0}),$a(335544320,20,{_controlStatic:0}),$a(603979776,21,{_labelChildNonStatic:0}),$a(335544320,22,{_labelChildStatic:0}),$a(603979776,23,{_placeholderChild:0}),$a(603979776,24,{_errorChildren:1}),$a(603979776,25,{_hintChildren:1}),$a(603979776,26,{_prefixChildren:1}),$a(603979776,27,{_suffixChildren:1}),(t()(),Ua(149,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(150,16384,[[21,4],[22,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Data Temporal Resolutions"])),(t()(),Ua(152,0,null,1,15,"mat-select",[["class","mat-select"],["placeholder","Data Temporal Resolutions"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0,i=t.component;return"keydown"===e&&(r=!1!==Yr(t,155)._handleKeydown(n)&&r),"focus"===e&&(r=!1!==Yr(t,155)._onFocus()&&r),"blur"===e&&(r=!1!==Yr(t,155)._onBlur()&&r),"ngModelChange"===e&&(r=!1!==(i.input_temporal_resolutions=n)&&r),r},eS,YC)),li(153,671744,null,0,Cv,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(155,2080768,null,3,GC,[Kx,En,Zi,nf,rn,[2,Cm],[2,yv],[2,Ev],[2,Kv],[6,Dy],[8,null],jC,Id],{placeholder:[0,"placeholder"]},null),$a(603979776,28,{options:1}),$a(603979776,29,{optionGroups:1}),$a(603979776,30,{customTrigger:0}),li(159,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[19,4],[20,4]],Pv,null,[GC]),ui(2048,null,kf,null,[GC]),(t()(),Ua(162,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","Weekly"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,163)._selectViaInteraction()&&r),"keydown"===e&&(r=!1!==Yr(t,163)._handleKeydown(n)&&r),r},iS,nS)),li(163,8568832,[[28,4]],0,Af,[rn,En,[2,kf],[2,Cf]],{value:[0,"value"]},null),(t()(),ts(-1,0,["Weekly"])),(t()(),Ua(165,0,null,1,2,"mat-option",[["class","mat-option"],["role","option"],["value","Daily"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,166)._selectViaInteraction()&&r),"keydown"===e&&(r=!1!==Yr(t,166)._handleKeydown(n)&&r),r},iS,nS)),li(166,8568832,[[28,4]],0,Af,[rn,En,[2,kf],[2,Cf]],{value:[0,"value"]},null),(t()(),ts(-1,0,["Daily"])),(t()(),Ua(168,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),Ua(169,0,null,null,3,"div",[["style","float:left"]],null,null,null,null,null)),(t()(),Ua(170,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickFetchData()&&r),r},Ex,Sx)),li(171,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),ts(-1,0,["Fetch Data"])),(t()(),Ua(173,0,null,null,2,"div",[["style","float:left; padding:5px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(174,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[8,"hidden",0],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,bS,gS)),li(175,49152,null,0,dS,[rn,Rm,[2,Jo],[2,jw],pS],{diameter:[0,"diameter"]},null),(t()(),Ua(176,0,null,null,9,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(177,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"],["style","margin-top:30px;margin-bottom:30px"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(178,49152,null,0,Lx,[],{inset:[0,"inset"]},null),(t()(),Ua(179,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Loaded Stocks Data"])),(t()(),Ua(181,0,null,null,4,"div",[["class","mat-elevation-z6"]],null,null,null,null,null)),(t()(),Ua(182,0,null,null,3,"plotly-plot",[["class","mat-elevation-z6"]],null,null,null,kS,ES)),ui(512,null,wS,wS,[]),li(184,1032192,null,0,xS,[wS,Cn,Sn],{data:[0,"data"],layout:[1,"layout"],style:[2,"style"],useResizeHandler:[3,"useResizeHandler"]},null),Ja(185,{width:0,height:1}),(t()(),Ua(186,0,null,null,93,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(187,49152,null,0,bm,[],null,null),(t()(),Ua(188,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(189,49152,null,0,_m,[],null,null),(t()(),Ua(190,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(191,16384,null,0,gm,[],null,null),(t()(),Ua(192,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(-1,null,["Simple Moving Average"])),(t()(),Ua(194,0,null,0,85,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(195,16384,null,0,fm,[],null,null),(t()(),Ua(196,0,null,null,73,"div",[["fxLayout","row"],["fxLayout.md","row"],["fxLayout.sm","column"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(197,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"],"fxLayout.sm":[2,"fxLayout.sm"],"fxLayout.md":[3,"fxLayout.md"]},null),li(198,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(199,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(200,0,null,null,16,"div",[["fxFlex","60%"]],null,null,null,null,null)),li(201,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(202,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" For this experiment, we are using "])),(t()(),Ua(204,0,null,null,1,"a",[["href","https://en.wikipedia.org/wiki/Supervised_learning"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["supervised learning"])),(t()(),ts(-1,null,[", which means feeding data to the neural network and it learns by mapping input data to the output label. One way to prepare the training dataset is to extract Simple Moving Average from that time series data. "])),(t()(),Ua(207,0,null,null,9,"p",[],null,null,null,null,null)),(t()(),Ua(208,0,null,null,1,"a",[["href","https://www.investopedia.com/terms/s/sma.asp"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["Simple Moving Average (SMA)"])),(t()(),ts(-1,null,[" is a method to identify trends direction for a certain period of time, by looking at the average of all the values within that time window. The number of prices in a time window is selected experimentally. For example, let's assume the closing prices for past 5 days were 13, 15, 14, 16, 17, the SMA would be (13+15+14+16+17)/5 = 15. So the "])),(t()(),Ua(211,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),ts(-1,null,["input"])),(t()(),ts(-1,null,[" for our training dataset is the set of prices within a single time window, and "])),(t()(),Ua(214,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),ts(-1,null,["label"])),(t()(),ts(-1,null,[" is the computed moving average of those prices. "])),(t()(),Ua(217,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(218,49152,null,0,Lx,[],{vertical:[0,"vertical"]},null),(t()(),Ua(219,0,null,null,50,"div",[["fxFlex",""]],null,null,null,null,null)),li(220,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(221,0,null,null,48,"div",[["fxLayout","column"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),li(222,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"]},null),li(223,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(224,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(225,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Try It"])),(t()(),Ua(227,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Let's generate the training dataset, hit on the "])),(t()(),Ua(229,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),ts(-1,null,["Compute SMA and Draw Chart"])),(t()(),ts(-1,null,[" button to generate the training data for the neural network. "])),(t()(),Ua(232,0,null,null,25,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(233,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,31,{_controlNonStatic:0}),$a(335544320,32,{_controlStatic:0}),$a(603979776,33,{_labelChildNonStatic:0}),$a(335544320,34,{_labelChildStatic:0}),$a(603979776,35,{_placeholderChild:0}),$a(603979776,36,{_errorChildren:1}),$a(603979776,37,{_hintChildren:1}),$a(603979776,38,{_prefixChildren:1}),$a(603979776,39,{_suffixChildren:1}),(t()(),Ua(243,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(244,16384,[[33,4],[34,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Window Size"])),(t()(),Ua(246,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","a number"],["type","number"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,247)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,247).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,247)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,247)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Yr(t,248).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Yr(t,248).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,248).onTouched()&&r),"blur"===e&&(r=!1!==Yr(t,252)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,252)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,252)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_windowsize=n)&&r),r},null,null)),li(247,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),li(248,16384,null,0,Hy,[un,rn],null,null),ui(1024,null,ky,function(t,e){return[t,e]},[Ty,Hy]),li(250,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(252,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"],type:[1,"type"]},null),li(253,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[31,4],[32,4]],Pv,null,[fx]),(t()(),Ua(255,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),li(256,16384,[[37,4]],0,Vv,[],null,null),(t()(),ts(-1,null,['This is the "time window" for SMA'])),(t()(),Ua(258,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),Ua(259,0,null,null,7,"div",[["style","float:left"]],null,null,null,null,null)),(t()(),Ua(260,0,null,null,6,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickDisplaySMA()&&r),r},Ex,Sx)),li(261,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),ts(-1,0,[" Compute SMA and Draw Chart "])),(t()(),Ua(263,16777216,null,0,3,"mat-icon",[["class","mat-icon notranslate"],["matTooltip","If disabled: fetch stocks data from the previous step"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var r=!0;return"longpress"===e&&(r=!1!==Yr(t,265).show()&&r),"keydown"===e&&(r=!1!==Yr(t,265)._handleKeydown(n)&&r),"touchend"===e&&(r=!1!==Yr(t,265)._handleTouchend()&&r),r},wE,_E)),li(264,9158656,null,0,vE,[rn,uE,[8,null],[2,dE]],null,null),li(265,212992,null,0,FE,[TC,rn,qx,Dn,Zi,Rm,vd,Od,DE,[2,Cm],[2,ME],[2,tc]],{message:[0,"message"]},null),(t()(),ts(-1,0,["info"])),(t()(),Ua(267,0,null,null,2,"div",[["style","float:left; padding:5px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(268,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[8,"hidden",0],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,bS,gS)),li(269,49152,null,0,dS,[rn,Rm,[2,Jo],[2,jw],pS],{diameter:[0,"diameter"]},null),(t()(),Ua(270,0,null,null,9,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(271,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"],["style","margin-top:30px;margin-bottom:30px"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(272,49152,null,0,Lx,[],{inset:[0,"inset"]},null),(t()(),Ua(273,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Compute Simple Moving Average"])),(t()(),Ua(275,0,null,null,4,"div",[["class","mat-elevation-z6"]],null,null,null,null,null)),(t()(),Ua(276,0,null,null,3,"plotly-plot",[["class","mat-elevation-z6"]],null,null,null,kS,ES)),ui(512,null,wS,wS,[]),li(278,1032192,null,0,xS,[wS,Cn,Sn],{data:[0,"data"],layout:[1,"layout"],style:[2,"style"],useResizeHandler:[3,"useResizeHandler"]},null),Ja(279,{width:0,height:1}),(t()(),Ua(280,0,null,null,201,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(281,49152,null,0,bm,[],null,null),(t()(),Ua(282,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(283,49152,null,0,_m,[],null,null),(t()(),Ua(284,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(285,16384,null,0,gm,[],null,null),(t()(),Ua(286,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(-1,null,["Train Neural Network"])),(t()(),Ua(288,0,null,0,193,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(289,16384,null,0,fm,[],null,null),(t()(),Ua(290,0,null,null,169,"div",[["fxLayout","row"],["fxLayout.md","row"],["fxLayout.sm","column"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(291,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"],"fxLayout.sm":[2,"fxLayout.sm"],"fxLayout.md":[3,"fxLayout.md"]},null),li(292,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(293,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(294,0,null,null,46,"div",[["fxFlex","60%"]],null,null,null,null,null)),li(295,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(296,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Now that you have the training data, it is time to create a model for time series prediction, to achieve this we will use "])),(t()(),Ua(298,0,null,null,1,"a",[["href","https://js.tensorflow.org/"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["TensorFlow.js"])),(t()(),ts(-1,null,[" framework. "])),(t()(),Ua(301,0,null,null,9,"p",[],null,null,null,null,null)),(t()(),Ua(302,0,null,null,1,"a",[["href","https://js.tensorflow.org/api/latest/#sequential"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["Sequential model"])),(t()(),ts(-1,null,[" is selected which simply connects each layer and pass the data from input to the output during the training process. In order for the model to learn time series data which are sequential, "])),(t()(),Ua(305,0,null,null,1,"a",[["href","https://js.tensorflow.org/api/latest/#layers.rnn"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["recurrent neural network (RNN) layer"])),(t()(),ts(-1,null,[" layer is created and a number of "])),(t()(),Ua(308,0,null,null,1,"a",[["href","https://js.tensorflow.org/api/latest/#layers.lstmCell"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["LSTM cells"])),(t()(),ts(-1,null,[" are added to the RNN. "])),(t()(),Ua(311,0,null,null,10,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" The model will be trained using "])),(t()(),Ua(313,0,null,null,1,"a",[["href","https://js.tensorflow.org/api/latest/#train.adam"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["Adam"])),(t()(),ts(-1,null,[" ("])),(t()(),Ua(316,0,null,null,1,"a",[["href","https://arxiv.org/abs/1412.6980"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["read more"])),(t()(),ts(-1,null,["), a popular optimisation algorithm for machine learning. "])),(t()(),Ua(319,0,null,null,1,"a",[["href","https://js.tensorflow.org/api/latest/#losses.meanSquaredError"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["Root-means-squared error"])),(t()(),ts(-1,null,[" which determine the difference between predicted values and the actual values, so model is able to learn by minimising the error during the training process. "])),(t()(),Ua(322,0,null,null,18,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" These are the hyperparameters (parameters used in the training process) available for tweaking: "])),(t()(),Ua(324,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["Training Dataset Size (%): the amount of data used for training, and remaining data will be used for prediction"])),(t()(),Ua(326,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["Epochs: number of times the dataset is used to train the model ("])),(t()(),Ua(328,0,null,null,1,"a",[["href","https://machinelearningmastery.com/difference-between-a-batch-and-an-epoch/"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["learn more"])),(t()(),ts(-1,null,[")"])),(t()(),Ua(331,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["Learning Rate: amount of change in the weights during training in each step ("])),(t()(),Ua(333,0,null,null,1,"a",[["href","https://machinelearningmastery.com/learning-rate-for-deep-learning-neural-networks/"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["learn more"])),(t()(),ts(-1,null,[")"])),(t()(),Ua(336,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),ts(-1,null,["Hidden LSTM Layers: to increase the model complexity to learn in higher dimensional space ("])),(t()(),Ua(338,0,null,null,1,"a",[["href","https://machinelearningmastery.com/how-to-configure-the-number-of-layers-and-nodes-in-a-neural-network/"],["target","_blank"]],null,null,null,null,null)),(t()(),ts(-1,null,["learn more"])),(t()(),ts(-1,null,[")"])),(t()(),Ua(341,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(342,49152,null,0,Lx,[],{vertical:[0,"vertical"]},null),(t()(),Ua(343,0,null,null,116,"div",[["fxFlex",""]],null,null,null,null,null)),li(344,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(345,0,null,null,114,"div",[["fxLayout","column"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),li(346,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"]},null),li(347,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(348,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(349,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Try It"])),(t()(),Ua(351,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" You may tweak the hyperparameters and then hit the "])),(t()(),Ua(353,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),ts(-1,null,["Begin Training Model"])),(t()(),ts(-1,null,[" button to train the model. "])),(t()(),Ua(356,0,null,null,22,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(357,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,40,{_controlNonStatic:0}),$a(335544320,41,{_controlStatic:0}),$a(603979776,42,{_labelChildNonStatic:0}),$a(335544320,43,{_labelChildStatic:0}),$a(603979776,44,{_placeholderChild:0}),$a(603979776,45,{_errorChildren:1}),$a(603979776,46,{_hintChildren:1}),$a(603979776,47,{_prefixChildren:1}),$a(603979776,48,{_suffixChildren:1}),(t()(),Ua(367,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(368,16384,[[42,4],[43,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Training Dataset Size (%)"])),(t()(),Ua(370,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","a number between (1-99)"],["type","number"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,371)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,371).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,371)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,371)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Yr(t,372).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Yr(t,372).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,372).onTouched()&&r),"blur"===e&&(r=!1!==Yr(t,376)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,376)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,376)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_trainingsize=n)&&r),r},null,null)),li(371,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),li(372,16384,null,0,Hy,[un,rn],null,null),ui(1024,null,ky,function(t,e){return[t,e]},[Ty,Hy]),li(374,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(376,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"],type:[1,"type"]},null),li(377,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[40,4],[41,4]],Pv,null,[fx]),(t()(),Ua(379,0,null,null,22,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(380,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,49,{_controlNonStatic:0}),$a(335544320,50,{_controlStatic:0}),$a(603979776,51,{_labelChildNonStatic:0}),$a(335544320,52,{_labelChildStatic:0}),$a(603979776,53,{_placeholderChild:0}),$a(603979776,54,{_errorChildren:1}),$a(603979776,55,{_hintChildren:1}),$a(603979776,56,{_prefixChildren:1}),$a(603979776,57,{_suffixChildren:1}),(t()(),Ua(390,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(391,16384,[[51,4],[52,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Epochs"])),(t()(),Ua(393,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","a number"],["type","number"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,394)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,394).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,394)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,394)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Yr(t,395).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Yr(t,395).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,395).onTouched()&&r),"blur"===e&&(r=!1!==Yr(t,399)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,399)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,399)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_epochs=n)&&r),r},null,null)),li(394,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),li(395,16384,null,0,Hy,[un,rn],null,null),ui(1024,null,ky,function(t,e){return[t,e]},[Ty,Hy]),li(397,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(399,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"],type:[1,"type"]},null),li(400,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[49,4],[50,4]],Pv,null,[fx]),(t()(),Ua(402,0,null,null,22,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(403,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,58,{_controlNonStatic:0}),$a(335544320,59,{_controlStatic:0}),$a(603979776,60,{_labelChildNonStatic:0}),$a(335544320,61,{_labelChildStatic:0}),$a(603979776,62,{_placeholderChild:0}),$a(603979776,63,{_errorChildren:1}),$a(603979776,64,{_hintChildren:1}),$a(603979776,65,{_prefixChildren:1}),$a(603979776,66,{_suffixChildren:1}),(t()(),Ua(413,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(414,16384,[[60,4],[61,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Learning Rate"])),(t()(),Ua(416,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","typically range between 0.01 and 0.1"],["type","number"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,417)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,417).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,417)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,417)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Yr(t,418).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Yr(t,418).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,418).onTouched()&&r),"blur"===e&&(r=!1!==Yr(t,422)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,422)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,422)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_learningrate=n)&&r),r},null,null)),li(417,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),li(418,16384,null,0,Hy,[un,rn],null,null),ui(1024,null,ky,function(t,e){return[t,e]},[Ty,Hy]),li(420,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(422,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"],type:[1,"type"]},null),li(423,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[58,4],[59,4]],Pv,null,[fx]),(t()(),Ua(425,0,null,null,22,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,nx,Hw)),li(426,7520256,null,9,Kv,[rn,En,[2,Nf],[2,Cm],[2,Gv],Rm,Zi,[2,jw]],{appearance:[0,"appearance"]},null),$a(603979776,67,{_controlNonStatic:0}),$a(335544320,68,{_controlStatic:0}),$a(603979776,69,{_labelChildNonStatic:0}),$a(335544320,70,{_labelChildStatic:0}),$a(603979776,71,{_placeholderChild:0}),$a(603979776,72,{_errorChildren:1}),$a(603979776,73,{_hintChildren:1}),$a(603979776,74,{_prefixChildren:1}),$a(603979776,75,{_suffixChildren:1}),(t()(),Ua(436,0,null,3,2,"mat-label",[],null,null,null,null,null)),li(437,16384,[[69,4],[70,4]],0,Uv,[],null,null),(t()(),ts(-1,null,["Hidden LSTM Layers"])),(t()(),Ua(439,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","number of LSTM layers"],["type","number"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yr(t,440)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,440).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yr(t,440)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yr(t,440)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Yr(t,441).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Yr(t,441).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Yr(t,441).onTouched()&&r),"blur"===e&&(r=!1!==Yr(t,445)._focusChanged(!1)&&r),"focus"===e&&(r=!1!==Yr(t,445)._focusChanged(!0)&&r),"input"===e&&(r=!1!==Yr(t,445)._onInput()&&r),"ngModelChange"===e&&(r=!1!==(i.input_hiddenlayers=n)&&r),r},null,null)),li(440,16384,null,0,Ty,[un,rn,[2,Ay]],null,null),li(441,16384,null,0,Hy,[un,rn],null,null),ui(1024,null,ky,function(t,e){return[t,e]},[Ty,Hy]),li(443,671744,null,0,Cv,[[8,null],[8,null],[8,null],[6,ky]],{model:[0,"model"]},{update:"ngModelChange"}),ui(2048,null,Dy,null,[Cv]),li(445,999424,null,0,fx,[rn,Rm,[6,Dy],[2,yv],[2,Ev],nf,[8,null],ux,Zi],{placeholder:[0,"placeholder"],type:[1,"type"]},null),li(446,16384,null,0,My,[[4,Dy]],null,null),ui(2048,[[67,4],[68,4]],Pv,null,[fx]),(t()(),Ua(448,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),Ua(449,0,null,null,7,"div",[["style","float:left"]],null,null,null,null,null)),(t()(),Ua(450,0,null,null,6,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickTrainModel()&&r),r},Ex,Sx)),li(451,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),ts(-1,0,[" Begin Training Model "])),(t()(),Ua(453,16777216,null,0,3,"mat-icon",[["class","mat-icon notranslate"],["matTooltip","If disabled: need training data, explore the previous section to prepare training data"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var r=!0;return"longpress"===e&&(r=!1!==Yr(t,455).show()&&r),"keydown"===e&&(r=!1!==Yr(t,455)._handleKeydown(n)&&r),"touchend"===e&&(r=!1!==Yr(t,455)._handleTouchend()&&r),r},wE,_E)),li(454,9158656,null,0,vE,[rn,uE,[8,null],[2,dE]],null,null),li(455,212992,null,0,FE,[TC,rn,qx,Dn,Zi,Rm,vd,Od,DE,[2,Cm],[2,ME],[2,tc]],{message:[0,"message"]},null),(t()(),ts(-1,0,["info"])),(t()(),Ua(457,0,null,null,2,"div",[["style","float:left; padding:5px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(458,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[8,"hidden",0],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,bS,gS)),li(459,49152,null,0,dS,[rn,Rm,[2,Jo],[2,jw],pS],{diameter:[0,"diameter"]},null),(t()(),Ua(460,0,null,null,21,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(461,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"],["style","margin-top:30px;margin-bottom:30px"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(462,49152,null,0,Lx,[],{inset:[0,"inset"]},null),(t()(),Ua(463,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Training Model"])),(t()(),Ua(465,0,null,null,16,"div",[["fxLayout","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(466,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"]},null),li(467,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(468,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(469,0,null,null,3,"div",[["class","mat-elevation-z6"],["fxFlex",""]],null,null,null,null,null)),li(470,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(471,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","determinate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,$E,qE)),li(472,4374528,null,0,jE,[rn,Zi,[2,jw],[2,VE]],{value:[0,"value"],mode:[1,"mode"]},null),(t()(),Ua(473,0,null,null,5,"div",[["class","mat-elevation-z6"],["fxFlex",""]],null,null,null,null,null)),li(474,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(475,0,null,null,3,"plotly-plot",[],null,null,null,kS,ES)),ui(512,null,wS,wS,[]),li(477,1032192,null,0,xS,[wS,Cn,Sn],{data:[0,"data"],layout:[1,"layout"],style:[2,"style"],useResizeHandler:[3,"useResizeHandler"]},null),Ja(478,{width:0,height:1}),(t()(),Ua(479,0,null,null,2,"div",[["class","mat-elevation-z6"],["fxFlex",""]],null,null,null,null,null)),li(480,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(481,0,null,null,0,"div",[["style","overflow-x: scroll; overflow-y: scroll; height: 150px; padding:5px"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),Ua(482,0,null,null,49,"mat-card",[["class","mat-card"]],null,null,null,Df,Rf)),li(483,49152,null,0,bm,[],null,null),(t()(),Ua(484,0,null,0,5,"mat-card-header",[["class","mat-card-header"]],null,null,null,Mf,Of)),li(485,49152,null,0,_m,[],null,null),(t()(),Ua(486,0,null,1,3,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),li(487,16384,null,0,gm,[],null,null),(t()(),Ua(488,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(-1,null,["Prediction"])),(t()(),Ua(490,0,null,0,41,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),li(491,16384,null,0,fm,[],null,null),(t()(),Ua(492,0,null,null,29,"div",[["fxLayout","row"],["fxLayout.md","row"],["fxLayout.sm","column"],["fxLayout.xs","column"],["fxLayoutAlign","center"],["fxLayoutGap","20px"]],null,null,null,null,null)),li(493,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"],"fxLayout.xs":[1,"fxLayout.xs"],"fxLayout.sm":[2,"fxLayout.sm"],"fxLayout.md":[3,"fxLayout.md"]},null),li(494,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(495,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(496,0,null,null,3,"div",[["fxFlex","60%"]],null,null,null,null,null)),li(497,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(498,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ts(-1,null,[" Now that you have trained your model, it is time to use it for predicting future values, for our case, it is the moving average. We are actually using the remaining data for prediction which allow us to see how closely our predicted values are compared to the actual values. "])),(t()(),Ua(500,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(501,49152,null,0,Lx,[],{vertical:[0,"vertical"]},null),(t()(),Ua(502,0,null,null,19,"div",[["fxFlex",""]],null,null,null,null,null)),li(503,671744,null,0,ey,[rn,Sg,Yf,Zg,Tg],{fxFlex:[0,"fxFlex"]},null),(t()(),Ua(504,0,null,null,17,"div",[["fxLayout","column"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),li(505,671744,null,0,zg,[rn,Sg,[2,Fg],Tg],{fxLayout:[0,"fxLayout"]},null),li(506,1720320,null,0,Hg,[rn,Zi,Cm,Sg,[2,Ug],Tg],{fxLayoutGap:[0,"fxLayoutGap"]},null),li(507,671744,null,0,uy,[rn,Sg,[2,sy],Tg],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),Ua(508,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Try It"])),(t()(),Ua(510,0,null,null,11,"div",[],null,null,null,null,null)),(t()(),Ua(511,0,null,null,7,"div",[["style","float:left"]],null,null,null,null,null)),(t()(),Ua(512,0,null,null,6,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickPredict()&&r),r},Ex,Sx)),li(513,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"],color:[1,"color"]},null),(t()(),ts(-1,0,[" Make Prediction "])),(t()(),Ua(515,16777216,null,0,3,"mat-icon",[["class","mat-icon notranslate"],["matTooltip","If disabled: don\u2019t have a model to perform prediction, train model first"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,e,n){var r=!0;return"longpress"===e&&(r=!1!==Yr(t,517).show()&&r),"keydown"===e&&(r=!1!==Yr(t,517)._handleKeydown(n)&&r),"touchend"===e&&(r=!1!==Yr(t,517)._handleTouchend()&&r),r},wE,_E)),li(516,9158656,null,0,vE,[rn,uE,[8,null],[2,dE]],null,null),li(517,212992,null,0,FE,[TC,rn,qx,Dn,Zi,Rm,vd,Od,DE,[2,Cm],[2,ME],[2,tc]],{message:[0,"message"]},null),(t()(),ts(-1,0,["info"])),(t()(),Ua(519,0,null,null,2,"div",[["style","float:left; padding:5px;"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(520,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[8,"hidden",0],[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,bS,gS)),li(521,49152,null,0,dS,[rn,Rm,[2,Jo],[2,jw],pS],{diameter:[0,"diameter"]},null),(t()(),Ua(522,0,null,null,9,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(523,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"],["style","margin-top:30px;margin-bottom:30px"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Vx,Bx)),li(524,49152,null,0,Lx,[],{inset:[0,"inset"]},null),(t()(),Ua(525,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),ts(-1,null,["Predicted"])),(t()(),Ua(527,0,null,null,4,"div",[["class","mat-elevation-z6"]],null,null,null,null,null)),(t()(),Ua(528,0,null,null,3,"plotly-plot",[["class","mat-elevation-z6"]],null,null,null,kS,ES)),ui(512,null,wS,wS,[]),li(530,1032192,null,0,xS,[wS,Cn,Sn],{data:[0,"data"],layout:[1,"layout"],style:[2,"style"],useResizeHandler:[3,"useResizeHandler"]},null),Ja(531,{width:0,height:1})],function(t,e){var n=e.component;t(e,41,0,"row","column","column","row"),t(e,42,0,"20px"),t(e,43,0,"center"),t(e,45,0,"60%"),t(e,66,0,!0),t(e,68,0,""),t(e,70,0,"column"),t(e,71,0,"10px"),t(e,72,0,"center"),t(e,87,0,"outline"),t(e,103,0,n.input_ticker),t(e,105,0,"example: MSFT"),t(e,112,0,"outline"),t(e,128,0,n.input_apikey),t(e,130,0,"Input your API key or use 'demo'"),t(e,139,0,"outline"),t(e,153,0,n.input_temporal_resolutions),t(e,155,0,"Data Temporal Resolutions"),t(e,163,0,"Weekly"),t(e,166,0,"Daily"),t(e,171,0,n.demo_1_loadingdata,"primary"),t(e,175,0,30),t(e,178,0,!0);var r=n.demo_1_graph.data,i=n.demo_1_graph.layout,a=t(e,185,0,"100%","100%");t(e,184,0,r,i,a,!0),t(e,197,0,"row","column","column","row"),t(e,198,0,"20px"),t(e,199,0,"center"),t(e,201,0,"60%"),t(e,218,0,!0),t(e,220,0,""),t(e,222,0,"column"),t(e,223,0,"10px"),t(e,224,0,"center"),t(e,233,0,"outline"),t(e,250,0,n.input_windowsize),t(e,252,0,"a number","number"),t(e,261,0,n.demo_2_loadingdata||!n.demo_2_ready,"primary"),t(e,264,0),t(e,265,0,"If disabled: fetch stocks data from the previous step"),t(e,269,0,30),t(e,272,0,!0);var s=n.demo_2_graph.data,o=n.demo_2_graph.layout,l=t(e,279,0,"100%","100%");t(e,278,0,s,o,l,!0),t(e,291,0,"row","column","column","row"),t(e,292,0,"20px"),t(e,293,0,"center"),t(e,295,0,"60%"),t(e,342,0,!0),t(e,344,0,""),t(e,346,0,"column"),t(e,347,0,"10px"),t(e,348,0,"center"),t(e,357,0,"outline"),t(e,374,0,n.input_trainingsize),t(e,376,0,"a number between (1-99)","number"),t(e,380,0,"outline"),t(e,397,0,n.input_epochs),t(e,399,0,"a number","number"),t(e,403,0,"outline"),t(e,420,0,n.input_learningrate),t(e,422,0,"typically range between 0.01 and 0.1","number"),t(e,426,0,"outline"),t(e,443,0,n.input_hiddenlayers),t(e,445,0,"number of LSTM layers","number"),t(e,451,0,n.demo_3_loadingdata||!n.demo_3_ready,"primary"),t(e,454,0),t(e,455,0,"If disabled: need training data, explore the previous section to prepare training data"),t(e,459,0,30),t(e,462,0,!0),t(e,466,0,"column"),t(e,467,0,"20px"),t(e,468,0,"center"),t(e,470,0,""),t(e,472,0,Cr(1,"",n.demo_3_progressbar,""),"determinate"),t(e,474,0,"");var u=n.demo_3_graph.data,c=n.demo_3_graph.layout,p=t(e,478,0,"100%","100%");t(e,477,0,u,c,p,!0),t(e,480,0,""),t(e,493,0,"row","column","column","row"),t(e,494,0,"20px"),t(e,495,0,"center"),t(e,497,0,"60%"),t(e,501,0,!0),t(e,503,0,""),t(e,505,0,"column"),t(e,506,0,"10px"),t(e,507,0,"center"),t(e,513,0,n.demo_4_loadingdata||!n.demo_4_ready,"primary"),t(e,516,0),t(e,517,0,"If disabled: don\u2019t have a model to perform prediction, train model first"),t(e,521,0,30),t(e,524,0,!0);var h=n.demo_4_graph.data,m=n.demo_4_graph.layout,d=t(e,531,0,"100%","100%");t(e,530,0,h,m,d,!0)},function(t,e){var n=e.component;t(e,65,0,Yr(e,66).vertical?"vertical":"horizontal",Yr(e,66).vertical,!Yr(e,66).vertical,Yr(e,66).inset),t(e,86,1,["standard"==Yr(e,87).appearance,"fill"==Yr(e,87).appearance,"outline"==Yr(e,87).appearance,"legacy"==Yr(e,87).appearance,Yr(e,87)._control.errorState,Yr(e,87)._canLabelFloat,Yr(e,87)._shouldLabelFloat(),Yr(e,87)._hasFloatingLabel(),Yr(e,87)._hideControlPlaceholder(),Yr(e,87)._control.disabled,Yr(e,87)._control.autofilled,Yr(e,87)._control.focused,"accent"==Yr(e,87).color,"warn"==Yr(e,87).color,Yr(e,87)._shouldForward("untouched"),Yr(e,87)._shouldForward("touched"),Yr(e,87)._shouldForward("pristine"),Yr(e,87)._shouldForward("dirty"),Yr(e,87)._shouldForward("valid"),Yr(e,87)._shouldForward("invalid"),Yr(e,87)._shouldForward("pending"),!Yr(e,87)._animationsEnabled]),t(e,100,1,[Yr(e,105)._isServer,Yr(e,105).id,Yr(e,105).placeholder,Yr(e,105).disabled,Yr(e,105).required,Yr(e,105).readonly&&!Yr(e,105)._isNativeSelect||null,Yr(e,105)._ariaDescribedby||null,Yr(e,105).errorState,Yr(e,105).required.toString(),Yr(e,106).ngClassUntouched,Yr(e,106).ngClassTouched,Yr(e,106).ngClassPristine,Yr(e,106).ngClassDirty,Yr(e,106).ngClassValid,Yr(e,106).ngClassInvalid,Yr(e,106).ngClassPending]),t(e,108,0,"end"==Yr(e,109).align,Yr(e,109).id,null),t(e,111,1,["standard"==Yr(e,112).appearance,"fill"==Yr(e,112).appearance,"outline"==Yr(e,112).appearance,"legacy"==Yr(e,112).appearance,Yr(e,112)._control.errorState,Yr(e,112)._canLabelFloat,Yr(e,112)._shouldLabelFloat(),Yr(e,112)._hasFloatingLabel(),Yr(e,112)._hideControlPlaceholder(),Yr(e,112)._control.disabled,Yr(e,112)._control.autofilled,Yr(e,112)._control.focused,"accent"==Yr(e,112).color,"warn"==Yr(e,112).color,Yr(e,112)._shouldForward("untouched"),Yr(e,112)._shouldForward("touched"),Yr(e,112)._shouldForward("pristine"),Yr(e,112)._shouldForward("dirty"),Yr(e,112)._shouldForward("valid"),Yr(e,112)._shouldForward("invalid"),Yr(e,112)._shouldForward("pending"),!Yr(e,112)._animationsEnabled]),t(e,125,1,[Yr(e,130)._isServer,Yr(e,130).id,Yr(e,130).placeholder,Yr(e,130).disabled,Yr(e,130).required,Yr(e,130).readonly&&!Yr(e,130)._isNativeSelect||null,Yr(e,130)._ariaDescribedby||null,Yr(e,130).errorState,Yr(e,130).required.toString(),Yr(e,131).ngClassUntouched,Yr(e,131).ngClassTouched,Yr(e,131).ngClassPristine,Yr(e,131).ngClassDirty,Yr(e,131).ngClassValid,Yr(e,131).ngClassInvalid,Yr(e,131).ngClassPending]),t(e,133,0,"end"==Yr(e,134).align,Yr(e,134).id,null),t(e,138,1,["standard"==Yr(e,139).appearance,"fill"==Yr(e,139).appearance,"outline"==Yr(e,139).appearance,"legacy"==Yr(e,139).appearance,Yr(e,139)._control.errorState,Yr(e,139)._canLabelFloat,Yr(e,139)._shouldLabelFloat(),Yr(e,139)._hasFloatingLabel(),Yr(e,139)._hideControlPlaceholder(),Yr(e,139)._control.disabled,Yr(e,139)._control.autofilled,Yr(e,139)._control.focused,"accent"==Yr(e,139).color,"warn"==Yr(e,139).color,Yr(e,139)._shouldForward("untouched"),Yr(e,139)._shouldForward("touched"),Yr(e,139)._shouldForward("pristine"),Yr(e,139)._shouldForward("dirty"),Yr(e,139)._shouldForward("valid"),Yr(e,139)._shouldForward("invalid"),Yr(e,139)._shouldForward("pending"),!Yr(e,139)._animationsEnabled]),t(e,152,1,[Yr(e,155).id,Yr(e,155).tabIndex,Yr(e,155)._getAriaLabel(),Yr(e,155)._getAriaLabelledby(),Yr(e,155).required.toString(),Yr(e,155).disabled.toString(),Yr(e,155).errorState,Yr(e,155).panelOpen?Yr(e,155)._optionIds:null,Yr(e,155).multiple,Yr(e,155)._ariaDescribedby||null,Yr(e,155)._getAriaActiveDescendant(),Yr(e,155).disabled,Yr(e,155).errorState,Yr(e,155).required,Yr(e,155).empty,Yr(e,159).ngClassUntouched,Yr(e,159).ngClassTouched,Yr(e,159).ngClassPristine,Yr(e,159).ngClassDirty,Yr(e,159).ngClassValid,Yr(e,159).ngClassInvalid,Yr(e,159).ngClassPending]),t(e,162,0,Yr(e,163)._getTabIndex(),Yr(e,163).selected,Yr(e,163).multiple,Yr(e,163).active,Yr(e,163).id,Yr(e,163)._getAriaSelected(),Yr(e,163).disabled.toString(),Yr(e,163).disabled),t(e,165,0,Yr(e,166)._getTabIndex(),Yr(e,166).selected,Yr(e,166).multiple,Yr(e,166).active,Yr(e,166).id,Yr(e,166)._getAriaSelected(),Yr(e,166).disabled.toString(),Yr(e,166).disabled),t(e,170,0,Yr(e,171).disabled||null,"NoopAnimations"===Yr(e,171)._animationMode),t(e,173,0,!n.demo_1_loadingdata),t(e,174,0,!n.demo_1_loadingdata,Yr(e,175)._noopAnimations,Yr(e,175).diameter,Yr(e,175).diameter),t(e,176,0,!n.demo_1_div_display),t(e,177,0,Yr(e,178).vertical?"vertical":"horizontal",Yr(e,178).vertical,!Yr(e,178).vertical,Yr(e,178).inset),t(e,217,0,Yr(e,218).vertical?"vertical":"horizontal",Yr(e,218).vertical,!Yr(e,218).vertical,Yr(e,218).inset),t(e,232,1,["standard"==Yr(e,233).appearance,"fill"==Yr(e,233).appearance,"outline"==Yr(e,233).appearance,"legacy"==Yr(e,233).appearance,Yr(e,233)._control.errorState,Yr(e,233)._canLabelFloat,Yr(e,233)._shouldLabelFloat(),Yr(e,233)._hasFloatingLabel(),Yr(e,233)._hideControlPlaceholder(),Yr(e,233)._control.disabled,Yr(e,233)._control.autofilled,Yr(e,233)._control.focused,"accent"==Yr(e,233).color,"warn"==Yr(e,233).color,Yr(e,233)._shouldForward("untouched"),Yr(e,233)._shouldForward("touched"),Yr(e,233)._shouldForward("pristine"),Yr(e,233)._shouldForward("dirty"),Yr(e,233)._shouldForward("valid"),Yr(e,233)._shouldForward("invalid"),Yr(e,233)._shouldForward("pending"),!Yr(e,233)._animationsEnabled]),t(e,246,1,[Yr(e,252)._isServer,Yr(e,252).id,Yr(e,252).placeholder,Yr(e,252).disabled,Yr(e,252).required,Yr(e,252).readonly&&!Yr(e,252)._isNativeSelect||null,Yr(e,252)._ariaDescribedby||null,Yr(e,252).errorState,Yr(e,252).required.toString(),Yr(e,253).ngClassUntouched,Yr(e,253).ngClassTouched,Yr(e,253).ngClassPristine,Yr(e,253).ngClassDirty,Yr(e,253).ngClassValid,Yr(e,253).ngClassInvalid,Yr(e,253).ngClassPending]),t(e,255,0,"end"==Yr(e,256).align,Yr(e,256).id,null),t(e,260,0,Yr(e,261).disabled||null,"NoopAnimations"===Yr(e,261)._animationMode),t(e,263,0,Yr(e,264).inline,"primary"!==Yr(e,264).color&&"accent"!==Yr(e,264).color&&"warn"!==Yr(e,264).color),t(e,267,0,!n.demo_2_loadingdata),t(e,268,0,!n.demo_2_loadingdata,Yr(e,269)._noopAnimations,Yr(e,269).diameter,Yr(e,269).diameter),t(e,270,0,!n.demo_2_div_display),t(e,271,0,Yr(e,272).vertical?"vertical":"horizontal",Yr(e,272).vertical,!Yr(e,272).vertical,Yr(e,272).inset),t(e,341,0,Yr(e,342).vertical?"vertical":"horizontal",Yr(e,342).vertical,!Yr(e,342).vertical,Yr(e,342).inset),t(e,356,1,["standard"==Yr(e,357).appearance,"fill"==Yr(e,357).appearance,"outline"==Yr(e,357).appearance,"legacy"==Yr(e,357).appearance,Yr(e,357)._control.errorState,Yr(e,357)._canLabelFloat,Yr(e,357)._shouldLabelFloat(),Yr(e,357)._hasFloatingLabel(),Yr(e,357)._hideControlPlaceholder(),Yr(e,357)._control.disabled,Yr(e,357)._control.autofilled,Yr(e,357)._control.focused,"accent"==Yr(e,357).color,"warn"==Yr(e,357).color,Yr(e,357)._shouldForward("untouched"),Yr(e,357)._shouldForward("touched"),Yr(e,357)._shouldForward("pristine"),Yr(e,357)._shouldForward("dirty"),Yr(e,357)._shouldForward("valid"),Yr(e,357)._shouldForward("invalid"),Yr(e,357)._shouldForward("pending"),!Yr(e,357)._animationsEnabled]),t(e,370,1,[Yr(e,376)._isServer,Yr(e,376).id,Yr(e,376).placeholder,Yr(e,376).disabled,Yr(e,376).required,Yr(e,376).readonly&&!Yr(e,376)._isNativeSelect||null,Yr(e,376)._ariaDescribedby||null,Yr(e,376).errorState,Yr(e,376).required.toString(),Yr(e,377).ngClassUntouched,Yr(e,377).ngClassTouched,Yr(e,377).ngClassPristine,Yr(e,377).ngClassDirty,Yr(e,377).ngClassValid,Yr(e,377).ngClassInvalid,Yr(e,377).ngClassPending]),t(e,379,1,["standard"==Yr(e,380).appearance,"fill"==Yr(e,380).appearance,"outline"==Yr(e,380).appearance,"legacy"==Yr(e,380).appearance,Yr(e,380)._control.errorState,Yr(e,380)._canLabelFloat,Yr(e,380)._shouldLabelFloat(),Yr(e,380)._hasFloatingLabel(),Yr(e,380)._hideControlPlaceholder(),Yr(e,380)._control.disabled,Yr(e,380)._control.autofilled,Yr(e,380)._control.focused,"accent"==Yr(e,380).color,"warn"==Yr(e,380).color,Yr(e,380)._shouldForward("untouched"),Yr(e,380)._shouldForward("touched"),Yr(e,380)._shouldForward("pristine"),Yr(e,380)._shouldForward("dirty"),Yr(e,380)._shouldForward("valid"),Yr(e,380)._shouldForward("invalid"),Yr(e,380)._shouldForward("pending"),!Yr(e,380)._animationsEnabled]),t(e,393,1,[Yr(e,399)._isServer,Yr(e,399).id,Yr(e,399).placeholder,Yr(e,399).disabled,Yr(e,399).required,Yr(e,399).readonly&&!Yr(e,399)._isNativeSelect||null,Yr(e,399)._ariaDescribedby||null,Yr(e,399).errorState,Yr(e,399).required.toString(),Yr(e,400).ngClassUntouched,Yr(e,400).ngClassTouched,Yr(e,400).ngClassPristine,Yr(e,400).ngClassDirty,Yr(e,400).ngClassValid,Yr(e,400).ngClassInvalid,Yr(e,400).ngClassPending]),t(e,402,1,["standard"==Yr(e,403).appearance,"fill"==Yr(e,403).appearance,"outline"==Yr(e,403).appearance,"legacy"==Yr(e,403).appearance,Yr(e,403)._control.errorState,Yr(e,403)._canLabelFloat,Yr(e,403)._shouldLabelFloat(),Yr(e,403)._hasFloatingLabel(),Yr(e,403)._hideControlPlaceholder(),Yr(e,403)._control.disabled,Yr(e,403)._control.autofilled,Yr(e,403)._control.focused,"accent"==Yr(e,403).color,"warn"==Yr(e,403).color,Yr(e,403)._shouldForward("untouched"),Yr(e,403)._shouldForward("touched"),Yr(e,403)._shouldForward("pristine"),Yr(e,403)._shouldForward("dirty"),Yr(e,403)._shouldForward("valid"),Yr(e,403)._shouldForward("invalid"),Yr(e,403)._shouldForward("pending"),!Yr(e,403)._animationsEnabled]),t(e,416,1,[Yr(e,422)._isServer,Yr(e,422).id,Yr(e,422).placeholder,Yr(e,422).disabled,Yr(e,422).required,Yr(e,422).readonly&&!Yr(e,422)._isNativeSelect||null,Yr(e,422)._ariaDescribedby||null,Yr(e,422).errorState,Yr(e,422).required.toString(),Yr(e,423).ngClassUntouched,Yr(e,423).ngClassTouched,Yr(e,423).ngClassPristine,Yr(e,423).ngClassDirty,Yr(e,423).ngClassValid,Yr(e,423).ngClassInvalid,Yr(e,423).ngClassPending]),t(e,425,1,["standard"==Yr(e,426).appearance,"fill"==Yr(e,426).appearance,"outline"==Yr(e,426).appearance,"legacy"==Yr(e,426).appearance,Yr(e,426)._control.errorState,Yr(e,426)._canLabelFloat,Yr(e,426)._shouldLabelFloat(),Yr(e,426)._hasFloatingLabel(),Yr(e,426)._hideControlPlaceholder(),Yr(e,426)._control.disabled,Yr(e,426)._control.autofilled,Yr(e,426)._control.focused,"accent"==Yr(e,426).color,"warn"==Yr(e,426).color,Yr(e,426)._shouldForward("untouched"),Yr(e,426)._shouldForward("touched"),Yr(e,426)._shouldForward("pristine"),Yr(e,426)._shouldForward("dirty"),Yr(e,426)._shouldForward("valid"),Yr(e,426)._shouldForward("invalid"),Yr(e,426)._shouldForward("pending"),!Yr(e,426)._animationsEnabled]),t(e,439,1,[Yr(e,445)._isServer,Yr(e,445).id,Yr(e,445).placeholder,Yr(e,445).disabled,Yr(e,445).required,Yr(e,445).readonly&&!Yr(e,445)._isNativeSelect||null,Yr(e,445)._ariaDescribedby||null,Yr(e,445).errorState,Yr(e,445).required.toString(),Yr(e,446).ngClassUntouched,Yr(e,446).ngClassTouched,Yr(e,446).ngClassPristine,Yr(e,446).ngClassDirty,Yr(e,446).ngClassValid,Yr(e,446).ngClassInvalid,Yr(e,446).ngClassPending]),t(e,450,0,Yr(e,451).disabled||null,"NoopAnimations"===Yr(e,451)._animationMode),t(e,453,0,Yr(e,454).inline,"primary"!==Yr(e,454).color&&"accent"!==Yr(e,454).color&&"warn"!==Yr(e,454).color),t(e,457,0,!n.demo_3_loadingdata),t(e,458,0,!n.demo_3_loadingdata,Yr(e,459)._noopAnimations,Yr(e,459).diameter,Yr(e,459).diameter),t(e,460,0,!n.demo_3_div_display),t(e,461,0,Yr(e,462).vertical?"vertical":"horizontal",Yr(e,462).vertical,!Yr(e,462).vertical,Yr(e,462).inset),t(e,471,0,"indeterminate"===Yr(e,472).mode||"query"===Yr(e,472).mode?null:Yr(e,472).value,Yr(e,472).mode,Yr(e,472)._isNoopAnimation),t(e,481,0,n.demo_3_traininglog),t(e,500,0,Yr(e,501).vertical?"vertical":"horizontal",Yr(e,501).vertical,!Yr(e,501).vertical,Yr(e,501).inset),t(e,512,0,Yr(e,513).disabled||null,"NoopAnimations"===Yr(e,513)._animationMode),t(e,515,0,Yr(e,516).inline,"primary"!==Yr(e,516).color&&"accent"!==Yr(e,516).color&&"warn"!==Yr(e,516).color),t(e,519,0,!n.demo_4_loadingdata),t(e,520,0,!n.demo_4_loadingdata,Yr(e,521)._noopAnimations,Yr(e,521).diameter,Yr(e,521).diameter),t(e,522,0,!n.demo_4_div_display),t(e,523,0,Yr(e,524).vertical?"vertical":"horizontal",Yr(e,524).vertical,!Yr(e,524).vertical,Yr(e,524).inset)})}function ZE(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"app-tfjs-timeseries-stocks",[],null,null,null,QE,XE)),li(1,114688,null,0,YE,[Rx,WS],null,null)],function(t,e){t(e,1,0)},null)}var JE=zr("app-tfjs-timeseries-stocks",YE,ZE,{},{},[]);const tk=new Nt("MAT_GRID_LIST");class ek{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(km(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(km(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}class nk{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new rk(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class rk{constructor(t,e){this.row=t,this.col=e}}const ik=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class ak{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,r){this._gutterSize=ck(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":uk(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let r=100/this._cols,i=(this._cols-1)/this._cols;this.setColStyles(t,n,r,i),this.setRowStyles(t,e,r,i)}setColStyles(t,e,n,r){let i=this.getBaseTileSize(n,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(i,e)),t._setStyle("width",uk(this.getTileSize(i,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class sk extends ak{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,r){if(super.init(t,e,n,r),this.fixedRowHeight=ck(this.fixedRowHeight),!ik.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",uk(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",uk(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class ok extends ak{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,r){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",uk(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",uk(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class lk extends ak{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",uk(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function uk(t){return`calc(${t})`}function ck(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}const pk="fit";class hk{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(km(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler=t===pk?new lk:t&&t.indexOf(":")>-1?new ok(t):new sk(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new nk);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const r=t.positions[n];this._tileStyler.setStyle(e,r.row,r.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}class mk{}var dk=Xn({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function fk(t){return rs(2,[(t()(),Ua(0,0,null,null,1,"div",[],null,null,null,null,null)),Qa(null,0)],null,null)}var gk=Xn({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function yk(t){return rs(2,[(t()(),Ua(0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),Qa(null,0)],null,null)}class vk{constructor(t,e=1,n=.5){this.eps=.1,this.alpha=.5,this.verbose=!1,this.state_history=[],this.name=0,this.eps=e,this.alpha=n,this.verbose=!1,this.state_history=[],this.name=t}take_action(t){if(Math.random()<this.eps){let e=[];for(let n=0;n<t.length;n++)0==t[n]&&e.push(n);return e[Math.floor(Math.random()*e.length)]}return t.length}update_state_history(t){this.state_history.push(t)}update(t){let e=t.get_reward(this.name);console.log(this.name,e)}}class bk{constructor(t){this.service=t,this.game_ended=!1,this.winner=0,this.board=[0,0,0,0,0,0,0,0,0],this.playerTurn=1,this.service.changePageTitle("Reinforcement Learning : Tic Tac Toe")}ngOnInit(){this.train_agents(10)}grid_select(t){if(0!=this.board[t])return!1;this.board[t]=this.playerTurn,this.check_game_over()?(this.game_ended=!0,console.log("game ended",this.game_ended,this.winner)):this.playerTurn=-1*this.playerTurn}check_game_over(){for(let t=0;t<9;t+=3){let e=0;for(let n=t;n<t+3;n+=1)e+=this.board[n];if(this.check_if_player_won(e))return!0}for(let t=0;t<3;t+=1){let e=0;for(let n=t;n<t+7;n+=3)e+=this.board[n];if(this.check_if_player_won(e))return!0}return!(!this.check_if_player_won(this.board[0]+this.board[4]+this.board[8])&&!this.check_if_player_won(this.board[2]+this.board[4]+this.board[6])&&this.board.includes(0))}check_if_player_won(t){return-3==t?(this.winner=-1,!0):3==t?(this.winner=1,!0):void 0}reset_game(){this.game_ended=!1,this.winner=0,this.board=[0,0,0,0,0,0,0,0,0],this.playerTurn=1}get_reward(t){return this.game_ended&&this.winner==t?1:0}play_game(t,e){let n=t;for(let r=0;r<9;r++){let r=n.take_action(this.board);if(this.grid_select(r),n.update_state_history(this.board),this.game_ended)break;n=n==t?e:t}t.update(this),e.update(this)}train_agents(t){const e=new vk(1),n=new vk(-1);for(let r=0;r<t;r++)this.play_game(e,n),this.reset_game()}}var _k=Xn({encapsulation:0,styles:[["\n/*# sourceMappingURL=tic-tac-toe.component.css.map*/"]],data:{}});function wk(t){return rs(0,[(t()(),Ua(0,0,null,null,4,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,yk,gk)),li(1,49152,[[1,4]],0,ek,[rn,[2,tk]],null,null),(t()(),Ua(2,0,null,0,2,"button",[["disableRipple",""],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.grid_select(t.context.index)&&r),r},Ex,Sx)),li(3,180224,null,0,wx,[rn,Od,[2,jw]],{disableRipple:[0,"disableRipple"],color:[1,"color"]},null),(t()(),ts(4,0,["",""]))],function(t,e){t(e,3,0,"",Cr(1,"",1==e.context.$implicit?"primary":-1==e.context.$implicit?"accent":"basic",""))},function(t,e){t(e,2,0,Yr(e,3).disabled||null,"NoopAnimations"===Yr(e,3)._animationMode),t(e,4,0,1==e.context.$implicit?"X":-1==e.context.$implicit?"O":".")})}function xk(t){return rs(0,[(t()(),Ua(0,0,null,null,7,"h1",[],null,null,null,null,null)),(t()(),Ua(1,0,null,null,4,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(2,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),ts(3,null,[" Game ended, player "," won "])),(t()(),Ua(4,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),ts(-1,null,[" Tie "])),(t()(),Ua(6,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),ts(7,null,[" Player ","'s turn "])),(t()(),Ua(8,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["cols","3"],["rowHeight","3:1"]],null,null,null,fk,dk)),ui(6144,null,tk,null,[hk]),li(10,2211840,null,1,hk,[rn,[2,Cm]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),$a(603979776,1,{_tiles:1}),(t()(),Va(16777216,null,0,1,null,wk)),li(13,278528,null,0,Mo,[Dn,Nn,Cn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ua(14,0,null,null,3,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),Ua(15,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.reset_game()&&r),r},Ex,Sx)),li(16,180224,null,0,wx,[rn,Od,[2,jw]],{color:[0,"color"]},null),(t()(),ts(-1,0,["Reset"]))],function(t,e){var n=e.component;t(e,10,0,"3","3:1"),t(e,13,0,n.board),t(e,16,0,"primary")},function(t,e){var n=e.component;t(e,1,0,!n.game_ended),t(e,2,0,0==n.winner),t(e,3,0,1==n.winner?"X":"O"),t(e,4,0,0!=n.winner),t(e,6,0,n.game_ended),t(e,7,0,1==n.playerTurn?"X":"O"),t(e,14,0,!n.game_ended),t(e,15,0,Yr(e,16).disabled||null,"NoopAnimations"===Yr(e,16)._animationMode)})}function Ck(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"app-tic-tac-toe",[],null,null,null,xk,_k)),li(1,114688,null,0,bk,[Rx],null,null)],function(t,e){t(e,1,0)},null)}var Sk=zr("app-tic-tac-toe",bk,Ck,{},{},[]);class Ek{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}class kk extends Jx{constructor(t,e,n,r,i,a){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=a,this._animationState="void",this._animationStateChanged=new Ei,this._elementFocusedBeforeOpened=null,this._document=i,this._breakpointSubscription=r.observe([TE.Medium,TE.Large,TE.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",r.isMatched(TE.Medium)),this._toggleClass("mat-bottom-sheet-container-large",r.isMatched(TE.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",r.isMatched(TE.XLarge))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this.bottomSheetConfig.autoFocus&&this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const t=this._elementFocusedBeforeOpened;this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}class Ak{}var Tk=Xn({encapsulation:2,styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}@media (-ms-high-contrast:active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium,.mat-bottom-sheet-container-xlarge{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"translateY(100%)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"visible => void, visible => hidden",animation:{type:4,styles:null,timings:"375ms cubic-bezier(0.4,0.0,1,1)"},options:null},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"195ms cubic-bezier(0.0,0.0,0.2,1)"},options:null}],options:{}}]}});function Ik(t){return rs(0,[(t()(),Va(0,null,null,0))],null,null)}function Nk(t){return rs(2,[$a(402653184,1,{_portalOutlet:0}),(t()(),Va(16777216,null,null,1,null,Ik)),li(2,212992,[[1,4]],0,eC,[Qe,Dn],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function Rk(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-bottom-sheet-container",[["aria-modal","true"],["class","mat-bottom-sheet-container"],["role","dialog"],["tabindex","-1"]],[[1,"aria-label",0],[40,"@state",0]],[["component","@state.start"],["component","@state.done"]],function(t,e,n){var r=!0;return"component:@state.start"===e&&(r=!1!==Yr(t,1)._onAnimationStart(n)&&r),"component:@state.done"===e&&(r=!1!==Yr(t,1)._onAnimationDone(n)&&r),r},Nk,Tk)),li(1,180224,null,0,kk,[rn,En,Ed,kE,[2,Jo],Ek],null,null)],null,function(t,e){t(e,0,0,null==Yr(e,1).bottomSheetConfig?null:Yr(e,1).bottomSheetConfig.ariaLabel,Yr(e,1)._animationState)})}var Dk=zr("mat-bottom-sheet-container",kk,Rk,{},{},[]);class Ok{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}function Mk(){throw Error("Attempting to attach dialog content after content is already attached")}class Fk extends Jx{constructor(t,e,n,r,i){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._document=r,this._config=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new Ei,this._ariaLabelledBy=i.ariaLabelledBy||null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&Mk(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&Mk(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}let Lk=0;class Pk{constructor(t,e,n,r=`mat-dialog-${Lk++}`){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new A,this._afterClosed=new A,this._beforeClosed=new A,e._id=r,e._animationStateChanged.pipe(bl(t=>"done"===t.phaseName&&"enter"===t.toState),zl(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(bl(t=>"done"===t.phaseName&&"exit"===t.toState),zl(1)).subscribe(()=>this._overlayRef.dispose()),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(bl(t=>t.keyCode===Vm&&!this.disableClose)).subscribe(()=>this.close())}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(bl(t=>"start"===t.phaseName),zl(1)).subscribe(()=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const zk=new Nt("MatDialogData"),Bk=new Nt("mat-dialog-default-options"),Vk=new Nt("mat-dialog-scroll-strategy");function Uk(t){return()=>t.scrollStrategies.block()}class jk{constructor(t,e,n,r,i,a,s){this._overlay=t,this._injector=e,this._location=n,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new A,this._afterOpenedAtThisLevel=new A,this._ariaHiddenElements=new Map,this.afterAllClosed=yl(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Gl(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new Ok)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new hC({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=new rC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Ok,e]])),r=new Qx(Fk,e.viewContainerRef,n);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new Pk(n,e,this._location,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{i.disableClose||i.close()}),t instanceof Nn)e.attachTemplatePortal(new Zx(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),a=e.attachComponentPortal(new Qx(t,void 0,n));i.componentInstance=a.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[Fk,n],[zk,t.data],[Pk,e]]);return!t.direction||r&&r.get(Cm,null)||i.set(Cm,{value:t.direction,change:ul()}),new rC(r||this._injector,i)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}class Wk{}var Hk=Xn({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function qk(t){return rs(0,[(t()(),Va(0,null,null,0))],null,null)}function $k(t){return rs(0,[$a(402653184,1,{_portalOutlet:0}),(t()(),Va(16777216,null,null,1,null,qk)),li(2,212992,[[1,4]],0,eC,[Qe,Dn],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function Gk(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(t,e,n){var r=!0;return"component:@dialogContainer.start"===e&&(r=!1!==Yr(t,1)._onAnimationStart(n)&&r),"component:@dialogContainer.done"===e&&(r=!1!==Yr(t,1)._onAnimationDone(n)&&r),r},$k,Hk)),li(1,49152,null,0,Fk,[rn,Ed,En,[2,Jo],Ok],null,null)],null,function(t,e){t(e,0,0,Yr(e,1)._id,Yr(e,1)._config.role,Yr(e,1)._config.ariaLabel?null:Yr(e,1)._ariaLabelledBy,Yr(e,1)._config.ariaLabel,Yr(e,1)._config.ariaDescribedBy||null,Yr(e,1)._state)})}var Kk=zr("mat-dialog-container",Fk,Gk,{},{},[]);function Yk(t){return Error(`MatDatepicker: No provider found for ${t}. You must import one of the following `+"modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}const Xk=function(){class t{constructor(){this.changes=new A,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}();class Qk{constructor(t,e,n,r,i){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=i}}class Zk{constructor(t,e){this._elementRef=t,this._ngZone=e,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new Ei}_cellClicked(t){t.enabled&&this.selectedValueChange.emit(t.value)}ngOnChanges(t){const e=t.numCols,{rows:n,numCols:r}=this;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?r-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/r}%`),!e&&this._cellWidth||(this._cellWidth=`${100/r}%`)}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell}_focusActiveCell(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(zl(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()})})}}const Jk=7;class tA{constructor(t,e,n,r){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=r,this.selectedChange=new Ei,this._userSelection=new Ei,this.activeDateChange=new Ei,!this._dateAdapter)throw Yk("DateAdapter");if(!this._dateFormats)throw Yk("MAT_DATE_FORMATS");const i=this._dateAdapter.getFirstDayOfWeek(),a=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((t,e)=>({long:t,narrow:a[e]}));this._weekdays=s.slice(i).concat(s.slice(0,i)),this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const e=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedDate=this._getDateInCurrentMonth(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_dateSelected(t){if(this._selectedDate!=t){const e=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.createDate(e,n,t);this.selectedChange.emit(r)}this._userSelection.emit()}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case $m:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case Km:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case Gm:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Ym:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case qm:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Hm:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case jm:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Wm:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Bm:case Um:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),t.preventDefault()));default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Jk+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%Jk,this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,r=this._firstWeekOffset;n<t;n++,r++){r==Jk&&(this._weeks.push([]),r=0);const t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),i=this._shouldEnableDate(t),a=this._dateAdapter.format(t,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(t):void 0;this._weeks[this._weeks.length-1].push(new Qk(n+1,e[n],a,i,s))}}_shouldEnableDate(t){return!!t&&(!this.dateFilter||this.dateFilter(t))&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,e){return!(!t||!e||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(e)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(e))}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}const eA=24,nA=4;class rA{constructor(t,e,n){if(this._changeDetectorRef=t,this._dateAdapter=e,this._dir=n,this.selectedChange=new Ei,this.yearSelected=new Ei,this.activeDateChange=new Ei,!this._dateAdapter)throw Yk("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Math.floor(this._dateAdapter.getYear(e)/eA)!=Math.floor(this._dateAdapter.getYear(this._activeDate)/eA)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate),e=t%eA;this._years=[];for(let n=0,r=[];n<eA;n++)r.push(t-e+n),r.length==nA&&(this._years.push(r.map(t=>this._createCellForYear(t))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));this.selectedChange.emit(this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case $m:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case Km:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case Gm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-nA);break;case Ym:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,nA);break;case qm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-this._dateAdapter.getYear(this._activeDate)%eA);break;case Hm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,eA-this._dateAdapter.getYear(this._activeDate)%eA-1);break;case jm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*-eA:-eA);break;case Wm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10*eA:eA);break;case Bm:case Um:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return this._dateAdapter.getYear(this.activeDate)%eA}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let e=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new Qk(t,e,e,this._shouldEnableYear(t))}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let e=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(e)==t;e=this._dateAdapter.addCalendarDays(e,1))if(this.dateFilter(e))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class iA{constructor(t,e,n,r){if(this._changeDetectorRef=t,this._dateFormats=e,this._dateAdapter=n,this._dir=r,this.selectedChange=new Ei,this.monthSelected=new Ei,this.activeDateChange=new Ei,!this._dateAdapter)throw Yk("DateAdapter");if(!this._dateFormats)throw Yk("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let e=this._activeDate;const n=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._init()}_monthSelected(t){const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(e);const n=this._dateAdapter.getNumDaysInMonth(e);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(t){const e=this._activeDate,n=this._isRtl();switch(t.keyCode){case $m:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case Km:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case Gm:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Ym:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case qm:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Hm:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case jm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case Wm:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case Bm:case Um:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(e=>this._createCellForMonth(e,t[e]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,e){let n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new Qk(t,e.toLocaleUpperCase(),n,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const e=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;for(let n=this._dateAdapter.createDate(e,t,1);this._dateAdapter.getMonth(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){const n=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>r}return!1}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){const n=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<r}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}}class aA{constructor(t,e,n,r,i){this._intl=t,this.calendar=e,this._dateAdapter=n,this._dateFormats=r,this.calendar.stateChanges.subscribe(()=>i.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const t=this._dateAdapter.getYear(this.calendar.activeDate);return`${this._dateAdapter.getYearName(this._dateAdapter.createDate(t-t%24,0,1))} \u2013 ${this._dateAdapter.getYearName(this._dateAdapter.createDate(t+eA-1-t%24,0,1))}`}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-eA)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:eA)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):Math.floor(this._dateAdapter.getYear(t)/eA)==Math.floor(this._dateAdapter.getYear(e)/eA)}}class sA{constructor(t,e,n,r){if(this._dateAdapter=e,this._dateFormats=n,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ei,this.yearSelected=new Ei,this.monthSelected=new Ei,this._userSelection=new Ei,this.stateChanges=new A,!this._dateAdapter)throw Yk("DateAdapter");if(!this._dateFormats)throw Yk("MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new Qx(this.headerComponent||aA),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const e=t.minDate||t.maxDate||t.dateFilter;if(e&&!e.firstChange){const t=this._getCurrentViewComponent();t&&(this._changeDetectorRef.detectChanges(),t._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()}_dateSelected(t){this._dateAdapter.sameDate(t,this.selected)||this.selectedChange.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_userSelected(){this._userSelection.emit()}_goToDateInView(t,e){this.activeDate=t,this.currentView=e}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}const oA=new Nt("mat-datepicker-scroll-strategy");function lA(t){return()=>t.scrollStrategies.reposition()}class uA{constructor(t){this._elementRef=t}}const cA=Bd(uA);class pA extends cA{constructor(t){super(t)}ngAfterViewInit(){this._calendar.focusActiveCell()}}class hA{}var mA=Xn({encapsulation:2,styles:[],data:{}});function dA(t){return rs(2,[(t()(),Ua(0,0,null,null,12,"div",[["class","mat-calendar-header"]],null,null,null,null,null)),(t()(),Ua(1,0,null,null,11,"div",[["class","mat-calendar-controls"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,4,"button",[["cdkAriaLive","polite"],["class","mat-calendar-period-button"],["mat-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.currentPeriodClicked()&&r),r},Ex,Sx)),li(3,180224,null,0,wx,[rn,Od,[2,jw]],null,null),li(4,147456,null,0,Nd,[rn,Id,Qv,Zi],{politeness:[0,"politeness"]},null),(t()(),ts(5,0,["",""])),(t()(),Ua(6,0,null,0,0,"div",[["class","mat-calendar-arrow"]],[[2,"mat-calendar-invert",null]],null,null,null,null)),(t()(),Ua(7,0,null,null,0,"div",[["class","mat-calendar-spacer"]],null,null,null,null,null)),Qa(null,0),(t()(),Ua(9,0,null,null,1,"button",[["class","mat-calendar-previous-button"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.previousClicked()&&r),r},Ex,Sx)),li(10,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"]},null),(t()(),Ua(11,0,null,null,1,"button",[["class","mat-calendar-next-button"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.nextClicked()&&r),r},Ex,Sx)),li(12,180224,null,0,wx,[rn,Od,[2,jw]],{disabled:[0,"disabled"]},null)],function(t,e){var n=e.component;t(e,4,0,"polite"),t(e,10,0,!n.previousEnabled()),t(e,12,0,!n.nextEnabled())},function(t,e){var n=e.component;t(e,2,0,n.periodButtonLabel,Yr(e,3).disabled||null,"NoopAnimations"===Yr(e,3)._animationMode),t(e,5,0,n.periodButtonText),t(e,6,0,"month"!=n.calendar.currentView),t(e,9,0,n.prevButtonLabel,Yr(e,10).disabled||null,"NoopAnimations"===Yr(e,10)._animationMode),t(e,11,0,n.nextButtonLabel,Yr(e,12).disabled||null,"NoopAnimations"===Yr(e,12)._animationMode)})}function fA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-calendar-header",[],null,null,null,dA,mA)),li(1,49152,null,0,aA,[Xk,sA,[2,Hd],[2,qd],En],null,null)],null,null)}var gA=zr("mat-calendar-header",aA,fA,{},{},["*"]),yA=Xn({encapsulation:2,styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],data:{}});function vA(t){return rs(0,[(t()(),Va(0,null,null,0))],null,null)}function bA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-month-view",[],null,[[null,"activeDateChange"],[null,"selectedChange"],[null,"_userSelection"]],function(t,e,n){var r=!0,i=t.component;return"activeDateChange"===e&&(r=!1!==(i.activeDate=n)&&r),"selectedChange"===e&&(r=!1!==i._dateSelected(n)&&r),"_userSelection"===e&&(r=!1!==i._userSelected()&&r),r},FA,OA)),li(1,1097728,[[1,4]],0,tA,[En,[2,qd],[2,Hd],[2,Cm]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"],dateClass:[5,"dateClass"]},{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"})],function(t,e){var n=e.component;t(e,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter,n.dateClass)},null)}function _A(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-year-view",[],null,[[null,"activeDateChange"],[null,"monthSelected"],[null,"selectedChange"]],function(t,e,n){var r=!0,i=t.component;return"activeDateChange"===e&&(r=!1!==(i.activeDate=n)&&r),"monthSelected"===e&&(r=!1!==i._monthSelectedInYearView(n)&&r),"selectedChange"===e&&(r=!1!==i._goToDateInView(n,"month")&&r),r},PA,LA)),li(1,1097728,[[2,4]],0,iA,[En,[2,qd],[2,Hd],[2,Cm]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"})],function(t,e){var n=e.component;t(e,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)},null)}function wA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-multi-year-view",[],null,[[null,"activeDateChange"],[null,"yearSelected"],[null,"selectedChange"]],function(t,e,n){var r=!0,i=t.component;return"activeDateChange"===e&&(r=!1!==(i.activeDate=n)&&r),"yearSelected"===e&&(r=!1!==i._yearSelectedInMultiYearView(n)&&r),"selectedChange"===e&&(r=!1!==i._goToDateInView(n,"year")&&r),r},BA,zA)),li(1,1097728,[[3,4]],0,rA,[En,[2,Hd],[2,Cm]],{activeDate:[0,"activeDate"],selected:[1,"selected"],minDate:[2,"minDate"],maxDate:[3,"maxDate"],dateFilter:[4,"dateFilter"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"})],function(t,e){var n=e.component;t(e,1,0,n.activeDate,n.selected,n.minDate,n.maxDate,n.dateFilter)},null)}function xA(t){return rs(2,[$a(671088640,1,{monthView:0}),$a(671088640,2,{yearView:0}),$a(671088640,3,{multiYearView:0}),(t()(),Va(16777216,null,null,1,null,vA)),li(4,212992,null,0,eC,[Qe,Dn],{portal:[0,"portal"]},null),(t()(),Ua(5,0,null,null,8,"div",[["cdkMonitorSubtreeFocus",""],["class","mat-calendar-content"],["tabindex","-1"]],null,null,null,null,null)),li(6,16384,null,0,Vo,[],{ngSwitch:[0,"ngSwitch"]},null),li(7,147456,null,0,Md,[rn,Od],null,null),(t()(),Va(16777216,null,null,1,null,bA)),li(9,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,_A)),li(11,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Va(16777216,null,null,1,null,wA)),li(13,278528,null,0,Uo,[Dn,Nn,Vo],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,4,0,n._calendarHeaderPortal),t(e,6,0,n.currentView),t(e,9,0,"month"),t(e,11,0,"year"),t(e,13,0,"multi-year")},null)}var CA=Xn({encapsulation:2,styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}}[dir=rtl] .mat-calendar-body-label{text-align:right}"],data:{}});function SA(t){return rs(0,[(t()(),Ua(0,0,null,null,2,"tr",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Ua(1,0,null,null,1,"td",[["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(t()(),ts(2,null,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,n.numCols,n._cellPadding,n._cellPadding),t(e,2,0,n.label)})}function EA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"td",[["aria-hidden","true"],["class","mat-calendar-body-label"]],[[1,"colspan",0],[4,"paddingTop",null],[4,"paddingBottom",null]],null,null,null,null)),(t()(),ts(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n._firstRowOffset,n._cellPadding,n._cellPadding),t(e,1,0,n._firstRowOffset>=n.labelMinRequiredCells?n.label:"")})}function kA(t){return rs(0,[(t()(),Ua(0,0,null,null,4,"td",[["class","mat-calendar-body-cell"],["role","gridcell"]],[[8,"tabIndex",0],[2,"mat-calendar-body-disabled",null],[2,"mat-calendar-body-active",null],[1,"aria-label",0],[1,"aria-disabled",0],[1,"aria-selected",0],[4,"width",null],[4,"paddingTop",null],[4,"paddingBottom",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component._cellClicked(t.context.$implicit)&&r),r},null,null)),ui(512,null,Io,No,[Cn,Sn,rn,un]),li(2,278528,null,0,Do,[Io],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Ua(3,0,null,null,1,"div",[["class","mat-calendar-body-cell-content"]],[[2,"mat-calendar-body-selected",null],[2,"mat-calendar-body-today",null]],null,null,null,null)),(t()(),ts(4,null,["",""]))],function(t,e){t(e,2,0,"mat-calendar-body-cell",e.context.$implicit.cssClasses)},function(t,e){var n=e.component;t(e,0,0,n._isActiveCell(e.parent.context.index,e.context.index)?0:-1,!e.context.$implicit.enabled,n._isActiveCell(e.parent.context.index,e.context.index),e.context.$implicit.ariaLabel,!e.context.$implicit.enabled||null,n.selectedValue===e.context.$implicit.value,n._cellWidth,n._cellPadding,n._cellPadding),t(e,3,0,n.selectedValue===e.context.$implicit.value,n.todayValue===e.context.$implicit.value),t(e,4,0,e.context.$implicit.displayValue)})}function AA(t){return rs(0,[(t()(),Ua(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(t()(),Va(16777216,null,null,1,null,EA)),li(2,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Va(16777216,null,null,1,null,kA)),li(4,278528,null,0,Mo,[Dn,Nn,Cn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,0===e.context.index&&e.component._firstRowOffset),t(e,4,0,e.context.$implicit)},null)}function TA(t){return rs(2,[(t()(),Va(16777216,null,null,1,null,SA)),li(1,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Va(16777216,null,null,1,null,AA)),li(3,278528,null,0,Mo,[Dn,Nn,Cn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._firstRowOffset<n.labelMinRequiredCells),t(e,3,0,n.rows)},null)}var IA=Xn({encapsulation:2,styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(1, 0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1, 1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms linear"},options:null}],options:{}},{type:7,name:"fadeInCalendar",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"},options:null}],options:{}}]}});function NA(t){return rs(2,[$a(671088640,1,{_calendar:0}),(t()(),Ua(1,0,null,null,4,"mat-calendar",[["cdkTrapFocus",""],["class","mat-calendar"]],[[8,"id",0],[24,"@fadeInCalendar",0]],[[null,"selectedChange"],[null,"yearSelected"],[null,"monthSelected"],[null,"_userSelection"]],function(t,e,n){var r=!0,i=t.component;return"selectedChange"===e&&(r=!1!==i.datepicker.select(n)&&r),"yearSelected"===e&&(r=!1!==i.datepicker._selectYear(n)&&r),"monthSelected"===e&&(r=!1!==i.datepicker._selectMonth(n)&&r),"_userSelection"===e&&(r=!1!==i.datepicker.close()&&r),r},xA,yA)),ui(512,null,Io,No,[Cn,Sn,rn,un]),li(3,278528,null,0,Do,[Io],{ngClass:[0,"ngClass"]},null),li(4,1458176,null,0,kd,[rn,Ed,Jo],{enabled:[0,"enabled"]},null),li(5,10141696,[[1,4]],0,sA,[Xk,[2,Hd],[2,qd],En],{headerComponent:[0,"headerComponent"],startAt:[1,"startAt"],startView:[2,"startView"],selected:[3,"selected"],minDate:[4,"minDate"],maxDate:[5,"maxDate"],dateFilter:[6,"dateFilter"],dateClass:[7,"dateClass"]},{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"})],function(t,e){var n=e.component;t(e,3,0,n.datepicker.panelClass),t(e,4,0,""),t(e,5,0,n.datepicker.calendarHeaderComponent,n.datepicker.startAt,n.datepicker.startView,n.datepicker._selected,n.datepicker._minDate,n.datepicker._maxDate,n.datepicker._dateFilter,n.datepicker.dateClass)},function(t,e){t(e,1,0,e.component.datepicker.id,"enter")})}function RA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-datepicker-content",[["class","mat-datepicker-content"]],[[40,"@transformPanel",0],[2,"mat-datepicker-content-touch",null]],null,null,NA,IA)),li(1,4243456,null,0,pA,[rn],null,null)],null,function(t,e){t(e,0,0,"enter",Yr(e,1).datepicker.touchUi)})}var DA=zr("mat-datepicker-content",pA,RA,{color:"color"},{},[]),OA=Xn({encapsulation:2,styles:[],data:{}});function MA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"th",[],[[1,"aria-label",0]],null,null,null,null)),(t()(),ts(1,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.long),t(e,1,0,e.context.$implicit.narrow)})}function FA(t){return rs(2,[$a(671088640,1,{_matCalendarBody:0}),(t()(),Ua(1,0,null,null,8,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,5,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(t()(),Ua(3,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Va(16777216,null,null,1,null,MA)),li(5,278528,null,0,Mo,[Dn,Nn,Cn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ua(6,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),Ua(7,0,null,null,0,"th",[["aria-hidden","true"],["class","mat-calendar-table-header-divider"],["colspan","7"]],null,null,null,null,null)),(t()(),Ua(8,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"selectedValueChange"===e&&(r=!1!==i._dateSelected(n)&&r),"keydown"===e&&(r=!1!==i._handleCalendarBodyKeydown(n)&&r),r},TA,CA)),li(9,573440,[[1,4]],0,Zk,[rn,Zi],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],activeCell:[5,"activeCell"]},{selectedValueChange:"selectedValueChange"})],function(t,e){var n=e.component;t(e,5,0,n._weekdays),t(e,9,0,n._monthLabel,n._weeks,n._todayDate,n._selectedDate,3,n._dateAdapter.getDate(n.activeDate)-1)},null)}var LA=Xn({encapsulation:2,styles:[],data:{}});function PA(t){return rs(2,[$a(671088640,1,{_matCalendarBody:0}),(t()(),Ua(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(t()(),Ua(3,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),Ua(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(t()(),Ua(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"selectedValueChange"===e&&(r=!1!==i._monthSelected(n)&&r),"keydown"===e&&(r=!1!==i._handleCalendarBodyKeydown(n)&&r),r},TA,CA)),li(6,573440,[[1,4]],0,Zk,[rn,Zi],{label:[0,"label"],rows:[1,"rows"],todayValue:[2,"todayValue"],selectedValue:[3,"selectedValue"],labelMinRequiredCells:[4,"labelMinRequiredCells"],numCols:[5,"numCols"],activeCell:[6,"activeCell"],cellAspectRatio:[7,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],function(t,e){var n=e.component;t(e,6,0,n._yearLabel,n._months,n._todayMonth,n._selectedMonth,2,4,n._dateAdapter.getMonth(n.activeDate),4/7)},null)}var zA=Xn({encapsulation:2,styles:[],data:{}});function BA(t){return rs(2,[$a(671088640,1,{_matCalendarBody:0}),(t()(),Ua(1,0,null,null,5,"table",[["class","mat-calendar-table"],["role","presentation"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,2,"thead",[["class","mat-calendar-table-header"]],null,null,null,null,null)),(t()(),Ua(3,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),Ua(4,0,null,null,0,"th",[["class","mat-calendar-table-header-divider"],["colspan","4"]],null,null,null,null,null)),(t()(),Ua(5,0,null,null,1,"tbody",[["aria-readonly","true"],["class","mat-calendar-body"],["mat-calendar-body",""],["role","grid"]],null,[[null,"selectedValueChange"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;return"selectedValueChange"===e&&(r=!1!==i._yearSelected(n)&&r),"keydown"===e&&(r=!1!==i._handleCalendarBodyKeydown(n)&&r),r},TA,CA)),li(6,573440,[[1,4]],0,Zk,[rn,Zi],{rows:[0,"rows"],todayValue:[1,"todayValue"],selectedValue:[2,"selectedValue"],numCols:[3,"numCols"],activeCell:[4,"activeCell"],cellAspectRatio:[5,"cellAspectRatio"]},{selectedValueChange:"selectedValueChange"})],function(t,e){var n=e.component;t(e,6,0,n._years,n._todayYear,n._selectedYear,4,n._getActiveCell(),4/7)},null)}var VA=Xn({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function UA(t){return rs(2,[(t()(),Ua(0,0,null,null,4,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],function(t,e,n){var r=!0,i=t.component;return"@state.start"===e&&(r=!1!==i._animationStart()&&r),"@state.done"===e&&(r=!1!==i._animationDone(n)&&r),r},null,null)),ui(512,null,Io,No,[Cn,Sn,rn,un]),li(2,278528,null,0,Do,[Io],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e=131072,n=Qo,r=[En],ci(-1,e|=16,null,0,n,n,r)),(t()(),ts(4,null,["",""]))],function(t,e){t(e,2,0,"mat-tooltip",e.component.tooltipClass)},function(t,e){var n,r=e.component;t(e,0,0,null==(n=function(t,e,n,r){if(Ue.isWrapped(r)){r=Ue.unwrap(r);const e=t.def.nodes[0].bindingIndex+0,n=Ue.unwrap(t.oldValues[e]);t.oldValues[e]=new Ue(n)}return r}(e,0,0,Yr(e,3).transform(r._isHandset)))?null:n.matches,r._visibility),t(e,4,0,r.message)});var e,n,r}function jA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],function(t,e,n){var r=!0;return"body:click"===e&&(r=!1!==Yr(t,1)._handleBodyInteraction()&&r),r},UA,VA)),li(1,180224,null,0,LE,[En,kE],null,null)],null,function(t,e){t(e,0,0,"visible"===Yr(e,1)._visibility?1:null)})}var WA=zr("mat-tooltip-component",LE,jA,{},{},[]);class HA{constructor(t,e){this._overlayRef=e,this._afterDismissed=new A,this._afterOpened=new A,this._onAction=new A,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const qA=new Nt("MatSnackBarData");class $A{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class GA{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}class KA extends Jx{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new A,this._onEnter=new A,this._animationState="void",this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(zl(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}class YA{}var XA=Xn({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function QA(t){return rs(0,[(t()(),Va(0,null,null,0))],null,null)}function ZA(t){return rs(0,[$a(402653184,1,{_portalOutlet:0}),(t()(),Va(16777216,null,null,1,null,QA)),li(2,212992,[[1,4]],0,eC,[Qe,Dn],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function JA(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],function(t,e,n){var r=!0;return"component:@state.done"===e&&(r=!1!==Yr(t,1).onAnimationEnd(n)&&r),r},ZA,XA)),li(1,180224,null,0,KA,[Zi,rn,En,$A],null,null)],null,function(t,e){t(e,0,0,Yr(e,1)._role,Yr(e,1)._animationState)})}var tT=zr("snack-bar-container",KA,JA,{},{},[]),eT=Xn({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;height:100%;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function nT(t){return rs(0,[(t()(),Ua(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),Ua(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.action()&&r),r},Ex,Sx)),li(2,180224,null,0,wx,[rn,Od,[2,jw]],null,null),(t()(),ts(3,0,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,Yr(e,2).disabled||null,"NoopAnimations"===Yr(e,2)._animationMode),t(e,3,0,n.data.action)})}function rT(t){return rs(2,[(t()(),Ua(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ts(1,null,["",""])),(t()(),Va(16777216,null,null,1,null,nT)),li(3,16384,null,0,Lo,[Dn,Nn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.hasAction)},function(t,e){t(e,1,0,e.component.data.message)})}function iT(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,rT,eT)),li(1,49152,null,0,GA,[HA,qA],null,null)],null,null)}var aT=zr("simple-snack-bar",GA,iT,{},{},[]);class sT{constructor(t){this._elementRef=t}}const oT=Bd(sT);class lT{}class uT extends oT{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){oe()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}class cT{}var pT=Xn({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function hT(t){return rs(2,[Qa(null,0),Qa(null,1)],null,null)}var mT=Xn({encapsulation:0,styles:[[".toolbar[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:1000}.toolbar-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:36px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;font:400 20px/36px Google Sans,sans-serif;color:rgba(0,0,0,.54);letter-spacing:0;margin:0;vertical-align:top;white-space:nowrap}.toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#263238}.main-container[_ngcontent-%COMP%]{max-width:1400px;margin:40px auto;padding:0 24px;position:relative}.mat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:24px;width:24px}\n/*# sourceMappingURL=app.component.css.map*/"]],data:{}});function dT(t){return rs(0,[(t()(),Ua(0,0,null,null,0,"link",[["href","https://fonts.googleapis.com/icon?family=Material+Icons"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),Ua(1,0,null,null,0,"link",[["href","https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css"],["media","screen"],["rel","stylesheet"],["type","text/css"]],null,null,null,null,null)),(t()(),Ua(2,0,null,null,16,"mat-toolbar",[["class","mat-elevation-z6 toolbar mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,hT,pT)),li(3,4243456,null,1,uT,[rn,Rm,Jo],null,null),$a(603979776,1,{_toolbarRows:1}),(t()(),Ua(5,0,null,1,13,"mat-toolbar-row",[["class","mat-toolbar-row"]],null,null,null,null,null)),li(6,16384,[[1,4]],0,lT,[],null,null),(t()(),Ua(7,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ts(8,null,["",""])),(t()(),Ua(9,0,null,null,0,"span",[["class","toolbar-spacer"]],null,null,null,null,null)),(t()(),Ua(10,0,null,null,2,"a",[["href","https://towardsdatascience.com/@lonedune"],["mat-icon-button",""],["target","_blank"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,11)._haltDisabledEvents(n)&&r),r},Ax,kx)),li(11,180224,null,0,xx,[Od,rn,[2,jw]],null,null),(t()(),Ua(12,0,null,0,0,"a",[["class","toolbar-icon fi-social-medium"]],null,null,null,null,null)),(t()(),Ua(13,0,null,null,2,"a",[["href","https://www.linkedin.com/in/jingles/"],["mat-icon-button",""],["target","_blank"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,14)._haltDisabledEvents(n)&&r),r},Ax,kx)),li(14,180224,null,0,xx,[Od,rn,[2,jw]],null,null),(t()(),Ua(15,0,null,0,0,"a",[["class","toolbar-icon fi-social-linkedin"]],null,null,null,null,null)),(t()(),Ua(16,0,null,null,2,"a",[["href","https://github.com/lonedune"],["mat-icon-button",""],["target","_blank"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yr(t,17)._haltDisabledEvents(n)&&r),r},Ax,kx)),li(17,180224,null,0,xx,[Od,rn,[2,jw]],null,null),(t()(),Ua(18,0,null,0,0,"a",[["class","toolbar-icon fi-social-github"]],null,null,null,null,null)),(t()(),Ua(19,0,null,null,2,"div",[["class","main-container"]],null,null,null,null,null)),(t()(),Ua(20,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),li(21,212992,null,0,Wh,[jh,Dn,Qe,[8,null],En],null,null)],function(t,e){t(e,21,0)},function(t,e){var n=e.component;t(e,2,0,Yr(e,3)._toolbarRows.length>0,0===Yr(e,3)._toolbarRows.length),t(e,8,0,n.title),t(e,10,0,Yr(e,11).disabled?-1:Yr(e,11).tabIndex||0,Yr(e,11).disabled||null,Yr(e,11).disabled.toString(),"NoopAnimations"===Yr(e,11)._animationMode),t(e,13,0,Yr(e,14).disabled?-1:Yr(e,14).tabIndex||0,Yr(e,14).disabled||null,Yr(e,14).disabled.toString(),"NoopAnimations"===Yr(e,14)._animationMode),t(e,16,0,Yr(e,17).disabled?-1:Yr(e,17).tabIndex||0,Yr(e,17).disabled||null,Yr(e,17).disabled.toString(),"NoopAnimations"===Yr(e,17)._animationMode)})}function fT(t){return rs(0,[(t()(),Ua(0,0,null,null,1,"app-root",[],null,null,null,dT,mT)),li(1,114688,null,0,po,[Rx,vc],null,null)],function(t,e){t(e,1,0)},null)}var gT=zr("app-root",po,fT,{},{},[]);const yT=new Nt("mat-autocomplete-scroll-strategy");function vT(t){return()=>t.scrollStrategies.reposition()}class bT{}const _T=new Nt("mat-menu-scroll-strategy");function wT(t){return()=>t.scrollStrategies.reposition()}class xT{}class CT{}const ST=function(){class t{constructor(){this.changes=new A,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=((t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} - ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`})}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}();function ET(t){return t||new ST}class kT{}const AT=function(){class t{constructor(){this.changes=new A,this.sortButtonLabel=(t=>`Change sorting for ${t}`)}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}();function TT(t){return t||new AT}class IT{}class NT{}const RT=function(){class t{constructor(){this.changes=new A,this.optionalLabel="Optional"}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}();function DT(t){return t||new RT}class OT{}class MT{constructor(t){this.template=t}}class FT{}class LT{}class PT{}class zT{}class BT{}class VT{}const UT=new Nt("mat-chips-default-options");class jT{}class WT{}class HT{}class qT{}class $T{}class GT{}class KT{}class YT{}class XT{}class QT{}class ZT{}class JT{}class tI{}class eI{}class nI{constructor(t,e){rl(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,e=[]){return{ngModule:nI,providers:t.serverLoaded?[{provide:Yf,useValue:Object.assign({},Kf,t)},{provide:Qf,useValue:e,multi:!0},{provide:Xf,useValue:!0}]:[{provide:Yf,useValue:Object.assign({},Kf,t)},{provide:Qf,useValue:e,multi:!0}]}}}var rI=lo(co,[po],function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const a=t[i];a.token===qe&&!0===a.value&&(r=!0),1073741824&a.flags&&n.push(a.token),a.index=i,e[Gn(a.token)]=a}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Ir(512,Qe,Ze,[[8,[dm,Cy,Fx,JE,Sk,Dk,Kk,DA,gA,WA,tT,aT,gT]],[3,Qe],tn]),Ir(5120,Ma,Pa,[[3,Ma]]),Ir(4608,ko,Ao,[Ma,[2,Eo]]),Ir(5120,Si,za,[Zi]),Ir(5120,Ni,Ri,[]),Ir(5120,Cn,Fa,[]),Ir(5120,Sn,La,[]),Ir(4608,sc,oc,[Jo]),Ir(6144,Ne,null,[sc]),Ir(4608,Ju,of,[[2,rf],[2,Pd]]),Ir(5120,wu,function(t,e,n,r,i,a,s,o){return[new Qu(t,e,n),new ac(r),new nc(i,a,s,o)]},[Jo,Zi,Mi,Jo,Jo,Ju,Li,[2,tc]]),Ir(4608,xu,xu,[wu,Zi]),Ir(135680,Eu,Eu,[Jo]),Ir(4608,Du,Du,[xu,Eu,Ni]),Ir(5120,_b,Bw,[]),Ir(5120,w_,Vw,[]),Ir(4608,rw,zw,[Jo,_b,w_]),Ir(5120,on,Uw,[Du,rw,Zi]),Ir(6144,Su,null,[Eu]),Ir(4608,aa,aa,[Zi]),Ir(5120,Ap,sm,[zh]),Ir(4608,Gh,Gh,[]),Ir(6144,qh,null,[Gh]),Ir(135680,Kh,Kh,[zh,Ai,ji,Ft,qh]),Ir(4608,$h,$h,[]),Ir(5120,Yh,em,[zh,il,Xh]),Ir(5120,cm,um,[om]),Ir(5120,Fi,function(t,e,n){return[t,(r=e,i=n,()=>{if(nl(i)){const t=Array.from(r.querySelectorAll("[class*=flex-layout-]")),e=/\bflex-layout-.+?\b/g;t.forEach(t=>{t.classList.contains("flex-layout-ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(e,"")})}})];var r,i},[cm,Jo,Mi]),Ir(4608,Tv,Iw,[on,Jo]),Ir(4608,TC,TC,[pC,vC,Qe,kC,yC,Ft,Zi,Jo,Cm,[2,yo]]),Ir(5120,NC,OC,[TC]),Ir(5120,yT,vT,[TC]),Ir(4608,Xv,Xv,[]),Ir(4608,nf,nf,[]),Ir(5120,Vk,Uk,[TC]),Ir(135680,jk,jk,[TC,Ft,[2,yo],[2,Bk],Vk,[3,jk],vC]),Ir(4608,Xk,Xk,[]),Ir(5120,oA,lA,[TC]),Ir(5120,_T,wT,[TC]),Ir(4608,Hd,Zd,[[2,Wd],Rm]),Ir(5120,jC,WC,[TC]),Ir(5120,DE,OE,[TC]),Ir(5120,ST,ET,[[3,ST]]),Ir(5120,AT,TT,[[3,AT]]),Ir(5120,RT,DT,[[3,RT]]),Ir(135680,Od,Od,[Zi,Rm]),Ir(4608,MT,MT,[Nn]),Ir(4608,qy,qy,[]),Ir(4608,JS,tE,[Jo,Mi,QS]),Ir(4608,eE,eE,[JS,ZS]),Ir(5120,qS,function(t){return[t]},[eE]),Ir(4608,YS,YS,[]),Ir(6144,KS,null,[YS]),Ir(4608,XS,XS,[KS]),Ir(6144,TS,null,[XS]),Ir(4608,AS,nE,[TS,Ft]),Ir(4608,WS,WS,[AS]),Ir(4608,wS,wS,[]),Ir(1073742336,Zo,Zo,[]),Ir(1024,ie,fc,[]),Ir(1024,ma,function(){return[Jh()]},[]),Ir(512,om,om,[Ft]),Ir(1024,Ti,function(t,e){return[(n=t,vu("probe",_u),vu("coreTokens",Object.assign({},bu,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>_u),lm(e)];var n},[[2,ma],om]),Ir(512,Ii,Ii,[[2,Ti]]),Ir(131584,va,va,[Zi,Li,Ft,ie,Qe,Ii]),Ir(1073742336,Ba,Ba,[va]),Ir(1073742336,gc,gc,[[3,gc]]),Ir(1024,Qh,rm,[[3,zh]]),Ir(512,ap,sp,[]),Ir(512,jh,jh,[]),Ir(256,Xh,{},[]),Ir(1024,fo,nm,[ho,[2,go],Xh]),Ir(512,yo,yo,[fo,ho]),Ir(512,ji,ji,[]),Ir(512,Ai,Ea,[ji,[2,Ca]]),Ir(1024,Rh,function(){return[[{path:"",component:by},{path:"mnist",component:Nx},{path:"tfjs-timeseries-stocks",component:YE},{path:"tictactoe",component:bk}]]},[]),Ir(1024,zh,am,[va,ap,jh,yo,Ft,Ai,ji,Rh,Xh,[2,Oh],[2,Ih]]),Ir(1073742336,tm,tm,[[2,Qh],[2,zh]]),Ir(1073742336,LT,LT,[]),Ir(1073742336,Ww,Ww,[]),Ir(1073742336,Sm,Sm,[]),Ir(1073742336,Pd,Pd,[[2,Ld],[2,tc]]),Ir(1073742336,Dm,Dm,[]),Ir(1073742336,yf,yf,[]),Ir(1073742336,bf,bf,[]),Ir(1073742336,If,If,[]),Ir(1073742336,nC,nC,[]),Ir(1073742336,$x,$x,[]),Ir(1073742336,MC,MC,[]),Ir(1073742336,bT,bT,[]),Ir(1073742336,Jv,Jv,[]),Ir(1073742336,Fd,Fd,[]),Ir(1073742336,PT,PT,[]),Ir(1073742336,Ak,Ak,[]),Ir(1073742336,Cx,Cx,[]),Ir(1073742336,zT,zT,[]),Ir(1073742336,wm,wm,[]),Ir(1073742336,BT,BT,[]),Ir(1073742336,VT,VT,[]),Ir(1073742336,jT,jT,[]),Ir(1073742336,Wk,Wk,[]),Ir(1073742336,hA,hA,[]),Ir(1073742336,Px,Px,[]),Ir(1073742336,WT,WT,[]),Ir(1073742336,HT,HT,[]),Ir(1073742336,lf,lf,[]),Ir(1073742336,mk,mk,[]),Ir(1073742336,bE,bE,[]),Ir(1073742336,cx,cx,[]),Ir(1073742336,Yv,Yv,[]),Ir(1073742336,gx,gx,[]),Ir(1073742336,qT,qT,[]),Ir(1073742336,xT,xT,[]),Ir(1073742336,CT,CT,[]),Ir(1073742336,tf,tf,[]),Ir(1073742336,ef,ef,[]),Ir(1073742336,KC,KC,[]),Ir(1073742336,PE,PE,[]),Ir(1073742336,kT,kT,[]),Ir(1073742336,HE,HE,[]),Ir(1073742336,fS,fS,[]),Ir(1073742336,$T,$T,[]),Ir(1073742336,GT,GT,[]),Ir(1073742336,KT,KT,[]),Ir(1073742336,YT,YT,[]),Ir(1073742336,YA,YA,[]),Ir(1073742336,IT,IT,[]),Ir(1073742336,NT,NT,[]),Ir(1073742336,OT,OT,[]),Ir(1073742336,XT,XT,[]),Ir(1073742336,QT,QT,[]),Ir(1073742336,ZT,ZT,[]),Ir(1073742336,cT,cT,[]),Ir(1073742336,FT,FT,[]),Ir(1073742336,JT,JT,[]),Ir(1073742336,kv,kv,[]),Ir(1073742336,Av,Av,[]),Ir(1073742336,qf,qf,[]),Ir(1073742336,vy,vy,[]),Ir(1073742336,tI,tI,[]),Ir(1073742336,eI,eI,[]),Ir(1073742336,nI,nI,[[2,Xf],Mi]),Ir(1073742336,rE,rE,[]),Ir(1073742336,iE,iE,[]),Ir(1073742336,CS,CS,[]),Ir(1073742336,SS,SS,[]),Ir(1073742336,co,co,[]),Ir(256,qe,!0,[]),Ir(256,jw,"BrowserAnimations",[]),Ir(256,UT,{separatorKeyCodes:[Bm]},[]),Ir(256,qd,Jd,[]),Ir(256,QS,"XSRF-TOKEN",[]),Ir(256,ZS,"X-XSRF-TOKEN",[])])});(function(){if(se)throw new Error("Cannot enable prod mode after platform setup.");ae=!1})(),dc().bootstrapModuleFactory(rI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
//# sourceMappingURL=main-es2015.cc722989b852da40a854.js.map